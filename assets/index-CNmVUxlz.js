(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Hg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Nh={exports:{}},fa={},bh={exports:{}},Ne={};var _m;function h0(){if(_m)return Ne;_m=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function j(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,$={};function b(M,q,fe){this.props=M,this.context=q,this.refs=$,this.updater=fe||H}b.prototype.isReactComponent={},b.prototype.setState=function(M,q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,q,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=b.prototype;function ie(M,q,fe){this.props=M,this.context=q,this.refs=$,this.updater=fe||H}var de=ie.prototype=new W;de.constructor=ie,V(de,b.prototype),de.isPureReactComponent=!0;var ge=Array.isArray,ye=Object.prototype.hasOwnProperty,ce={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function x(M,q,fe){var Ae,Pe={},be=null,Fe=null;if(q!=null)for(Ae in q.ref!==void 0&&(Fe=q.ref),q.key!==void 0&&(be=""+q.key),q)ye.call(q,Ae)&&!R.hasOwnProperty(Ae)&&(Pe[Ae]=q[Ae]);var Ue=arguments.length-2;if(Ue===1)Pe.children=fe;else if(1<Ue){for(var te=Array(Ue),ne=0;ne<Ue;ne++)te[ne]=arguments[ne+2];Pe.children=te}if(M&&M.defaultProps)for(Ae in Ue=M.defaultProps,Ue)Pe[Ae]===void 0&&(Pe[Ae]=Ue[Ae]);return{$$typeof:s,type:M,key:be,ref:Fe,props:Pe,_owner:ce.current}}function k(M,q){return{$$typeof:s,type:M.type,key:q,ref:M.ref,props:M.props,_owner:M._owner}}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function D(M){var q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(fe){return q[fe]})}var O=/\/+/g;function S(M,q){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):q.toString(36)}function Ve(M,q,fe,Ae,Pe){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var Fe=!1;if(M===null)Fe=!0;else switch(be){case"string":case"number":Fe=!0;break;case"object":switch(M.$$typeof){case s:case e:Fe=!0}}if(Fe)return Fe=M,Pe=Pe(Fe),M=Ae===""?"."+S(Fe,0):Ae,ge(Pe)?(fe="",M!=null&&(fe=M.replace(O,"$&/")+"/"),Ve(Pe,q,fe,"",function(ne){return ne})):Pe!=null&&(P(Pe)&&(Pe=k(Pe,fe+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace(O,"$&/")+"/")+M)),q.push(Pe)),1;if(Fe=0,Ae=Ae===""?".":Ae+":",ge(M))for(var Ue=0;Ue<M.length;Ue++){be=M[Ue];var te=Ae+S(be,Ue);Fe+=Ve(be,q,fe,te,Pe)}else if(te=j(M),typeof te=="function")for(M=te.call(M),Ue=0;!(be=M.next()).done;)be=be.value,te=Ae+S(be,Ue++),Fe+=Ve(be,q,fe,te,Pe);else if(be==="object")throw q=String(M),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Fe}function _t(M,q,fe){if(M==null)return M;var Ae=[],Pe=0;return Ve(M,Ae,"","",function(be){return q.call(fe,be,Pe++)}),Ae}function wt(M){if(M._status===-1){var q=M._result;q=q(),q.then(function(fe){(M._status===0||M._status===-1)&&(M._status=1,M._result=fe)},function(fe){(M._status===0||M._status===-1)&&(M._status=2,M._result=fe)}),M._status===-1&&(M._status=0,M._result=q)}if(M._status===1)return M._result.default;throw M._result}var He={current:null},ee={transition:null},pe={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:ee,ReactCurrentOwner:ce};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:_t,forEach:function(M,q,fe){_t(M,function(){q.apply(this,arguments)},fe)},count:function(M){var q=0;return _t(M,function(){q++}),q},toArray:function(M){return _t(M,function(q){return q})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ne.Component=b,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=ie,Ne.StrictMode=i,Ne.Suspense=g,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ne.act=re,Ne.cloneElement=function(M,q,fe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ae=V({},M.props),Pe=M.key,be=M.ref,Fe=M._owner;if(q!=null){if(q.ref!==void 0&&(be=q.ref,Fe=ce.current),q.key!==void 0&&(Pe=""+q.key),M.type&&M.type.defaultProps)var Ue=M.type.defaultProps;for(te in q)ye.call(q,te)&&!R.hasOwnProperty(te)&&(Ae[te]=q[te]===void 0&&Ue!==void 0?Ue[te]:q[te])}var te=arguments.length-2;if(te===1)Ae.children=fe;else if(1<te){Ue=Array(te);for(var ne=0;ne<te;ne++)Ue[ne]=arguments[ne+2];Ae.children=Ue}return{$$typeof:s,type:M.type,key:Pe,ref:be,props:Ae,_owner:Fe}},Ne.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},Ne.createElement=x,Ne.createFactory=function(M){var q=x.bind(null,M);return q.type=M,q},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:m,render:M}},Ne.isValidElement=P,Ne.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:wt}},Ne.memo=function(M,q){return{$$typeof:w,type:M,compare:q===void 0?null:q}},Ne.startTransition=function(M){var q=ee.transition;ee.transition={};try{M()}finally{ee.transition=q}},Ne.unstable_act=re,Ne.useCallback=function(M,q){return He.current.useCallback(M,q)},Ne.useContext=function(M){return He.current.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M){return He.current.useDeferredValue(M)},Ne.useEffect=function(M,q){return He.current.useEffect(M,q)},Ne.useId=function(){return He.current.useId()},Ne.useImperativeHandle=function(M,q,fe){return He.current.useImperativeHandle(M,q,fe)},Ne.useInsertionEffect=function(M,q){return He.current.useInsertionEffect(M,q)},Ne.useLayoutEffect=function(M,q){return He.current.useLayoutEffect(M,q)},Ne.useMemo=function(M,q){return He.current.useMemo(M,q)},Ne.useReducer=function(M,q,fe){return He.current.useReducer(M,q,fe)},Ne.useRef=function(M){return He.current.useRef(M)},Ne.useState=function(M){return He.current.useState(M)},Ne.useSyncExternalStore=function(M,q,fe){return He.current.useSyncExternalStore(M,q,fe)},Ne.useTransition=function(){return He.current.useTransition()},Ne.version="18.3.1",Ne}var wm;function Td(){return wm||(wm=1,bh.exports=h0()),bh.exports}var Em;function d0(){if(Em)return fa;Em=1;var s=Td(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,w){var T,C={},j=null,H=null;w!==void 0&&(j=""+w),g.key!==void 0&&(j=""+g.key),g.ref!==void 0&&(H=g.ref);for(T in g)i.call(g,T)&&!u.hasOwnProperty(T)&&(C[T]=g[T]);if(m&&m.defaultProps)for(T in g=m.defaultProps,g)C[T]===void 0&&(C[T]=g[T]);return{$$typeof:e,type:m,key:j,ref:H,props:C,_owner:o.current}}return fa.Fragment=t,fa.jsx=h,fa.jsxs=h,fa}var Tm;function f0(){return Tm||(Tm=1,Nh.exports=d0()),Nh.exports}var v=f0(),Ce=Td();const p0=Hg(Ce);var au={},Dh={exports:{}},tn={},Vh={exports:{}},Mh={};var xm;function m0(){return xm||(xm=1,(function(s){function e(ee,pe){var re=ee.length;ee.push(pe);e:for(;0<re;){var M=re-1>>>1,q=ee[M];if(0<o(q,pe))ee[M]=pe,ee[re]=q,re=M;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var pe=ee[0],re=ee.pop();if(re!==pe){ee[0]=re;e:for(var M=0,q=ee.length,fe=q>>>1;M<fe;){var Ae=2*(M+1)-1,Pe=ee[Ae],be=Ae+1,Fe=ee[be];if(0>o(Pe,re))be<q&&0>o(Fe,Pe)?(ee[M]=Fe,ee[be]=re,M=be):(ee[M]=Pe,ee[Ae]=re,M=Ae);else if(be<q&&0>o(Fe,re))ee[M]=Fe,ee[be]=re,M=be;else break e}}return pe}function o(ee,pe){var re=ee.sortIndex-pe.sortIndex;return re!==0?re:ee.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var g=[],w=[],T=1,C=null,j=3,H=!1,V=!1,$=!1,b=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function de(ee){for(var pe=t(w);pe!==null;){if(pe.callback===null)i(w);else if(pe.startTime<=ee)i(w),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=t(w)}}function ge(ee){if($=!1,de(ee),!V)if(t(g)!==null)V=!0,wt(ye);else{var pe=t(w);pe!==null&&He(ge,pe.startTime-ee)}}function ye(ee,pe){V=!1,$&&($=!1,W(x),x=-1),H=!0;var re=j;try{for(de(pe),C=t(g);C!==null&&(!(C.expirationTime>pe)||ee&&!D());){var M=C.callback;if(typeof M=="function"){C.callback=null,j=C.priorityLevel;var q=M(C.expirationTime<=pe);pe=s.unstable_now(),typeof q=="function"?C.callback=q:C===t(g)&&i(g),de(pe)}else i(g);C=t(g)}if(C!==null)var fe=!0;else{var Ae=t(w);Ae!==null&&He(ge,Ae.startTime-pe),fe=!1}return fe}finally{C=null,j=re,H=!1}}var ce=!1,R=null,x=-1,k=5,P=-1;function D(){return!(s.unstable_now()-P<k)}function O(){if(R!==null){var ee=s.unstable_now();P=ee;var pe=!0;try{pe=R(!0,ee)}finally{pe?S():(ce=!1,R=null)}}else ce=!1}var S;if(typeof ie=="function")S=function(){ie(O)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,_t=Ve.port2;Ve.port1.onmessage=O,S=function(){_t.postMessage(null)}}else S=function(){b(O,0)};function wt(ee){R=ee,ce||(ce=!0,S())}function He(ee,pe){x=b(function(){ee(s.unstable_now())},pe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ee){ee.callback=null},s.unstable_continueExecution=function(){V||H||(V=!0,wt(ye))},s.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_getFirstCallbackNode=function(){return t(g)},s.unstable_next=function(ee){switch(j){case 1:case 2:case 3:var pe=3;break;default:pe=j}var re=j;j=pe;try{return ee()}finally{j=re}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(ee,pe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=j;j=ee;try{return pe()}finally{j=re}},s.unstable_scheduleCallback=function(ee,pe,re){var M=s.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?M+re:M):re=M,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=re+q,ee={id:T++,callback:pe,priorityLevel:ee,startTime:re,expirationTime:q,sortIndex:-1},re>M?(ee.sortIndex=re,e(w,ee),t(g)===null&&ee===t(w)&&($?(W(x),x=-1):$=!0,He(ge,re-M))):(ee.sortIndex=q,e(g,ee),V||H||(V=!0,wt(ye))),ee},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(ee){var pe=j;return function(){var re=j;j=pe;try{return ee.apply(this,arguments)}finally{j=re}}}})(Mh)),Mh}var Im;function g0(){return Im||(Im=1,Vh.exports=m0()),Vh.exports}var Sm;function y0(){if(Sm)return tn;Sm=1;var s=Td(),e=g0();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function u(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(o[n]=r,n=0;n<r.length;n++)i.add(r[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},C={};function j(n){return g.call(C,n)?!0:g.call(T,n)?!1:w.test(n)?C[n]=!0:(T[n]=!0,!1)}function H(n,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function V(n,r,a,c){if(r===null||typeof r>"u"||H(n,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(n,r,a,c,d,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){b[n]=new $(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];b[r]=new $(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){b[n]=new $(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){b[n]=new $(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){b[n]=new $(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){b[n]=new $(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){b[n]=new $(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){b[n]=new $(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){b[n]=new $(n,5,!1,n.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function ie(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(W,ie);b[r]=new $(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(W,ie);b[r]=new $(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(W,ie);b[r]=new $(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){b[n]=new $(n,1,!1,n.toLowerCase(),null,!1,!1)}),b.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){b[n]=new $(n,1,!1,n.toLowerCase(),null,!0,!0)});function de(n,r,a,c){var d=b.hasOwnProperty(r)?b[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(V(r,a,d,c)&&(a=null),c||d===null?j(r)&&(a===null?n.removeAttribute(r):n.setAttribute(r,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,r,a):n.setAttribute(r,a))))}var ge=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ye=Symbol.for("react.element"),ce=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),ee=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var re=Object.assign,M;function q(n){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+n}var fe=!1;function Ae(n,r){if(!n||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var c=z}Reflect.construct(n,[],r)}else{try{r.call()}catch(z){c=z}n.call(r.prototype)}else{try{throw Error()}catch(z){c=z}n()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),p=c.stack.split(`
`),_=d.length-1,I=p.length-1;1<=_&&0<=I&&d[_]!==p[I];)I--;for(;1<=_&&0<=I;_--,I--)if(d[_]!==p[I]){if(_!==1||I!==1)do if(_--,I--,0>I||d[_]!==p[I]){var A=`
`+d[_].replace(" at new "," at ");return n.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",n.displayName)),A}while(1<=_&&0<=I);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?q(n):""}function Pe(n){switch(n.tag){case 5:return q(n.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return n=Ae(n.type,!1),n;case 11:return n=Ae(n.type.render,!1),n;case 1:return n=Ae(n.type,!0),n;default:return""}}function be(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case ce:return"Portal";case k:return"Profiler";case x:return"StrictMode";case S:return"Suspense";case Ve:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case P:return(n._context.displayName||"Context")+".Provider";case O:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _t:return r=n.displayName||null,r!==null?r:be(n.type)||"Memo";case wt:r=n._payload,n=n._init;try{return be(n(r))}catch{}}return null}function Fe(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(r);case 8:return r===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ue(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function te(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ne(n){var r=te(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ie(n){n._valueTracker||(n._valueTracker=ne(n))}function Et(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=te(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function Ge(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function nn(n,r){var a=r.checked;return re({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ri(n,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Ue(r.value!=null?r.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function _o(n,r){r=r.checked,r!=null&&de(n,"checked",r,!1)}function wo(n,r){_o(n,r);var a=Ue(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?si(n,r.type,a):r.hasOwnProperty("defaultValue")&&si(n,r.type,Ue(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Wa(n,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,a||r===n.value||(n.value=r),n.defaultValue=r}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function si(n,r,a){(r!=="number"||Ge(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ir=Array.isArray;function or(n,r,a,c){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ue(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function Eo(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ii(n,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(t(92));if(ir(a)){if(1<a.length)throw Error(t(93));a=a[0]}r=a}r==null&&(r=""),a=r}n._wrapperState={initialValue:Ue(a)}}function oi(n,r){var a=Ue(r.value),c=Ue(r.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),r.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function To(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function dt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?dt(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ar,xo=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(r,a,c,d)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ar.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function br(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ys=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(n){ys.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),gs[r]=gs[n]})});function Io(n,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||gs.hasOwnProperty(n)&&gs[n]?(""+r).trim():r+"px"}function So(n,r){n=n.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Io(a,r[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var ko=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ao(n,r){if(r){if(ko[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function Co(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vs=null;function ai(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var li=null,fn=null,zn=null;function ui(n){if(n=Jo(n)){if(typeof li!="function")throw Error(t(280));var r=n.stateNode;r&&(r=Tl(r),li(n.stateNode,n.type,r))}}function Bn(n){fn?zn?zn.push(n):zn=[n]:fn=n}function Ro(){if(fn){var n=fn,r=zn;if(zn=fn=null,ui(n),r)for(n=0;n<r.length;n++)ui(r[n])}}function _s(n,r){return n(r)}function Po(){}var lr=!1;function No(n,r,a){if(lr)return n(r,a);lr=!0;try{return _s(n,r,a)}finally{lr=!1,(fn!==null||zn!==null)&&(Po(),Ro())}}function ot(n,r){var a=n.stateNode;if(a===null)return null;var c=Tl(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,r,typeof a));return a}var ci=!1;if(m)try{var In={};Object.defineProperty(In,"passive",{get:function(){ci=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{ci=!1}function ws(n,r,a,c,d,p,_,I,A){var z=Array.prototype.slice.call(arguments,3);try{r.apply(a,z)}catch(K){this.onError(K)}}var Es=!1,hi=null,Sn=!1,bo=null,ic={onError:function(n){Es=!0,hi=n}};function di(n,r,a,c,d,p,_,I,A){Es=!1,hi=null,ws.apply(ic,arguments)}function Ga(n,r,a,c,d,p,_,I,A){if(di.apply(this,arguments),Es){if(Es){var z=hi;Es=!1,hi=null}else throw Error(t(198));Sn||(Sn=!0,bo=z)}}function kn(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Ts(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function An(n){if(kn(n)!==n)throw Error(t(188))}function Ka(n){var r=n.alternate;if(!r){if(r=kn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var a=n,c=r;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return An(d),n;if(p===c)return An(d),r;p=p.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=p;else{for(var _=!1,I=d.child;I;){if(I===a){_=!0,a=d,c=p;break}if(I===c){_=!0,c=d,a=p;break}I=I.sibling}if(!_){for(I=p.child;I;){if(I===a){_=!0,a=p,c=d;break}if(I===c){_=!0,c=p,a=d;break}I=I.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:r}function Do(n){return n=Ka(n),n!==null?fi(n):null}function fi(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=fi(n);if(r!==null)return r;n=n.sibling}return null}var pi=e.unstable_scheduleCallback,Vo=e.unstable_cancelCallback,Qa=e.unstable_shouldYield,oc=e.unstable_requestPaint,Qe=e.unstable_now,Xa=e.unstable_getCurrentPriorityLevel,xs=e.unstable_ImmediatePriority,Dr=e.unstable_UserBlockingPriority,pn=e.unstable_NormalPriority,Mo=e.unstable_LowPriority,Ya=e.unstable_IdlePriority,Is=null,rn=null;function Ja(n){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Is,n,void 0,(n.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:el,Oo=Math.log,Za=Math.LN2;function el(n){return n>>>=0,n===0?32:31-(Oo(n)/Za|0)|0}var mi=64,gi=4194304;function Vr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ss(n,r){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,p=n.pingedLanes,_=a&268435455;if(_!==0){var I=_&~d;I!==0?c=Vr(I):(p&=_,p!==0&&(c=Vr(p)))}else _=a&~d,_!==0?c=Vr(_):p!==0&&(c=Vr(p));if(c===0)return 0;if(r!==0&&r!==c&&(r&d)===0&&(d=c&-c,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((c&4)!==0&&(c|=a&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)a=31-$t(r),d=1<<a,c|=n[a],r&=~d;return c}function ac(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var _=31-$t(p),I=1<<_,A=d[_];A===-1?((I&a)===0||(I&c)!==0)&&(d[_]=ac(I,r)):A<=r&&(n.expiredLanes|=I),p&=~I}}function sn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ks(){var n=mi;return mi<<=1,(mi&4194240)===0&&(mi=64),n}function Mr(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Or(n,r,a){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-$t(r),n[r]=a}function Ke(n,r){var a=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-$t(a),p=1<<d;r[d]=0,c[d]=-1,n[d]=-1,a&=~p}}function jr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-$t(a),d=1<<c;d&r|n[c]&r&&(n[c]|=r),a&=~d}}var Me=0;function Lr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var tl,yi,nl,rl,sl,jo=!1,$n=[],At=null,Cn=null,Rn=null,Fr=new Map,mn=new Map,Hn=[],lc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function il(n,r){switch(n){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Fr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":mn.delete(r.pointerId)}}function Kt(n,r,a,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Jo(r),r!==null&&yi(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function uc(n,r,a,c,d){switch(r){case"focusin":return At=Kt(At,n,r,a,c,d),!0;case"dragenter":return Cn=Kt(Cn,n,r,a,c,d),!0;case"mouseover":return Rn=Kt(Rn,n,r,a,c,d),!0;case"pointerover":var p=d.pointerId;return Fr.set(p,Kt(Fr.get(p)||null,n,r,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,mn.set(p,Kt(mn.get(p)||null,n,r,a,c,d)),!0}return!1}function ol(n){var r=Ns(n.target);if(r!==null){var a=kn(r);if(a!==null){if(r=a.tag,r===13){if(r=Ts(a),r!==null){n.blockedOn=r,sl(n.priority,function(){nl(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cr(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=vi(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);vs=c,a.target.dispatchEvent(c),vs=null}else return r=Jo(a),r!==null&&yi(r),n.blockedOn=a,!1;r.shift()}return!0}function As(n,r,a){cr(n)&&a.delete(r)}function al(){jo=!1,At!==null&&cr(At)&&(At=null),Cn!==null&&cr(Cn)&&(Cn=null),Rn!==null&&cr(Rn)&&(Rn=null),Fr.forEach(As),mn.forEach(As)}function Pn(n,r){n.blockedOn===r&&(n.blockedOn=null,jo||(jo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,al)))}function Nn(n){function r(d){return Pn(d,n)}if(0<$n.length){Pn($n[0],n);for(var a=1;a<$n.length;a++){var c=$n[a];c.blockedOn===n&&(c.blockedOn=null)}}for(At!==null&&Pn(At,n),Cn!==null&&Pn(Cn,n),Rn!==null&&Pn(Rn,n),Fr.forEach(r),mn.forEach(r),a=0;a<Hn.length;a++)c=Hn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Hn.length&&(a=Hn[0],a.blockedOn===null);)ol(a),a.blockedOn===null&&Hn.shift()}var hr=ge.ReactCurrentBatchConfig,Ur=!0;function Ze(n,r,a,c){var d=Me,p=hr.transition;hr.transition=null;try{Me=1,Lo(n,r,a,c)}finally{Me=d,hr.transition=p}}function cc(n,r,a,c){var d=Me,p=hr.transition;hr.transition=null;try{Me=4,Lo(n,r,a,c)}finally{Me=d,hr.transition=p}}function Lo(n,r,a,c){if(Ur){var d=vi(n,r,a,c);if(d===null)Ec(n,r,c,Cs,a),il(n,c);else if(uc(d,n,r,a,c))c.stopPropagation();else if(il(n,c),r&4&&-1<lc.indexOf(n)){for(;d!==null;){var p=Jo(d);if(p!==null&&tl(p),p=vi(n,r,a,c),p===null&&Ec(n,r,c,Cs,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else Ec(n,r,c,null,a)}}var Cs=null;function vi(n,r,a,c){if(Cs=null,n=ai(c),n=Ns(n),n!==null)if(r=kn(n),r===null)n=null;else if(a=r.tag,a===13){if(n=Ts(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Cs=n,null}function Fo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xa()){case xs:return 1;case Dr:return 4;case pn:case Mo:return 16;case Ya:return 536870912;default:return 16}default:return 16}}var on=null,_i=null,Qt=null;function Uo(){if(Qt)return Qt;var n,r=_i,a=r.length,c,d="value"in on?on.value:on.textContent,p=d.length;for(n=0;n<a&&r[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&r[a-c]===d[p-c];c++);return Qt=d.slice(n,1<c?1-c:void 0)}function wi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function qn(){return!0}function zo(){return!1}function Ct(n){function r(a,c,d,p,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?qn:zo,this.isPropagationStopped=zo,this}return re(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),r}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Ct(bn),Wn=re({},bn,{view:0,detail:0}),hc=Ct(Wn),Ti,dr,zr,Rs=re({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zr&&(zr&&n.type==="mousemove"?(Ti=n.screenX-zr.screenX,dr=n.screenY-zr.screenY):dr=Ti=0,zr=n),Ti)},movementY:function(n){return"movementY"in n?n.movementY:dr}}),xi=Ct(Rs),Bo=re({},Rs,{dataTransfer:0}),ll=Ct(Bo),Ii=re({},Wn,{relatedTarget:0}),Si=Ct(Ii),ul=re({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),fr=Ct(ul),cl=re({},bn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hl=Ct(cl),dl=re({},bn,{data:0}),$o=Ct(dl),ki={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=fl[n])?!!r[n]:!1}function Gn(){return pl}var l=re({},Wn,{key:function(n){if(n.key){var r=ki[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=wi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ht[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gn,charCode:function(n){return n.type==="keypress"?wi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),f=Ct(l),y=re({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Ct(y),L=re({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gn}),B=Ct(L),Z=re({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Ct(Z),pt=re({},Rs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Ct(pt),Tt=[9,13,27,32],ut=m&&"CompositionEvent"in window,gn=null;m&&"documentMode"in document&&(gn=document.documentMode);var an=m&&"TextEvent"in window&&!gn,Ps=m&&(!ut||gn&&8<gn&&11>=gn),Ai=" ",ff=!1;function pf(n,r){switch(n){case"keyup":return Tt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ci=!1;function l_(n,r){switch(n){case"compositionend":return mf(r);case"keypress":return r.which!==32?null:(ff=!0,Ai);case"textInput":return n=r.data,n===Ai&&ff?null:n;default:return null}}function u_(n,r){if(Ci)return n==="compositionend"||!ut&&pf(n,r)?(n=Uo(),Qt=_i=on=null,Ci=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ps&&r.locale!=="ko"?null:r.data;default:return null}}var c_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!c_[n.type]:r==="textarea"}function yf(n,r,a,c){Bn(c),r=_l(r,"onChange"),0<r.length&&(a=new Ei("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var Ho=null,qo=null;function h_(n){Mf(n,0)}function ml(n){var r=Di(n);if(Et(r))return n}function d_(n,r){if(n==="change")return r}var vf=!1;if(m){var dc;if(m){var fc="oninput"in document;if(!fc){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),fc=typeof _f.oninput=="function"}dc=fc}else dc=!1;vf=dc&&(!document.documentMode||9<document.documentMode)}function wf(){Ho&&(Ho.detachEvent("onpropertychange",Ef),qo=Ho=null)}function Ef(n){if(n.propertyName==="value"&&ml(qo)){var r=[];yf(r,qo,n,ai(n)),No(h_,r)}}function f_(n,r,a){n==="focusin"?(wf(),Ho=r,qo=a,Ho.attachEvent("onpropertychange",Ef)):n==="focusout"&&wf()}function p_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ml(qo)}function m_(n,r){if(n==="click")return ml(r)}function g_(n,r){if(n==="input"||n==="change")return ml(r)}function y_(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Dn=typeof Object.is=="function"?Object.is:y_;function Wo(n,r){if(Dn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(r,d)||!Dn(n[d],r[d]))return!1}return!0}function Tf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xf(n,r){var a=Tf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tf(a)}}function If(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?If(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Sf(){for(var n=window,r=Ge();r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ge(n.document)}return r}function pc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function v_(n){var r=Sf(),a=n.focusedElem,c=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&If(a.ownerDocument.documentElement,a)){if(c!==null&&pc(a)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(n,a.value.length);else if(n=(r=a.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!n.extend&&p>c&&(d=c,c=p,p=d),d=xf(a,p);var _=xf(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),p>c?(n.addRange(r),n.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),n.addRange(r)))}}for(r=[],n=a;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)n=r[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var __=m&&"documentMode"in document&&11>=document.documentMode,Ri=null,mc=null,Go=null,gc=!1;function kf(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gc||Ri==null||Ri!==Ge(c)||(c=Ri,"selectionStart"in c&&pc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Go&&Wo(Go,c)||(Go=c,c=_l(mc,"onSelect"),0<c.length&&(r=new Ei("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=Ri)))}function gl(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Pi={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionend:gl("Transition","TransitionEnd")},yc={},Af={};m&&(Af=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function yl(n){if(yc[n])return yc[n];if(!Pi[n])return n;var r=Pi[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Af)return yc[n]=r[a];return n}var Cf=yl("animationend"),Rf=yl("animationiteration"),Pf=yl("animationstart"),Nf=yl("transitionend"),bf=new Map,Df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(n,r){bf.set(n,r),u(r,[n])}for(var vc=0;vc<Df.length;vc++){var _c=Df[vc],w_=_c.toLowerCase(),E_=_c[0].toUpperCase()+_c.slice(1);Br(w_,"on"+E_)}Br(Cf,"onAnimationEnd"),Br(Rf,"onAnimationIteration"),Br(Pf,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Nf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ko));function Vf(n,r,a){var c=n.type||"unknown-event";n.currentTarget=a,Ga(c,r,void 0,n),n.currentTarget=null}function Mf(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var I=c[_],A=I.instance,z=I.currentTarget;if(I=I.listener,A!==p&&d.isPropagationStopped())break e;Vf(d,I,z),p=A}else for(_=0;_<c.length;_++){if(I=c[_],A=I.instance,z=I.currentTarget,I=I.listener,A!==p&&d.isPropagationStopped())break e;Vf(d,I,z),p=A}}}if(Sn)throw n=bo,Sn=!1,bo=null,n}function Ye(n,r){var a=r[Ac];a===void 0&&(a=r[Ac]=new Set);var c=n+"__bubble";a.has(c)||(Of(r,n,2,!1),a.add(c))}function wc(n,r,a){var c=0;r&&(c|=4),Of(a,n,c,r)}var vl="_reactListening"+Math.random().toString(36).slice(2);function Qo(n){if(!n[vl]){n[vl]=!0,i.forEach(function(a){a!=="selectionchange"&&(T_.has(a)||wc(a,!1,n),wc(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[vl]||(r[vl]=!0,wc("selectionchange",!1,r))}}function Of(n,r,a,c){switch(Fo(r)){case 1:var d=Ze;break;case 4:d=cc;break;default:d=Lo}a=d.bind(null,r,a,n),d=void 0,!ci||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function Ec(n,r,a,c,d){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var A=_.tag;if((A===3||A===4)&&(A=_.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;_=_.return}for(;I!==null;){if(_=Ns(I),_===null)return;if(A=_.tag,A===5||A===6){c=p=_;continue e}I=I.parentNode}}c=c.return}No(function(){var z=p,K=ai(a),X=[];e:{var G=bf.get(n);if(G!==void 0){var se=Ei,ae=n;switch(n){case"keypress":if(wi(a)===0)break e;case"keydown":case"keyup":se=f;break;case"focusin":ae="focus",se=Si;break;case"focusout":ae="blur",se=Si;break;case"beforeblur":case"afterblur":se=Si;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=B;break;case Cf:case Rf:case Pf:se=fr;break;case Nf:se=qe;break;case"scroll":se=hc;break;case"wheel":se=je;break;case"copy":case"cut":case"paste":se=hl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var le=(r&4)!==0,at=!le&&n==="scroll",F=le?G!==null?G+"Capture":null:G;le=[];for(var N=z,U;N!==null;){U=N;var J=U.stateNode;if(U.tag===5&&J!==null&&(U=J,F!==null&&(J=ot(N,F),J!=null&&le.push(Xo(N,J,U)))),at)break;N=N.return}0<le.length&&(G=new se(G,ae,null,a,K),X.push({event:G,listeners:le}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",G&&a!==vs&&(ae=a.relatedTarget||a.fromElement)&&(Ns(ae)||ae[pr]))break e;if((se||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,se?(ae=a.relatedTarget||a.toElement,se=z,ae=ae?Ns(ae):null,ae!==null&&(at=kn(ae),ae!==at||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(se=null,ae=z),se!==ae)){if(le=xi,J="onMouseLeave",F="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(le=E,J="onPointerLeave",F="onPointerEnter",N="pointer"),at=se==null?G:Di(se),U=ae==null?G:Di(ae),G=new le(J,N+"leave",se,a,K),G.target=at,G.relatedTarget=U,J=null,Ns(K)===z&&(le=new le(F,N+"enter",ae,a,K),le.target=U,le.relatedTarget=at,J=le),at=J,se&&ae)t:{for(le=se,F=ae,N=0,U=le;U;U=Ni(U))N++;for(U=0,J=F;J;J=Ni(J))U++;for(;0<N-U;)le=Ni(le),N--;for(;0<U-N;)F=Ni(F),U--;for(;N--;){if(le===F||F!==null&&le===F.alternate)break t;le=Ni(le),F=Ni(F)}le=null}else le=null;se!==null&&jf(X,G,se,le,!1),ae!==null&&at!==null&&jf(X,at,ae,le,!0)}}e:{if(G=z?Di(z):window,se=G.nodeName&&G.nodeName.toLowerCase(),se==="select"||se==="input"&&G.type==="file")var he=d_;else if(gf(G))if(vf)he=g_;else{he=p_;var ve=f_}else(se=G.nodeName)&&se.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(he=m_);if(he&&(he=he(n,z))){yf(X,he,a,K);break e}ve&&ve(n,G,z),n==="focusout"&&(ve=G._wrapperState)&&ve.controlled&&G.type==="number"&&si(G,"number",G.value)}switch(ve=z?Di(z):window,n){case"focusin":(gf(ve)||ve.contentEditable==="true")&&(Ri=ve,mc=z,Go=null);break;case"focusout":Go=mc=Ri=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,kf(X,a,K);break;case"selectionchange":if(__)break;case"keydown":case"keyup":kf(X,a,K)}var _e;if(ut)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ci?pf(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ps&&a.locale!=="ko"&&(Ci||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ci&&(_e=Uo()):(on=K,_i="value"in on?on.value:on.textContent,Ci=!0)),ve=_l(z,Ee),0<ve.length&&(Ee=new $o(Ee,n,null,a,K),X.push({event:Ee,listeners:ve}),_e?Ee.data=_e:(_e=mf(a),_e!==null&&(Ee.data=_e)))),(_e=an?l_(n,a):u_(n,a))&&(z=_l(z,"onBeforeInput"),0<z.length&&(K=new $o("onBeforeInput","beforeinput",null,a,K),X.push({event:K,listeners:z}),K.data=_e))}Mf(X,r)})}function Xo(n,r,a){return{instance:n,listener:r,currentTarget:a}}function _l(n,r){for(var a=r+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=ot(n,a),p!=null&&c.unshift(Xo(n,p,d)),p=ot(n,r),p!=null&&c.push(Xo(n,p,d))),n=n.return}return c}function Ni(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function jf(n,r,a,c,d){for(var p=r._reactName,_=[];a!==null&&a!==c;){var I=a,A=I.alternate,z=I.stateNode;if(A!==null&&A===c)break;I.tag===5&&z!==null&&(I=z,d?(A=ot(a,p),A!=null&&_.unshift(Xo(a,A,I))):d||(A=ot(a,p),A!=null&&_.push(Xo(a,A,I)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var x_=/\r\n?/g,I_=/\u0000|\uFFFD/g;function Lf(n){return(typeof n=="string"?n:""+n).replace(x_,`
`).replace(I_,"")}function wl(n,r,a){if(r=Lf(r),Lf(n)!==r&&a)throw Error(t(425))}function El(){}var Tc=null,xc=null;function Ic(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,S_=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,k_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(n){return Ff.resolve(null).then(n).catch(A_)}:Sc;function A_(n){setTimeout(function(){throw n})}function kc(n,r){var a=r,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Nn(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Nn(r)}function $r(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Uf(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}var bi=Math.random().toString(36).slice(2),Kn="__reactFiber$"+bi,Yo="__reactProps$"+bi,pr="__reactContainer$"+bi,Ac="__reactEvents$"+bi,C_="__reactListeners$"+bi,R_="__reactHandles$"+bi;function Ns(n){var r=n[Kn];if(r)return r;for(var a=n.parentNode;a;){if(r=a[pr]||a[Kn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Uf(n);n!==null;){if(a=n[Kn])return a;n=Uf(n)}return r}n=a,a=n.parentNode}return null}function Jo(n){return n=n[Kn]||n[pr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Di(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Tl(n){return n[Yo]||null}var Cc=[],Vi=-1;function Hr(n){return{current:n}}function Je(n){0>Vi||(n.current=Cc[Vi],Cc[Vi]=null,Vi--)}function Xe(n,r){Vi++,Cc[Vi]=n.current,n.current=r}var qr={},Mt=Hr(qr),Xt=Hr(!1),bs=qr;function Mi(n,r){var a=n.type.contextTypes;if(!a)return qr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=r[p];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function Yt(n){return n=n.childContextTypes,n!=null}function xl(){Je(Xt),Je(Mt)}function zf(n,r,a){if(Mt.current!==qr)throw Error(t(168));Xe(Mt,r),Xe(Xt,a)}function Bf(n,r,a){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(t(108,Fe(n)||"Unknown",d));return re({},a,c)}function Il(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||qr,bs=Mt.current,Xe(Mt,n),Xe(Xt,Xt.current),!0}function $f(n,r,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Bf(n,r,bs),c.__reactInternalMemoizedMergedChildContext=n,Je(Xt),Je(Mt),Xe(Mt,n)):Je(Xt),Xe(Xt,a)}var mr=null,Sl=!1,Rc=!1;function Hf(n){mr===null?mr=[n]:mr.push(n)}function P_(n){Sl=!0,Hf(n)}function Wr(){if(!Rc&&mr!==null){Rc=!0;var n=0,r=Me;try{var a=mr;for(Me=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}mr=null,Sl=!1}catch(d){throw mr!==null&&(mr=mr.slice(n+1)),pi(xs,Wr),d}finally{Me=r,Rc=!1}}return null}var Oi=[],ji=0,kl=null,Al=0,yn=[],vn=0,Ds=null,gr=1,yr="";function Vs(n,r){Oi[ji++]=Al,Oi[ji++]=kl,kl=n,Al=r}function qf(n,r,a){yn[vn++]=gr,yn[vn++]=yr,yn[vn++]=Ds,Ds=n;var c=gr;n=yr;var d=32-$t(c)-1;c&=~(1<<d),a+=1;var p=32-$t(r)+d;if(30<p){var _=d-d%5;p=(c&(1<<_)-1).toString(32),c>>=_,d-=_,gr=1<<32-$t(r)+d|a<<d|c,yr=p+n}else gr=1<<p|a<<d|c,yr=n}function Pc(n){n.return!==null&&(Vs(n,1),qf(n,1,0))}function Nc(n){for(;n===kl;)kl=Oi[--ji],Oi[ji]=null,Al=Oi[--ji],Oi[ji]=null;for(;n===Ds;)Ds=yn[--vn],yn[vn]=null,yr=yn[--vn],yn[vn]=null,gr=yn[--vn],yn[vn]=null}var ln=null,un=null,et=!1,Vn=null;function Wf(n,r){var a=Tn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=n,r=n.deletions,r===null?(n.deletions=[a],n.flags|=16):r.push(a)}function Gf(n,r){switch(n.tag){case 5:var a=n.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,ln=n,un=$r(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,ln=n,un=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Ds!==null?{id:gr,overflow:yr}:null,n.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=Tn(18,null,null,0),a.stateNode=r,a.return=n,n.child=a,ln=n,un=null,!0):!1;default:return!1}}function bc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Dc(n){if(et){var r=un;if(r){var a=r;if(!Gf(n,r)){if(bc(n))throw Error(t(418));r=$r(a.nextSibling);var c=ln;r&&Gf(n,r)?Wf(c,a):(n.flags=n.flags&-4097|2,et=!1,ln=n)}}else{if(bc(n))throw Error(t(418));n.flags=n.flags&-4097|2,et=!1,ln=n}}}function Kf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ln=n}function Cl(n){if(n!==ln)return!1;if(!et)return Kf(n),et=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Ic(n.type,n.memoizedProps)),r&&(r=un)){if(bc(n))throw Qf(),Error(t(418));for(;r;)Wf(n,r),r=$r(r.nextSibling)}if(Kf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(r===0){un=$r(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}n=n.nextSibling}un=null}}else un=ln?$r(n.stateNode.nextSibling):null;return!0}function Qf(){for(var n=un;n;)n=$r(n.nextSibling)}function Li(){un=ln=null,et=!1}function Vc(n){Vn===null?Vn=[n]:Vn.push(n)}var N_=ge.ReactCurrentBatchConfig;function Zo(n,r,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,p=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var I=d.refs;_===null?delete I[p]:I[p]=_},r._stringRef=p,r)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Rl(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Xf(n){var r=n._init;return r(n._payload)}function Yf(n){function r(F,N){if(n){var U=F.deletions;U===null?(F.deletions=[N],F.flags|=16):U.push(N)}}function a(F,N){if(!n)return null;for(;N!==null;)r(F,N),N=N.sibling;return null}function c(F,N){for(F=new Map;N!==null;)N.key!==null?F.set(N.key,N):F.set(N.index,N),N=N.sibling;return F}function d(F,N){return F=es(F,N),F.index=0,F.sibling=null,F}function p(F,N,U){return F.index=U,n?(U=F.alternate,U!==null?(U=U.index,U<N?(F.flags|=2,N):U):(F.flags|=2,N)):(F.flags|=1048576,N)}function _(F){return n&&F.alternate===null&&(F.flags|=2),F}function I(F,N,U,J){return N===null||N.tag!==6?(N=Sh(U,F.mode,J),N.return=F,N):(N=d(N,U),N.return=F,N)}function A(F,N,U,J){var he=U.type;return he===R?K(F,N,U.props.children,J,U.key):N!==null&&(N.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===wt&&Xf(he)===N.type)?(J=d(N,U.props),J.ref=Zo(F,N,U),J.return=F,J):(J=Zl(U.type,U.key,U.props,null,F.mode,J),J.ref=Zo(F,N,U),J.return=F,J)}function z(F,N,U,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=kh(U,F.mode,J),N.return=F,N):(N=d(N,U.children||[]),N.return=F,N)}function K(F,N,U,J,he){return N===null||N.tag!==7?(N=Bs(U,F.mode,J,he),N.return=F,N):(N=d(N,U),N.return=F,N)}function X(F,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Sh(""+N,F.mode,U),N.return=F,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ye:return U=Zl(N.type,N.key,N.props,null,F.mode,U),U.ref=Zo(F,null,N),U.return=F,U;case ce:return N=kh(N,F.mode,U),N.return=F,N;case wt:var J=N._init;return X(F,J(N._payload),U)}if(ir(N)||pe(N))return N=Bs(N,F.mode,U,null),N.return=F,N;Rl(F,N)}return null}function G(F,N,U,J){var he=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return he!==null?null:I(F,N,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ye:return U.key===he?A(F,N,U,J):null;case ce:return U.key===he?z(F,N,U,J):null;case wt:return he=U._init,G(F,N,he(U._payload),J)}if(ir(U)||pe(U))return he!==null?null:K(F,N,U,J,null);Rl(F,U)}return null}function se(F,N,U,J,he){if(typeof J=="string"&&J!==""||typeof J=="number")return F=F.get(U)||null,I(N,F,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case ye:return F=F.get(J.key===null?U:J.key)||null,A(N,F,J,he);case ce:return F=F.get(J.key===null?U:J.key)||null,z(N,F,J,he);case wt:var ve=J._init;return se(F,N,U,ve(J._payload),he)}if(ir(J)||pe(J))return F=F.get(U)||null,K(N,F,J,he,null);Rl(N,J)}return null}function ae(F,N,U,J){for(var he=null,ve=null,_e=N,Ee=N=0,St=null;_e!==null&&Ee<U.length;Ee++){_e.index>Ee?(St=_e,_e=null):St=_e.sibling;var Be=G(F,_e,U[Ee],J);if(Be===null){_e===null&&(_e=St);break}n&&_e&&Be.alternate===null&&r(F,_e),N=p(Be,N,Ee),ve===null?he=Be:ve.sibling=Be,ve=Be,_e=St}if(Ee===U.length)return a(F,_e),et&&Vs(F,Ee),he;if(_e===null){for(;Ee<U.length;Ee++)_e=X(F,U[Ee],J),_e!==null&&(N=p(_e,N,Ee),ve===null?he=_e:ve.sibling=_e,ve=_e);return et&&Vs(F,Ee),he}for(_e=c(F,_e);Ee<U.length;Ee++)St=se(_e,F,Ee,U[Ee],J),St!==null&&(n&&St.alternate!==null&&_e.delete(St.key===null?Ee:St.key),N=p(St,N,Ee),ve===null?he=St:ve.sibling=St,ve=St);return n&&_e.forEach(function(ts){return r(F,ts)}),et&&Vs(F,Ee),he}function le(F,N,U,J){var he=pe(U);if(typeof he!="function")throw Error(t(150));if(U=he.call(U),U==null)throw Error(t(151));for(var ve=he=null,_e=N,Ee=N=0,St=null,Be=U.next();_e!==null&&!Be.done;Ee++,Be=U.next()){_e.index>Ee?(St=_e,_e=null):St=_e.sibling;var ts=G(F,_e,Be.value,J);if(ts===null){_e===null&&(_e=St);break}n&&_e&&ts.alternate===null&&r(F,_e),N=p(ts,N,Ee),ve===null?he=ts:ve.sibling=ts,ve=ts,_e=St}if(Be.done)return a(F,_e),et&&Vs(F,Ee),he;if(_e===null){for(;!Be.done;Ee++,Be=U.next())Be=X(F,Be.value,J),Be!==null&&(N=p(Be,N,Ee),ve===null?he=Be:ve.sibling=Be,ve=Be);return et&&Vs(F,Ee),he}for(_e=c(F,_e);!Be.done;Ee++,Be=U.next())Be=se(_e,F,Ee,Be.value,J),Be!==null&&(n&&Be.alternate!==null&&_e.delete(Be.key===null?Ee:Be.key),N=p(Be,N,Ee),ve===null?he=Be:ve.sibling=Be,ve=Be);return n&&_e.forEach(function(c0){return r(F,c0)}),et&&Vs(F,Ee),he}function at(F,N,U,J){if(typeof U=="object"&&U!==null&&U.type===R&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case ye:e:{for(var he=U.key,ve=N;ve!==null;){if(ve.key===he){if(he=U.type,he===R){if(ve.tag===7){a(F,ve.sibling),N=d(ve,U.props.children),N.return=F,F=N;break e}}else if(ve.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===wt&&Xf(he)===ve.type){a(F,ve.sibling),N=d(ve,U.props),N.ref=Zo(F,ve,U),N.return=F,F=N;break e}a(F,ve);break}else r(F,ve);ve=ve.sibling}U.type===R?(N=Bs(U.props.children,F.mode,J,U.key),N.return=F,F=N):(J=Zl(U.type,U.key,U.props,null,F.mode,J),J.ref=Zo(F,N,U),J.return=F,F=J)}return _(F);case ce:e:{for(ve=U.key;N!==null;){if(N.key===ve)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(F,N.sibling),N=d(N,U.children||[]),N.return=F,F=N;break e}else{a(F,N);break}else r(F,N);N=N.sibling}N=kh(U,F.mode,J),N.return=F,F=N}return _(F);case wt:return ve=U._init,at(F,N,ve(U._payload),J)}if(ir(U))return ae(F,N,U,J);if(pe(U))return le(F,N,U,J);Rl(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(a(F,N.sibling),N=d(N,U),N.return=F,F=N):(a(F,N),N=Sh(U,F.mode,J),N.return=F,F=N),_(F)):a(F,N)}return at}var Fi=Yf(!0),Jf=Yf(!1),Pl=Hr(null),Nl=null,Ui=null,Mc=null;function Oc(){Mc=Ui=Nl=null}function jc(n){var r=Pl.current;Je(Pl),n._currentValue=r}function Lc(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function zi(n,r){Nl=n,Mc=Ui=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Jt=!0),n.firstContext=null)}function _n(n){var r=n._currentValue;if(Mc!==n)if(n={context:n,memoizedValue:r,next:null},Ui===null){if(Nl===null)throw Error(t(308));Ui=n,Nl.dependencies={lanes:0,firstContext:n}}else Ui=Ui.next=n;return r}var Ms=null;function Fc(n){Ms===null?Ms=[n]:Ms.push(n)}function Zf(n,r,a,c){var d=r.interleaved;return d===null?(a.next=a,Fc(r)):(a.next=d.next,d.next=a),r.interleaved=a,vr(n,c)}function vr(n,r){n.lanes|=r;var a=n.alternate;for(a!==null&&(a.lanes|=r),a=n,n=n.return;n!==null;)n.childLanes|=r,a=n.alternate,a!==null&&(a.childLanes|=r),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Gr=!1;function Uc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ep(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _r(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Kr(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ze&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,vr(n,a)}return d=c.interleaved,d===null?(r.next=r,Fc(c)):(r.next=d.next,d.next=r),c.interleaved=r,vr(n,a)}function bl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,jr(n,a)}}function tp(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?d=p=r:p=p.next=r}else d=p=r;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}function Dl(n,r,a,c){var d=n.updateQueue;Gr=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var A=I,z=A.next;A.next=null,_===null?p=z:_.next=z,_=A;var K=n.alternate;K!==null&&(K=K.updateQueue,I=K.lastBaseUpdate,I!==_&&(I===null?K.firstBaseUpdate=z:I.next=z,K.lastBaseUpdate=A))}if(p!==null){var X=d.baseState;_=0,K=z=A=null,I=p;do{var G=I.lane,se=I.eventTime;if((c&G)===G){K!==null&&(K=K.next={eventTime:se,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ae=n,le=I;switch(G=r,se=a,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){X=ae.call(se,X,G);break e}X=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,G=typeof ae=="function"?ae.call(se,X,G):ae,G==null)break e;X=re({},X,G);break e;case 2:Gr=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,G=d.effects,G===null?d.effects=[I]:G.push(I))}else se={eventTime:se,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},K===null?(z=K=se,A=X):K=K.next=se,_|=G;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;G=I,I=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(K===null&&(A=X),d.baseState=A,d.firstBaseUpdate=z,d.lastBaseUpdate=K,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);Ls|=_,n.lanes=_,n.memoizedState=X}}function np(n,r,a){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var ea={},Qn=Hr(ea),ta=Hr(ea),na=Hr(ea);function Os(n){if(n===ea)throw Error(t(174));return n}function zc(n,r){switch(Xe(na,r),Xe(ta,n),Xe(Qn,ea),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ft(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=ft(r,n)}Je(Qn),Xe(Qn,r)}function Bi(){Je(Qn),Je(ta),Je(na)}function rp(n){Os(na.current);var r=Os(Qn.current),a=ft(r,n.type);r!==a&&(Xe(ta,n),Xe(Qn,a))}function Bc(n){ta.current===n&&(Je(Qn),Je(ta))}var nt=Hr(0);function Vl(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var $c=[];function Hc(){for(var n=0;n<$c.length;n++)$c[n]._workInProgressVersionPrimary=null;$c.length=0}var Ml=ge.ReactCurrentDispatcher,qc=ge.ReactCurrentBatchConfig,js=0,rt=null,mt=null,xt=null,Ol=!1,ra=!1,sa=0,b_=0;function Ot(){throw Error(t(321))}function Wc(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Dn(n[a],r[a]))return!1;return!0}function Gc(n,r,a,c,d,p){if(js=p,rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ml.current=n===null||n.memoizedState===null?O_:j_,n=a(c,d),ra){p=0;do{if(ra=!1,sa=0,25<=p)throw Error(t(301));p+=1,xt=mt=null,r.updateQueue=null,Ml.current=L_,n=a(c,d)}while(ra)}if(Ml.current=Fl,r=mt!==null&&mt.next!==null,js=0,xt=mt=rt=null,Ol=!1,r)throw Error(t(300));return n}function Kc(){var n=sa!==0;return sa=0,n}function Xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?rt.memoizedState=xt=n:xt=xt.next=n,xt}function wn(){if(mt===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var r=xt===null?rt.memoizedState:xt.next;if(r!==null)xt=r,mt=n;else{if(n===null)throw Error(t(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},xt===null?rt.memoizedState=xt=n:xt=xt.next=n}return xt}function ia(n,r){return typeof r=="function"?r(n):r}function Qc(n){var r=wn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=mt,d=c.baseQueue,p=a.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}c.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,c=c.baseState;var I=_=null,A=null,z=p;do{var K=z.lane;if((js&K)===K)A!==null&&(A=A.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:n(c,z.action);else{var X={lane:K,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};A===null?(I=A=X,_=c):A=A.next=X,rt.lanes|=K,Ls|=K}z=z.next}while(z!==null&&z!==p);A===null?_=c:A.next=I,Dn(c,r.memoizedState)||(Jt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=A,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do p=d.lane,rt.lanes|=p,Ls|=p,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Xc(n){var r=wn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,p=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do p=n(p,_.action),_=_.next;while(_!==d);Dn(p,r.memoizedState)||(Jt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,c]}function sp(){}function ip(n,r){var a=rt,c=wn(),d=r(),p=!Dn(c.memoizedState,d);if(p&&(c.memoizedState=d,Jt=!0),c=c.queue,Yc(lp.bind(null,a,c,n),[n]),c.getSnapshot!==r||p||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,oa(9,ap.bind(null,a,c,d,r),void 0,null),It===null)throw Error(t(349));(js&30)!==0||op(a,r,d)}return d}function op(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=rt.updateQueue,r===null?(r={lastEffect:null,stores:null},rt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function ap(n,r,a,c){r.value=a,r.getSnapshot=c,up(r)&&cp(n)}function lp(n,r,a){return a(function(){up(r)&&cp(n)})}function up(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Dn(n,a)}catch{return!0}}function cp(n){var r=vr(n,1);r!==null&&Ln(r,n,1,-1)}function hp(n){var r=Xn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:n},r.queue=n,n=n.dispatch=M_.bind(null,rt,n),[r.memoizedState,n]}function oa(n,r,a,c){return n={tag:n,create:r,destroy:a,deps:c,next:null},r=rt.updateQueue,r===null?(r={lastEffect:null,stores:null},rt.updateQueue=r,r.lastEffect=n.next=n):(a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n)),n}function dp(){return wn().memoizedState}function jl(n,r,a,c){var d=Xn();rt.flags|=n,d.memoizedState=oa(1|r,a,void 0,c===void 0?null:c)}function Ll(n,r,a,c){var d=wn();c=c===void 0?null:c;var p=void 0;if(mt!==null){var _=mt.memoizedState;if(p=_.destroy,c!==null&&Wc(c,_.deps)){d.memoizedState=oa(r,a,p,c);return}}rt.flags|=n,d.memoizedState=oa(1|r,a,p,c)}function fp(n,r){return jl(8390656,8,n,r)}function Yc(n,r){return Ll(2048,8,n,r)}function pp(n,r){return Ll(4,2,n,r)}function mp(n,r){return Ll(4,4,n,r)}function gp(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function yp(n,r,a){return a=a!=null?a.concat([n]):null,Ll(4,4,gp.bind(null,r,n),a)}function Jc(){}function vp(n,r){var a=wn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Wc(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function _p(n,r){var a=wn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Wc(r,c[1])?c[0]:(n=n(),a.memoizedState=[n,r],n)}function wp(n,r,a){return(js&21)===0?(n.baseState&&(n.baseState=!1,Jt=!0),n.memoizedState=a):(Dn(a,r)||(a=ks(),rt.lanes|=a,Ls|=a,n.baseState=!0),r)}function D_(n,r){var a=Me;Me=a!==0&&4>a?a:4,n(!0);var c=qc.transition;qc.transition={};try{n(!1),r()}finally{Me=a,qc.transition=c}}function Ep(){return wn().memoizedState}function V_(n,r,a){var c=Jr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Tp(n))xp(r,a);else if(a=Zf(n,r,a,c),a!==null){var d=Wt();Ln(a,n,c,d),Ip(a,r,c)}}function M_(n,r,a){var c=Jr(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tp(n))xp(r,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,I=p(_,a);if(d.hasEagerState=!0,d.eagerState=I,Dn(I,_)){var A=r.interleaved;A===null?(d.next=d,Fc(r)):(d.next=A.next,A.next=d),r.interleaved=d;return}}catch{}a=Zf(n,r,d,c),a!==null&&(d=Wt(),Ln(a,n,c,d),Ip(a,r,c))}}function Tp(n){var r=n.alternate;return n===rt||r!==null&&r===rt}function xp(n,r){ra=Ol=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Ip(n,r,a){if((a&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,jr(n,a)}}var Fl={readContext:_n,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},O_={readContext:_n,useCallback:function(n,r){return Xn().memoizedState=[n,r===void 0?null:r],n},useContext:_n,useEffect:fp,useImperativeHandle:function(n,r,a){return a=a!=null?a.concat([n]):null,jl(4194308,4,gp.bind(null,r,n),a)},useLayoutEffect:function(n,r){return jl(4194308,4,n,r)},useInsertionEffect:function(n,r){return jl(4,2,n,r)},useMemo:function(n,r){var a=Xn();return r=r===void 0?null:r,n=n(),a.memoizedState=[n,r],n},useReducer:function(n,r,a){var c=Xn();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=V_.bind(null,rt,n),[c.memoizedState,n]},useRef:function(n){var r=Xn();return n={current:n},r.memoizedState=n},useState:hp,useDebugValue:Jc,useDeferredValue:function(n){return Xn().memoizedState=n},useTransition:function(){var n=hp(!1),r=n[0];return n=D_.bind(null,n[1]),Xn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,a){var c=rt,d=Xn();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=r(),It===null)throw Error(t(349));(js&30)!==0||op(c,r,a)}d.memoizedState=a;var p={value:a,getSnapshot:r};return d.queue=p,fp(lp.bind(null,c,p,n),[n]),c.flags|=2048,oa(9,ap.bind(null,c,p,a,r),void 0,null),a},useId:function(){var n=Xn(),r=It.identifierPrefix;if(et){var a=yr,c=gr;a=(c&~(1<<32-$t(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=sa++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=b_++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},j_={readContext:_n,useCallback:vp,useContext:_n,useEffect:Yc,useImperativeHandle:yp,useInsertionEffect:pp,useLayoutEffect:mp,useMemo:_p,useReducer:Qc,useRef:dp,useState:function(){return Qc(ia)},useDebugValue:Jc,useDeferredValue:function(n){var r=wn();return wp(r,mt.memoizedState,n)},useTransition:function(){var n=Qc(ia)[0],r=wn().memoizedState;return[n,r]},useMutableSource:sp,useSyncExternalStore:ip,useId:Ep,unstable_isNewReconciler:!1},L_={readContext:_n,useCallback:vp,useContext:_n,useEffect:Yc,useImperativeHandle:yp,useInsertionEffect:pp,useLayoutEffect:mp,useMemo:_p,useReducer:Xc,useRef:dp,useState:function(){return Xc(ia)},useDebugValue:Jc,useDeferredValue:function(n){var r=wn();return mt===null?r.memoizedState=n:wp(r,mt.memoizedState,n)},useTransition:function(){var n=Xc(ia)[0],r=wn().memoizedState;return[n,r]},useMutableSource:sp,useSyncExternalStore:ip,useId:Ep,unstable_isNewReconciler:!1};function Mn(n,r){if(n&&n.defaultProps){r=re({},r),n=n.defaultProps;for(var a in n)r[a]===void 0&&(r[a]=n[a]);return r}return r}function Zc(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:re({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ul={isMounted:function(n){return(n=n._reactInternals)?kn(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var c=Wt(),d=Jr(n),p=_r(c,d);p.payload=r,a!=null&&(p.callback=a),r=Kr(n,p,d),r!==null&&(Ln(r,n,d,c),bl(r,n,d))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=Wt(),d=Jr(n),p=_r(c,d);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Kr(n,p,d),r!==null&&(Ln(r,n,d,c),bl(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Wt(),c=Jr(n),d=_r(a,c);d.tag=2,r!=null&&(d.callback=r),r=Kr(n,d,c),r!==null&&(Ln(r,n,c,a),bl(r,n,c))}};function Sp(n,r,a,c,d,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!Wo(a,c)||!Wo(d,p):!0}function kp(n,r,a){var c=!1,d=qr,p=r.contextType;return typeof p=="object"&&p!==null?p=_n(p):(d=Yt(r)?bs:Mt.current,c=r.contextTypes,p=(c=c!=null)?Mi(n,d):qr),r=new r(a,p),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ul,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),r}function Ap(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&Ul.enqueueReplaceState(r,r.state,null)}function eh(n,r,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Uc(n);var p=r.contextType;typeof p=="object"&&p!==null?d.context=_n(p):(p=Yt(r)?bs:Mt.current,d.context=Mi(n,p)),d.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Zc(n,r,p,a),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Ul.enqueueReplaceState(d,d.state,null),Dl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function $i(n,r){try{var a="",c=r;do a+=Pe(c),c=c.return;while(c);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:r,stack:d,digest:null}}function th(n,r,a){return{value:n,source:null,stack:a??null,digest:r??null}}function nh(n,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var F_=typeof WeakMap=="function"?WeakMap:Map;function Cp(n,r,a){a=_r(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Gl||(Gl=!0,yh=c),nh(n,r)},a}function Rp(n,r,a){a=_r(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;a.payload=function(){return c(d)},a.callback=function(){nh(n,r)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){nh(n,r),typeof c!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),a}function Pp(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new F_;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(a)||(d.add(a),n=Z_.bind(null,n,r,a),r.then(n,n))}function Np(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function bp(n,r,a,c,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=_r(-1,1),r.tag=2,Kr(a,r,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var U_=ge.ReactCurrentOwner,Jt=!1;function qt(n,r,a,c){r.child=n===null?Jf(r,null,a,c):Fi(r,n.child,a,c)}function Dp(n,r,a,c,d){a=a.render;var p=r.ref;return zi(r,d),c=Gc(n,r,a,c,p,d),a=Kc(),n!==null&&!Jt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,wr(n,r,d)):(et&&a&&Pc(r),r.flags|=1,qt(n,r,c,d),r.child)}function Vp(n,r,a,c,d){if(n===null){var p=a.type;return typeof p=="function"&&!Ih(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=p,Mp(n,r,p,c,d)):(n=Zl(a.type,null,c,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,(n.lanes&d)===0){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,c)&&n.ref===r.ref)return wr(n,r,d)}return r.flags|=1,n=es(p,c),n.ref=r.ref,n.return=r,r.child=n}function Mp(n,r,a,c,d){if(n!==null){var p=n.memoizedProps;if(Wo(p,c)&&n.ref===r.ref)if(Jt=!1,r.pendingProps=c=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Jt=!0);else return r.lanes=n.lanes,wr(n,r,d)}return rh(n,r,a,c,d)}function Op(n,r,a){var c=r.pendingProps,d=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(qi,cn),cn|=a;else{if((a&1073741824)===0)return n=p!==null?p.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Xe(qi,cn),cn|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,Xe(qi,cn),cn|=c}else p!==null?(c=p.baseLanes|a,r.memoizedState=null):c=a,Xe(qi,cn),cn|=c;return qt(n,r,d,a),r.child}function jp(n,r){var a=r.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function rh(n,r,a,c,d){var p=Yt(a)?bs:Mt.current;return p=Mi(r,p),zi(r,d),a=Gc(n,r,a,c,p,d),c=Kc(),n!==null&&!Jt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,wr(n,r,d)):(et&&c&&Pc(r),r.flags|=1,qt(n,r,a,d),r.child)}function Lp(n,r,a,c,d){if(Yt(a)){var p=!0;Il(r)}else p=!1;if(zi(r,d),r.stateNode===null)Bl(n,r),kp(r,a,c),eh(r,a,c,d),c=!0;else if(n===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var A=_.context,z=a.contextType;typeof z=="object"&&z!==null?z=_n(z):(z=Yt(a)?bs:Mt.current,z=Mi(r,z));var K=a.getDerivedStateFromProps,X=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function";X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||A!==z)&&Ap(r,_,c,z),Gr=!1;var G=r.memoizedState;_.state=G,Dl(r,c,_,d),A=r.memoizedState,I!==c||G!==A||Xt.current||Gr?(typeof K=="function"&&(Zc(r,a,K,c),A=r.memoizedState),(I=Gr||Sp(r,a,I,c,G,A,z))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=A),_.props=c,_.state=A,_.context=z,c=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,ep(n,r),I=r.memoizedProps,z=r.type===r.elementType?I:Mn(r.type,I),_.props=z,X=r.pendingProps,G=_.context,A=a.contextType,typeof A=="object"&&A!==null?A=_n(A):(A=Yt(a)?bs:Mt.current,A=Mi(r,A));var se=a.getDerivedStateFromProps;(K=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==X||G!==A)&&Ap(r,_,c,A),Gr=!1,G=r.memoizedState,_.state=G,Dl(r,c,_,d);var ae=r.memoizedState;I!==X||G!==ae||Xt.current||Gr?(typeof se=="function"&&(Zc(r,a,se,c),ae=r.memoizedState),(z=Gr||Sp(r,a,z,c,G,ae,A)||!1)?(K||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ae,A),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ae,A)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ae),_.props=c,_.state=ae,_.context=A,c=z):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),c=!1)}return sh(n,r,a,c,p,d)}function sh(n,r,a,c,d,p){jp(n,r);var _=(r.flags&128)!==0;if(!c&&!_)return d&&$f(r,a,!1),wr(n,r,p);c=r.stateNode,U_.current=r;var I=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&_?(r.child=Fi(r,n.child,null,p),r.child=Fi(r,null,I,p)):qt(n,r,I,p),r.memoizedState=c.state,d&&$f(r,a,!0),r.child}function Fp(n){var r=n.stateNode;r.pendingContext?zf(n,r.pendingContext,r.pendingContext!==r.context):r.context&&zf(n,r.context,!1),zc(n,r.containerInfo)}function Up(n,r,a,c,d){return Li(),Vc(d),r.flags|=256,qt(n,r,a,c),r.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function oh(n){return{baseLanes:n,cachePool:null,transitions:null}}function zp(n,r,a){var c=r.pendingProps,d=nt.current,p=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(p=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Xe(nt,d&1),n===null)return Dc(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=c.children,n=c.fallback,p?(c=r.mode,p=r.child,_={mode:"hidden",children:_},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=eu(_,c,0,null),n=Bs(n,c,a,null),p.return=r,n.return=r,p.sibling=n,r.child=p,r.child.memoizedState=oh(a),r.memoizedState=ih,n):ah(r,_));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return z_(n,r,_,c,I,d,a);if(p){p=c.fallback,_=r.mode,d=n.child,I=d.sibling;var A={mode:"hidden",children:c.children};return(_&1)===0&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=A,r.deletions=null):(c=es(d,A),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?p=es(I,p):(p=Bs(p,_,a,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,_=n.child.memoizedState,_=_===null?oh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=n.childLanes&~a,r.memoizedState=ih,c}return p=n.child,n=p.sibling,c=es(p,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=a),c.return=r,c.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=c,r.memoizedState=null,c}function ah(n,r){return r=eu({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function zl(n,r,a,c){return c!==null&&Vc(c),Fi(r,n.child,null,a),n=ah(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function z_(n,r,a,c,d,p,_){if(a)return r.flags&256?(r.flags&=-257,c=th(Error(t(422))),zl(n,r,_,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(p=c.fallback,d=r.mode,c=eu({mode:"visible",children:c.children},d,0,null),p=Bs(p,d,_,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,(r.mode&1)!==0&&Fi(r,n.child,null,_),r.child.memoizedState=oh(_),r.memoizedState=ih,p);if((r.mode&1)===0)return zl(n,r,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,p=Error(t(419)),c=th(p,c,void 0),zl(n,r,_,c)}if(I=(_&n.childLanes)!==0,Jt||I){if(c=It,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,vr(n,d),Ln(c,n,d,-1))}return xh(),c=th(Error(t(421))),zl(n,r,_,c)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=e0.bind(null,n),d._reactRetry=r,null):(n=p.treeContext,un=$r(d.nextSibling),ln=r,et=!0,Vn=null,n!==null&&(yn[vn++]=gr,yn[vn++]=yr,yn[vn++]=Ds,gr=n.id,yr=n.overflow,Ds=r),r=ah(r,c.children),r.flags|=4096,r)}function Bp(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Lc(n.return,r,a)}function lh(n,r,a,c,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=d)}function $p(n,r,a){var c=r.pendingProps,d=c.revealOrder,p=c.tail;if(qt(n,r,c.children,a),c=nt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bp(n,a,r);else if(n.tag===19)Bp(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Xe(nt,c),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&Vl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),lh(r,!1,d,a,p);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Vl(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}lh(r,!0,a,null,p);break;case"together":lh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Bl(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function wr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ls|=r.lanes,(a&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,a=es(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=es(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function B_(n,r,a){switch(r.tag){case 3:Fp(r),Li();break;case 5:rp(r);break;case 1:Yt(r.type)&&Il(r);break;case 4:zc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;Xe(Pl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Xe(nt,nt.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?zp(n,r,a):(Xe(nt,nt.current&1),n=wr(n,r,a),n!==null?n.sibling:null);Xe(nt,nt.current&1);break;case 19:if(c=(a&r.childLanes)!==0,(n.flags&128)!==0){if(c)return $p(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Xe(nt,nt.current),c)break;return null;case 22:case 23:return r.lanes=0,Op(n,r,a)}return wr(n,r,a)}var Hp,uh,qp,Wp;Hp=function(n,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},uh=function(){},qp=function(n,r,a,c){var d=n.memoizedProps;if(d!==c){n=r.stateNode,Os(Qn.current);var p=null;switch(a){case"input":d=nn(n,d),c=nn(n,c),p=[];break;case"select":d=re({},d,{value:void 0}),c=re({},c,{value:void 0}),p=[];break;case"textarea":d=Eo(n,d),c=Eo(n,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=El)}Ao(a,c);var _;a=null;for(z in d)if(!c.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var I=d[z];for(_ in I)I.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?p||(p=[]):(p=p||[]).push(z,null));for(z in c){var A=c[z];if(I=d?.[z],c.hasOwnProperty(z)&&A!==I&&(A!=null||I!=null))if(z==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||A&&A.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in A)A.hasOwnProperty(_)&&I[_]!==A[_]&&(a||(a={}),a[_]=A[_])}else a||(p||(p=[]),p.push(z,a)),a=A;else z==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,I=I?I.__html:void 0,A!=null&&I!==A&&(p=p||[]).push(z,A)):z==="children"?typeof A!="string"&&typeof A!="number"||(p=p||[]).push(z,""+A):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(A!=null&&z==="onScroll"&&Ye("scroll",n),p||I===A||(p=[])):(p=p||[]).push(z,A))}a&&(p=p||[]).push("style",a);var z=p;(r.updateQueue=z)&&(r.flags|=4)}},Wp=function(n,r,a,c){a!==c&&(r.flags|=4)};function aa(n,r){if(!et)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function jt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function $_(n,r,a){var c=r.pendingProps;switch(Nc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(r),null;case 1:return Yt(r.type)&&xl(),jt(r),null;case 3:return c=r.stateNode,Bi(),Je(Xt),Je(Mt),Hc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Cl(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Vn!==null&&(wh(Vn),Vn=null))),uh(n,r),jt(r),null;case 5:Bc(r);var d=Os(na.current);if(a=r.type,n!==null&&r.stateNode!=null)qp(n,r,a,c,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return jt(r),null}if(n=Os(Qn.current),Cl(r)){c=r.stateNode,a=r.type;var p=r.memoizedProps;switch(c[Kn]=r,c[Yo]=p,n=(r.mode&1)!==0,a){case"dialog":Ye("cancel",c),Ye("close",c);break;case"iframe":case"object":case"embed":Ye("load",c);break;case"video":case"audio":for(d=0;d<Ko.length;d++)Ye(Ko[d],c);break;case"source":Ye("error",c);break;case"img":case"image":case"link":Ye("error",c),Ye("load",c);break;case"details":Ye("toggle",c);break;case"input":ri(c,p),Ye("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ye("invalid",c);break;case"textarea":ii(c,p),Ye("invalid",c)}Ao(a,p),d=null;for(var _ in p)if(p.hasOwnProperty(_)){var I=p[_];_==="children"?typeof I=="string"?c.textContent!==I&&(p.suppressHydrationWarning!==!0&&wl(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&wl(c.textContent,I,n),d=["children",""+I]):o.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&Ye("scroll",c)}switch(a){case"input":Ie(c),Wa(c,p,!0);break;case"textarea":Ie(c),To(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=El)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=dt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Kn]=r,n[Yo]=c,Hp(n,r,!1,!1),r.stateNode=n;e:{switch(_=Co(a,c),a){case"dialog":Ye("cancel",n),Ye("close",n),d=c;break;case"iframe":case"object":case"embed":Ye("load",n),d=c;break;case"video":case"audio":for(d=0;d<Ko.length;d++)Ye(Ko[d],n);d=c;break;case"source":Ye("error",n),d=c;break;case"img":case"image":case"link":Ye("error",n),Ye("load",n),d=c;break;case"details":Ye("toggle",n),d=c;break;case"input":ri(n,c),d=nn(n,c),Ye("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=re({},c,{value:void 0}),Ye("invalid",n);break;case"textarea":ii(n,c),d=Eo(n,c),Ye("invalid",n);break;default:d=c}Ao(a,d),I=d;for(p in I)if(I.hasOwnProperty(p)){var A=I[p];p==="style"?So(n,A):p==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&xo(n,A)):p==="children"?typeof A=="string"?(a!=="textarea"||A!=="")&&br(n,A):typeof A=="number"&&br(n,""+A):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?A!=null&&p==="onScroll"&&Ye("scroll",n):A!=null&&de(n,p,A,_))}switch(a){case"input":Ie(n),Wa(n,c,!1);break;case"textarea":Ie(n),To(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ue(c.value));break;case"select":n.multiple=!!c.multiple,p=c.value,p!=null?or(n,!!c.multiple,p,!1):c.defaultValue!=null&&or(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=El)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return jt(r),null;case 6:if(n&&r.stateNode!=null)Wp(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(a=Os(na.current),Os(Qn.current),Cl(r)){if(c=r.stateNode,a=r.memoizedProps,c[Kn]=r,(p=c.nodeValue!==a)&&(n=ln,n!==null))switch(n.tag){case 3:wl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&wl(c.nodeValue,a,(n.mode&1)!==0)}p&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Kn]=r,r.stateNode=c}return jt(r),null;case 13:if(Je(nt),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(et&&un!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Qf(),Li(),r.flags|=98560,p=!1;else if(p=Cl(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[Kn]=r}else Li(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),p=!1}else Vn!==null&&(wh(Vn),Vn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(nt.current&1)!==0?gt===0&&(gt=3):xh())),r.updateQueue!==null&&(r.flags|=4),jt(r),null);case 4:return Bi(),uh(n,r),n===null&&Qo(r.stateNode.containerInfo),jt(r),null;case 10:return jc(r.type._context),jt(r),null;case 17:return Yt(r.type)&&xl(),jt(r),null;case 19:if(Je(nt),p=r.memoizedState,p===null)return jt(r),null;if(c=(r.flags&128)!==0,_=p.rendering,_===null)if(c)aa(p,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=Vl(n),_!==null){for(r.flags|=128,aa(p,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)p=a,n=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,n=_.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Xe(nt,nt.current&1|2),r.child}n=n.sibling}p.tail!==null&&Qe()>Wi&&(r.flags|=128,c=!0,aa(p,!1),r.lanes=4194304)}else{if(!c)if(n=Vl(_),n!==null){if(r.flags|=128,c=!0,a=n.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),aa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!et)return jt(r),null}else 2*Qe()-p.renderingStartTime>Wi&&a!==1073741824&&(r.flags|=128,c=!0,aa(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(a=p.last,a!==null?a.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Qe(),r.sibling=null,a=nt.current,Xe(nt,c?a&1|2:a&1),r):(jt(r),null);case 22:case 23:return Th(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(cn&1073741824)!==0&&(jt(r),r.subtreeFlags&6&&(r.flags|=8192)):jt(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function H_(n,r){switch(Nc(r),r.tag){case 1:return Yt(r.type)&&xl(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Bi(),Je(Xt),Je(Mt),Hc(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Bc(r),null;case 13:if(Je(nt),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Li()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Je(nt),null;case 4:return Bi(),null;case 10:return jc(r.type._context),null;case 22:case 23:return Th(),null;case 24:return null;default:return null}}var $l=!1,Lt=!1,q_=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Hi(n,r){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){it(n,r,c)}else a.current=null}function ch(n,r,a){try{a()}catch(c){it(n,r,c)}}var Gp=!1;function W_(n,r){if(Tc=Ur,n=Sf(),pc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var _=0,I=-1,A=-1,z=0,K=0,X=n,G=null;t:for(;;){for(var se;X!==a||d!==0&&X.nodeType!==3||(I=_+d),X!==p||c!==0&&X.nodeType!==3||(A=_+c),X.nodeType===3&&(_+=X.nodeValue.length),(se=X.firstChild)!==null;)G=X,X=se;for(;;){if(X===n)break t;if(G===a&&++z===d&&(I=_),G===p&&++K===c&&(A=_),(se=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=se}a=I===-1||A===-1?null:{start:I,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(xc={focusedElem:n,selectionRange:a},Ur=!1,oe=r;oe!==null;)if(r=oe,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,oe=n;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,at=ae.memoizedState,F=r.stateNode,N=F.getSnapshotBeforeUpdate(r.elementType===r.type?le:Mn(r.type,le),at);F.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){it(r,r.return,J)}if(n=r.sibling,n!==null){n.return=r.return,oe=n;break}oe=r.return}return ae=Gp,Gp=!1,ae}function la(n,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&ch(r,a,p)}d=d.next}while(d!==c)}}function Hl(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function hh(n){var r=n.ref;if(r!==null){var a=n.stateNode;n.tag,n=a,typeof r=="function"?r(n):r.current=n}}function Kp(n){var r=n.alternate;r!==null&&(n.alternate=null,Kp(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Kn],delete r[Yo],delete r[Ac],delete r[C_],delete r[R_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Qp(n){return n.tag===5||n.tag===3||n.tag===4}function Xp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Qp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dh(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=El));else if(c!==4&&(n=n.child,n!==null))for(dh(n,r,a),n=n.sibling;n!==null;)dh(n,r,a),n=n.sibling}function fh(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(fh(n,r,a),n=n.sibling;n!==null;)fh(n,r,a),n=n.sibling}var Rt=null,On=!1;function Qr(n,r,a){for(a=a.child;a!==null;)Yp(n,r,a),a=a.sibling}function Yp(n,r,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Is,a)}catch{}switch(a.tag){case 5:Lt||Hi(a,r);case 6:var c=Rt,d=On;Rt=null,Qr(n,r,a),Rt=c,On=d,Rt!==null&&(On?(n=Rt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Rt.removeChild(a.stateNode));break;case 18:Rt!==null&&(On?(n=Rt,a=a.stateNode,n.nodeType===8?kc(n.parentNode,a):n.nodeType===1&&kc(n,a),Nn(n)):kc(Rt,a.stateNode));break;case 4:c=Rt,d=On,Rt=a.stateNode.containerInfo,On=!0,Qr(n,r,a),Rt=c,On=d;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&ch(a,r,_),d=d.next}while(d!==c)}Qr(n,r,a);break;case 1:if(!Lt&&(Hi(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){it(a,r,I)}Qr(n,r,a);break;case 21:Qr(n,r,a);break;case 22:a.mode&1?(Lt=(c=Lt)||a.memoizedState!==null,Qr(n,r,a),Lt=c):Qr(n,r,a);break;default:Qr(n,r,a)}}function Jp(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new q_),r.forEach(function(c){var d=t0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function jn(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var p=n,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:Rt=I.stateNode,On=!1;break e;case 3:Rt=I.stateNode.containerInfo,On=!0;break e;case 4:Rt=I.stateNode.containerInfo,On=!0;break e}I=I.return}if(Rt===null)throw Error(t(160));Yp(p,_,d),Rt=null,On=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(z){it(d,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Zp(r,n),r=r.sibling}function Zp(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(jn(r,n),Yn(n),c&4){try{la(3,n,n.return),Hl(3,n)}catch(le){it(n,n.return,le)}try{la(5,n,n.return)}catch(le){it(n,n.return,le)}}break;case 1:jn(r,n),Yn(n),c&512&&a!==null&&Hi(a,a.return);break;case 5:if(jn(r,n),Yn(n),c&512&&a!==null&&Hi(a,a.return),n.flags&32){var d=n.stateNode;try{br(d,"")}catch(le){it(n,n.return,le)}}if(c&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,_=a!==null?a.memoizedProps:p,I=n.type,A=n.updateQueue;if(n.updateQueue=null,A!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&_o(d,p),Co(I,_);var z=Co(I,p);for(_=0;_<A.length;_+=2){var K=A[_],X=A[_+1];K==="style"?So(d,X):K==="dangerouslySetInnerHTML"?xo(d,X):K==="children"?br(d,X):de(d,K,X,z)}switch(I){case"input":wo(d,p);break;case"textarea":oi(d,p);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var se=p.value;se!=null?or(d,!!p.multiple,se,!1):G!==!!p.multiple&&(p.defaultValue!=null?or(d,!!p.multiple,p.defaultValue,!0):or(d,!!p.multiple,p.multiple?[]:"",!1))}d[Yo]=p}catch(le){it(n,n.return,le)}}break;case 6:if(jn(r,n),Yn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(le){it(n,n.return,le)}}break;case 3:if(jn(r,n),Yn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Nn(r.containerInfo)}catch(le){it(n,n.return,le)}break;case 4:jn(r,n),Yn(n);break;case 13:jn(r,n),Yn(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(gh=Qe())),c&4&&Jp(n);break;case 22:if(K=a!==null&&a.memoizedState!==null,n.mode&1?(Lt=(z=Lt)||K,jn(r,n),Lt=z):jn(r,n),Yn(n),c&8192){if(z=n.memoizedState!==null,(n.stateNode.isHidden=z)&&!K&&(n.mode&1)!==0)for(oe=n,K=n.child;K!==null;){for(X=oe=K;oe!==null;){switch(G=oe,se=G.child,G.tag){case 0:case 11:case 14:case 15:la(4,G,G.return);break;case 1:Hi(G,G.return);var ae=G.stateNode;if(typeof ae.componentWillUnmount=="function"){c=G,a=G.return;try{r=c,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){it(c,a,le)}}break;case 5:Hi(G,G.return);break;case 22:if(G.memoizedState!==null){nm(X);continue}}se!==null?(se.return=G,oe=se):nm(X)}K=K.sibling}e:for(K=null,X=n;;){if(X.tag===5){if(K===null){K=X;try{d=X.stateNode,z?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=X.stateNode,A=X.memoizedProps.style,_=A!=null&&A.hasOwnProperty("display")?A.display:null,I.style.display=Io("display",_))}catch(le){it(n,n.return,le)}}}else if(X.tag===6){if(K===null)try{X.stateNode.nodeValue=z?"":X.memoizedProps}catch(le){it(n,n.return,le)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===n)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===n)break e;for(;X.sibling===null;){if(X.return===null||X.return===n)break e;K===X&&(K=null),X=X.return}K===X&&(K=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:jn(r,n),Yn(n),c&4&&Jp(n);break;case 21:break;default:jn(r,n),Yn(n)}}function Yn(n){var r=n.flags;if(r&2){try{e:{for(var a=n.return;a!==null;){if(Qp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(br(d,""),c.flags&=-33);var p=Xp(n);fh(n,p,d);break;case 3:case 4:var _=c.stateNode.containerInfo,I=Xp(n);dh(n,I,_);break;default:throw Error(t(161))}}catch(A){it(n,n.return,A)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function G_(n,r,a){oe=n,em(n)}function em(n,r,a){for(var c=(n.mode&1)!==0;oe!==null;){var d=oe,p=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||$l;if(!_){var I=d.alternate,A=I!==null&&I.memoizedState!==null||Lt;I=$l;var z=Lt;if($l=_,(Lt=A)&&!z)for(oe=d;oe!==null;)_=oe,A=_.child,_.tag===22&&_.memoizedState!==null?rm(d):A!==null?(A.return=_,oe=A):rm(d);for(;p!==null;)oe=p,em(p),p=p.sibling;oe=d,$l=I,Lt=z}tm(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,oe=p):tm(n)}}function tm(n){for(;oe!==null;){var r=oe;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Lt||Hl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Lt)if(a===null)c.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:Mn(r.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&np(r,p,c);break;case 3:var _=r.updateQueue;if(_!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}np(r,_,a)}break;case 5:var I=r.stateNode;if(a===null&&r.flags&4){a=I;var A=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&a.focus();break;case"img":A.src&&(a.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var K=z.memoizedState;if(K!==null){var X=K.dehydrated;X!==null&&Nn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||r.flags&512&&hh(r)}catch(G){it(r,r.return,G)}}if(r===n){oe=null;break}if(a=r.sibling,a!==null){a.return=r.return,oe=a;break}oe=r.return}}function nm(n){for(;oe!==null;){var r=oe;if(r===n){oe=null;break}var a=r.sibling;if(a!==null){a.return=r.return,oe=a;break}oe=r.return}}function rm(n){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Hl(4,r)}catch(A){it(r,a,A)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(A){it(r,d,A)}}var p=r.return;try{hh(r)}catch(A){it(r,p,A)}break;case 5:var _=r.return;try{hh(r)}catch(A){it(r,_,A)}}}catch(A){it(r,r.return,A)}if(r===n){oe=null;break}var I=r.sibling;if(I!==null){I.return=r.return,oe=I;break}oe=r.return}}var K_=Math.ceil,ql=ge.ReactCurrentDispatcher,ph=ge.ReactCurrentOwner,En=ge.ReactCurrentBatchConfig,ze=0,It=null,ct=null,Pt=0,cn=0,qi=Hr(0),gt=0,ua=null,Ls=0,Wl=0,mh=0,ca=null,Zt=null,gh=0,Wi=1/0,Er=null,Gl=!1,yh=null,Xr=null,Kl=!1,Yr=null,Ql=0,ha=0,vh=null,Xl=-1,Yl=0;function Wt(){return(ze&6)!==0?Qe():Xl!==-1?Xl:Xl=Qe()}function Jr(n){return(n.mode&1)===0?1:(ze&2)!==0&&Pt!==0?Pt&-Pt:N_.transition!==null?(Yl===0&&(Yl=ks()),Yl):(n=Me,n!==0||(n=window.event,n=n===void 0?16:Fo(n.type)),n)}function Ln(n,r,a,c){if(50<ha)throw ha=0,vh=null,Error(t(185));Or(n,a,c),((ze&2)===0||n!==It)&&(n===It&&((ze&2)===0&&(Wl|=a),gt===4&&Zr(n,Pt)),en(n,c),a===1&&ze===0&&(r.mode&1)===0&&(Wi=Qe()+500,Sl&&Wr()))}function en(n,r){var a=n.callbackNode;ur(n,r);var c=Ss(n,n===It?Pt:0);if(c===0)a!==null&&Vo(a),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(a!=null&&Vo(a),r===1)n.tag===0?P_(im.bind(null,n)):Hf(im.bind(null,n)),k_(function(){(ze&6)===0&&Wr()}),a=null;else{switch(Lr(c)){case 1:a=xs;break;case 4:a=Dr;break;case 16:a=pn;break;case 536870912:a=Ya;break;default:a=pn}a=fm(a,sm.bind(null,n))}n.callbackPriority=r,n.callbackNode=a}}function sm(n,r){if(Xl=-1,Yl=0,(ze&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Gi()&&n.callbackNode!==a)return null;var c=Ss(n,n===It?Pt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=Jl(n,c);else{r=c;var d=ze;ze|=2;var p=am();(It!==n||Pt!==r)&&(Er=null,Wi=Qe()+500,Us(n,r));do try{Y_();break}catch(I){om(n,I)}while(!0);Oc(),ql.current=p,ze=d,ct!==null?r=0:(It=null,Pt=0,r=gt)}if(r!==0){if(r===2&&(d=sn(n),d!==0&&(c=d,r=_h(n,d))),r===1)throw a=ua,Us(n,0),Zr(n,c),en(n,Qe()),a;if(r===6)Zr(n,c);else{if(d=n.current.alternate,(c&30)===0&&!Q_(d)&&(r=Jl(n,c),r===2&&(p=sn(n),p!==0&&(c=p,r=_h(n,p))),r===1))throw a=ua,Us(n,0),Zr(n,c),en(n,Qe()),a;switch(n.finishedWork=d,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:zs(n,Zt,Er);break;case 3:if(Zr(n,c),(c&130023424)===c&&(r=gh+500-Qe(),10<r)){if(Ss(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Wt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Sc(zs.bind(null,n,Zt,Er),r);break}zs(n,Zt,Er);break;case 4:if(Zr(n,c),(c&4194240)===c)break;for(r=n.eventTimes,d=-1;0<c;){var _=31-$t(c);p=1<<_,_=r[_],_>d&&(d=_),c&=~p}if(c=d,c=Qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*K_(c/1960))-c,10<c){n.timeoutHandle=Sc(zs.bind(null,n,Zt,Er),c);break}zs(n,Zt,Er);break;case 5:zs(n,Zt,Er);break;default:throw Error(t(329))}}}return en(n,Qe()),n.callbackNode===a?sm.bind(null,n):null}function _h(n,r){var a=ca;return n.current.memoizedState.isDehydrated&&(Us(n,r).flags|=256),n=Jl(n,r),n!==2&&(r=Zt,Zt=a,r!==null&&wh(r)),n}function wh(n){Zt===null?Zt=n:Zt.push.apply(Zt,n)}function Q_(n){for(var r=n;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!Dn(p(),d))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zr(n,r){for(r&=~mh,r&=~Wl,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var a=31-$t(r),c=1<<a;n[a]=-1,r&=~c}}function im(n){if((ze&6)!==0)throw Error(t(327));Gi();var r=Ss(n,0);if((r&1)===0)return en(n,Qe()),null;var a=Jl(n,r);if(n.tag!==0&&a===2){var c=sn(n);c!==0&&(r=c,a=_h(n,c))}if(a===1)throw a=ua,Us(n,0),Zr(n,r),en(n,Qe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,zs(n,Zt,Er),en(n,Qe()),null}function Eh(n,r){var a=ze;ze|=1;try{return n(r)}finally{ze=a,ze===0&&(Wi=Qe()+500,Sl&&Wr())}}function Fs(n){Yr!==null&&Yr.tag===0&&(ze&6)===0&&Gi();var r=ze;ze|=1;var a=En.transition,c=Me;try{if(En.transition=null,Me=1,n)return n()}finally{Me=c,En.transition=a,ze=r,(ze&6)===0&&Wr()}}function Th(){cn=qi.current,Je(qi)}function Us(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,S_(a)),ct!==null)for(a=ct.return;a!==null;){var c=a;switch(Nc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&xl();break;case 3:Bi(),Je(Xt),Je(Mt),Hc();break;case 5:Bc(c);break;case 4:Bi();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:jc(c.type._context);break;case 22:case 23:Th()}a=a.return}if(It=n,ct=n=es(n.current,null),Pt=cn=r,gt=0,ua=null,mh=Wl=Ls=0,Zt=ca=null,Ms!==null){for(r=0;r<Ms.length;r++)if(a=Ms[r],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,p=a.pending;if(p!==null){var _=p.next;p.next=d,c.next=_}a.pending=c}Ms=null}return n}function om(n,r){do{var a=ct;try{if(Oc(),Ml.current=Fl,Ol){for(var c=rt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Ol=!1}if(js=0,xt=mt=rt=null,ra=!1,sa=0,ph.current=null,a===null||a.return===null){gt=1,ua=r,ct=null;break}e:{var p=n,_=a.return,I=a,A=r;if(r=Pt,I.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=A,K=I,X=K.tag;if((K.mode&1)===0&&(X===0||X===11||X===15)){var G=K.alternate;G?(K.updateQueue=G.updateQueue,K.memoizedState=G.memoizedState,K.lanes=G.lanes):(K.updateQueue=null,K.memoizedState=null)}var se=Np(_);if(se!==null){se.flags&=-257,bp(se,_,I,p,r),se.mode&1&&Pp(p,z,r),r=se,A=z;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(A),r.updateQueue=le}else ae.add(A);break e}else{if((r&1)===0){Pp(p,z,r),xh();break e}A=Error(t(426))}}else if(et&&I.mode&1){var at=Np(_);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),bp(at,_,I,p,r),Vc($i(A,I));break e}}p=A=$i(A,I),gt!==4&&(gt=2),ca===null?ca=[p]:ca.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var F=Cp(p,A,r);tp(p,F);break e;case 1:I=A;var N=p.type,U=p.stateNode;if((p.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Xr===null||!Xr.has(U)))){p.flags|=65536,r&=-r,p.lanes|=r;var J=Rp(p,I,r);tp(p,J);break e}}p=p.return}while(p!==null)}um(a)}catch(he){r=he,ct===a&&a!==null&&(ct=a=a.return);continue}break}while(!0)}function am(){var n=ql.current;return ql.current=Fl,n===null?Fl:n}function xh(){(gt===0||gt===3||gt===2)&&(gt=4),It===null||(Ls&268435455)===0&&(Wl&268435455)===0||Zr(It,Pt)}function Jl(n,r){var a=ze;ze|=2;var c=am();(It!==n||Pt!==r)&&(Er=null,Us(n,r));do try{X_();break}catch(d){om(n,d)}while(!0);if(Oc(),ze=a,ql.current=c,ct!==null)throw Error(t(261));return It=null,Pt=0,gt}function X_(){for(;ct!==null;)lm(ct)}function Y_(){for(;ct!==null&&!Qa();)lm(ct)}function lm(n){var r=dm(n.alternate,n,cn);n.memoizedProps=n.pendingProps,r===null?um(n):ct=r,ph.current=null}function um(n){var r=n;do{var a=r.alternate;if(n=r.return,(r.flags&32768)===0){if(a=$_(a,r,cn),a!==null){ct=a;return}}else{if(a=H_(a,r),a!==null){a.flags&=32767,ct=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{gt=6,ct=null;return}}if(r=r.sibling,r!==null){ct=r;return}ct=r=n}while(r!==null);gt===0&&(gt=5)}function zs(n,r,a){var c=Me,d=En.transition;try{En.transition=null,Me=1,J_(n,r,a,c)}finally{En.transition=d,Me=c}return null}function J_(n,r,a,c){do Gi();while(Yr!==null);if((ze&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=a.lanes|a.childLanes;if(Ke(n,p),n===It&&(ct=It=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Kl||(Kl=!0,fm(pn,function(){return Gi(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=En.transition,En.transition=null;var _=Me;Me=1;var I=ze;ze|=4,ph.current=null,W_(n,a),Zp(a,n),v_(xc),Ur=!!Tc,xc=Tc=null,n.current=a,G_(a),oc(),ze=I,Me=_,En.transition=p}else n.current=a;if(Kl&&(Kl=!1,Yr=n,Ql=d),p=n.pendingLanes,p===0&&(Xr=null),Ja(a.stateNode),en(n,Qe()),r!==null)for(c=n.onRecoverableError,a=0;a<r.length;a++)d=r[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Gl)throw Gl=!1,n=yh,yh=null,n;return(Ql&1)!==0&&n.tag!==0&&Gi(),p=n.pendingLanes,(p&1)!==0?n===vh?ha++:(ha=0,vh=n):ha=0,Wr(),null}function Gi(){if(Yr!==null){var n=Lr(Ql),r=En.transition,a=Me;try{if(En.transition=null,Me=16>n?16:n,Yr===null)var c=!1;else{if(n=Yr,Yr=null,Ql=0,(ze&6)!==0)throw Error(t(331));var d=ze;for(ze|=4,oe=n.current;oe!==null;){var p=oe,_=p.child;if((oe.flags&16)!==0){var I=p.deletions;if(I!==null){for(var A=0;A<I.length;A++){var z=I[A];for(oe=z;oe!==null;){var K=oe;switch(K.tag){case 0:case 11:case 15:la(8,K,p)}var X=K.child;if(X!==null)X.return=K,oe=X;else for(;oe!==null;){K=oe;var G=K.sibling,se=K.return;if(Kp(K),K===z){oe=null;break}if(G!==null){G.return=se,oe=G;break}oe=se}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var at=le.sibling;le.sibling=null,le=at}while(le!==null)}}oe=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,oe=_;else e:for(;oe!==null;){if(p=oe,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:la(9,p,p.return)}var F=p.sibling;if(F!==null){F.return=p.return,oe=F;break e}oe=p.return}}var N=n.current;for(oe=N;oe!==null;){_=oe;var U=_.child;if((_.subtreeFlags&2064)!==0&&U!==null)U.return=_,oe=U;else e:for(_=N;oe!==null;){if(I=oe,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Hl(9,I)}}catch(he){it(I,I.return,he)}if(I===_){oe=null;break e}var J=I.sibling;if(J!==null){J.return=I.return,oe=J;break e}oe=I.return}}if(ze=d,Wr(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Is,n)}catch{}c=!0}return c}finally{Me=a,En.transition=r}}return!1}function cm(n,r,a){r=$i(a,r),r=Cp(n,r,1),n=Kr(n,r,1),r=Wt(),n!==null&&(Or(n,1,r),en(n,r))}function it(n,r,a){if(n.tag===3)cm(n,n,a);else for(;r!==null;){if(r.tag===3){cm(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Xr===null||!Xr.has(c))){n=$i(a,n),n=Rp(r,n,1),r=Kr(r,n,1),n=Wt(),r!==null&&(Or(r,1,n),en(r,n));break}}r=r.return}}function Z_(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),r=Wt(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Pt&a)===a&&(gt===4||gt===3&&(Pt&130023424)===Pt&&500>Qe()-gh?Us(n,0):mh|=a),en(n,r)}function hm(n,r){r===0&&((n.mode&1)===0?r=1:(r=gi,gi<<=1,(gi&130023424)===0&&(gi=4194304)));var a=Wt();n=vr(n,r),n!==null&&(Or(n,r,a),en(n,a))}function e0(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),hm(n,a)}function t0(n,r){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),hm(n,a)}var dm;dm=function(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps||Xt.current)Jt=!0;else{if((n.lanes&a)===0&&(r.flags&128)===0)return Jt=!1,B_(n,r,a);Jt=(n.flags&131072)!==0}else Jt=!1,et&&(r.flags&1048576)!==0&&qf(r,Al,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Bl(n,r),n=r.pendingProps;var d=Mi(r,Mt.current);zi(r,a),d=Gc(null,r,c,n,d,a);var p=Kc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Yt(c)?(p=!0,Il(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Uc(r),d.updater=Ul,r.stateNode=d,d._reactInternals=r,eh(r,c,n,a),r=sh(null,r,c,!0,p,a)):(r.tag=0,et&&p&&Pc(r),qt(null,r,d,a),r=r.child),r;case 16:c=r.elementType;e:{switch(Bl(n,r),n=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=r0(c),n=Mn(c,n),d){case 0:r=rh(null,r,c,n,a);break e;case 1:r=Lp(null,r,c,n,a);break e;case 11:r=Dp(null,r,c,n,a);break e;case 14:r=Vp(null,r,c,Mn(c.type,n),a);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),rh(n,r,c,d,a);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),Lp(n,r,c,d,a);case 3:e:{if(Fp(r),n===null)throw Error(t(387));c=r.pendingProps,p=r.memoizedState,d=p.element,ep(n,r),Dl(r,c,null,a);var _=r.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=$i(Error(t(423)),r),r=Up(n,r,c,a,d);break e}else if(c!==d){d=$i(Error(t(424)),r),r=Up(n,r,c,a,d);break e}else for(un=$r(r.stateNode.containerInfo.firstChild),ln=r,et=!0,Vn=null,a=Jf(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Li(),c===d){r=wr(n,r,a);break e}qt(n,r,c,a)}r=r.child}return r;case 5:return rp(r),n===null&&Dc(r),c=r.type,d=r.pendingProps,p=n!==null?n.memoizedProps:null,_=d.children,Ic(c,d)?_=null:p!==null&&Ic(c,p)&&(r.flags|=32),jp(n,r),qt(n,r,_,a),r.child;case 6:return n===null&&Dc(r),null;case 13:return zp(n,r,a);case 4:return zc(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Fi(r,null,c,a):qt(n,r,c,a),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),Dp(n,r,c,d,a);case 7:return qt(n,r,r.pendingProps,a),r.child;case 8:return qt(n,r,r.pendingProps.children,a),r.child;case 12:return qt(n,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,p=r.memoizedProps,_=d.value,Xe(Pl,c._currentValue),c._currentValue=_,p!==null)if(Dn(p.value,_)){if(p.children===d.children&&!Xt.current){r=wr(n,r,a);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var I=p.dependencies;if(I!==null){_=p.child;for(var A=I.firstContext;A!==null;){if(A.context===c){if(p.tag===1){A=_r(-1,a&-a),A.tag=2;var z=p.updateQueue;if(z!==null){z=z.shared;var K=z.pending;K===null?A.next=A:(A.next=K.next,K.next=A),z.pending=A}}p.lanes|=a,A=p.alternate,A!==null&&(A.lanes|=a),Lc(p.return,a,r),I.lanes|=a;break}A=A.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(t(341));_.lanes|=a,I=_.alternate,I!==null&&(I.lanes|=a),Lc(_,a,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}qt(n,r,d.children,a),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,zi(r,a),d=_n(d),c=c(d),r.flags|=1,qt(n,r,c,a),r.child;case 14:return c=r.type,d=Mn(c,r.pendingProps),d=Mn(c.type,d),Vp(n,r,c,d,a);case 15:return Mp(n,r,r.type,r.pendingProps,a);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),Bl(n,r),r.tag=1,Yt(c)?(n=!0,Il(r)):n=!1,zi(r,a),kp(r,c,d),eh(r,c,d,a),sh(null,r,c,!0,n,a);case 19:return $p(n,r,a);case 22:return Op(n,r,a)}throw Error(t(156,r.tag))};function fm(n,r){return pi(n,r)}function n0(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,r,a,c){return new n0(n,r,a,c)}function Ih(n){return n=n.prototype,!(!n||!n.isReactComponent)}function r0(n){if(typeof n=="function")return Ih(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===_t)return 14}return 2}function es(n,r){var a=n.alternate;return a===null?(a=Tn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Zl(n,r,a,c,d,p){var _=2;if(c=n,typeof n=="function")Ih(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case R:return Bs(a.children,d,p,r);case x:_=8,d|=8;break;case k:return n=Tn(12,a,r,d|2),n.elementType=k,n.lanes=p,n;case S:return n=Tn(13,a,r,d),n.elementType=S,n.lanes=p,n;case Ve:return n=Tn(19,a,r,d),n.elementType=Ve,n.lanes=p,n;case He:return eu(a,d,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:_=10;break e;case D:_=9;break e;case O:_=11;break e;case _t:_=14;break e;case wt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=Tn(_,a,r,d),r.elementType=n,r.type=c,r.lanes=p,r}function Bs(n,r,a,c){return n=Tn(7,n,c,r),n.lanes=a,n}function eu(n,r,a,c){return n=Tn(22,n,c,r),n.elementType=He,n.lanes=a,n.stateNode={isHidden:!1},n}function Sh(n,r,a){return n=Tn(6,n,null,r),n.lanes=a,n}function kh(n,r,a){return r=Tn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function s0(n,r,a,c,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mr(0),this.expirationTimes=Mr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Ah(n,r,a,c,d,p,_,I,A){return n=new s0(n,r,a,I,A),r===1?(r=1,p===!0&&(r|=8)):r=0,p=Tn(3,null,null,r),n.current=p,p.stateNode=n,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uc(p),n}function i0(n,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:n,containerInfo:r,implementation:a}}function pm(n){if(!n)return qr;n=n._reactInternals;e:{if(kn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Yt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Yt(a))return Bf(n,a,r)}return r}function mm(n,r,a,c,d,p,_,I,A){return n=Ah(a,c,!0,n,d,p,_,I,A),n.context=pm(null),a=n.current,c=Wt(),d=Jr(a),p=_r(c,d),p.callback=r??null,Kr(a,p,d),n.current.lanes=d,Or(n,d,c),en(n,c),n}function tu(n,r,a,c){var d=r.current,p=Wt(),_=Jr(d);return a=pm(a),r.context===null?r.context=a:r.pendingContext=a,r=_r(p,_),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=Kr(d,r,_),n!==null&&(Ln(n,d,_,p),bl(n,d,_)),_}function nu(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function gm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Ch(n,r){gm(n,r),(n=n.alternate)&&gm(n,r)}function o0(){return null}var ym=typeof reportError=="function"?reportError:function(n){console.error(n)};function Rh(n){this._internalRoot=n}ru.prototype.render=Rh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));tu(n,r,null,null)},ru.prototype.unmount=Rh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Fs(function(){tu(null,n,null,null)}),r[pr]=null}};function ru(n){this._internalRoot=n}ru.prototype.unstable_scheduleHydration=function(n){if(n){var r=rl();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Hn.length&&r!==0&&r<Hn[a].priority;a++);Hn.splice(a,0,n),a===0&&ol(n)}};function Ph(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function su(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function vm(){}function a0(n,r,a,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var z=nu(_);p.call(z)}}var _=mm(r,c,n,0,null,!1,!1,"",vm);return n._reactRootContainer=_,n[pr]=_.current,Qo(n.nodeType===8?n.parentNode:n),Fs(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var z=nu(A);I.call(z)}}var A=Ah(n,0,!1,null,null,!1,!1,"",vm);return n._reactRootContainer=A,n[pr]=A.current,Qo(n.nodeType===8?n.parentNode:n),Fs(function(){tu(r,A,a,c)}),A}function iu(n,r,a,c,d){var p=a._reactRootContainer;if(p){var _=p;if(typeof d=="function"){var I=d;d=function(){var A=nu(_);I.call(A)}}tu(r,_,n,d)}else _=a0(a,r,n,d,c);return nu(_)}tl=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var a=Vr(r.pendingLanes);a!==0&&(jr(r,a|1),en(r,Qe()),(ze&6)===0&&(Wi=Qe()+500,Wr()))}break;case 13:Fs(function(){var c=vr(n,1);if(c!==null){var d=Wt();Ln(c,n,1,d)}}),Ch(n,1)}},yi=function(n){if(n.tag===13){var r=vr(n,134217728);if(r!==null){var a=Wt();Ln(r,n,134217728,a)}Ch(n,134217728)}},nl=function(n){if(n.tag===13){var r=Jr(n),a=vr(n,r);if(a!==null){var c=Wt();Ln(a,n,r,c)}Ch(n,r)}},rl=function(){return Me},sl=function(n,r){var a=Me;try{return Me=n,r()}finally{Me=a}},li=function(n,r,a){switch(r){case"input":if(wo(n,a),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var d=Tl(c);if(!d)throw Error(t(90));Et(c),wo(c,d)}}}break;case"textarea":oi(n,a);break;case"select":r=a.value,r!=null&&or(n,!!a.multiple,r,!1)}},_s=Eh,Po=Fs;var l0={usingClientEntryPoint:!1,Events:[Jo,Di,Tl,Bn,Ro,Eh]},da={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u0={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ge.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Do(n),n===null?null:n.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||o0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Is=ou.inject(u0),rn=ou}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0,tn.createPortal=function(n,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ph(r))throw Error(t(200));return i0(n,r,null,a)},tn.createRoot=function(n,r){if(!Ph(n))throw Error(t(299));var a=!1,c="",d=ym;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Ah(n,1,!1,null,null,a,!1,c,d),n[pr]=r.current,Qo(n.nodeType===8?n.parentNode:n),new Rh(r)},tn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Do(r),n=n===null?null:n.stateNode,n},tn.flushSync=function(n){return Fs(n)},tn.hydrate=function(n,r,a){if(!su(r))throw Error(t(200));return iu(null,n,r,!0,a)},tn.hydrateRoot=function(n,r,a){if(!Ph(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,p="",_=ym;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),r=mm(r,null,n,1,a??null,d,!1,p,_),n[pr]=r.current,Qo(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new ru(r)},tn.render=function(n,r,a){if(!su(r))throw Error(t(200));return iu(null,n,r,!1,a)},tn.unmountComponentAtNode=function(n){if(!su(n))throw Error(t(40));return n._reactRootContainer?(Fs(function(){iu(null,null,n,!1,function(){n._reactRootContainer=null,n[pr]=null})}),!0):!1},tn.unstable_batchedUpdates=Eh,tn.unstable_renderSubtreeIntoContainer=function(n,r,a,c){if(!su(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return iu(n,r,a,!1,c)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var km;function v0(){if(km)return Dh.exports;km=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Dh.exports=y0(),Dh.exports}var Am;function _0(){if(Am)return au;Am=1;var s=v0();return au.createRoot=s.createRoot,au.hydrateRoot=s.hydrateRoot,au}var w0=_0();const E0=Hg(w0);var Cm={};const qg=function(s){const e=[];let t=0;for(let i=0;i<s.length;i++){let o=s.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},T0=function(s){const e=[];let t=0,i=0;for(;t<s.length;){const o=s[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[t++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[t++],h=s[t++],m=s[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=s[t++],h=s[t++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Wg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,m=h?s[o+1]:0,g=o+2<s.length,w=g?s[o+2]:0,T=u>>2,C=(u&3)<<4|m>>4;let j=(m&15)<<2|w>>6,H=w&63;g||(H=64,h||(j=64)),i.push(t[T],t[C],t[j],t[H])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(qg(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):T0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<s.length;){const u=t[s.charAt(o++)],m=o<s.length?t[s.charAt(o)]:0;++o;const w=o<s.length?t[s.charAt(o)]:64;++o;const C=o<s.length?t[s.charAt(o)]:64;if(++o,u==null||m==null||w==null||C==null)throw new x0;const j=u<<2|m>>4;if(i.push(j),w!==64){const H=m<<4&240|w>>2;if(i.push(H),C!==64){const V=w<<6&192|C;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class x0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I0=function(s){const e=qg(s);return Wg.encodeByteArray(e,!0)},xu=function(s){return I0(s).replace(/\./g,"")},Gg=function(s){try{return Wg.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function S0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const k0=()=>S0().__FIREBASE_DEFAULTS__,A0=()=>{if(typeof process>"u"||typeof Cm>"u")return;const s=Cm.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},C0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Gg(s[1]);return e&&JSON.parse(e)},zu=()=>{try{return k0()||A0()||C0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Kg=s=>{var e,t;return(t=(e=zu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},R0=s=>{const e=Kg(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Qg=()=>{var s;return(s=zu())===null||s===void 0?void 0:s.config},Xg=s=>{var e;return(e=zu())===null||e===void 0?void 0:e[`_${s}`]};class P0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function N0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[xu(JSON.stringify(t)),xu(JSON.stringify(h)),""].join(".")}function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function D0(){var s;const e=(s=zu())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M0(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function O0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j0(){const s=Bt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function L0(){return!D0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F0(){try{return typeof indexedDB=="object"}catch{return!1}}function U0(){return new Promise((s,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),s(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}const z0="FirebaseError";class Nr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=z0,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ma.prototype.create)}}class Ma{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?B0(u,i):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Nr(o,m,i)}}function B0(s,e){return s.replace($0,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const $0=/\{\$([^}]+)}/g;function H0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Iu(s,e){if(s===e)return!0;const t=Object.keys(s),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const u=s[o],h=e[o];if(Rm(u)&&Rm(h)){if(!Iu(u,h))return!1}else if(u!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Rm(s){return s!==null&&typeof s=="object"}function Oa(s){const e=[];for(const[t,i]of Object.entries(s))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function q0(s,e){const t=new W0(s,e);return t.subscribe.bind(t)}class W0{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");G0(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Oh),o.error===void 0&&(o.error=Oh),o.complete===void 0&&(o.complete=Oh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G0(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Oh(){}function dn(s){return s&&s._delegate?s._delegate:s}class Xs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class K0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new P0;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X0(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Q0(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q0(s){return s===$s?void 0:s}function X0(s){return s.instantiationMode==="EAGER"}class Y0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new K0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const J0={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Z0=Oe.INFO,ew={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},tw=(s,e,...t)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),o=ew[e];if(o)console[o](`[${i}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xd{constructor(e){this.name=e,this._logLevel=Z0,this._logHandler=tw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const nw=(s,e)=>e.some(t=>s instanceof t);let Pm,Nm;function rw(){return Pm||(Pm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sw(){return Nm||(Nm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yg=new WeakMap,Xh=new WeakMap,Jg=new WeakMap,jh=new WeakMap,Id=new WeakMap;function iw(s){const e=new Promise((t,i)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{t(us(s.result)),o()},h=()=>{i(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Yg.set(t,s)}).catch(()=>{}),Id.set(e,s),e}function ow(s){if(Xh.has(s))return;const e=new Promise((t,i)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});Xh.set(s,e)}let Yh={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Xh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Jg.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return us(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function aw(s){Yh=s(Yh)}function lw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=s.call(Lh(this),e,...t);return Jg.set(i,e.sort?e.sort():[e]),us(i)}:sw().includes(s)?function(...e){return s.apply(Lh(this),e),us(Yg.get(this))}:function(...e){return us(s.apply(Lh(this),e))}}function uw(s){return typeof s=="function"?lw(s):(s instanceof IDBTransaction&&ow(s),nw(s,rw())?new Proxy(s,Yh):s)}function us(s){if(s instanceof IDBRequest)return iw(s);if(jh.has(s))return jh.get(s);const e=uw(s);return e!==s&&(jh.set(s,e),Id.set(e,s)),e}const Lh=s=>Id.get(s);function cw(s,e,{blocked:t,upgrade:i,blocking:o,terminated:u}={}){const h=indexedDB.open(s,e),m=us(h);return i&&h.addEventListener("upgradeneeded",g=>{i(us(h.result),g.oldVersion,g.newVersion,us(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",w=>o(w.oldVersion,w.newVersion,w))}).catch(()=>{}),m}const hw=["get","getKey","getAll","getAllKeys","count"],dw=["put","add","delete","clear"],Fh=new Map;function bm(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Fh.get(e))return Fh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=dw.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||hw.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let w=g.store;return i&&(w=w.index(m.shift())),(await Promise.all([w[t](...m),o&&g.done]))[0]};return Fh.set(e,u),u}aw(s=>({...s,get:(e,t,i)=>bm(e,t)||s.get(e,t,i),has:(e,t)=>!!bm(e,t)||s.has(e,t)}));class fw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pw(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function pw(s){const e=s.getComponent();return e?.type==="VERSION"}const Jh="@firebase/app",Dm="0.10.13";const Ar=new xd("@firebase/app"),mw="@firebase/app-compat",gw="@firebase/analytics-compat",yw="@firebase/analytics",vw="@firebase/app-check-compat",_w="@firebase/app-check",ww="@firebase/auth",Ew="@firebase/auth-compat",Tw="@firebase/database",xw="@firebase/data-connect",Iw="@firebase/database-compat",Sw="@firebase/functions",kw="@firebase/functions-compat",Aw="@firebase/installations",Cw="@firebase/installations-compat",Rw="@firebase/messaging",Pw="@firebase/messaging-compat",Nw="@firebase/performance",bw="@firebase/performance-compat",Dw="@firebase/remote-config",Vw="@firebase/remote-config-compat",Mw="@firebase/storage",Ow="@firebase/storage-compat",jw="@firebase/firestore",Lw="@firebase/vertexai-preview",Fw="@firebase/firestore-compat",Uw="firebase",zw="10.14.1";const Zh="[DEFAULT]",Bw={[Jh]:"fire-core",[mw]:"fire-core-compat",[yw]:"fire-analytics",[gw]:"fire-analytics-compat",[_w]:"fire-app-check",[vw]:"fire-app-check-compat",[ww]:"fire-auth",[Ew]:"fire-auth-compat",[Tw]:"fire-rtdb",[xw]:"fire-data-connect",[Iw]:"fire-rtdb-compat",[Sw]:"fire-fn",[kw]:"fire-fn-compat",[Aw]:"fire-iid",[Cw]:"fire-iid-compat",[Rw]:"fire-fcm",[Pw]:"fire-fcm-compat",[Nw]:"fire-perf",[bw]:"fire-perf-compat",[Dw]:"fire-rc",[Vw]:"fire-rc-compat",[Mw]:"fire-gcs",[Ow]:"fire-gcs-compat",[jw]:"fire-fst",[Fw]:"fire-fst-compat",[Lw]:"fire-vertex","fire-js":"fire-js",[Uw]:"fire-js-all"};const Su=new Map,$w=new Map,ed=new Map;function Vm(s,e){try{s.container.addComponent(e)}catch(t){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function ro(s){const e=s.name;if(ed.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;ed.set(e,s);for(const t of Su.values())Vm(t,s);for(const t of $w.values())Vm(t,s);return!0}function Sd(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function xr(s){return s.settings!==void 0}const Hw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Ma("app","Firebase",Hw);class qw{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}const fo=zw;function Zg(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Zh,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(t||(t=Qg()),!t)throw cs.create("no-options");const u=Su.get(o);if(u){if(Iu(t,u.options)&&Iu(i,u.config))return u;throw cs.create("duplicate-app",{appName:o})}const h=new Y0(o);for(const g of ed.values())h.addComponent(g);const m=new qw(t,i,h);return Su.set(o,m),m}function ey(s=Zh){const e=Su.get(s);if(!e&&s===Zh&&Qg())return Zg();if(!e)throw cs.create("no-app",{appName:s});return e}function hs(s,e,t){var i;let o=(i=Bw[s])!==null&&i!==void 0?i:s;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(m.join(" "));return}ro(new Xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const Ww="firebase-heartbeat-database",Gw=1,ka="firebase-heartbeat-store";let Uh=null;function ty(){return Uh||(Uh=cw(Ww,Gw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ka)}catch(t){console.warn(t)}}}}).catch(s=>{throw cs.create("idb-open",{originalErrorMessage:s.message})})),Uh}async function Kw(s){try{const t=(await ty()).transaction(ka),i=await t.objectStore(ka).get(ny(s));return await t.done,i}catch(e){if(e instanceof Nr)Ar.warn(e.message);else{const t=cs.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(t.message)}}}async function Mm(s,e){try{const i=(await ty()).transaction(ka,"readwrite");await i.objectStore(ka).put(e,ny(s)),await i.done}catch(t){if(t instanceof Nr)Ar.warn(t.message);else{const i=cs.create("idb-set",{originalErrorMessage:t?.message});Ar.warn(i.message)}}}function ny(s){return`${s.name}!${s.options.appId}`}const Qw=1024,Xw=720*60*60*1e3;class Yw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zw(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Om();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=Xw}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ar.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Om(),{heartbeatsToSend:i,unsentEntries:o}=Jw(this._heartbeatsCache.heartbeats),u=xu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Ar.warn(t),""}}}function Om(){return new Date().toISOString().substring(0,10)}function Jw(s,e=Qw){const t=[];let i=s.slice();for(const o of s){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),jm(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),jm(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Zw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F0()?U0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Kw(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jm(s){return xu(JSON.stringify({version:2,heartbeats:s})).length}function eE(s){ro(new Xs("platform-logger",e=>new fw(e),"PRIVATE")),ro(new Xs("heartbeat",e=>new Yw(e),"PRIVATE")),hs(Jh,Dm,s),hs(Jh,Dm,"esm2017"),hs("fire-js","")}eE("");var Lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,ry;(function(){var s;function e(R,x){function k(){}k.prototype=x.prototype,R.D=x.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(P,D,O){for(var S=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)S[Ve-2]=arguments[Ve];return x.prototype[D].apply(P,S)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,k){k||(k=0);var P=Array(16);if(typeof x=="string")for(var D=0;16>D;++D)P[D]=x.charCodeAt(k++)|x.charCodeAt(k++)<<8|x.charCodeAt(k++)<<16|x.charCodeAt(k++)<<24;else for(D=0;16>D;++D)P[D]=x[k++]|x[k++]<<8|x[k++]<<16|x[k++]<<24;x=R.g[0],k=R.g[1],D=R.g[2];var O=R.g[3],S=x+(O^k&(D^O))+P[0]+3614090360&4294967295;x=k+(S<<7&4294967295|S>>>25),S=O+(D^x&(k^D))+P[1]+3905402710&4294967295,O=x+(S<<12&4294967295|S>>>20),S=D+(k^O&(x^k))+P[2]+606105819&4294967295,D=O+(S<<17&4294967295|S>>>15),S=k+(x^D&(O^x))+P[3]+3250441966&4294967295,k=D+(S<<22&4294967295|S>>>10),S=x+(O^k&(D^O))+P[4]+4118548399&4294967295,x=k+(S<<7&4294967295|S>>>25),S=O+(D^x&(k^D))+P[5]+1200080426&4294967295,O=x+(S<<12&4294967295|S>>>20),S=D+(k^O&(x^k))+P[6]+2821735955&4294967295,D=O+(S<<17&4294967295|S>>>15),S=k+(x^D&(O^x))+P[7]+4249261313&4294967295,k=D+(S<<22&4294967295|S>>>10),S=x+(O^k&(D^O))+P[8]+1770035416&4294967295,x=k+(S<<7&4294967295|S>>>25),S=O+(D^x&(k^D))+P[9]+2336552879&4294967295,O=x+(S<<12&4294967295|S>>>20),S=D+(k^O&(x^k))+P[10]+4294925233&4294967295,D=O+(S<<17&4294967295|S>>>15),S=k+(x^D&(O^x))+P[11]+2304563134&4294967295,k=D+(S<<22&4294967295|S>>>10),S=x+(O^k&(D^O))+P[12]+1804603682&4294967295,x=k+(S<<7&4294967295|S>>>25),S=O+(D^x&(k^D))+P[13]+4254626195&4294967295,O=x+(S<<12&4294967295|S>>>20),S=D+(k^O&(x^k))+P[14]+2792965006&4294967295,D=O+(S<<17&4294967295|S>>>15),S=k+(x^D&(O^x))+P[15]+1236535329&4294967295,k=D+(S<<22&4294967295|S>>>10),S=x+(D^O&(k^D))+P[1]+4129170786&4294967295,x=k+(S<<5&4294967295|S>>>27),S=O+(k^D&(x^k))+P[6]+3225465664&4294967295,O=x+(S<<9&4294967295|S>>>23),S=D+(x^k&(O^x))+P[11]+643717713&4294967295,D=O+(S<<14&4294967295|S>>>18),S=k+(O^x&(D^O))+P[0]+3921069994&4294967295,k=D+(S<<20&4294967295|S>>>12),S=x+(D^O&(k^D))+P[5]+3593408605&4294967295,x=k+(S<<5&4294967295|S>>>27),S=O+(k^D&(x^k))+P[10]+38016083&4294967295,O=x+(S<<9&4294967295|S>>>23),S=D+(x^k&(O^x))+P[15]+3634488961&4294967295,D=O+(S<<14&4294967295|S>>>18),S=k+(O^x&(D^O))+P[4]+3889429448&4294967295,k=D+(S<<20&4294967295|S>>>12),S=x+(D^O&(k^D))+P[9]+568446438&4294967295,x=k+(S<<5&4294967295|S>>>27),S=O+(k^D&(x^k))+P[14]+3275163606&4294967295,O=x+(S<<9&4294967295|S>>>23),S=D+(x^k&(O^x))+P[3]+4107603335&4294967295,D=O+(S<<14&4294967295|S>>>18),S=k+(O^x&(D^O))+P[8]+1163531501&4294967295,k=D+(S<<20&4294967295|S>>>12),S=x+(D^O&(k^D))+P[13]+2850285829&4294967295,x=k+(S<<5&4294967295|S>>>27),S=O+(k^D&(x^k))+P[2]+4243563512&4294967295,O=x+(S<<9&4294967295|S>>>23),S=D+(x^k&(O^x))+P[7]+1735328473&4294967295,D=O+(S<<14&4294967295|S>>>18),S=k+(O^x&(D^O))+P[12]+2368359562&4294967295,k=D+(S<<20&4294967295|S>>>12),S=x+(k^D^O)+P[5]+4294588738&4294967295,x=k+(S<<4&4294967295|S>>>28),S=O+(x^k^D)+P[8]+2272392833&4294967295,O=x+(S<<11&4294967295|S>>>21),S=D+(O^x^k)+P[11]+1839030562&4294967295,D=O+(S<<16&4294967295|S>>>16),S=k+(D^O^x)+P[14]+4259657740&4294967295,k=D+(S<<23&4294967295|S>>>9),S=x+(k^D^O)+P[1]+2763975236&4294967295,x=k+(S<<4&4294967295|S>>>28),S=O+(x^k^D)+P[4]+1272893353&4294967295,O=x+(S<<11&4294967295|S>>>21),S=D+(O^x^k)+P[7]+4139469664&4294967295,D=O+(S<<16&4294967295|S>>>16),S=k+(D^O^x)+P[10]+3200236656&4294967295,k=D+(S<<23&4294967295|S>>>9),S=x+(k^D^O)+P[13]+681279174&4294967295,x=k+(S<<4&4294967295|S>>>28),S=O+(x^k^D)+P[0]+3936430074&4294967295,O=x+(S<<11&4294967295|S>>>21),S=D+(O^x^k)+P[3]+3572445317&4294967295,D=O+(S<<16&4294967295|S>>>16),S=k+(D^O^x)+P[6]+76029189&4294967295,k=D+(S<<23&4294967295|S>>>9),S=x+(k^D^O)+P[9]+3654602809&4294967295,x=k+(S<<4&4294967295|S>>>28),S=O+(x^k^D)+P[12]+3873151461&4294967295,O=x+(S<<11&4294967295|S>>>21),S=D+(O^x^k)+P[15]+530742520&4294967295,D=O+(S<<16&4294967295|S>>>16),S=k+(D^O^x)+P[2]+3299628645&4294967295,k=D+(S<<23&4294967295|S>>>9),S=x+(D^(k|~O))+P[0]+4096336452&4294967295,x=k+(S<<6&4294967295|S>>>26),S=O+(k^(x|~D))+P[7]+1126891415&4294967295,O=x+(S<<10&4294967295|S>>>22),S=D+(x^(O|~k))+P[14]+2878612391&4294967295,D=O+(S<<15&4294967295|S>>>17),S=k+(O^(D|~x))+P[5]+4237533241&4294967295,k=D+(S<<21&4294967295|S>>>11),S=x+(D^(k|~O))+P[12]+1700485571&4294967295,x=k+(S<<6&4294967295|S>>>26),S=O+(k^(x|~D))+P[3]+2399980690&4294967295,O=x+(S<<10&4294967295|S>>>22),S=D+(x^(O|~k))+P[10]+4293915773&4294967295,D=O+(S<<15&4294967295|S>>>17),S=k+(O^(D|~x))+P[1]+2240044497&4294967295,k=D+(S<<21&4294967295|S>>>11),S=x+(D^(k|~O))+P[8]+1873313359&4294967295,x=k+(S<<6&4294967295|S>>>26),S=O+(k^(x|~D))+P[15]+4264355552&4294967295,O=x+(S<<10&4294967295|S>>>22),S=D+(x^(O|~k))+P[6]+2734768916&4294967295,D=O+(S<<15&4294967295|S>>>17),S=k+(O^(D|~x))+P[13]+1309151649&4294967295,k=D+(S<<21&4294967295|S>>>11),S=x+(D^(k|~O))+P[4]+4149444226&4294967295,x=k+(S<<6&4294967295|S>>>26),S=O+(k^(x|~D))+P[11]+3174756917&4294967295,O=x+(S<<10&4294967295|S>>>22),S=D+(x^(O|~k))+P[2]+718787259&4294967295,D=O+(S<<15&4294967295|S>>>17),S=k+(O^(D|~x))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+O&4294967295}i.prototype.u=function(R,x){x===void 0&&(x=R.length);for(var k=x-this.blockSize,P=this.B,D=this.h,O=0;O<x;){if(D==0)for(;O<=k;)o(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<x;)if(P[D++]=R.charCodeAt(O++),D==this.blockSize){o(this,P),D=0;break}}else for(;O<x;)if(P[D++]=R[O++],D==this.blockSize){o(this,P),D=0;break}}this.h=D,this.o+=x},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;var k=8*this.o;for(x=R.length-8;x<R.length;++x)R[x]=k&255,k/=256;for(this.u(R),R=Array(16),x=k=0;4>x;++x)for(var P=0;32>P;P+=8)R[k++]=this.g[x]>>>P&255;return R};function u(R,x){var k=m;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=x(R)}function h(R,x){this.h=x;for(var k=[],P=!0,D=R.length-1;0<=D;D--){var O=R[D]|0;P&&O==x||(k[D]=O,P=!1)}this.g=k}var m={};function g(R){return-128<=R&&128>R?u(R,function(x){return new h([x|0],0>x?-1:0)}):new h([R|0],0>R?-1:0)}function w(R){if(isNaN(R)||!isFinite(R))return C;if(0>R)return b(w(-R));for(var x=[],k=1,P=0;R>=k;P++)x[P]=R/k|0,k*=4294967296;return new h(x,0)}function T(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return b(T(R.substring(1),x));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=w(Math.pow(x,8)),P=C,D=0;D<R.length;D+=8){var O=Math.min(8,R.length-D),S=parseInt(R.substring(D,D+O),x);8>O?(O=w(Math.pow(x,O)),P=P.j(O).add(w(S))):(P=P.j(k),P=P.add(w(S)))}return P}var C=g(0),j=g(1),H=g(16777216);s=h.prototype,s.m=function(){if($(this))return-b(this).m();for(var R=0,x=1,k=0;k<this.g.length;k++){var P=this.i(k);R+=(0<=P?P:4294967296+P)*x,x*=4294967296}return R},s.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V(this))return"0";if($(this))return"-"+b(this).toString(R);for(var x=w(Math.pow(R,6)),k=this,P="";;){var D=ge(k,x).g;k=W(k,D.j(x));var O=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=D,V(k))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},s.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function V(R){if(R.h!=0)return!1;for(var x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function $(R){return R.h==-1}s.l=function(R){return R=W(this,R),$(R)?-1:V(R)?0:1};function b(R){for(var x=R.g.length,k=[],P=0;P<x;P++)k[P]=~R.g[P];return new h(k,~R.h).add(j)}s.abs=function(){return $(this)?b(this):this},s.add=function(R){for(var x=Math.max(this.g.length,R.g.length),k=[],P=0,D=0;D<=x;D++){var O=P+(this.i(D)&65535)+(R.i(D)&65535),S=(O>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);P=S>>>16,O&=65535,S&=65535,k[D]=S<<16|O}return new h(k,k[k.length-1]&-2147483648?-1:0)};function W(R,x){return R.add(b(x))}s.j=function(R){if(V(this)||V(R))return C;if($(this))return $(R)?b(this).j(b(R)):b(b(this).j(R));if($(R))return b(this.j(b(R)));if(0>this.l(H)&&0>R.l(H))return w(this.m()*R.m());for(var x=this.g.length+R.g.length,k=[],P=0;P<2*x;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<R.g.length;D++){var O=this.i(P)>>>16,S=this.i(P)&65535,Ve=R.i(D)>>>16,_t=R.i(D)&65535;k[2*P+2*D]+=S*_t,ie(k,2*P+2*D),k[2*P+2*D+1]+=O*_t,ie(k,2*P+2*D+1),k[2*P+2*D+1]+=S*Ve,ie(k,2*P+2*D+1),k[2*P+2*D+2]+=O*Ve,ie(k,2*P+2*D+2)}for(P=0;P<x;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=x;P<2*x;P++)k[P]=0;return new h(k,0)};function ie(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function de(R,x){this.g=R,this.h=x}function ge(R,x){if(V(x))throw Error("division by zero");if(V(R))return new de(C,C);if($(R))return x=ge(b(R),x),new de(b(x.g),b(x.h));if($(x))return x=ge(R,b(x)),new de(b(x.g),x.h);if(30<R.g.length){if($(R)||$(x))throw Error("slowDivide_ only works with positive integers.");for(var k=j,P=x;0>=P.l(R);)k=ye(k),P=ye(P);var D=ce(k,1),O=ce(P,1);for(P=ce(P,2),k=ce(k,2);!V(P);){var S=O.add(P);0>=S.l(R)&&(D=D.add(k),O=S),P=ce(P,1),k=ce(k,1)}return x=W(R,D.j(x)),new de(D,x)}for(D=C;0<=R.l(x);){for(k=Math.max(1,Math.floor(R.m()/x.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=w(k),S=O.j(x);$(S)||0<S.l(R);)k-=P,O=w(k),S=O.j(x);V(O)&&(O=j),D=D.add(O),R=W(R,S)}return new de(D,R)}s.A=function(R){return ge(this,R).h},s.and=function(R){for(var x=Math.max(this.g.length,R.g.length),k=[],P=0;P<x;P++)k[P]=this.i(P)&R.i(P);return new h(k,this.h&R.h)},s.or=function(R){for(var x=Math.max(this.g.length,R.g.length),k=[],P=0;P<x;P++)k[P]=this.i(P)|R.i(P);return new h(k,this.h|R.h)},s.xor=function(R){for(var x=Math.max(this.g.length,R.g.length),k=[],P=0;P<x;P++)k[P]=this.i(P)^R.i(P);return new h(k,this.h^R.h)};function ye(R){for(var x=R.g.length+1,k=[],P=0;P<x;P++)k[P]=R.i(P)<<1|R.i(P-1)>>>31;return new h(k,R.h)}function ce(R,x){var k=x>>5;x%=32;for(var P=R.g.length-k,D=[],O=0;O<P;O++)D[O]=0<x?R.i(O+k)>>>x|R.i(O+k+1)<<32-x:R.i(O+k);return new h(D,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ry=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=w,h.fromString=T,Ws=h}).apply(typeof Lm<"u"?Lm:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sy,ga,iy,fu,td,oy,ay,ly;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function o(l,f){if(f)e:{var y=i;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in y))break e;y=y[L]}l=l[l.length-1],E=y[l],f=f(E),f!=E&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var y=0,E=!1,L={next:function(){if(!E&&y<l.length){var B=y++;return{value:f(B,l[B]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(l){return l||function(){return u(this,function(f,y){return y})}});var h=h||{},m=this||self;function g(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function w(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function T(l,f,y){return l.call.apply(l.bind,arguments)}function C(l,f,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function j(l,f,y){return j=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:C,j.apply(null,arguments)}function H(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function V(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,L,B){for(var Z=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)Z[qe-2]=arguments[qe];return f.prototype[L].apply(E,Z)}}function $(l){const f=l.length;if(0<f){const y=Array(f);for(let E=0;E<f;E++)y[E]=l[E];return y}return[]}function b(l,f){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const L=l.length||0,B=E.length||0;l.length=L+B;for(let Z=0;Z<B;Z++)l[L+Z]=E[Z]}else l.push(E)}}class W{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function ie(l){return/^[\s\xa0]*$/.test(l)}function de(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function ge(l){return ge[" "](l),l}ge[" "]=function(){};var ye=de().indexOf("Gecko")!=-1&&!(de().toLowerCase().indexOf("webkit")!=-1&&de().indexOf("Edge")==-1)&&!(de().indexOf("Trident")!=-1||de().indexOf("MSIE")!=-1)&&de().indexOf("Edge")==-1;function ce(l,f,y){for(const E in l)f.call(y,l[E],E,l)}function R(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function x(l){const f={};for(const y in l)f[y]=l[y];return f}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let y,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(y in E)l[y]=E[y];for(let B=0;B<k.length;B++)y=k[B],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function D(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function O(l){m.setTimeout(()=>{throw l},0)}function S(){var l=pe;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Ve{constructor(){this.h=this.g=null}add(f,y){const E=_t.get();E.set(f,y),this.h?this.h.next=E:this.g=E,this.h=E}}var _t=new W(()=>new wt,l=>l.reset());class wt{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let He,ee=!1,pe=new Ve,re=()=>{const l=m.Promise.resolve(void 0);He=()=>{l.then(M)}};var M=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(y){O(y)}var f=_t;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ee=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,f),m.removeEventListener("test",y,f)}catch{}return l})();function Pe(l,f){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(ye){e:{try{ge(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:be[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Pe.aa.h.call(this)}}V(Pe,fe);var be={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function te(l,f,y,E,L){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!E,this.ha=L,this.key=++Ue,this.da=this.fa=!1}function ne(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ie(l){this.src=l,this.g={},this.h=0}Ie.prototype.add=function(l,f,y,E,L){var B=l.toString();l=this.g[B],l||(l=this.g[B]=[],this.h++);var Z=Ge(l,f,E,L);return-1<Z?(f=l[Z],y||(f.fa=!1)):(f=new te(f,this.src,B,!!E,L),f.fa=y,l.push(f)),f};function Et(l,f){var y=f.type;if(y in l.g){var E=l.g[y],L=Array.prototype.indexOf.call(E,f,void 0),B;(B=0<=L)&&Array.prototype.splice.call(E,L,1),B&&(ne(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Ge(l,f,y,E){for(var L=0;L<l.length;++L){var B=l[L];if(!B.da&&B.listener==f&&B.capture==!!y&&B.ha==E)return L}return-1}var nn="closure_lm_"+(1e6*Math.random()|0),ri={};function _o(l,f,y,E,L){if(Array.isArray(f)){for(var B=0;B<f.length;B++)_o(l,f[B],y,E,L);return null}return y=To(y),l&&l[Fe]?l.K(f,y,w(E)?!!E.capture:!1,L):wo(l,f,y,!1,E,L)}function wo(l,f,y,E,L,B){if(!f)throw Error("Invalid event type");var Z=w(L)?!!L.capture:!!L,qe=ii(l);if(qe||(l[nn]=qe=new Ie(l)),y=qe.add(f,y,E,Z,B),y.proxy)return y;if(E=Wa(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Ae||(L=Z),L===void 0&&(L=!1),l.addEventListener(f.toString(),E,L);else if(l.attachEvent)l.attachEvent(or(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Wa(){function l(y){return f.call(l.src,l.listener,y)}const f=Eo;return l}function si(l,f,y,E,L){if(Array.isArray(f))for(var B=0;B<f.length;B++)si(l,f[B],y,E,L);else E=w(E)?!!E.capture:!!E,y=To(y),l&&l[Fe]?(l=l.i,f=String(f).toString(),f in l.g&&(B=l.g[f],y=Ge(B,y,E,L),-1<y&&(ne(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete l.g[f],l.h--)))):l&&(l=ii(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Ge(f,y,E,L)),(y=-1<l?f[l]:null)&&ir(y))}function ir(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Fe])Et(f.i,l);else{var y=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(y,E,l.capture):f.detachEvent?f.detachEvent(or(y),E):f.addListener&&f.removeListener&&f.removeListener(E),(y=ii(f))?(Et(y,l),y.h==0&&(y.src=null,f[nn]=null)):ne(l)}}}function or(l){return l in ri?ri[l]:ri[l]="on"+l}function Eo(l,f){if(l.da)l=!0;else{f=new Pe(f,this);var y=l.listener,E=l.ha||l.src;l.fa&&ir(l),l=y.call(E,f)}return l}function ii(l){return l=l[nn],l instanceof Ie?l:null}var oi="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(l){return typeof l=="function"?l:(l[oi]||(l[oi]=function(f){return l.handleEvent(f)}),l[oi])}function dt(){q.call(this),this.i=new Ie(this),this.M=this,this.F=null}V(dt,q),dt.prototype[Fe]=!0,dt.prototype.removeEventListener=function(l,f,y,E){si(this,l,f,y,E)};function ft(l,f){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new fe(f,l);else if(f instanceof fe)f.target=f.target||l;else{var L=f;f=new fe(E,l),P(f,L)}if(L=!0,y)for(var B=y.length-1;0<=B;B--){var Z=f.g=y[B];L=ar(Z,E,!0,f)&&L}if(Z=f.g=l,L=ar(Z,E,!0,f)&&L,L=ar(Z,E,!1,f)&&L,y)for(B=0;B<y.length;B++)Z=f.g=y[B],L=ar(Z,E,!1,f)&&L}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],E=0;E<y.length;E++)ne(y[E]);delete l.g[f],l.h--}}this.F=null},dt.prototype.K=function(l,f,y,E){return this.i.add(String(l),f,!1,y,E)},dt.prototype.L=function(l,f,y,E){return this.i.add(String(l),f,!0,y,E)};function ar(l,f,y,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,B=0;B<f.length;++B){var Z=f[B];if(Z&&!Z.da&&Z.capture==y){var qe=Z.listener,pt=Z.ha||Z.src;Z.fa&&Et(l.i,Z),L=qe.call(pt,E)!==!1&&L}}return L&&!E.defaultPrevented}function xo(l,f,y){if(typeof l=="function")y&&(l=j(l,y));else if(l&&typeof l.handleEvent=="function")l=j(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function br(l){l.g=xo(()=>{l.g=null,l.i&&(l.i=!1,br(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class gs extends q{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(l){q.call(this),this.h=l,this.g={}}V(ys,q);var Io=[];function So(l){ce(l.g,function(f,y){this.g.hasOwnProperty(y)&&ir(f)},l),l.g={}}ys.prototype.N=function(){ys.aa.N.call(this),So(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ko=m.JSON.stringify,Ao=m.JSON.parse,Co=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function vs(){}vs.prototype.h=null;function ai(l){return l.h||(l.h=l.i())}function li(){}var fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zn(){fe.call(this,"d")}V(zn,fe);function ui(){fe.call(this,"c")}V(ui,fe);var Bn={},Ro=null;function _s(){return Ro=Ro||new dt}Bn.La="serverreachability";function Po(l){fe.call(this,Bn.La,l)}V(Po,fe);function lr(l){const f=_s();ft(f,new Po(f))}Bn.STAT_EVENT="statevent";function No(l,f){fe.call(this,Bn.STAT_EVENT,l),this.stat=f}V(No,fe);function ot(l){const f=_s();ft(f,new No(f,l))}Bn.Ma="timingevent";function ci(l,f){fe.call(this,Bn.Ma,l),this.size=f}V(ci,fe);function In(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function Es(l,f,y,E,L,B){l.info(function(){if(l.g)if(B)for(var Z="",qe=B.split("&"),pt=0;pt<qe.length;pt++){var je=qe[pt].split("=");if(1<je.length){var Tt=je[0];je=je[1];var ut=Tt.split("_");Z=2<=ut.length&&ut[1]=="type"?Z+(Tt+"="+je+"&"):Z+(Tt+"=redacted&")}}else Z=null;else Z=B;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+f+`
`+y+`
`+Z})}function hi(l,f,y,E,L,B,Z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+f+`
`+y+`
`+B+" "+Z})}function Sn(l,f,y,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+ic(l,y)+(E?" "+E:"")})}function bo(l,f){l.info(function(){return"TIMEOUT: "+f})}ws.prototype.info=function(){};function ic(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return ko(y)}catch{return f}}var di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ga={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Ts(){}V(Ts,vs),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},kn=new Ts;function An(l,f,y,E){this.j=l,this.i=f,this.l=y,this.R=E||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ka}function Ka(){this.i=null,this.g="",this.h=!1}var Do={},fi={};function pi(l,f,y){l.L=1,l.v=jr(sn(f)),l.m=y,l.P=!0,Vo(l,null)}function Vo(l,f){l.F=Date.now(),Qe(l),l.A=sn(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Fr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Ka,l.g=dl(l.j,y?f:null,!l.m),0<l.O&&(l.M=new gs(j(l.Y,l,l.g),l.O)),f=l.U,y=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Io[0]=L.toString()),L=Io);for(var B=0;B<L.length;B++){var Z=_o(y,L[B],E||f.handleEvent,!1,f.h||f);if(!Z)break;f.g[Z.key]=Z}f=l.H?x(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),lr(),Es(l.i,l.u,l.A,l.l,l.R,l.m)}An.prototype.ca=function(l){l=l.target;const f=this.M;f&&Qt(l)==3?f.j():this.Y(l)},An.prototype.Y=function(l){try{if(l==this.g)e:{const ut=Qt(this.g);var f=this.g.Ba();const gn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Uo(this.g)))){this.J||ut!=4||f==7||(f==8||0>=gn?lr(3):lr(2)),xs(this);var y=this.g.Z();this.X=y;t:if(Qa(this)){var E=Uo(this.g);l="";var L=E.length,B=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Dr(this);var Z="";break t}this.h.i=new m.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(B&&f==L-1)});E.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=y==200,hi(this.i,this.u,this.A,this.l,this.R,ut,y),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,pt=this.g;if((qe=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(qe)){var je=qe;break t}}je=null}if(y=je)Sn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mo(this,y);else{this.o=!1,this.s=3,ot(12),pn(this),Dr(this);break e}}if(this.P){y=!0;let an;for(;!this.J&&this.C<Z.length;)if(an=oc(this,Z),an==fi){ut==4&&(this.s=4,ot(14),y=!1),Sn(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Do){this.s=4,ot(15),Sn(this.i,this.l,Z,"[Invalid Chunk]"),y=!1;break}else Sn(this.i,this.l,an,null),Mo(this,an);if(Qa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||Z.length!=0||this.h.h||(this.s=1,ot(16),y=!1),this.o=this.o&&y,!y)Sn(this.i,this.l,Z,"[Invalid Chunked Response]"),pn(this),Dr(this);else if(0<Z.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Bo(Tt),Tt.M=!0,ot(11))}}else Sn(this.i,this.l,Z,null),Mo(this,Z);ut==4&&pn(this),this.o&&!this.J&&(ut==4?Si(this.j,this):(this.o=!1,Qe(this)))}else wi(this.g),y==400&&0<Z.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),pn(this),Dr(this)}}}catch{}};function Qa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function oc(l,f){var y=l.C,E=f.indexOf(`
`,y);return E==-1?fi:(y=Number(f.substring(y,E)),isNaN(y)?Do:(E+=1,E+y>f.length?fi:(f=f.slice(E,E+y),l.C=E+y,f)))}An.prototype.cancel=function(){this.J=!0,pn(this)};function Qe(l){l.S=Date.now()+l.I,Xa(l,l.I)}function Xa(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=In(j(l.ba,l),f)}function xs(l){l.B&&(m.clearTimeout(l.B),l.B=null)}An.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(bo(this.i,this.A),this.L!=2&&(lr(),ot(17)),pn(this),this.s=2,Dr(this)):Xa(this,this.S-l)};function Dr(l){l.j.G==0||l.J||Si(l.j,l)}function pn(l){xs(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,So(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Mo(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||$t(y.h,l))){if(!l.K&&$t(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Ii(y),bn(y);else break e;xi(y),ot(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=In(j(y.Za,y),6e3));if(1>=Ja(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else fr(y,11)}else if((l.K||y.g==l)&&Ii(y),!ie(f))for(L=y.Da.g.parse(f),f=0;f<L.length;f++){let je=L[f];if(y.T=je[0],je=je[1],y.G==2)if(je[0]=="c"){y.K=je[1],y.ia=je[2];const Tt=je[3];Tt!=null&&(y.la=Tt,y.j.info("VER="+y.la));const ut=je[4];ut!=null&&(y.Aa=ut,y.j.info("SVER="+y.Aa));const gn=je[5];gn!=null&&typeof gn=="number"&&0<gn&&(E=1.5*gn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const an=l.g;if(an){const Ps=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var B=E.h;B.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Oo(B,B.h),B.h=null))}if(E.D){const Ai=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Ai&&(E.ya=Ai,Ke(E.I,E.D,Ai))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var Z=l;if(E.qa=hl(E,E.J?E.ia:null,E.W),Z.K){Za(E.h,Z);var qe=Z,pt=E.L;pt&&(qe.I=pt),qe.B&&(xs(qe),Qe(qe)),E.g=Z}else Rs(E);0<y.i.length&&Wn(y)}else je[0]!="stop"&&je[0]!="close"||fr(y,7);else y.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?fr(y,7):Ct(y):je[0]!="noop"&&y.l&&y.l.ta(je),y.v=0)}}lr(4)}catch{}}var Ya=class{constructor(l,f){this.g=l,this.map=f}};function Is(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ja(l){return l.h?1:l.g?l.g.size:0}function $t(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Oo(l,f){l.g?l.g.add(f):l.h=f}function Za(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Is.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function el(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return $(l.i)}function mi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var f=[],y=l.length,E=0;E<y;E++)f.push(l[E]);return f}f=[],y=0;for(E in l)f[y++]=l[E];return f}function gi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const E in l)f[y++]=E;return f}}}function Vr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=gi(l),E=mi(l),L=E.length,B=0;B<L;B++)f.call(void 0,E[B],y&&y[B],l)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ac(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),L=null;if(0<=E){var B=l[y].substring(0,E);L=l[y].substring(E+1)}else B=l[y];f(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ur(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ur){this.h=l.h,ks(this,l.j),this.o=l.o,this.g=l.g,Mr(this,l.s),this.l=l.l;var f=l.i,y=new $n;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),Or(this,y),this.m=l.m}else l&&(f=String(l).match(Ss))?(this.h=!1,ks(this,f[1]||"",!0),this.o=Me(f[2]||""),this.g=Me(f[3]||"",!0),Mr(this,f[4]),this.l=Me(f[5]||"",!0),Or(this,f[6]||"",!0),this.m=Me(f[7]||"")):(this.h=!1,this.i=new $n(null,this.h))}ur.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Lr(f,yi,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Lr(f,yi,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Lr(y,y.charAt(0)=="/"?rl:nl,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Lr(y,jo)),l.join("")};function sn(l){return new ur(l)}function ks(l,f,y){l.j=y?Me(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Mr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Or(l,f,y){f instanceof $n?(l.i=f,Hn(l.i,l.h)):(y||(f=Lr(f,sl)),l.i=new $n(f,l.h))}function Ke(l,f,y){l.i.set(f,y)}function jr(l){return Ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Me(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Lr(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,tl),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function tl(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var yi=/[#\/\?@]/g,nl=/[#\?:]/g,rl=/[#\?]/g,sl=/[#\?@]/g,jo=/#/g;function $n(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function At(l){l.g||(l.g=new Map,l.h=0,l.i&&ac(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}s=$n.prototype,s.add=function(l,f){At(this),this.i=null,l=mn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function Cn(l,f){At(l),f=mn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Rn(l,f){return At(l),f=mn(l,f),l.g.has(f)}s.forEach=function(l,f){At(this),this.g.forEach(function(y,E){y.forEach(function(L){l.call(f,L,E,this)},this)},this)},s.na=function(){At(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let E=0;E<f.length;E++){const L=l[E];for(let B=0;B<L.length;B++)y.push(f[E])}return y},s.V=function(l){At(this);let f=[];if(typeof l=="string")Rn(this,l)&&(f=f.concat(this.g.get(mn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},s.set=function(l,f){return At(this),this.i=null,l=mn(this,l),Rn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},s.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Fr(l,f,y){Cn(l,f),0<y.length&&(l.i=null,l.g.set(mn(l,f),$(y)),l.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var E=f[y];const B=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var L=B;Z[E]!==""&&(L+="="+encodeURIComponent(String(Z[E]))),l.push(L)}}return this.i=l.join("&")};function mn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Hn(l,f){f&&!l.j&&(At(l),l.i=null,l.g.forEach(function(y,E){var L=E.toLowerCase();E!=L&&(Cn(this,E),Fr(this,L,y))},l)),l.j=f}function lc(l,f){const y=new ws;if(m.Image){const E=new Image;E.onload=H(Kt,y,"TestLoadImage: loaded",!0,f,E),E.onerror=H(Kt,y,"TestLoadImage: error",!1,f,E),E.onabort=H(Kt,y,"TestLoadImage: abort",!1,f,E),E.ontimeout=H(Kt,y,"TestLoadImage: timeout",!1,f,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function il(l,f){const y=new ws,E=new AbortController,L=setTimeout(()=>{E.abort(),Kt(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(B=>{clearTimeout(L),B.ok?Kt(y,"TestPingServer: ok",!0,f):Kt(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Kt(y,"TestPingServer: error",!1,f)})}function Kt(l,f,y,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(y)}catch{}}function uc(){this.g=new Co}function ol(l,f,y){const E=y||"";try{Vr(l,function(L,B){let Z=L;w(L)&&(Z=ko(L)),f.push(E+B+"="+encodeURIComponent(Z))})}catch(L){throw f.push(E+"type="+encodeURIComponent("_badmap")),L}}function cr(l){this.l=l.Ub||null,this.j=l.eb||!1}V(cr,vs),cr.prototype.g=function(){return new As(this.l,this.j)},cr.prototype.i=(function(l){return function(){return l}})({});function As(l,f){dt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(As,dt),s=As.prototype,s.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Nn(this)},s.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},s.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Nn(this)),this.g&&(this.readyState=3,Nn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;al(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function al(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}s.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Pn(this):Nn(this),this.readyState==3&&al(this)}},s.Ra=function(l){this.g&&(this.response=this.responseText=l,Pn(this))},s.Qa=function(l){this.g&&(this.response=l,Pn(this))},s.ga=function(){this.g&&Pn(this)};function Pn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Nn(l)}s.setRequestHeader=function(l,f){this.u.append(l,f)},s.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function Nn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function hr(l){let f="";return ce(l,function(y,E){f+=E,f+=":",f+=y,f+=`\r
`}),f}function Ur(l,f,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=hr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Ke(l,f,y))}function Ze(l){dt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ze,dt);var cc=/^https?$/i,Lo=["POST","PUT"];s=Ze.prototype,s.Ha=function(l){this.J=l},s.ea=function(l,f,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?ai(this.o):ai(kn),this.g.onreadystatechange=j(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(B){Cs(this,B);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)y.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())y.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Lo,f,void 0))||E||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of y)this.g.setRequestHeader(B,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_i(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){Cs(this,B)}};function Cs(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,vi(l),on(l)}function vi(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}s.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),on(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),on(this,!0)),Ze.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Fo(this):this.bb())},s.bb=function(){Fo(this)};function Fo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Qt(l)!=4||l.Z()!=2)){if(l.u&&Qt(l)==4)xo(l.Ea,0,l);else if(ft(l,"readystatechange"),Qt(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var E;if(E=Z===0){var L=String(l.D).match(Ss)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),E=!cc.test(L?L.toLowerCase():"")}y=E}if(y)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var B=2<Qt(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",vi(l)}}finally{on(l)}}}}function on(l,f){if(l.g){_i(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ft(l,"ready");try{y.onreadystatechange=E}catch{}}}function _i(l){l.I&&(m.clearTimeout(l.I),l.I=null)}s.isActive=function(){return!!this.g};function Qt(l){return l.g?l.g.readyState:0}s.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Ao(f)}};function Uo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function wi(l){const f={};l=(l.g&&2<=Qt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(ie(l[E]))continue;var y=D(l[E]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=f[L]||[];f[L]=B,B.push(y)}R(f,function(E){return E.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qn(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function zo(l){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qn("baseRetryDelayMs",5e3,l),this.cb=qn("retryDelaySeedMs",1e4,l),this.Wa=qn("forwardChannelMaxRetries",2,l),this.wa=qn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(l&&l.concurrentRequestLimit),this.Da=new uc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=zo.prototype,s.la=8,s.G=1,s.connect=function(l,f,y,E){ot(0),this.W=l,this.H=f||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=hl(this,null,this.W),Wn(this)};function Ct(l){if(Ei(l),l.G==3){var f=l.U++,y=sn(l.I);if(Ke(y,"SID",l.K),Ke(y,"RID",f),Ke(y,"TYPE","terminate"),dr(l,y),f=new An(l,l.j,f),f.L=2,f.v=jr(sn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=f.v,y=!0),y||(f.g=dl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Qe(f)}cl(l)}function bn(l){l.g&&(Bo(l),l.g.cancel(),l.g=null)}function Ei(l){bn(l),l.u&&(m.clearTimeout(l.u),l.u=null),Ii(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Wn(l){if(!rn(l.h)&&!l.s){l.s=!0;var f=l.Ga;He||re(),ee||(He(),ee=!0),pe.add(f,l),l.B=0}}function hc(l,f){return Ja(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=In(j(l.Ga,l,f),ul(l,l.B)),l.B++,!0)}s.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new An(this,this.j,l);let B=this.o;if(this.S&&(B?(B=x(B),P(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=zr(this,L,f),y=sn(this.I),Ke(y,"RID",l),Ke(y,"CVER",22),this.D&&Ke(y,"X-HTTP-Session-Id",this.D),dr(this,y),B&&(this.O?f="headers="+encodeURIComponent(String(hr(B)))+"&"+f:this.m&&Ur(y,this.m,B)),Oo(this.h,L),this.Ua&&Ke(y,"TYPE","init"),this.P?(Ke(y,"$req",f),Ke(y,"SID","null"),L.T=!0,pi(L,y,null)):pi(L,y,f),this.G=2}}else this.G==3&&(l?Ti(this,l):this.i.length==0||rn(this.h)||Ti(this))};function Ti(l,f){var y;f?y=f.l:y=l.U++;const E=sn(l.I);Ke(E,"SID",l.K),Ke(E,"RID",y),Ke(E,"AID",l.T),dr(l,E),l.m&&l.o&&Ur(E,l.m,l.o),y=new An(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=zr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Oo(l.h,y),pi(y,E,f)}function dr(l,f){l.H&&ce(l.H,function(y,E){Ke(f,E,y)}),l.l&&Vr({},function(y,E){Ke(f,E,y)})}function zr(l,f,y){y=Math.min(l.i.length,y);var E=l.l?j(l.l.Na,l.l,l):null;e:{var L=l.i;let B=-1;for(;;){const Z=["count="+y];B==-1?0<y?(B=L[0].g,Z.push("ofs="+B)):B=0:Z.push("ofs="+B);let qe=!0;for(let pt=0;pt<y;pt++){let je=L[pt].g;const Tt=L[pt].map;if(je-=B,0>je)B=Math.max(0,L[pt].g-100),qe=!1;else try{ol(Tt,Z,"req"+je+"_")}catch{E&&E(Tt)}}if(qe){E=Z.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,E}function Rs(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;He||re(),ee||(He(),ee=!0),pe.add(f,l),l.v=0}}function xi(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=In(j(l.Fa,l),ul(l,l.v)),l.v++,!0)}s.Fa=function(){if(this.u=null,ll(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=In(j(this.ab,this),l)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),bn(this),ll(this))};function Bo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function ll(l){l.g=new An(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=sn(l.qa);Ke(f,"RID","rpc"),Ke(f,"SID",l.K),Ke(f,"AID",l.T),Ke(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ke(f,"TO",l.ja),Ke(f,"TYPE","xmlhttp"),dr(l,f),l.m&&l.o&&Ur(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=jr(sn(f)),y.m=null,y.P=!0,Vo(y,l)}s.Za=function(){this.C!=null&&(this.C=null,bn(this),xi(this),ot(19))};function Ii(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function Si(l,f){var y=null;if(l.g==f){Ii(l),Bo(l),l.g=null;var E=2}else if($t(l.h,f))y=f.D,Za(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;E=_s(),ft(E,new ci(E,y)),Wn(l)}else Rs(l);else if(L=f.s,L==3||L==0&&0<f.X||!(E==1&&hc(l,f)||E==2&&xi(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),L){case 1:fr(l,5);break;case 4:fr(l,10);break;case 3:fr(l,6);break;default:fr(l,2)}}}function ul(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function fr(l,f){if(l.j.info("Error code "+f),f==2){var y=j(l.fb,l),E=l.Xa;const L=!E;E=new ur(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ks(E,"https"),jr(E),L?lc(E.toString(),y):il(E.toString(),y)}else ot(2);l.G=0,l.l&&l.l.sa(f),cl(l),Ei(l)}s.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function cl(l){if(l.G=0,l.ka=[],l.l){const f=el(l.h);(f.length!=0||l.i.length!=0)&&(b(l.ka,f),b(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function hl(l,f,y){var E=y instanceof ur?sn(y):new ur(y);if(E.g!="")f&&(E.g=f+"."+E.g),Mr(E,E.s);else{var L=m.location;E=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var B=new ur(null);E&&ks(B,E),f&&(B.g=f),L&&Mr(B,L),y&&(B.l=y),E=B}return y=l.D,f=l.ya,y&&f&&Ke(E,y,f),Ke(E,"VER",l.la),dr(l,E),E}function dl(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ze(new cr({eb:y})):new Ze(l.pa),f.Ha(l.J),f}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function $o(){}s=$o.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ki(){}ki.prototype.g=function(l,f){return new Ht(l,f)};function Ht(l,f){dt.call(this),this.g=new zo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!ie(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!ie(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Gn(this)}V(Ht,dt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Ct(this.g)},Ht.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=ko(l),l=y);f.i.push(new Ya(f.Ya++,l)),f.G==3&&Wn(f)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Ct(this.g),delete this.g,Ht.aa.N.call(this)};function fl(l){zn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}V(fl,zn);function pl(){ui.call(this),this.status=1}V(pl,ui);function Gn(l){this.g=l}V(Gn,$o),Gn.prototype.ua=function(){ft(this.g,"a")},Gn.prototype.ta=function(l){ft(this.g,new fl(l))},Gn.prototype.sa=function(l){ft(this.g,new pl)},Gn.prototype.ra=function(){ft(this.g,"b")},ki.prototype.createWebChannel=ki.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,ly=function(){return new ki},ay=function(){return _s()},oy=Bn,td={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},di.NO_ERROR=0,di.TIMEOUT=8,di.HTTP_ERROR=6,fu=di,Ga.COMPLETE="complete",iy=Ga,li.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ga=li,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,sy=Ze}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const Fm="@firebase/firestore";let Ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");let po="10.14.0";const Ys=new xd("@firebase/firestore");function pa(){return Ys.logLevel}function ue(s,...e){if(Ys.logLevel<=Oe.DEBUG){const t=e.map(kd);Ys.debug(`Firestore (${po}): ${s}`,...t)}}function Cr(s,...e){if(Ys.logLevel<=Oe.ERROR){const t=e.map(kd);Ys.error(`Firestore (${po}): ${s}`,...t)}}function so(s,...e){if(Ys.logLevel<=Oe.WARN){const t=e.map(kd);Ys.warn(`Firestore (${po}): ${s}`,...t)}}function kd(s){if(typeof s=="string")return s;try{return(function(t){return JSON.stringify(t)})(s)}catch{return s}}function xe(s="Unexpected state"){const e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+s;throw Cr(e),new Error(e)}function We(s,e){s||xe()}function ke(s,e){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class uy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ut.UNAUTHENTICATED)))}shutdown(){}}class nE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class rE{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let u=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gs,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gs)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string"),new uy(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Ut(e)}}class sE{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iE{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new sE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ut.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){We(this.o===void 0);const i=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string"),this.R=t.token,new oE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lE(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<s;i++)t[i]=Math.floor(256*Math.random());return t}class cy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=lE(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<t&&(i+=e.charAt(o[u]%e.length))}return i}}function $e(s,e){return s<e?-1:s>e?1:0}function io(s,e,t){return s.length===e.length&&s.every(((i,o)=>t(i,e[o])))}class vt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new vt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new vt(0,0))}static max(){return new Se(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Aa{constructor(e,t,i){t===void 0?t=0:t>e.length&&xe(),i===void 0?i=e.length-t:i>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Aa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Aa?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tt extends Aa{construct(e,t,i){return new tt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new tt(t)}static emptyPath(){return new tt([])}}const uE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Aa{construct(e,t,i){return new bt(e,t,i)}static isValidIdentifier(e){return uE.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const u=()=>{if(i.length===0)throw new me(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(i+=m,o++):(u(),o++)}if(u(),h)throw new me(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(tt.fromString(e))}static fromName(e){return new we(tt.fromString(e).popFirst(5))}static empty(){return new we(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new tt(e.slice()))}}function cE(s,e){const t=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new vt(t+1,0):new vt(t,i));return new fs(o,we.empty(),e)}function hE(s){return new fs(s.readTime,s.key,-1)}class fs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new fs(Se.min(),we.empty(),-1)}static max(){return new fs(Se.max(),we.empty(),-1)}}function dE(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(s.documentKey,e.documentKey),t!==0?t:$e(s.largestBatchId,e.largestBatchId))}const fE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ja(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==fE)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,i)=>{t(e)}))}static reject(e){return new Q(((t,i)=>{i(e)}))}static waitFor(e){return new Q(((t,i)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&t()}),(g=>i(g)))})),h=!0,u===o&&t()}))}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next((o=>o?Q.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,u)=>{i.push(t.call(this,o,u))})),this.waitFor(i)}static mapArray(e,t){return new Q(((i,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const w=g;t(e[w]).next((T=>{h[w]=T,++m,m===u&&i(h)}),(T=>o(T)))}}))}static doWhile(e,t){return new Q(((i,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):i()};u()}))}}function mE(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function La(s){return s.name==="IndexedDbTransactionError"}class Ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ad.oe=-1;function Bu(s){return s==null}function ku(s){return s===0&&1/s==-1/0}function gE(s){return typeof s=="number"&&Number.isInteger(s)&&!ku(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function Um(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function mo(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function hy(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class st{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uu(this.root,e,this.comparator,!0)}}class uu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,i,o,u){this.key=e,this.value=t,this.color=i??Nt.RED,this.left=o??Nt.EMPTY,this.right=u??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,u){return new Nt(e??this.key,t??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,i),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,i,o,u){return this}insert(e,t,i){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zm(this.data.getIterator())}getIteratorFrom(e){return new zm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class zm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Dt(bt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class dy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new dy("Invalid base64 string: "+u):u}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const yE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(s){if(We(!!s),typeof s=="string"){let e=0;const t=yE.exec(s);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(s.seconds),nanos:lt(s.nanos)}}function lt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Js(s){return typeof s=="string"?Vt.fromBase64String(s):Vt.fromUint8Array(s)}function Cd(s){var e,t;return((t=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Rd(s){const e=s.mapValue.fields.__previous_value__;return Cd(e)?Rd(e):e}function Ca(s){const e=ps(s.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}class vE{constructor(e,t,i,o,u,h,m,g,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=w}}class Ra{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ra("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ra&&e.projectId===this.projectId&&e.database===this.database}}const cu={mapValue:{}};function Zs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Cd(s)?4:wE(s)?9007199254740991:_E(s)?10:11:xe()}function nr(s,e){if(s===e)return!0;const t=Zs(s);if(t!==Zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ca(s).isEqual(Ca(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ps(o.timestampValue),m=ps(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return Js(o.bytesValue).isEqual(Js(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return lt(o.geoPointValue.latitude)===lt(u.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return lt(o.integerValue)===lt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=lt(o.doubleValue),m=lt(u.doubleValue);return h===m?ku(h)===ku(m):isNaN(h)&&isNaN(m)}return!1})(s,e);case 9:return io(s.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Um(h)!==Um(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!nr(h[g],m[g])))return!1;return!0})(s,e);default:return xe()}}function Pa(s,e){return(s.values||[]).find((t=>nr(t,e)))!==void 0}function oo(s,e){if(s===e)return 0;const t=Zs(s),i=Zs(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(s.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=lt(u.integerValue||u.doubleValue),g=lt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return Bm(s.timestampValue,e.timestampValue);case 4:return Bm(Ca(s),Ca(e));case 5:return $e(s.stringValue,e.stringValue);case 6:return(function(u,h){const m=Js(u),g=Js(h);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let w=0;w<m.length&&w<g.length;w++){const T=$e(m[w],g[w]);if(T!==0)return T}return $e(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=$e(lt(u.latitude),lt(h.latitude));return m!==0?m:$e(lt(u.longitude),lt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return $m(s.arrayValue,e.arrayValue);case 10:return(function(u,h){var m,g,w,T;const C=u.fields||{},j=h.fields||{},H=(m=C.value)===null||m===void 0?void 0:m.arrayValue,V=(g=j.value)===null||g===void 0?void 0:g.arrayValue,$=$e(((w=H?.values)===null||w===void 0?void 0:w.length)||0,((T=V?.values)===null||T===void 0?void 0:T.length)||0);return $!==0?$:$m(H,V)})(s.mapValue,e.mapValue);case 11:return(function(u,h){if(u===cu.mapValue&&h===cu.mapValue)return 0;if(u===cu.mapValue)return 1;if(h===cu.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),w=h.fields||{},T=Object.keys(w);g.sort(),T.sort();for(let C=0;C<g.length&&C<T.length;++C){const j=$e(g[C],T[C]);if(j!==0)return j;const H=oo(m[g[C]],w[T[C]]);if(H!==0)return H}return $e(g.length,T.length)})(s.mapValue,e.mapValue);default:throw xe()}}function Bm(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return $e(s,e);const t=ps(s),i=ps(e),o=$e(t.seconds,i.seconds);return o!==0?o:$e(t.nanos,i.nanos)}function $m(s,e){const t=s.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const u=oo(t[o],i[o]);if(u)return u}return $e(t.length,i.length)}function ao(s){return nd(s)}function nd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const i=ps(t);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return Js(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return we.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let i="[",o=!0;for(const u of t.values||[])o?o=!1:i+=",",i+=nd(u);return i+"]"})(s.arrayValue):"mapValue"in s?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of i)u?u=!1:o+=",",o+=`${h}:${nd(t.fields[h])}`;return o+"}"})(s.mapValue):xe()}function rd(s){return!!s&&"integerValue"in s}function Pd(s){return!!s&&"arrayValue"in s}function Hm(s){return!!s&&"nullValue"in s}function qm(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function pu(s){return!!s&&"mapValue"in s}function _E(s){var e,t;return((t=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function wa(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return mo(s.mapValue.fields,((t,i)=>e.mapValue.fields[t]=wa(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wa(s.arrayValue.values[t]);return e}return Object.assign({},s)}function wE(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!pu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wa(t)}setAll(e){let t=bt.emptyPath(),i={},o=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=m.popLast()}h?i[m.lastSegment()]=wa(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,i,o)}delete(e){const t=this.field(e.popLast());pu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];pu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){mo(t,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new xn(wa(this.value))}}function fy(s){const e=[];return mo(s.fields,((t,i)=>{const o=new bt([t]);if(pu(i)){const u=fy(i.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Fn(e)}class zt{constructor(e,t,i,o,u,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new zt(e,0,Se.min(),Se.min(),Se.min(),xn.empty(),0)}static newFoundDocument(e,t,i,o){return new zt(e,1,t,Se.min(),i,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Se.min(),Se.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Se.min(),Se.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Au{constructor(e,t){this.position=e,this.inclusive=t}}function Wm(s,e,t){let i=0;for(let o=0;o<s.position.length;o++){const u=e[o],h=s.position[o];if(u.field.isKeyField()?i=we.comparator(we.fromName(h.referenceValue),t.key):i=oo(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Gm(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!nr(s.position[t],e.position[t]))return!1;return!0}class Cu{constructor(e,t="asc"){this.field=e,this.dir=t}}function EE(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class py{}class yt extends py{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new xE(e,t,i):t==="array-contains"?new kE(e,i):t==="in"?new AE(e,i):t==="not-in"?new CE(e,i):t==="array-contains-any"?new RE(e,i):new yt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new IE(e,i):new SE(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(oo(t,this.value)):t!==null&&Zs(this.value)===Zs(t)&&this.matchesComparison(oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends py{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new rr(e,t)}matches(e){return my(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function my(s){return s.op==="and"}function gy(s){return TE(s)&&my(s)}function TE(s){for(const e of s.filters)if(e instanceof rr)return!1;return!0}function sd(s){if(s instanceof yt)return s.field.canonicalString()+s.op.toString()+ao(s.value);if(gy(s))return s.filters.map((e=>sd(e))).join(",");{const e=s.filters.map((t=>sd(t))).join(",");return`${s.op}(${e})`}}function yy(s,e){return s instanceof yt?(function(i,o){return o instanceof yt&&i.op===o.op&&i.field.isEqual(o.field)&&nr(i.value,o.value)})(s,e):s instanceof rr?(function(i,o){return o instanceof rr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,h,m)=>u&&yy(h,o.filters[m])),!0):!1})(s,e):void xe()}function vy(s){return s instanceof yt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ao(t.value)}`})(s):s instanceof rr?(function(t){return t.op.toString()+" {"+t.getFilters().map(vy).join(" ,")+"}"})(s):"Filter"}class xE extends yt{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class IE extends yt{constructor(e,t){super(e,"in",t),this.keys=_y("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class SE extends yt{constructor(e,t){super(e,"not-in",t),this.keys=_y("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _y(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>we.fromName(i.referenceValue)))}class kE extends yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pd(t)&&Pa(t.arrayValue,this.value)}}class AE extends yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pa(this.value.arrayValue,t)}}class CE extends yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pa(this.value.arrayValue,t)}}class RE extends yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Pa(this.value.arrayValue,i)))}}class PE{constructor(e,t=null,i=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function Km(s,e=null,t=[],i=[],o=null,u=null,h=null){return new PE(s,e,t,i,o,u,h)}function Nd(s){const e=ke(s);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>sd(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Bu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ao(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ao(i))).join(",")),e.ue=t}return e.ue}function bd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!EE(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!yy(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Gm(s.startAt,e.startAt)&&Gm(s.endAt,e.endAt)}function id(s){return we.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class $u{constructor(e,t=null,i=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function NE(s,e,t,i,o,u,h,m){return new $u(s,e,t,i,o,u,h,m)}function Dd(s){return new $u(s)}function Qm(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bE(s){return s.collectionGroup!==null}function Ea(s){const e=ke(s);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt(bt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((w=>{w.isInequality()&&(m=m.add(w.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Cu(u,i))})),t.has(bt.keyField().canonicalString())||e.ce.push(new Cu(bt.keyField(),i))}return e.ce}function Jn(s){const e=ke(s);return e.le||(e.le=DE(e,Ea(s))),e.le}function DE(s,e){if(s.limitType==="F")return Km(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Cu(o.field,u)}));const t=s.endAt?new Au(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Au(s.startAt.position,s.startAt.inclusive):null;return Km(s.path,s.collectionGroup,e,s.filters,s.limit,t,i)}}function od(s,e,t){return new $u(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Hu(s,e){return bd(Jn(s),Jn(e))&&s.limitType===e.limitType}function wy(s){return`${Nd(Jn(s))}|lt:${s.limitType}`}function Ki(s){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>vy(o))).join(", ")}]`),Bu(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>ao(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>ao(o))).join(",")),`Target(${i})`})(Jn(s))}; limitType=${s.limitType})`}function qu(s,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):we.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(s,e)&&(function(i,o){for(const u of Ea(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(i,o){return!(i.startAt&&!(function(h,m,g){const w=Wm(h,m,g);return h.inclusive?w<=0:w<0})(i.startAt,Ea(i),o)||i.endAt&&!(function(h,m,g){const w=Wm(h,m,g);return h.inclusive?w>=0:w>0})(i.endAt,Ea(i),o))})(s,e)}function VE(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Ey(s){return(e,t)=>{let i=!1;for(const o of Ea(s)){const u=ME(o,e,t);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function ME(s,e,t){const i=s.field.isKeyField()?we.comparator(e.key,t.key):(function(u,h,m){const g=h.data.field(u),w=m.data.field(u);return g!==null&&w!==null?oo(g,w):xe()})(s.field,e,t);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return xe()}}class go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,((t,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return hy(this.inner)}size(){return this.innerSize}}const OE=new st(we.comparator);function Rr(){return OE}const Ty=new st(we.comparator);function ya(...s){let e=Ty;for(const t of s)e=e.insert(t.key,t);return e}function xy(s){let e=Ty;return s.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Hs(){return Ta()}function Iy(){return Ta()}function Ta(){return new go((s=>s.toString()),((s,e)=>s.isEqual(e)))}const jE=new st(we.comparator),LE=new Dt(we.comparator);function De(...s){let e=LE;for(const t of s)e=e.add(t);return e}const FE=new Dt($e);function UE(){return FE}function Vd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function Sy(s){return{integerValue:""+s}}function zE(s,e){return gE(e)?Sy(e):Vd(s,e)}class Wu{constructor(){this._=void 0}}function BE(s,e,t){return s instanceof Ru?(function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cd(u)&&(u=Rd(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}})(t,e):s instanceof Na?Ay(s,e):s instanceof ba?Cy(s,e):(function(o,u){const h=ky(o,u),m=Xm(h)+Xm(o.Pe);return rd(h)&&rd(o.Pe)?Sy(m):Vd(o.serializer,m)})(s,e)}function $E(s,e,t){return s instanceof Na?Ay(s,e):s instanceof ba?Cy(s,e):t}function ky(s,e){return s instanceof Pu?(function(i){return rd(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class Ru extends Wu{}class Na extends Wu{constructor(e){super(),this.elements=e}}function Ay(s,e){const t=Ry(e);for(const i of s.elements)t.some((o=>nr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class ba extends Wu{constructor(e){super(),this.elements=e}}function Cy(s,e){let t=Ry(e);for(const i of s.elements)t=t.filter((o=>!nr(o,i)));return{arrayValue:{values:t}}}class Pu extends Wu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Xm(s){return lt(s.integerValue||s.doubleValue)}function Ry(s){return Pd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function HE(s,e){return s.field.isEqual(e.field)&&(function(i,o){return i instanceof Na&&o instanceof Na||i instanceof ba&&o instanceof ba?io(i.elements,o.elements,nr):i instanceof Pu&&o instanceof Pu?nr(i.Pe,o.Pe):i instanceof Ru&&o instanceof Ru})(s.transform,e.transform)}class qE{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Gu{}function Py(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Md(s.key,Zn.none()):new Fa(s.key,s.data,Zn.none());{const t=s.data,i=xn.empty();let o=new Dt(bt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),o=o.add(u)}return new ti(s.key,i,new Fn(o.toArray()),Zn.none())}}function WE(s,e,t){s instanceof Fa?(function(o,u,h){const m=o.value.clone(),g=Jm(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(s,e,t):s instanceof ti?(function(o,u,h){if(!mu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Jm(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Ny(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function xa(s,e,t,i){return s instanceof Fa?(function(u,h,m,g){if(!mu(u.precondition,h))return m;const w=u.value.clone(),T=Zm(u.fieldTransforms,g,h);return w.setAll(T),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),null})(s,e,t,i):s instanceof ti?(function(u,h,m,g){if(!mu(u.precondition,h))return m;const w=Zm(u.fieldTransforms,g,h),T=h.data;return T.setAll(Ny(u)),T.setAll(w),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((C=>C.field)))})(s,e,t,i):(function(u,h,m){return mu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(s,e,t)}function GE(s,e){let t=null;for(const i of s.fieldTransforms){const o=e.data.field(i.field),u=ky(i.transform,o||null);u!=null&&(t===null&&(t=xn.empty()),t.set(i.field,u))}return t||null}function Ym(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&io(i,o,((u,h)=>HE(u,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Fa extends Gu{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ti extends Gu{constructor(e,t,i,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ny(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=s.data.field(t);e.set(t,i)}})),e}function Jm(s,e,t){const i=new Map;We(s.length===t.length);for(let o=0;o<t.length;o++){const u=s[o],h=u.transform,m=e.data.field(u.field);i.set(u.field,$E(h,m,t[o]))}return i}function Zm(s,e,t){const i=new Map;for(const o of s){const u=o.transform,h=t.data.field(o.field);i.set(o.field,BE(u,h,e))}return i}class Md extends Gu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KE extends Gu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QE{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&WE(u,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Iy();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const g=Py(h,m);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Se.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,((t,i)=>Ym(t,i)))&&io(this.baseMutations,e.baseMutations,((t,i)=>Ym(t,i)))}}class Od{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){We(e.mutations.length===i.length);let o=(function(){return jE})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,i[h].version);return new Od(e,t,i,o)}}class XE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YE{constructor(e,t){this.count=e,this.unchangedNames=t}}var ht,Le;function JE(s){switch(s){default:return xe();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function by(s){if(s===void 0)return Cr("GRPC error has no .code"),Y.UNKNOWN;switch(s){case ht.OK:return Y.OK;case ht.CANCELLED:return Y.CANCELLED;case ht.UNKNOWN:return Y.UNKNOWN;case ht.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ht.INTERNAL:return Y.INTERNAL;case ht.UNAVAILABLE:return Y.UNAVAILABLE;case ht.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ht.NOT_FOUND:return Y.NOT_FOUND;case ht.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ht.ABORTED:return Y.ABORTED;case ht.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ht.DATA_LOSS:return Y.DATA_LOSS;default:return xe()}}(Le=ht||(ht={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function ZE(){return new TextEncoder}const e1=new Ws([4294967295,4294967295],0);function eg(s){const e=ZE().encode(s),t=new ry;return t.update(e),new Uint8Array(t.digest())}function tg(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ws([t,i],0),new Ws([o,u],0)]}class jd{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new va(`Invalid padding: ${t}`);if(i<0)throw new va(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new va(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new va(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ws.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(Ws.fromNumber(i)));return o.compare(e1)===1&&(o=new Ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=eg(e),[i,o]=tg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(i,o,u);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new jd(u,o,t);return i.forEach((m=>h.insert(m))),h}insert(e){if(this.Ie===0)return;const t=eg(e),[i,o]=tg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(i,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ku{constructor(e,t,i,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Ua.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ku(Se.min(),o,new st($e),Rr(),De())}}class Ua{constructor(e,t,i,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ua(i,t,De(),De(),De())}}class gu{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Dy{constructor(e,t){this.targetId=e,this.me=t}}class Vy{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class ng{constructor(){this.fe=0,this.ge=sg(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),i=De();return this.ge.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:xe()}})),new Ua(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=sg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class t1{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rr(),this.qe=rg(),this.Qe=new st($e)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:xe()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const u=o.target;if(id(u))if(i===0){const h=new we(u.path);this.Ue(t,h,zt.newNoDocument(h,Se.min()))}else We(i===1);else{const h=this.Ye(t);if(h!==i){const m=this.Ze(e),g=m?this.Xe(m,e,h):1;if(g!==0){this.je(t);const w=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,w)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=Js(i).toUint8Array()}catch(g){if(g instanceof dy)return so("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new jd(h,o,u)}catch(g){return so(g instanceof va?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ie===0?null:m}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((u=>{const h=this.Le.tt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,u,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((u,h)=>{const m=this.Je(h);if(m){if(u.current&&id(m.target)){const g=new we(m.target.path);this.ke.get(g)!==null||this.it(h,g)||this.Ue(h,g,zt.newNoDocument(g,e))}u.be&&(t.set(h,u.ve()),u.Ce())}}));let i=De();this.qe.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const w=this.Je(g);return!w||w.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(u))})),this.ke.forEach(((u,h)=>h.setReadTime(e)));const o=new Ku(e,t,this.Qe,this.ke,i);return this.ke=Rr(),this.qe=rg(),this.Qe=new st($e),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ng,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dt($e),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ng),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function rg(){return new st(we.comparator)}function sg(){return new st(we.comparator)}const n1={asc:"ASCENDING",desc:"DESCENDING"},r1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s1={and:"AND",or:"OR"};class i1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ad(s,e){return s.useProto3Json||Bu(e)?e:{value:e}}function Nu(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function My(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function o1(s,e){return Nu(s,e.toTimestamp())}function er(s){return We(!!s),Se.fromTimestamp((function(t){const i=ps(t);return new vt(i.seconds,i.nanos)})(s))}function Ld(s,e){return ld(s,e).canonicalString()}function ld(s,e){const t=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?t:t.child(e)}function Oy(s){const e=tt.fromString(s);return We(zy(e)),e}function ud(s,e){return Ld(s.databaseId,e.path)}function zh(s,e){const t=Oy(e);if(t.get(1)!==s.databaseId.projectId)throw new me(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new me(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new we(Ly(t))}function jy(s,e){return Ld(s.databaseId,e)}function a1(s){const e=Oy(s);return e.length===4?tt.emptyPath():Ly(e)}function cd(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ly(s){return We(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function ig(s,e,t){return{name:ud(s,e),fields:t.value.mapValue.fields}}function l1(s,e){let t;if("targetChange"in e){e.targetChange;const i=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:xe()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(w,T){return w.useProto3Json?(We(T===void 0||typeof T=="string"),Vt.fromBase64String(T||"")):(We(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Vt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(w){const T=w.code===void 0?Y.UNKNOWN:by(w.code);return new me(T,w.message||"")})(h);t=new Vy(i,o,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=zh(s,i.document.name),u=er(i.document.updateTime),h=i.document.createTime?er(i.document.createTime):Se.min(),m=new xn({mapValue:{fields:i.document.fields}}),g=zt.newFoundDocument(o,u,h,m),w=i.targetIds||[],T=i.removedTargetIds||[];t=new gu(w,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=zh(s,i.document),u=i.readTime?er(i.readTime):Se.min(),h=zt.newNoDocument(o,u),m=i.removedTargetIds||[];t=new gu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=zh(s,i.document),u=i.removedTargetIds||[];t=new gu([],u,o,null)}else{if(!("filter"in e))return xe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,h=new YE(o,u),m=i.targetId;t=new Dy(m,h)}}return t}function u1(s,e){let t;if(e instanceof Fa)t={update:ig(s,e.key,e.value)};else if(e instanceof Md)t={delete:ud(s,e.key)};else if(e instanceof ti)t={update:ig(s,e.key,e.data),updateMask:v1(e.fieldMask)};else{if(!(e instanceof KE))return xe();t={verify:ud(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(u,h){const m=h.transform;if(m instanceof Ru)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Na)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ba)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Pu)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw xe()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:o1(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe()})(s,e.precondition)),t}function c1(s,e){return s&&s.length>0?(We(e!==void 0),s.map((t=>(function(o,u){let h=o.updateTime?er(o.updateTime):er(u);return h.isEqual(Se.min())&&(h=er(u)),new qE(h,o.transformResults||[])})(t,e)))):[]}function h1(s,e){return{documents:[jy(s,e.path)]}}function d1(s,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=jy(s,o);const u=(function(w){if(w.length!==0)return Uy(rr.create(w,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(w){if(w.length!==0)return w.map((T=>(function(j){return{field:Qi(j.field),direction:m1(j.dir)}})(T)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=ad(s,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{_t:t,parent:o}}function f1(s){let e=a1(s.parent);const t=s.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){We(i===1);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=(function(C){const j=Fy(C);return j instanceof rr&&gy(j)?j.getFilters():[j]})(t.where));let h=[];t.orderBy&&(h=(function(C){return C.map((j=>(function(V){return new Cu(Xi(V.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(j)))})(t.orderBy));let m=null;t.limit&&(m=(function(C){let j;return j=typeof C=="object"?C.value:C,Bu(j)?null:j})(t.limit));let g=null;t.startAt&&(g=(function(C){const j=!!C.before,H=C.values||[];return new Au(H,j)})(t.startAt));let w=null;return t.endAt&&(w=(function(C){const j=!C.before,H=C.values||[];return new Au(H,j)})(t.endAt)),NE(e,o,h,u,m,"F",g,w)}function p1(s,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Fy(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Xi(t.unaryFilter.field);return yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Xi(t.unaryFilter.field);return yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xi(t.unaryFilter.field);return yt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Xi(t.unaryFilter.field);return yt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return xe()}})(s):s.fieldFilter!==void 0?(function(t){return yt.create(Xi(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return rr.create(t.compositeFilter.filters.map((i=>Fy(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe()}})(t.compositeFilter.op))})(s):xe()}function m1(s){return n1[s]}function g1(s){return r1[s]}function y1(s){return s1[s]}function Qi(s){return{fieldPath:s.canonicalString()}}function Xi(s){return bt.fromServerFormat(s.fieldPath)}function Uy(s){return s instanceof yt?(function(t){if(t.op==="=="){if(qm(t.value))return{unaryFilter:{field:Qi(t.field),op:"IS_NAN"}};if(Hm(t.value))return{unaryFilter:{field:Qi(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qm(t.value))return{unaryFilter:{field:Qi(t.field),op:"IS_NOT_NAN"}};if(Hm(t.value))return{unaryFilter:{field:Qi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qi(t.field),op:g1(t.op),value:t.value}}})(s):s instanceof rr?(function(t){const i=t.getFilters().map((o=>Uy(o)));return i.length===1?i[0]:{compositeFilter:{op:y1(t.op),filters:i}}})(s):xe()}function v1(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function zy(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ls{constructor(e,t,i,o,u=Se.min(),h=Se.min(),m=Vt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _1{constructor(e){this.ct=e}}function w1(s){const e=f1({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?od(e,e.limit,"L"):e}class E1{constructor(){this.un=new T1}addToCollectionParentIndex(e,t){return this.un.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(fs.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class T1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Dt(tt.comparator),u=!o.has(i);return this.index[t]=o.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Dt(tt.comparator)).toArray()}}class lo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new lo(0)}static kn(){return new lo(-1)}}class x1{constructor(){this.changes=new go((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class I1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class S1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&xa(i.mutation,o,Fn.empty(),vt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,De()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=De()){const o=Hs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((u=>{let h=ya();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=Hs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,De())))}populateOverlays(e,t,i){const o=[];return i.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,i,o){let u=Rr();const h=Ta(),m=(function(){return Ta()})();return t.forEach(((g,w)=>{const T=i.get(w.key);o.has(w.key)&&(T===void 0||T.mutation instanceof ti)?u=u.insert(w.key,w):T!==void 0?(h.set(w.key,T.mutation.getFieldMask()),xa(T.mutation,w,T.mutation.getFieldMask(),vt.now())):h.set(w.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((w,T)=>h.set(w,T))),t.forEach(((w,T)=>{var C;return m.set(w,new I1(T,(C=h.get(w))!==null&&C!==void 0?C:null))})),m)))}recalculateAndSaveOverlays(e,t){const i=Ta();let o=new st(((h,m)=>h-m)),u=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((g=>{const w=t.get(g);if(w===null)return;let T=i.get(g)||Fn.empty();T=m.applyToLocalView(w,T),i.set(g,T);const C=(o.get(m.batchId)||De()).add(g);o=o.insert(m.batchId,C)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),w=g.key,T=g.value,C=Iy();T.forEach((j=>{if(!u.has(j)){const H=Py(t.get(j),i.get(j));H!==null&&C.set(j,H),u=u.add(j)}})),h.push(this.documentOverlayCache.saveOverlays(e,w,C))}return Q.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return we.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-u.size):Q.resolve(Hs());let m=-1,g=u;return h.next((w=>Q.forEach(w,((T,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),u.get(T)?Q.resolve():this.remoteDocumentCache.getEntry(e,T).next((j=>{g=g.insert(T,j)}))))).next((()=>this.populateOverlays(e,w,u))).next((()=>this.computeViews(e,g,w,De()))).next((T=>({batchId:m,changes:xy(T)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((i=>{let o=ya();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const u=t.collectionGroup;let h=ya();return this.indexManager.getCollectionParents(e,u).next((m=>Q.forEach(m,(g=>{const w=(function(C,j){return new $u(j,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,w,i,o).next((T=>{T.forEach(((C,j)=>{h=h.insert(C,j)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,o)))).next((h=>{u.forEach(((g,w)=>{const T=w.getKey();h.get(T)===null&&(h=h.insert(T,zt.newInvalidDocument(T)))}));let m=ya();return h.forEach(((g,w)=>{const T=u.get(g);T!==void 0&&xa(T.mutation,w,Fn.empty(),vt.now()),qu(t,w)&&(m=m.insert(g,w))})),m}))}}class k1{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:er(o.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:w1(o.bundledQuery),readTime:er(o.readTime)}})(t)),Q.resolve()}}class A1{constructor(){this.overlays=new st(we.comparator),this.Ir=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Hs();return Q.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,u)=>{this.ht(e,t,u)})),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=Hs(),u=t.length+1,h=new we(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,w=g.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let u=new st(((w,T)=>w-T));const h=this.overlays.getIterator();for(;h.hasNext();){const w=h.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let T=u.get(w.largestBatchId);T===null&&(T=Hs(),u=u.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const m=Hs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((w,T)=>m.set(w,T))),!(m.size()>=o)););return Q.resolve(m)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new XE(t,i));let u=this.Ir.get(t);u===void 0&&(u=De(),this.Ir.set(t,u)),this.Ir.set(t,u.add(i.key))}}class C1{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}class Fd{constructor(){this.Tr=new Dt(kt.Er),this.dr=new Dt(kt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new kt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new kt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new we(new tt([])),i=new kt(t,e),o=new kt(t,e+1),u=[];return this.dr.forEachInRange([i,o],(h=>{this.Vr(h),u.push(h.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new we(new tt([])),i=new kt(t,e),o=new kt(t,e+1);let u=De();return this.dr.forEachInRange([i,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new kt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class kt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return we.comparator(e.key,t.key)||$e(e.wr,t.wr)}static Ar(e,t){return $e(e.wr,t.wr)||we.comparator(e.key,t.key)}}class R1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Dt(kt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new QE(u,t,i,o);this.mutationQueue.push(h);for(const m of o)this.br=this.br.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),u=o<0?0:o;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([i,o],(h=>{const m=this.Dr(h.wr);u.push(m)})),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dt($e);return t.forEach((o=>{const u=new kt(o,0),h=new kt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],(m=>{i=i.add(m.wr)}))})),Q.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let u=i;we.isDocumentKey(u)||(u=u.child(""));const h=new kt(new we(u),0);let m=new Dt($e);return this.br.forEachWhile((g=>{const w=g.key.path;return!!i.isPrefixOf(w)&&(w.length===o&&(m=m.add(g.wr)),!0)}),h),Q.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return Q.forEach(t.mutations,(o=>{const u=new kt(o.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new kt(t,0),o=this.br.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class P1{constructor(e){this.Mr=e,this.docs=(function(){return new st(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),u=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let i=Rr();return t.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():zt.newInvalidDocument(o))})),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let u=Rr();const h=t.path,m=new we(h.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:w,value:{document:T}}=g.getNext();if(!h.isPrefixOf(w.path))break;w.path.length>h.length+1||dE(hE(T),i)<=0||(o.has(T.key)||qu(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(e,t,i,o){xe()}Or(e,t){return Q.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new N1(this)}getSize(e){return Q.resolve(this.size)}}class N1 extends x1{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),Q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class b1{constructor(e){this.persistence=e,this.Nr=new go((t=>Nd(t)),bd),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fd,this.targetCount=0,this.kr=lo.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new lo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Kn(t),Q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const u=[];return this.Nr.forEach(((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Q.waitFor(u).next((()=>o))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),Q.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.Br.containsKey(t))}}class D1{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ad(0),this.Kr=!1,this.Kr=!0,this.$r=new C1,this.referenceDelegate=e(this),this.Ur=new b1(this),this.indexManager=new E1,this.remoteDocumentCache=(function(o){return new P1(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new _1(t),this.Gr=new k1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new A1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new R1(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ue("MemoryPersistence","Starting transaction:",e);const o=new V1(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((u=>this.referenceDelegate.jr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Hr(e,t){return Q.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class V1 extends pE{constructor(e){super(),this.currentSequenceNumber=e}}class Ud{constructor(e){this.persistence=e,this.Jr=new Fd,this.Yr=null}static Zr(e){return new Ud(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.Xr.add(u.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,(i=>{const o=we.fromPath(i);return this.ei(e,o).next((u=>{u||t.removeEntry(o,Se.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Q.or([()=>Q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class zd{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=De(),o=De();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zd(e,t.fromCache,i,o)}}class M1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class O1{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return L0()?8:mE(Bt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const u={result:null};return this.Yi(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.Zi(e,t,o,i).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new M1;return this.Xi(e,t,h).next((m=>{if(u.result=m,this.zi)return this.es(e,t,h,m.size)}))})).next((()=>u.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(pa()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ki(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(pa()<=Oe.DEBUG&&ue("QueryEngine","Query:",Ki(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(pa()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ki(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(t))):Q.resolve())}Yi(e,t){if(Qm(t))return Q.resolve(null);let i=Jn(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=od(t,null,"F"),i=Jn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const h=De(...u);return this.Ji.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,i).next((g=>{const w=this.ts(t,m);return this.ns(t,w,h,g.readTime)?this.Yi(e,od(t,null,"F")):this.rs(e,w,t,g)}))))})))))}Zi(e,t,i,o){return Qm(t)||o.isEqual(Se.min())?Q.resolve(null):this.Ji.getDocuments(e,i).next((u=>{const h=this.ts(t,u);return this.ns(t,h,i,o)?Q.resolve(null):(pa()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ki(t)),this.rs(e,h,t,cE(o,-1)).next((m=>m)))}))}ts(e,t){let i=new Dt(Ey(e));return t.forEach(((o,u)=>{qu(e,u)&&(i=i.add(u))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,t,i){return pa()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ki(t)),this.Ji.getDocumentsMatchingQuery(e,t,fs.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}class j1{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new st($e),this._s=new go((u=>Nd(u)),bd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S1(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function L1(s,e,t,i){return new j1(s,e,t,i)}async function By(s,e){const t=ke(s);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((u=>{const h=[],m=[];let g=De();for(const w of o){h.push(w.batchId);for(const T of w.mutations)g=g.add(T.key)}for(const w of u){m.push(w.batchId);for(const T of w.mutations)g=g.add(T.key)}return t.localDocuments.getDocuments(i,g).next((w=>({hs:w,removedBatchIds:h,addedBatchIds:m})))}))}))}function F1(s,e){const t=ke(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return(function(m,g,w,T){const C=w.batch,j=C.keys();let H=Q.resolve();return j.forEach((V=>{H=H.next((()=>T.getEntry(g,V))).next(($=>{const b=w.docVersions.get(V);We(b!==null),$.version.compareTo(b)<0&&(C.applyToRemoteDocument($,w),$.isValidDocument()&&($.setReadTime(w.commitVersion),T.addEntry($)))}))})),H.next((()=>m.mutationQueue.removeMutationBatch(g,C)))})(t,i,e,u).next((()=>u.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let g=De();for(let w=0;w<m.mutationResults.length;++w)m.mutationResults[w].transformResults.length>0&&(g=g.add(m.batch.mutations[w].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function $y(s){const e=ke(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function U1(s,e){const t=ke(s),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const m=[];e.targetChanges.forEach(((T,C)=>{const j=o.get(C);if(!j)return;m.push(t.Ur.removeMatchingKeys(u,T.removedDocuments,C).next((()=>t.Ur.addMatchingKeys(u,T.addedDocuments,C))));let H=j.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?H=H.withResumeToken(Vt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,i)),o=o.insert(C,H),(function($,b,W){return $.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(j,H,T)&&m.push(t.Ur.updateTargetData(u,H))}));let g=Rr(),w=De();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(z1(u,h,e.documentUpdates).next((T=>{g=T.Ps,w=T.Is}))),!i.isEqual(Se.min())){const T=t.Ur.getLastRemoteSnapshotVersion(u).next((C=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,i)));m.push(T)}return Q.waitFor(m).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,w))).next((()=>g))})).then((u=>(t.os=o,u)))}function z1(s,e,t){let i=De(),o=De();return t.forEach((u=>i=i.add(u))),e.getEntries(s,i).next((u=>{let h=Rr();return t.forEach(((m,g)=>{const w=u.get(m);g.isFoundDocument()!==w.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!w.isValidDocument()||g.version.compareTo(w.version)>0||g.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ue("LocalStore","Ignoring outdated watch update for ",m,". Current version:",w.version," Watch version:",g.version)})),{Ps:h,Is:o}}))}function B1(s,e){const t=ke(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function $1(s,e){const t=ke(s);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((u=>u?(o=u,Q.resolve(o)):t.Ur.allocateTargetId(i).next((h=>(o=new ls(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function hd(s,e,t){const i=ke(s),o=i.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!La(h))throw h;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function og(s,e,t){const i=ke(s);let o=Se.min(),u=De();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,w,T){const C=ke(g),j=C._s.get(T);return j!==void 0?Q.resolve(C.os.get(j)):C.Ur.getTargetData(w,T)})(i,h,Jn(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>i.ss.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?u:De()))).next((m=>(H1(i,VE(e),m),{documents:m,Ts:u})))))}function H1(s,e,t){let i=s.us.get(e)||Se.min();t.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),s.us.set(e,i)}class ag{constructor(){this.activeTargetIds=UE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q1{constructor(){this.so=new ag,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ag,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class W1{_o(e){}shutdown(){}}class lg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hu=null;function Bh(){return hu===null?hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():hu++,"0x"+hu.toString(16)}const G1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K1{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ft="WebChannelConnection";class Q1 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(t,i,o,u,h){const m=Bh(),g=this.xo(t,i.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${m}:`,g,o);const w={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(w,u,h),this.No(t,g,w,o).then((T=>(ue("RestConnection",`Received RPC '${t}' ${m}: `,T),T)),(T=>{throw so("RestConnection",`RPC '${t}' ${m} failed with error: `,T,"url: ",g,"request:",o),T}))}Lo(t,i,o,u,h,m){return this.Mo(t,i,o,u,h)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>t[h]=u)),o&&o.headers.forEach(((u,h)=>t[h]=u))}xo(t,i){const o=G1[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const u=Bh();return new Promise(((h,m)=>{const g=new sy;g.setWithCredentials(!0),g.listenOnce(iy.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case fu.NO_ERROR:const T=g.getResponseJson();ue(Ft,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),h(T);break;case fu.TIMEOUT:ue(Ft,`RPC '${e}' ${u} timed out`),m(new me(Y.DEADLINE_EXCEEDED,"Request time out"));break;case fu.HTTP_ERROR:const C=g.getStatus();if(ue(Ft,`RPC '${e}' ${u} failed with status:`,C,"response text:",g.getResponseText()),C>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const H=j?.error;if(H&&H.status&&H.message){const V=(function(b){const W=b.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(W)>=0?W:Y.UNKNOWN})(H.status);m(new me(V,H.message))}else m(new me(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new me(Y.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{ue(Ft,`RPC '${e}' ${u} completed.`)}}));const w=JSON.stringify(o);ue(Ft,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",w,i,15)}))}Bo(e,t,i){const o=Bh(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ly(),m=ay(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(g.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const T=u.join("");ue(Ft,`Creating RPC '${e}' stream ${o}: ${T}`,g);const C=h.createWebChannel(T,g);let j=!1,H=!1;const V=new K1({Io:b=>{H?ue(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(j||(ue(Ft,`Opening RPC '${e}' stream ${o} transport.`),C.open(),j=!0),ue(Ft,`RPC '${e}' stream ${o} sending:`,b),C.send(b))},To:()=>C.close()}),$=(b,W,ie)=>{b.listen(W,(de=>{try{ie(de)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return $(C,ga.EventType.OPEN,(()=>{H||(ue(Ft,`RPC '${e}' stream ${o} transport opened.`),V.yo())})),$(C,ga.EventType.CLOSE,(()=>{H||(H=!0,ue(Ft,`RPC '${e}' stream ${o} transport closed`),V.So())})),$(C,ga.EventType.ERROR,(b=>{H||(H=!0,so(Ft,`RPC '${e}' stream ${o} transport errored:`,b),V.So(new me(Y.UNAVAILABLE,"The operation could not be completed")))})),$(C,ga.EventType.MESSAGE,(b=>{var W;if(!H){const ie=b.data[0];We(!!ie);const de=ie,ge=de.error||((W=de[0])===null||W===void 0?void 0:W.error);if(ge){ue(Ft,`RPC '${e}' stream ${o} received error:`,ge);const ye=ge.status;let ce=(function(k){const P=ht[k];if(P!==void 0)return by(P)})(ye),R=ge.message;ce===void 0&&(ce=Y.INTERNAL,R="Unknown error status: "+ye+" with message "+ge.message),H=!0,V.So(new me(ce,R)),C.close()}else ue(Ft,`RPC '${e}' stream ${o} received:`,ie),V.bo(ie)}})),$(m,oy.STAT_EVENT,(b=>{b.stat===td.PROXY?ue(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===td.NOPROXY&&ue(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.wo()}),0),V}}function $h(){return typeof document<"u"?document:null}function Qu(s){return new i1(s,!0)}class Hy{constructor(e,t,i=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class qy{constructor(e,t,i,o,u,h,m,g){this.ui=e,this.Ho=i,this.Jo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Hy(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new me(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class X1 extends qy{constructor(e,t,i,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=l1(this.serializer,e),i=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?er(h.readTime):Se.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=cd(this.serializer),t.addTarget=(function(u,h){let m;const g=h.target;if(m=id(g)?{documents:h1(u,g)}:{query:d1(u,g)._t},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=My(u,h.resumeToken);const w=ad(u,h.expectedCount);w!==null&&(m.expectedCount=w)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Nu(u,h.snapshotVersion.toTimestamp());const w=ad(u,h.expectedCount);w!==null&&(m.expectedCount=w)}return m})(this.serializer,e);const i=p1(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=cd(this.serializer),t.removeTarget=e,this.a_(t)}}class Y1 extends qy{constructor(e,t,i,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=c1(e.writeResults,e.commitTime),i=er(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=cd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>u1(this.serializer,i)))};this.a_(t)}}class J1 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new me(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Mo(e,ld(t,i),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(Y.UNKNOWN,u.toString())}))}Lo(e,t,i,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Lo(e,ld(t,i),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(Y.UNKNOWN,h.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Z1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cr(t),this.D_=!1):ue("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class eT{constructor(e,t,i,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((h=>{i.enqueueAndForget((async()=>{ni(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const w=ke(g);w.L_.add(4),await za(w),w.q_.set("Unknown"),w.L_.delete(4),await Xu(w)})(this))}))})),this.q_=new Z1(i,o)}}async function Xu(s){if(ni(s))for(const e of s.B_)await e(!0)}async function za(s){for(const e of s.B_)await e(!1)}function Wy(s,e){const t=ke(s);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),qd(t)?Hd(t):yo(t).r_()&&$d(t,e))}function Bd(s,e){const t=ke(s),i=yo(t);t.N_.delete(e),i.r_()&&Gy(t,e),t.N_.size===0&&(i.r_()?i.o_():ni(t)&&t.q_.set("Unknown"))}function $d(s,e){if(s.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yo(s).A_(e)}function Gy(s,e){s.Q_.xe(e),yo(s).R_(e)}function Hd(s){s.Q_=new t1({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.N_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),yo(s).start(),s.q_.v_()}function qd(s){return ni(s)&&!yo(s).n_()&&s.N_.size>0}function ni(s){return ke(s).L_.size===0}function Ky(s){s.Q_=void 0}async function tT(s){s.q_.set("Online")}async function nT(s){s.N_.forEach(((e,t)=>{$d(s,e)}))}async function rT(s,e){Ky(s),qd(s)?(s.q_.M_(e),Hd(s)):s.q_.set("Unknown")}async function sT(s,e,t){if(s.q_.set("Online"),e instanceof Vy&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.N_.delete(m),o.Q_.removeTarget(m))})(s,e)}catch(i){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await bu(s,i)}else if(e instanceof gu?s.Q_.Ke(e):e instanceof Dy?s.Q_.He(e):s.Q_.We(e),!t.isEqual(Se.min()))try{const i=await $y(s.localStore);t.compareTo(i)>=0&&await(function(u,h){const m=u.Q_.rt(h);return m.targetChanges.forEach(((g,w)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.N_.get(w);T&&u.N_.set(w,T.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,w)=>{const T=u.N_.get(g);if(!T)return;u.N_.set(g,T.withResumeToken(Vt.EMPTY_BYTE_STRING,T.snapshotVersion)),Gy(u,g);const C=new ls(T.target,g,w,T.sequenceNumber);$d(u,C)})),u.remoteSyncer.applyRemoteEvent(m)})(s,t)}catch(i){ue("RemoteStore","Failed to raise snapshot:",i),await bu(s,i)}}async function bu(s,e,t){if(!La(e))throw e;s.L_.add(1),await za(s),s.q_.set("Offline"),t||(t=()=>$y(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),s.L_.delete(1),await Xu(s)}))}function Qy(s,e){return e().catch((t=>bu(s,t,e)))}async function Yu(s){const e=ke(s),t=ms(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;iT(e);)try{const o=await B1(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,oT(e,o)}catch(o){await bu(e,o)}Xy(e)&&Yy(e)}function iT(s){return ni(s)&&s.O_.length<10}function oT(s,e){s.O_.push(e);const t=ms(s);t.r_()&&t.V_&&t.m_(e.mutations)}function Xy(s){return ni(s)&&!ms(s).n_()&&s.O_.length>0}function Yy(s){ms(s).start()}async function aT(s){ms(s).p_()}async function lT(s){const e=ms(s);for(const t of s.O_)e.m_(t.mutations)}async function uT(s,e,t){const i=s.O_.shift(),o=Od.from(i,e,t);await Qy(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Yu(s)}async function cT(s,e){e&&ms(s).V_&&await(async function(i,o){if((function(h){return JE(h)&&h!==Y.ABORTED})(o.code)){const u=i.O_.shift();ms(i).s_(),await Qy(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yu(i)}})(s,e),Xy(s)&&Yy(s)}async function ug(s,e){const t=ke(s);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const i=ni(t);t.L_.add(3),await za(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Xu(t)}async function hT(s,e){const t=ke(s);e?(t.L_.delete(2),await Xu(t)):e||(t.L_.add(2),await za(t),t.q_.set("Unknown"))}function yo(s){return s.K_||(s.K_=(function(t,i,o){const u=ke(t);return u.w_(),new X1(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Eo:tT.bind(null,s),Ro:nT.bind(null,s),mo:rT.bind(null,s),d_:sT.bind(null,s)}),s.B_.push((async e=>{e?(s.K_.s_(),qd(s)?Hd(s):s.q_.set("Unknown")):(await s.K_.stop(),Ky(s))}))),s.K_}function ms(s){return s.U_||(s.U_=(function(t,i,o){const u=ke(t);return u.w_(),new Y1(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aT.bind(null,s),mo:cT.bind(null,s),f_:lT.bind(null,s),g_:uT.bind(null,s)}),s.B_.push((async e=>{e?(s.U_.s_(),await Yu(s)):(await s.U_.stop(),s.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}class Wd{constructor(e,t,i,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,u){const h=Date.now()+i,m=new Wd(e,t,h,o,u);return m.start(i),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gd(s,e){if(Cr("AsyncQueue",`${e}: ${s}`),La(s))return new me(Y.UNAVAILABLE,`${e}: ${s}`);throw s}class Yi{constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=ya(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new Yi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yi)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Yi;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class cg{constructor(){this.W_=new st(we.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class uo{constructor(e,t,i,o,u,h,m,g,w){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=w}static fromInitialDocuments(e,t,i,o,u){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new uo(e,t,Yi.emptySet(t),h,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class dT{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class fT{constructor(){this.queries=hg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=ke(t),u=o.queries;o.queries=hg(),u.forEach(((h,m)=>{for(const g of m.j_)g.onError(i)}))})(this,new me(Y.ABORTED,"Firestore shutting down"))}}function hg(){return new go((s=>wy(s)),Hu)}async function pT(s,e){const t=ke(s);let i=3;const o=e.query;let u=t.queries.get(o);u?!u.H_()&&e.J_()&&(i=2):(u=new dT,i=e.J_()?0:1);try{switch(i){case 0:u.z_=await t.onListen(o,!0);break;case 1:u.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=Gd(h,`Initialization of query '${Ki(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&Kd(t)}async function mT(s,e){const t=ke(s),i=e.query;let o=3;const u=t.queries.get(i);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function gT(s,e){const t=ke(s);let i=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.j_)m.X_(o)&&(i=!0);h.z_=o}}i&&Kd(t)}function yT(s,e,t){const i=ke(s),o=i.queries.get(e);if(o)for(const u of o.j_)u.onError(t);i.queries.delete(e)}function Kd(s){s.Y_.forEach((e=>{e.next()}))}var dd,dg;(dg=dd||(dd={})).ea="default",dg.Cache="cache";class vT{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new uo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==dd.Cache}}class Jy{constructor(e){this.key=e}}class Zy{constructor(e){this.key=e}}class _T{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=Ey(e),this.Ra=new Yi(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new cg,o=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,w=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,C)=>{const j=o.get(T),H=qu(this.query,C)?C:null,V=!!j&&this.mutatedKeys.has(j.key),$=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let b=!1;j&&H?j.data.isEqual(H.data)?V!==$&&(i.track({type:3,doc:H}),b=!0):this.ga(j,H)||(i.track({type:2,doc:H}),b=!0,(g&&this.Aa(H,g)>0||w&&this.Aa(H,w)<0)&&(m=!0)):!j&&H?(i.track({type:0,doc:H}),b=!0):j&&!H&&(i.track({type:1,doc:j}),b=!0,(g||w)&&(m=!0)),b&&(H?(h=h.add(H),u=$?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),i.track({type:1,doc:T})}return{Ra:h,fa:i,ns:m,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(((T,C)=>(function(H,V){const $=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return $(H)-$(V)})(T.type,C.type)||this.Aa(T.doc,C.doc))),this.pa(i),o=o!=null&&o;const m=t&&!o?this.ya():[],g=this.da.size===0&&this.current&&!o?1:0,w=g!==this.Ea;return this.Ea=g,h.length!==0||w?{snapshot:new uo(this.query,e.Ra,u,h,e.mutatedKeys,g===0,w,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new cg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new Zy(i))})),this.da.forEach((i=>{e.has(i)||t.push(new Jy(i))})),t}ba(e){this.Ta=e.Ts,this.da=De();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return uo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class wT{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ET{constructor(e){this.key=e,this.va=!1}}class TT{constructor(e,t,i,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new go((m=>wy(m)),Hu),this.Ma=new Map,this.xa=new Set,this.Oa=new st(we.comparator),this.Na=new Map,this.La=new Fd,this.Ba={},this.ka=new Map,this.qa=lo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function xT(s,e,t=!0){const i=iv(s);let o;const u=i.Fa.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await ev(i,e,t,!0),o}async function IT(s,e){const t=iv(s);await ev(t,e,!0,!1)}async function ev(s,e,t,i){const o=await $1(s.localStore,Jn(e)),u=o.targetId,h=s.sharedClientState.addLocalQueryTarget(u,t);let m;return i&&(m=await ST(s,e,u,h==="current",o.resumeToken)),s.isPrimaryClient&&t&&Wy(s.remoteStore,o),m}async function ST(s,e,t,i,o){s.Ka=(C,j,H)=>(async function($,b,W,ie){let de=b.view.ma(W);de.ns&&(de=await og($.localStore,b.query,!1).then((({documents:R})=>b.view.ma(R,de))));const ge=ie&&ie.targetChanges.get(b.targetId),ye=ie&&ie.targetMismatches.get(b.targetId)!=null,ce=b.view.applyChanges(de,$.isPrimaryClient,ge,ye);return pg($,b.targetId,ce.wa),ce.snapshot})(s,C,j,H);const u=await og(s.localStore,e,!0),h=new _T(e,u.Ts),m=h.ma(u.documents),g=Ua.createSynthesizedTargetChangeForCurrentChange(t,i&&s.onlineState!=="Offline",o),w=h.applyChanges(m,s.isPrimaryClient,g);pg(s,t,w.wa);const T=new wT(e,t,h);return s.Fa.set(e,T),s.Ma.has(t)?s.Ma.get(t).push(e):s.Ma.set(t,[e]),w.snapshot}async function kT(s,e,t){const i=ke(s),o=i.Fa.get(e),u=i.Ma.get(o.targetId);if(u.length>1)return i.Ma.set(o.targetId,u.filter((h=>!Hu(h,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await hd(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Bd(i.remoteStore,o.targetId),fd(i,o.targetId)})).catch(ja)):(fd(i,o.targetId),await hd(i.localStore,o.targetId,!0))}async function AT(s,e){const t=ke(s),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Bd(t.remoteStore,i.targetId))}async function CT(s,e,t){const i=MT(s);try{const o=await(function(h,m){const g=ke(h),w=vt.now(),T=m.reduce(((H,V)=>H.add(V.key)),De());let C,j;return g.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let V=Rr(),$=De();return g.cs.getEntries(H,T).next((b=>{V=b,V.forEach(((W,ie)=>{ie.isValidDocument()||($=$.add(W))}))})).next((()=>g.localDocuments.getOverlayedDocuments(H,V))).next((b=>{C=b;const W=[];for(const ie of m){const de=GE(ie,C.get(ie.key).overlayedDocument);de!=null&&W.push(new ti(ie.key,de,fy(de.value.mapValue),Zn.exists(!0)))}return g.mutationQueue.addMutationBatch(H,w,W,m)})).next((b=>{j=b;const W=b.applyToLocalDocumentSet(C,$);return g.documentOverlayCache.saveOverlays(H,b.batchId,W)}))})).then((()=>({batchId:j.batchId,changes:xy(C)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let w=h.Ba[h.currentUser.toKey()];w||(w=new st($e)),w=w.insert(m,g),h.Ba[h.currentUser.toKey()]=w})(i,o.batchId,t),await Ba(i,o.changes),await Yu(i.remoteStore)}catch(o){const u=Gd(o,"Failed to persist write");t.reject(u)}}async function tv(s,e){const t=ke(s);try{const i=await U1(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Na.get(u);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?We(h.va):o.removedDocuments.size>0&&(We(h.va),h.va=!1))})),await Ba(t,i,e)}catch(i){await ja(i)}}function fg(s,e,t){const i=ke(s);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((u,h)=>{const m=h.view.Z_(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=ke(h);g.onlineState=m;let w=!1;g.queries.forEach(((T,C)=>{for(const j of C.j_)j.Z_(m)&&(w=!0)})),w&&Kd(g)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function RT(s,e,t){const i=ke(s);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),u=o&&o.key;if(u){let h=new st(we.comparator);h=h.insert(u,zt.newNoDocument(u,Se.min()));const m=De().add(u),g=new Ku(Se.min(),new Map,new st($e),h,m);await tv(i,g),i.Oa=i.Oa.remove(u),i.Na.delete(e),Qd(i)}else await hd(i.localStore,e,!1).then((()=>fd(i,e,t))).catch(ja)}async function PT(s,e){const t=ke(s),i=e.batch.batchId;try{const o=await F1(t.localStore,e);rv(t,i,null),nv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ba(t,o)}catch(o){await ja(o)}}async function NT(s,e,t){const i=ke(s);try{const o=await(function(h,m){const g=ke(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let T;return g.mutationQueue.lookupMutationBatch(w,m).next((C=>(We(C!==null),T=C.keys(),g.mutationQueue.removeMutationBatch(w,C)))).next((()=>g.mutationQueue.performConsistencyCheck(w))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(w,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,T))).next((()=>g.localDocuments.getDocuments(w,T)))}))})(i.localStore,e);rv(i,e,t),nv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ba(i,o)}catch(o){await ja(o)}}function nv(s,e){(s.ka.get(e)||[]).forEach((t=>{t.resolve()})),s.ka.delete(e)}function rv(s,e,t){const i=ke(s);let o=i.Ba[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function fd(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Ma.get(e))s.Fa.delete(i),t&&s.Ca.$a(i,t);s.Ma.delete(e),s.isPrimaryClient&&s.La.gr(e).forEach((i=>{s.La.containsKey(i)||sv(s,i)}))}function sv(s,e){s.xa.delete(e.path.canonicalString());const t=s.Oa.get(e);t!==null&&(Bd(s.remoteStore,t),s.Oa=s.Oa.remove(e),s.Na.delete(t),Qd(s))}function pg(s,e,t){for(const i of t)i instanceof Jy?(s.La.addReference(i.key,e),bT(s,i)):i instanceof Zy?(ue("SyncEngine","Document no longer in limbo: "+i.key),s.La.removeReference(i.key,e),s.La.containsKey(i.key)||sv(s,i.key)):xe()}function bT(s,e){const t=e.key,i=t.path.canonicalString();s.Oa.get(t)||s.xa.has(i)||(ue("SyncEngine","New document in limbo: "+t),s.xa.add(i),Qd(s))}function Qd(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const e=s.xa.values().next().value;s.xa.delete(e);const t=new we(tt.fromString(e)),i=s.qa.next();s.Na.set(i,new ET(t)),s.Oa=s.Oa.insert(t,i),Wy(s.remoteStore,new ls(Jn(Dd(t.path)),i,"TargetPurposeLimboResolution",Ad.oe))}}async function Ba(s,e,t){const i=ke(s),o=[],u=[],h=[];i.Fa.isEmpty()||(i.Fa.forEach(((m,g)=>{h.push(i.Ka(g,e,t).then((w=>{var T;if((w||t)&&i.isPrimaryClient){const C=w?!w.fromCache:(T=t?.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;i.sharedClientState.updateQueryState(g.targetId,C?"current":"not-current")}if(w){o.push(w);const C=zd.Wi(g.targetId,w);u.push(C)}})))})),await Promise.all(h),i.Ca.d_(o),await(async function(g,w){const T=ke(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>Q.forEach(w,(j=>Q.forEach(j.$i,(H=>T.persistence.referenceDelegate.addReference(C,j.targetId,H))).next((()=>Q.forEach(j.Ui,(H=>T.persistence.referenceDelegate.removeReference(C,j.targetId,H)))))))))}catch(C){if(!La(C))throw C;ue("LocalStore","Failed to update sequence numbers: "+C)}for(const C of w){const j=C.targetId;if(!C.fromCache){const H=T.os.get(j),V=H.snapshotVersion,$=H.withLastLimboFreeSnapshotVersion(V);T.os=T.os.insert(j,$)}}})(i.localStore,u))}async function DT(s,e){const t=ke(s);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const i=await By(t.localStore,e);t.currentUser=e,(function(u,h){u.ka.forEach((m=>{m.forEach((g=>{g.reject(new me(Y.CANCELLED,h))}))})),u.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ba(t,i.hs)}}function VT(s,e){const t=ke(s),i=t.Na.get(e);if(i&&i.va)return De().add(i.key);{let o=De();const u=t.Ma.get(e);if(!u)return o;for(const h of u){const m=t.Fa.get(h);o=o.unionWith(m.view.Va)}return o}}function iv(s){const e=ke(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=tv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RT.bind(null,e),e.Ca.d_=gT.bind(null,e.eventManager),e.Ca.$a=yT.bind(null,e.eventManager),e}function MT(s){const e=ke(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NT.bind(null,e),e}class Du{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return L1(this.persistence,new O1,e.initialUser,this.serializer)}Ga(e){return new D1(Ud.Zr,this.serializer)}Wa(e){return new q1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Du.provider={build:()=>new Du};class pd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fg(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DT.bind(null,this.syncEngine),await hT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fT})()}createDatastore(e){const t=Qu(e.databaseInfo.databaseId),i=(function(u){return new Q1(u)})(e.databaseInfo);return(function(u,h,m,g){return new J1(u,h,m,g)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,u,h,m){return new eT(i,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>fg(this.syncEngine,t,0)),(function(){return lg.D()?new lg:new W1})())}createSyncEngine(e,t){return(function(o,u,h,m,g,w,T){const C=new TT(o,u,h,m,g,w);return T&&(C.Qa=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const u=ke(o);ue("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await za(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pd.provider={build:()=>new pd};class OT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class jT{constructor(e,t,i,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=cy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async h=>{ue("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(ue("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Gd(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Hh(s,e){s.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let i=t.initialUser;s.setCredentialChangeListener((async o=>{i.isEqual(o)||(await By(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function mg(s,e){s.asyncQueue.verifyOperationInProgress();const t=await LT(s);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((i=>ug(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,o)=>ug(e.remoteStore,o))),s._onlineComponents=e}async function LT(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hh(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;so("Error using user provided cache. Falling back to memory cache: "+t),await Hh(s,new Du)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Hh(s,new Du);return s._offlineComponents}async function ov(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await mg(s,s._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await mg(s,new pd))),s._onlineComponents}function FT(s){return ov(s).then((e=>e.syncEngine))}async function gg(s){const e=await ov(s),t=e.eventManager;return t.onListen=xT.bind(null,e.syncEngine),t.onUnlisten=kT.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=IT.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AT.bind(null,e.syncEngine),t}function av(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const yg=new Map;function lv(s,e,t){if(!t)throw new me(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function UT(s,e,t,i){if(e===!0&&i===!0)throw new me(Y.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function vg(s){if(!we.isDocumentKey(s))throw new me(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function _g(s){if(we.isDocumentKey(s))throw new me(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Xd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":xe()}function Ks(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xd(s);throw new me(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}class wg{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=av((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ju{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wg(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new tE;switch(i.type){case"firstParty":return new iE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=yg.get(t);i&&(ue("ComponentProvider","Removing Datastore"),yg.delete(t),i.terminate())})(this),Promise.resolve()}}function zT(s,e,t,i={}){var o;const u=(s=Ks(s,Ju))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),i.mockUserToken){let m,g;if(typeof i.mockUserToken=="string")m=i.mockUserToken,g=Ut.MOCK_USER;else{m=N0(i.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new me(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ut(w)}s._authCredentials=new nE(new uy(m,g))}}class Zu{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Zu(this.firestore,e,this._query)}}class hn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class ds extends Zu{constructor(e,t,i){super(e,t,Dd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new we(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function BT(s,e,...t){if(s=dn(s),lv("collection","path",e),s instanceof Ju){const i=tt.fromString(e,...t);return _g(i),new ds(s,null,i)}{if(!(s instanceof hn||s instanceof ds))throw new me(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(tt.fromString(e,...t));return _g(i),new ds(s.firestore,null,i)}}function ns(s,e,...t){if(s=dn(s),arguments.length===1&&(e=cy.newId()),lv("doc","path",e),s instanceof Ju){const i=tt.fromString(e,...t);return vg(i),new hn(s,null,new we(i))}{if(!(s instanceof hn||s instanceof ds))throw new me(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(tt.fromString(e,...t));return vg(i),new hn(s.firestore,s instanceof ds?s.converter:null,new we(i))}}class Eg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Hy(this,"async_queue_retry"),this.Vu=()=>{const i=$h();i&&ue("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=$h();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=$h();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Gs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!La(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m})(i);throw Cr("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Wd.createAndSchedule(this,e,t,i,(u=>this.yu(u)));return this.Tu.push(o),o}fu(){this.Eu&&xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Tg(s){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of i)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Da extends Ju{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Eg,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Eg(e),this._firestoreClient=void 0,await e}}}function $T(s,e){const t=typeof s=="object"?s:ey(),i=typeof s=="string"?s:"(default)",o=Sd(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=R0("firestore");u&&zT(o,...u)}return o}function uv(s){if(s._terminated)throw new me(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||HT(s),s._firestoreClient}function HT(s){var e,t,i;const o=s._freezeSettings(),u=(function(m,g,w,T){return new vE(m,g,w,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,av(T.experimentalLongPollingOptions),T.useFetchStreams)})(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new jT(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&(function(m){const g=m?._online.build();return{_offline:m?._offline.build(g),_online:g}})(s._componentsProvider))}class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(Vt.fromBase64String(e))}catch(t){throw new me(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new co(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cv{constructor(e){this._methodName=e}}class Jd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}class Zd{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}}const qT=/^__.*__$/;class WT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fa(e,this.data,t,this.fieldTransforms)}}function hv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class ef{constructor(e,t,i,o,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hv(this.Cu)&&qT.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class GT{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Qu(e)}Qu(e,t,i,o=!1){return new ef({Cu:e,methodName:t,qu:i,path:bt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KT(s){const e=s._freezeSettings(),t=Qu(s._databaseId);return new GT(s._databaseId,!!e.ignoreUndefinedProperties,t)}function QT(s,e,t,i,o,u={}){const h=s.Qu(u.merge||u.mergeFields?2:0,e,t,o);mv("Data must be an object, but it was:",h,i);const m=fv(i,h);let g,w;if(u.merge)g=new Fn(h.fieldMask),w=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const C of u.mergeFields){const j=XT(e,C,t);if(!h.contains(j))throw new me(Y.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);JT(T,j)||T.push(j)}g=new Fn(T),w=h.fieldTransforms.filter((C=>g.covers(C.field)))}else g=null,w=h.fieldTransforms;return new WT(new xn(m),g,w)}function dv(s,e){if(pv(s=dn(s)))return mv("Unsupported field value:",e,s),fv(s,e);if(s instanceof cv)return(function(i,o){if(!hv(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const u=[];let h=0;for(const m of i){let g=dv(m,o.Lu(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(s,e)}return(function(i,o){if((i=dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zE(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=vt.fromDate(i);return{timestampValue:Nu(o.serializer,u)}}if(i instanceof vt){const u=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nu(o.serializer,u)}}if(i instanceof Jd)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof co)return{bytesValue:My(o.serializer,i._byteString)};if(i instanceof hn){const u=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ld(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Zd)return(function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Bu("VectorValues must only contain numeric values.");return Vd(m.serializer,g)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${Xd(i)}`)})(s,e)}function fv(s,e){const t={};return hy(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(s,((i,o)=>{const u=dv(o,e.Mu(i));u!=null&&(t[i]=u)})),{mapValue:{fields:t}}}function pv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof vt||s instanceof Jd||s instanceof co||s instanceof hn||s instanceof cv||s instanceof Zd)}function mv(s,e,t){if(!pv(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=Xd(t);throw i==="an object"?e.Bu(s+" a custom object"):e.Bu(s+" "+i)}}function XT(s,e,t){if((e=dn(e))instanceof Yd)return e._internalPath;if(typeof e=="string")return gv(s,e);throw Vu("Field path arguments must be of type string or ",s,!1,void 0,t)}const YT=new RegExp("[~\\*/\\[\\]]");function gv(s,e,t){if(e.search(YT)>=0)throw Vu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new Yd(...e.split("."))._internalPath}catch{throw Vu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Vu(s,e,t,i,o){const u=i&&!i.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new me(Y.INVALID_ARGUMENT,m+s+g)}function JT(s,e){return s.some((t=>t.isEqual(e)))}class yv{constructor(e,t,i,o,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ZT extends yv{data(){return super.data()}}function vv(s,e){return typeof e=="string"?gv(s,e):e instanceof Yd?e._internalPath:e._delegate._internalPath}function ex(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tx{convertValue(e,t="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return mo(e,((o,u)=>{i[o]=this.convertValue(u,t)})),i}convertVectorValue(e){var t,i,o;const u=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((h=>lt(h.doubleValue)));return new Zd(u)}convertGeoPoint(e){return new Jd(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ca(e));default:return null}}convertTimestamp(e){const t=ps(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=tt.fromString(e);We(zy(i));const o=new Ra(i.get(1),i.get(3)),u=new we(i.popFirst(5));return o.isEqual(t)||Cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function nx(s,e,t){let i;return i=s?s.toFirestore(e):e,i}class _a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _v extends yv{constructor(e,t,i,o,u,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(vv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class yu extends _v{data(e={}){return super.data(e)}}class rx{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new _a(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new yu(this._firestore,this._userDataWriter,i.key,i,new _a(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new yu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _a(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new yu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _a(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let w=-1,T=-1;return m.type!==0&&(w=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:sx(m.type),doc:g,oldIndex:w,newIndex:T}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class wv extends tx{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}function qh(s,e,t){s=Ks(s,hn);const i=Ks(s.firestore,Da),o=nx(s.converter,e);return Ev(i,[QT(KT(i),"setDoc",s._key,o,s.converter!==null,t).toMutation(s._key,Zn.none())])}function ix(s){return Ev(Ks(s.firestore,Da),[new Md(s._key,Zn.none())])}function ma(s,...e){var t,i,o;s=dn(s);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||Tg(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Tg(e[h])){const C=e[h];e[h]=(t=C.next)===null||t===void 0?void 0:t.bind(C),e[h+1]=(i=C.error)===null||i===void 0?void 0:i.bind(C),e[h+2]=(o=C.complete)===null||o===void 0?void 0:o.bind(C)}let g,w,T;if(s instanceof hn)w=Ks(s.firestore,Da),T=Dd(s._key.path),g={next:C=>{e[h]&&e[h](ox(w,s,C))},error:e[h+1],complete:e[h+2]};else{const C=Ks(s,Zu);w=Ks(C.firestore,Da),T=C._query;const j=new wv(w);g={next:H=>{e[h]&&e[h](new rx(w,j,C,H))},error:e[h+1],complete:e[h+2]},ex(s._query)}return(function(j,H,V,$){const b=new OT($),W=new vT(H,b,V);return j.asyncQueue.enqueueAndForget((async()=>pT(await gg(j),W))),()=>{b.Za(),j.asyncQueue.enqueueAndForget((async()=>mT(await gg(j),W)))}})(uv(w),T,m,g)}function Ev(s,e){return(function(i,o){const u=new Gs;return i.asyncQueue.enqueueAndForget((async()=>CT(await FT(i),o,u))),u.promise})(uv(s),e)}function ox(s,e,t){const i=t.docs.get(e._key),o=new wv(s);return new _v(s,o,e._key,i,new _a(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){po=o})(fo),ro(new Xs("firestore",((i,{instanceIdentifier:o,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new Da(new rE(i.getProvider("auth-internal")),new aE(i.getProvider("app-check-internal")),(function(w,T){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new me(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(w.options.projectId,T)})(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),hs(Fm,"4.7.3",e),hs(Fm,"4.7.3","esm2017")})();var ax="firebase",lx="10.14.1";hs(ax,lx,"app");function tf(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(t[i[o]]=s[i[o]]);return t}function Tv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ux=Tv,xv=new Ma("auth","Firebase",Tv());const Mu=new xd("@firebase/auth");function cx(s,...e){Mu.logLevel<=Oe.WARN&&Mu.warn(`Auth (${fo}): ${s}`,...e)}function vu(s,...e){Mu.logLevel<=Oe.ERROR&&Mu.error(`Auth (${fo}): ${s}`,...e)}function sr(s,...e){throw rf(s,...e)}function Un(s,...e){return rf(s,...e)}function nf(s,e,t){const i=Object.assign(Object.assign({},ux()),{[e]:t});return new Ma("auth","Firebase",i).create(e,{appName:s.name})}function Qs(s){return nf(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hx(s,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&sr(s,"argument-error"),nf(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rf(s,...e){if(typeof s!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return xv.create(s,...e)}function Te(s,e,...t){if(!s)throw rf(e,...t)}function Ir(s){const e="INTERNAL ASSERTION FAILED: "+s;throw vu(e),new Error(e)}function Pr(s,e){s||Ir(e)}function md(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function dx(){return xg()==="http:"||xg()==="https:"}function xg(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}function fx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dx()||M0()||"connection"in navigator)?navigator.onLine:!0}function px(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class $a{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pr(t>e,"Short delay should be less than long delay!"),this.isMobile=b0()||O0()}get(){return fx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sf(s,e){Pr(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Iv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gx=new $a(3e4,6e4);function of(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function vo(s,e,t,i,o={}){return Sv(s,o,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const m=Oa(Object.assign({key:s.config.apiKey},h)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const w=Object.assign({method:e,headers:g},u);return V0()||(w.referrerPolicy="no-referrer"),Iv.fetch()(kv(s,s.config.apiHost,t,m),w)})}async function Sv(s,e,t){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},mx),e);try{const o=new vx(s),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw du(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,w]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw du(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw du(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw du(s,"user-disabled",h);const T=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw nf(s,T,w);sr(s,T)}}catch(o){if(o instanceof Nr)throw o;sr(s,"network-request-failed",{message:String(o)})}}async function yx(s,e,t,i,o={}){const u=await vo(s,e,t,i,o);return"mfaPendingCredential"in u&&sr(s,"multi-factor-auth-required",{_serverResponse:u}),u}function kv(s,e,t,i){const o=`${e}${t}?${i}`;return s.config.emulator?sf(s.config,o):`${s.config.apiScheme}://${o}`}class vx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Un(this.auth,"network-request-failed")),gx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function du(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Un(s,e,i);return o.customData._tokenResponse=t,o}async function _x(s,e){return vo(s,"POST","/v1/accounts:delete",e)}async function Av(s,e){return vo(s,"POST","/v1/accounts:lookup",e)}function Ia(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wx(s,e=!1){const t=dn(s),i=await t.getIdToken(e),o=af(i);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:i,authTime:Ia(Wh(o.auth_time)),issuedAtTime:Ia(Wh(o.iat)),expirationTime:Ia(Wh(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Wh(s){return Number(s)*1e3}function af(s){const[e,t,i]=s.split(".");if(e===void 0||t===void 0||i===void 0)return vu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Gg(t);return o?JSON.parse(o):(vu("Failed to decode base64 JWT payload"),null)}catch(o){return vu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ig(s){const e=af(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Va(s,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Nr&&Ex(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function Ex({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Tx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ia(this.lastLoginAt),this.creationTime=Ia(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ou(s){var e;const t=s.auth,i=await s.getIdToken(),o=await Va(s,Av(t,{idToken:i}));Te(o?.users.length,t,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Cv(u.providerUserInfo):[],m=Ix(s.providerData,h),g=s.isAnonymous,w=!(s.email&&u.passwordHash)&&!m?.length,T=g?w:!1,C={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new gd(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(s,C)}async function xx(s){const e=dn(s);await Ou(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ix(s,e){return[...s.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Cv(s){return s.map(e=>{var{providerId:t}=e,i=tf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function Sx(s,e){const t=await Sv(s,{},async()=>{const i=Oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=kv(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Iv.fetch()(h,{method:"POST",headers:m,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kx(s,e){return vo(s,"POST","/v2/accounts:revokeToken",of(s,e))}class Ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ig(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Ig(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:u}=await Sx(e,t);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:u}=t,h=new Ji;return i&&(Te(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ji,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function rs(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Sr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,u=tf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new gd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Va(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return wx(this,e)}reload(){return xx(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ou(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await Va(this,_x(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,u,h,m,g,w,T;const C=(i=t.displayName)!==null&&i!==void 0?i:void 0,j=(o=t.email)!==null&&o!==void 0?o:void 0,H=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,V=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(m=t.tenantId)!==null&&m!==void 0?m:void 0,b=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,W=(w=t.createdAt)!==null&&w!==void 0?w:void 0,ie=(T=t.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:de,emailVerified:ge,isAnonymous:ye,providerData:ce,stsTokenManager:R}=t;Te(de&&R,e,"internal-error");const x=Ji.fromJSON(this.name,R);Te(typeof de=="string",e,"internal-error"),rs(C,e.name),rs(j,e.name),Te(typeof ge=="boolean",e,"internal-error"),Te(typeof ye=="boolean",e,"internal-error"),rs(H,e.name),rs(V,e.name),rs($,e.name),rs(b,e.name),rs(W,e.name),rs(ie,e.name);const k=new Sr({uid:de,auth:e,email:j,emailVerified:ge,displayName:C,isAnonymous:ye,photoURL:V,phoneNumber:H,tenantId:$,stsTokenManager:x,createdAt:W,lastLoginAt:ie});return ce&&Array.isArray(ce)&&(k.providerData=ce.map(P=>Object.assign({},P))),b&&(k._redirectEventId=b),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new Ji;o.updateFromServerResponse(t);const u=new Sr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ou(u),u}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Cv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Ji;m.updateFromIdToken(i);const g=new Sr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,w),g}}const Sg=new Map;function kr(s){Pr(s instanceof Function,"Expected a class definition");let e=Sg.get(s);return e?(Pr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Sg.set(s,e),e)}class Rv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Rv.type="NONE";const kg=Rv;function _u(s,e,t){return`firebase:${s}:${e}:${t}`}class Zi{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=_u(this.userKey,o.apiKey,u),this.fullPersistenceKey=_u("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Zi(kr(kg),e,i);const o=(await Promise.all(t.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let u=o[0]||kr(kg);const h=_u(i,e.config.apiKey,e.name);let m=null;for(const w of t)try{const T=await w._get(h);if(T){const C=Sr._fromJSON(e,T);w!==u&&(m=C),u=w;break}}catch{}const g=o.filter(w=>w._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Zi(u,e,i):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async w=>{if(w!==u)try{await w._remove(h)}catch{}})),new Zi(u,e,i))}}function Ag(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mv(e))return"Blackberry";if(Ov(e))return"Webos";if(Nv(e))return"Safari";if((e.includes("chrome/")||bv(e))&&!e.includes("edge/"))return"Chrome";if(Vv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(t);if(i?.length===2)return i[1]}return"Other"}function Pv(s=Bt()){return/firefox\//i.test(s)}function Nv(s=Bt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bv(s=Bt()){return/crios\//i.test(s)}function Dv(s=Bt()){return/iemobile/i.test(s)}function Vv(s=Bt()){return/android/i.test(s)}function Mv(s=Bt()){return/blackberry/i.test(s)}function Ov(s=Bt()){return/webos/i.test(s)}function lf(s=Bt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ax(s=Bt()){var e;return lf(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cx(){return j0()&&document.documentMode===10}function jv(s=Bt()){return lf(s)||Vv(s)||Ov(s)||Mv(s)||/windows phone/i.test(s)||Dv(s)}function Lv(s,e=[]){let t;switch(s){case"Browser":t=Ag(Bt());break;case"Worker":t=`${Ag(Bt())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fo}/${i}`}class Rx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Px(s,e={}){return vo(s,"GET","/v2/passwordPolicy",of(s,e))}const Nx=6;class bx{constructor(e){var t,i,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:Nx,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,u,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Dx{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cg(this),this.idTokenSubscription=new Cg(this),this.beforeStateQueue=new Rx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Zi.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Av(this,{idToken:e}),i=await Sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o?._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&g?.user&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ou(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=px()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(Qs(this));const t=e?dn(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Px(this),t=new bx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ma("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await kx(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Zi.create(this,[kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&cx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ec(s){return dn(s)}class Cg{constructor(e){this.auth=e,this.observer=null,this.addObserver=q0(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vx(s){uf=s}function Mx(s){return uf.loadJS(s)}function Ox(){return uf.gapiScript}function jx(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function Lx(s,e){const t=Sd(s,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Iu(u,e??{}))return o;sr(o,"already-initialized")}return t.initialize({options:e})}function Fx(s,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(kr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}function Ux(s,e,t){const i=ec(s);Te(i._canInitEmulator,i,"emulator-config-failed"),Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=Fv(e),{host:h,port:m}=zx(e),g=m===null?"":`:${m}`;i.config.emulator={url:`${u}//${h}${g}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),Bx()}function Fv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function zx(s){const e=Fv(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:Rg(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:Rg(h)}}}function Rg(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Bx(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Uv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,t){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function eo(s,e){return yx(s,"POST","/v1/accounts:signInWithIdp",of(s,e))}const $x="http://localhost";class ei extends Uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,u=tf(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new ei(i,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return eo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,eo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,eo(e,t)}buildRequest(){const e={requestUri:$x,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Oa(t)}return e}}class cf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ha extends cf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class is extends Ha{constructor(){super("facebook.com")}static credential(e){return ei._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";class Tr extends Ha{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ei._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Tr.credential(t,i)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";class os extends Ha{constructor(){super("github.com")}static credential(e){return ei._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";class as extends Ha{constructor(){super("twitter.com")}static credential(e,t){return ei._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return as.credential(t,i)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const u=await Sr._fromIdTokenResponse(e,i,o),h=Pg(i);return new ho({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Pg(i);return new ho({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Pg(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ju extends Nr{constructor(e,t,i,o){var u;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,ju.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new ju(e,t,i,o)}}function zv(s,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ju._fromErrorAndOperation(s,u,e,i):u})}async function Hx(s,e,t=!1){const i=await Va(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return ho._forOperation(s,"link",i)}async function qx(s,e,t=!1){const{auth:i}=s;if(xr(i.app))return Promise.reject(Qs(i));const o="reauthenticate";try{const u=await Va(s,zv(i,o,e,s),t);Te(u.idToken,i,"internal-error");const h=af(u.idToken);Te(h,i,"internal-error");const{sub:m}=h;return Te(s.uid===m,i,"user-mismatch"),ho._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&sr(i,"user-mismatch"),u}}async function Wx(s,e,t=!1){if(xr(s.app))return Promise.reject(Qs(s));const i="signIn",o=await zv(s,i,e),u=await ho._fromIdTokenResponse(s,i,o);return t||await s._updateCurrentUser(u.user),u}function Gx(s,e,t,i){return dn(s).onIdTokenChanged(e,t,i)}function Kx(s,e,t){return dn(s).beforeAuthStateChanged(e,t)}function Bv(s){return dn(s).signOut()}const Lu="__sak";class $v{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lu,"1"),this.storage.removeItem(Lu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qx=1e3,Xx=10;class Hv extends $v{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);Cx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Xx):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hv.type="LOCAL";const Yx=Hv;class qv extends $v{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qv.type="SESSION";const Wv=qv;function Jx(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class tc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new tc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const m=Array.from(h).map(async w=>w(t.origin,u)),g=await Jx(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tc.receivers=[];function hf(s="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return s+t}class Zx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const w=hf("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(C){const j=C;if(j.data.eventId===w)switch(j.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(j.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:w,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function tr(){return window}function eI(s){tr().location.href=s}function Gv(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function tI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nI(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function rI(){return Gv()?self:null}const Kv="firebaseLocalStorageDb",sI=1,Fu="firebaseLocalStorage",Qv="fbase_key";class qa{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nc(s,e){return s.transaction([Fu],e?"readwrite":"readonly").objectStore(Fu)}function iI(){const s=indexedDB.deleteDatabase(Kv);return new qa(s).toPromise()}function yd(){const s=indexedDB.open(Kv,sI);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Fu,{keyPath:Qv})}catch(o){t(o)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Fu)?e(i):(i.close(),await iI(),e(await yd()))})})}async function Ng(s,e,t){const i=nc(s,!0).put({[Qv]:e,value:t});return new qa(i).toPromise()}async function oI(s,e){const t=nc(s,!1).get(e),i=await new qa(t).toPromise();return i===void 0?null:i.value}function bg(s,e){const t=nc(s,!0).delete(e);return new qa(t).toPromise()}const aI=800,lI=3;class Xv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>lI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tc._getInstance(rI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tI(),!this.activeServiceWorker)return;this.sender=new Zx(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yd();return await Ng(e,Lu,"1"),await bg(e,Lu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ng(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>oI(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=nc(o,!1).getAll();return new qa(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xv.type="LOCAL";const uI=Xv;new $a(3e4,6e4);function Yv(s,e){return e?kr(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class df extends Uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cI(s){return Wx(s.auth,new df(s),s.bypassAuthState)}function hI(s){const{auth:e,user:t}=s;return Te(t,e,"internal-error"),qx(t,new df(s),s.bypassAuthState)}async function dI(s){const{auth:e,user:t}=s;return Te(t,e,"internal-error"),Hx(t,new df(s),s.bypassAuthState)}class Jv{constructor(e,t,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cI;case"linkViaPopup":case"linkViaRedirect":return dI;case"reauthViaPopup":case"reauthViaRedirect":return hI;default:sr(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fI=new $a(2e3,1e4);async function pI(s,e,t){if(xr(s.app))return Promise.reject(Un(s,"operation-not-supported-in-this-environment"));const i=ec(s);hx(s,e,cf);const o=Yv(i,t);return new qs(i,"signInViaPopup",e,o).executeNotNull()}class qs extends Jv{constructor(e,t,i,o,u){super(e,t,o,u),this.provider=i,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=hf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fI.get())};e()}}qs.currentPopupAction=null;const mI="pendingRedirect",wu=new Map;class gI extends Jv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=wu.get(this.auth._key());if(!e){try{const i=await yI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}wu.set(this.auth._key(),e)}return this.bypassAuthState||wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yI(s,e){const t=wI(e),i=_I(s);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function vI(s,e){wu.set(s._key(),e)}function _I(s){return kr(s._redirectPersistence)}function wI(s){return _u(mI,s.config.apiKey,s.name)}async function EI(s,e,t=!1){if(xr(s.app))return Promise.reject(Qs(s));const i=ec(s),o=Yv(i,e),h=await new gI(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const TI=600*1e3;class xI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!II(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Zv(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Un(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dg(e))}saveEventToCache(e){this.cachedEventUids.add(Dg(e)),this.lastProcessedEventTime=Date.now()}}function Dg(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Zv({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function II(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zv(s);default:return!1}}async function SI(s,e={}){return vo(s,"GET","/v1/projects",e)}const kI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AI=/^https?/;async function CI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await SI(s);for(const t of e)try{if(RI(t))return}catch{}sr(s,"unauthorized-domain")}function RI(s){const e=md(),{protocol:t,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&i===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!AI.test(t))return!1;if(kI.test(s))return i===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const PI=new $a(3e4,6e4);function Vg(){const s=tr().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function NI(s){return new Promise((e,t)=>{var i,o,u;function h(){Vg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vg(),t(Un(s,"network-request-failed"))},timeout:PI.get()})}if(!((o=(i=tr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=tr().gapi)===null||u===void 0)&&u.load)h();else{const m=jx("iframefcb");return tr()[m]=()=>{gapi.load?h():t(Un(s,"network-request-failed"))},Mx(`${Ox()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw Eu=null,e})}let Eu=null;function bI(s){return Eu=Eu||NI(s),Eu}const DI=new $a(5e3,15e3),VI="__/auth/iframe",MI="emulator/auth/iframe",OI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LI(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?sf(e,MI):`https://${s.config.authDomain}/${VI}`,i={apiKey:e.apiKey,appName:s.name,v:fo},o=jI.get(s.config.apiHost);o&&(i.eid=o);const u=s._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${Oa(i).slice(1)}`}async function FI(s){const e=await bI(s),t=tr().gapi;return Te(t,s,"internal-error"),e.open({where:document.body,url:LI(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OI,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const h=Un(s,"network-request-failed"),m=tr().setTimeout(()=>{u(h)},DI.get());function g(){tr().clearTimeout(m),o(i)}i.ping(g).then(g,()=>{u(h)})}))}const UI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zI=500,BI=600,$I="_blank",HI="http://localhost";class Mg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qI(s,e,t,i=zI,o=BI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g=Object.assign(Object.assign({},UI),{width:i.toString(),height:o.toString(),top:u,left:h}),w=Bt().toLowerCase();t&&(m=bv(w)?$I:t),Pv(w)&&(e=e||HI,g.scrollbars="yes");const T=Object.entries(g).reduce((j,[H,V])=>`${j}${H}=${V},`,"");if(Ax(w)&&m!=="_self")return WI(e||"",m),new Mg(null);const C=window.open(e||"",m,T);Te(C,s,"popup-blocked");try{C.focus()}catch{}return new Mg(C)}function WI(s,e){const t=document.createElement("a");t.href=s,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const GI="__/auth/handler",KI="emulator/auth/handler",QI=encodeURIComponent("fac");async function Og(s,e,t,i,o,u){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:i,v:fo,eventId:o};if(e instanceof cf){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",H0(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,C]of Object.entries({}))h[T]=C}if(e instanceof Ha){const T=e.getScopes().filter(C=>C!=="");T.length>0&&(h.scopes=T.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await s._getAppCheckToken(),w=g?`#${QI}=${encodeURIComponent(g)}`:"";return`${XI(s)}?${Oa(m).slice(1)}${w}`}function XI({config:s}){return s.emulator?sf(s,KI):`https://${s.authDomain}/${GI}`}const Gh="webStorageSupport";class YI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wv,this._completeRedirectFn=EI,this._overrideRedirectResult=vI}async _openPopup(e,t,i,o){var u;Pr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await Og(e,t,i,md(),o);return qI(e,h,hf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const u=await Og(e,t,i,md(),o);return eI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Pr(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await FI(e),i=new xI(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gh,{type:Gh},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[Gh];h!==void 0&&t(!!h),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=CI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jv()||Nv()||lf()}}const JI=YI;var jg="@firebase/auth",Lg="1.7.9";class ZI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eS(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tS(s){ro(new Xs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lv(s)},w=new Dx(i,o,u,g);return Fx(w,t),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ro(new Xs("auth-internal",e=>{const t=ec(e.getProvider("auth").getImmediate());return(i=>new ZI(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(jg,Lg,eS(s)),hs(jg,Lg,"esm2017")}const nS=300,rS=Xg("authIdTokenMaxAge")||nS;let Fg=null;const sS=s=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>rS)return;const o=t?.token;Fg!==o&&(Fg=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iS(s=ey()){const e=Sd(s,"auth");if(e.isInitialized())return e.getImmediate();const t=Lx(s,{popupRedirectResolver:JI,persistence:[uI,Yx,Wv]}),i=Xg("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=sS(u.toString());Kx(t,h,()=>h(t.currentUser)),Gx(t,m=>h(m))}}const o=Kg("auth");return o&&Ux(t,`http://${o}`),t}function oS(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}Vx({loadJS(s){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=o=>{const u=Un("internal-error");u.customData=o,t(u)},i.type="text/javascript",i.charset="UTF-8",oS().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tS("Browser");const vd={apiKey:"AIzaSyBW5v_7kGitttrnCBQwYVPG9TiSPXdNaNc",authDomain:"guam-5eaff.firebaseapp.com",projectId:"guam-5eaff",storageBucket:"guam-5eaff.firebasestorage.app",messagingSenderId:"94280815489",appId:"1:94280815489:web:669d6fc05c097397bb8e80",measurementId:"G-0NNCC31G7E"},aS=()=>!!vd.apiKey;let Kh,Gt,to;try{vd.apiKey?(Kh=Zg(vd),Gt=$T(Kh),to=iS(Kh)):console.warn("Firebase config is missing.")}catch(s){console.error("Firebase init error",s)}var lS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Re=(s,e)=>{const t=Ce.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:m="",children:g,...w},T)=>Ce.createElement("svg",{ref:T,...lS,width:o,height:o,stroke:i,strokeWidth:h?Number(u)*24/Number(o):u,className:["lucide",`lucide-${uS(s)}`,m].join(" "),...w},[...e.map(([C,j])=>Ce.createElement(C,j)),...Array.isArray(g)?g:[g]]));return t.displayName=`${s}`,t};const cS=Re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const hS=Re("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);const Ug=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const e_=Re("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);const dS=Re("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const zg=Re("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);const t_=Re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const Uu=Re("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);const n_=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const fS=Re("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const pS=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const mS=Re("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);const gS=Re("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const yS=Re("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const vS=Re("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const _S=Re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const wS=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const ES=Re("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);const Bg=Re("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);const TS=Re("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]);const xS=Re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const IS=Re("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const r_=Re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const SS=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const _d=Re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const kS=Re("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const Tu=Re("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);const s_=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const $g=Re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);const AS=Re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const CS=Re("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const rc=Re("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const i_=Re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const RS=Re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const wd=Re("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const sc=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const PS=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const NS=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Sa=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const bS=Re("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);const o_=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),DS=({currentTab:s,onTabChange:e,title:t,subtitle:i,coverImage:o,onOpenMembers:u})=>{const h=m=>`w-[42px] h-[42px] rounded-full flex items-center justify-center transition-all duration-300 ${s===m?"bg-guam-teal text-white scale-110 shadow-lg shadow-guam-teal/40":"text-slate-400"}`;return v.jsxs("div",{className:"relative h-[260px] bg-white rounded-b-[40px] shadow-lg overflow-hidden z-10",children:[v.jsxs("div",{className:"w-full h-full relative",children:[v.jsx("img",{src:o,alt:t,className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-guam-teal/20 to-transparent"}),v.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 flex justify-between items-start",children:[v.jsxs("div",{className:"text-white drop-shadow-md mt-6",children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t}),v.jsx("p",{className:"text-sm font-medium opacity-90 tracking-widest uppercase",children:i})]}),v.jsx("button",{onClick:u,className:"bg-white/20 backdrop-blur-md text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors mt-6 border border-white/30",children:v.jsx(Sa,{size:20})})]})]}),v.jsxs("div",{className:"absolute bottom-5 right-5 z-30 flex gap-2.5 bg-white/90 backdrop-blur-md p-2 rounded-full shadow-sm",children:[v.jsx("button",{onClick:()=>e("itinerary"),className:h("itinerary"),children:v.jsx(Uu,{size:20})}),v.jsx("button",{onClick:()=>e("info"),className:h("info"),children:v.jsx(xS,{size:20})}),v.jsx("button",{onClick:()=>e("shopping"),className:h("shopping"),children:v.jsx(rc,{size:20})}),v.jsx("button",{onClick:()=>e("planning"),className:h("planning"),children:v.jsx(fS,{size:20})}),v.jsx("button",{onClick:()=>e("expenses"),className:h("expenses"),children:v.jsx(wS,{size:20})})]})]})},Ed=32.5,no={title:"Guam Vacation",subtitle:"Feb 07 - Feb 11, 2026",coverImage:"https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?q=80&w=2069&auto=format&fit=crop"},VS=[{date:"2/07",weekday:"SAT",hasCar:!1},{date:"2/08",weekday:"SUN",hasCar:!0},{date:"2/09",weekday:"MON",hasCar:!0},{date:"2/10",weekday:"TUE",hasCar:!0},{date:"2/11",weekday:"WED",hasCar:!1}],MS=[{condition:"sunny",temp:"29"},{condition:"cloudy",temp:"28"},{condition:"rain",temp:"27"},{condition:"sunny",temp:"30"},{condition:"sunny",temp:"29"}],Qh=[{id:"1",name:"Mom",email:"mom@gmail.com"},{id:"2",name:"Sister1",email:"sister1@gmail.com"},{id:"3",name:"Sister2",email:"hope78121@gmail.com"}],ss={itinerary:[[{id:101,name:"",category:"transport",startTime:"16:50",address:"Antonio B. Won Pat International Airport",note:"",transportType:"flight",travelTime:""},{id:102,name:"Bayview Hotel Check-in",category:"accommodation",startTime:"17:30",address:"Bayview Hotel Guam",note:"",transportType:"transport",travelTime:"15m"},{id:103,name:" ()",category:"sightseeing",startTime:"18:00",address:"Plaza de Espaa",note:"",hours:"Open 24H",price:"Free",transportType:"transport",travelTime:"10m"},{id:104,name:"",category:"sightseeing",startTime:"18:40",address:"Paseo de Susana Park",note:"",transportType:"walk",travelTime:"5m"},{id:105,name:": Agana Shopping Center",category:"food",startTime:"19:30",address:"Agana Shopping Center",note:" BBQ  Chamorro ",hours:"10:00-20:00",price:"~$30",transportType:"transport",travelTime:"5m"}],[{id:201,name:" & ",category:"transport",startTime:"09:00",address:"Nippon Rent-A-Car",note:"",transportType:"car",travelTime:""},{id:202,name:"",category:"sightseeing",startTime:"10:00",address:"Fish Eye Marine Park",note:"",hours:"08:00-17:00",price:"$16",transportType:"car",travelTime:"20m"},{id:203,name:"Umatac ",category:"sightseeing",startTime:"11:30",address:"Umatac Bay Park",note:"",price:"Free",transportType:"car",travelTime:"30m"},{id:204,name:"Inarajan ",category:"sightseeing",startTime:"13:00",address:"Inarajan Natural Pool",note:"",price:"Free",transportType:"car",travelTime:"20m"},{id:206,name:" Two Lovers Point",category:"sightseeing",startTime:"15:30",address:"Two Lovers Point",note:"",hours:"07:00-19:00",price:"$3",transportType:"car",travelTime:"45m"},{id:207,name:"Crowne Plaza Check-in",category:"accommodation",startTime:"17:00",address:"Crowne Plaza Resort Guam",note:" + ",transportType:"car",travelTime:"15m"}],[{id:301,name:": Crowne Plaza",category:"accommodation",startTime:"10:30",address:"Crowne Plaza Resort Guam",note:"",transportType:"transport",travelTime:""},{id:302,name:"Hoshino Resorts Check-in",category:"accommodation",startTime:"11:00",address:"Hoshino Resorts RISONARE Guam",note:"Check-in ",transportType:"transport",travelTime:"10m"},{id:303,name:"",category:"ticket",startTime:"11:30",address:"Hoshino Resorts RISONARE Guam",note:"SUP",price:"Free for guests",transportType:"walk",travelTime:"0m"},{id:306,name:": Hoshino / Tumon",category:"food",startTime:"18:30",address:"Hoshino Resorts RISONARE Guam",note:" + ",transportType:"walk",travelTime:"0m"}],[{id:402,name:"Guam Plaza Check-in",category:"accommodation",startTime:"10:30",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:404,name:"Plaza Spa ",category:"ticket",startTime:"12:30",address:"Guam Plaza Resort",note:"",price:"~$80",transportType:"walk",travelTime:"5m"},{id:405,name:"DFS / Micronesia Mall",category:"shopping",startTime:"14:30",address:"T Galleria by DFS",note:"",hours:"10:00-20:00",transportType:"transport",travelTime:"10m"},{id:406,name:": Hard Rock Cafe",category:"food",startTime:"19:00",address:"Hard Rock Cafe Guam",note:"",hours:"11:00-22:00",price:"~$40",transportType:"walk",travelTime:"5m"}],[{id:501,name:" & ",category:"transport",startTime:"05:00",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:503,name:"",category:"transport",startTime:"07:30",address:"Guam Airport",note:"",transportType:"flight",travelTime:"4h30m"},{id:504,name:"",category:"transport",startTime:"10:00",address:"Taoyuan Airport",note:"",transportType:"flight",travelTime:""}]],shopping:[{id:1,name:"Banana Boat  (SPF110)",note:"ABC Store "},{id:2,name:"Godiva ",note:"Macy's "},{id:3,name:"Guam  (6)",note:""}],expenses:[{id:1,name:" (TPE-GUM)",amount:650,category:"transport",date:"01/15",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:650}]},{id:2,name:"Bayview Hotel ",amount:150,category:"accommodation",date:"01/20",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:50},{memberId:"2",amount:50},{memberId:"3",amount:50}]},{id:3,name:"Wifi ",amount:30,category:"ticket",date:"02/07",payment:"Card",payerId:"2",splits:[{memberId:"1",amount:10},{memberId:"2",amount:10},{memberId:"3",amount:10}]}],planning:[{id:1,title:" (>6)",category:"documents",completed:!0,assignedTo:"All"},{id:2,title:"",category:"documents",completed:!1,assignedTo:"Mom"},{id:3,title:"/",category:"documents",completed:!1,assignedTo:"Sister1"},{id:4,title:"/",category:"luggage",completed:!1,assignedTo:"All"},{id:5,title:"/Gopro",category:"luggage",completed:!1,assignedTo:"Sister2"},{id:6,title:"",category:"todo",completed:!0,assignedTo:"Mom"}]},OS=({members:s,onLogin:e})=>{const[t,i]=Ce.useState(""),[o,u]=Ce.useState(!1),h=async()=>{if(!to){i("Firebase Auth  .env");return}u(!0),i("");const m=new Tr;try{const T=(await pI(to,m)).user.email,C=s.find(j=>j.email?.toLowerCase()===T?.toLowerCase());C?e(C.id):(await Bv(to),i(` Email (${T}) `))}catch(g){console.error("Login Error:",g),i("")}finally{u(!1)}};return v.jsxs("div",{className:"min-h-screen bg-guam-sand flex flex-col items-center justify-center relative overflow-hidden",children:[v.jsxs("div",{className:"absolute inset-0 z-0",children:[v.jsx("img",{src:no.coverImage,alt:"background",className:"w-full h-full object-cover opacity-80"}),v.jsx("div",{className:"absolute inset-0 bg-guam-navy/40 backdrop-blur-sm"})]}),v.jsxs("div",{className:"relative z-10 w-full max-w-md p-8 animate-fade-in flex flex-col items-center",children:[v.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-8 rounded-[3rem] shadow-2xl w-full text-center",children:[v.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-md tracking-tight",children:no.title}),v.jsx("p",{className:"text-white/80 font-medium tracking-widest uppercase mb-8",children:no.subtitle}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 text-white/80 text-sm leading-relaxed border border-white/5",children:[v.jsxs("p",{className:"flex items-center justify-center gap-2 mb-2 font-bold text-white",children:[v.jsx(CS,{size:18,className:"text-guam-teal"}),"Private Access"]})," Google "]}),v.jsx("button",{onClick:h,disabled:o,className:"w-full py-4 bg-white text-slate-700 rounded-2xl font-bold text-lg shadow-lg hover:bg-slate-50 hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3 disabled:opacity-70 disabled:cursor-not-allowed group",children:o?v.jsx(r_,{className:"animate-spin text-guam-navy"}):v.jsxs(v.Fragment,{children:[v.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-5 h-5"}),v.jsx("span",{children:"Google "})]})}),t&&v.jsxs("div",{className:"flex items-start gap-2 text-left bg-red-500/80 backdrop-blur text-white p-3 rounded-xl border border-red-400/50",children:[v.jsx(cS,{size:20,className:"shrink-0 mt-0.5"}),v.jsx("p",{className:"text-sm font-medium",children:t})]})]})]}),v.jsx("p",{className:"text-white/40 text-xs mt-8 font-medium",children:"Protected by Google Firebase"})]})]})},jS=({dates:s,weather:e,items:t,selectedDateIndex:i,onDateSelect:o,onEdit:u})=>{const[h,m]=Ce.useState([]),g=V=>{h.includes(V)?m(h.filter($=>$!==V)):m([...h,V])},w=V=>{switch(V){case"rain":return v.jsx(mS,{className:"text-guam-ocean"});case"cloudy":return v.jsx(gS,{className:"text-slate-400"});default:return v.jsx(RS,{className:"text-guam-sun"})}},T=V=>{switch(V){case"car":return v.jsx(Uu,{size:14});case"flight":return v.jsx(Tu,{size:14});case"walk":return v.jsx(Bg,{size:14});default:return v.jsx(zg,{size:14})}},C=V=>{switch(V){case"food":return v.jsx(bS,{size:20});case"shopping":return v.jsx(rc,{size:20});case"accommodation":return v.jsx(e_,{size:20});case"ticket":return v.jsx(wd,{size:20});case"transport":return v.jsx(zg,{size:20});default:return v.jsx(t_,{size:20})}},j=V=>{switch(V){case"sightseeing":return"bg-guam-teal";case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"accommodation":return"bg-indigo-500";case"transport":return"bg-slate-500";case"ticket":return"bg-guam-sun";default:return"bg-guam-teal"}},H=V=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(V+" Guam")}`,"_blank")};return v.jsxs("div",{className:"animate-fade-in pb-24",children:[v.jsx("div",{className:"flex overflow-x-auto hide-scrollbar space-x-3 pb-4 mb-2 px-1 sticky top-0 z-20 bg-guam-sand/95 backdrop-blur-sm pt-4 -mx-4 px-4 border-b border-guam-teal/10",children:s.map((V,$)=>v.jsxs("div",{onClick:()=>o($),className:`flex-shrink-0 w-[58px] h-[70px] rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all duration-300 border-2 shadow-sm ${i===$?"bg-guam-teal text-white border-guam-teal shadow-lg scale-105":"bg-white text-slate-400 border-white hover:bg-white/60"}`,children:[v.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:V.weekday}),v.jsx("span",{className:"text-sm font-bold",children:V.date})]},$))}),v.jsxs("div",{className:"mb-6 bg-gradient-to-r from-guam-teal/10 to-transparent border border-guam-teal/20 rounded-3xl p-4 flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center text-guam-teal space-x-3",children:[v.jsx("div",{className:"text-4xl drop-shadow-sm",children:w(e[i].condition)}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-baseline",children:[v.jsx("span",{className:"text-2xl font-bold",children:e[i].temp}),v.jsx("span",{className:"text-xs ml-1",children:"C"})]}),v.jsx("span",{className:"text-xs font-medium block text-slate-500 capitalize",children:e[i].condition})]})]}),v.jsx("div",{className:"text-right text-xs",children:s[i].hasCar?v.jsxs("span",{className:"inline-flex items-center bg-guam-navy/10 text-guam-navy px-3 py-1.5 rounded-full font-bold",children:[v.jsx(Uu,{size:12,className:"mr-1.5"})," "]}):v.jsxs("span",{className:"inline-flex items-center bg-slate-100 text-slate-500 px-3 py-1.5 rounded-full",children:[v.jsx(Bg,{size:12,className:"mr-1.5"})," /"]})})]}),v.jsxs("div",{className:"space-y-6",children:[t.map((V,$)=>v.jsxs("div",{className:"relative group",children:[$>0&&v.jsxs("div",{className:"pl-8 pb-3 flex items-center text-xs text-slate-400 relative",children:[v.jsx("div",{className:"h-full w-0.5 bg-guam-teal/20 absolute left-[27px] -top-6 bottom-0"}),v.jsxs("div",{className:"ml-2 flex items-center bg-white/50 px-2 py-0.5 rounded-full backdrop-blur-sm",children:[v.jsx("span",{className:"mr-1.5 text-guam-teal",children:T(V.transportType)}),v.jsx("span",{className:"font-medium",children:V.travelTime||""})]})]}),v.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-[2rem] p-5 shadow-[0_8px_20px_-6px_rgba(13,148,136,0.1)] border border-white/60 relative overflow-hidden flex items-start",children:[v.jsxs("div",{className:"mr-4 flex flex-col items-center min-w-[50px]",children:[v.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shadow-md mb-1.5 ${j(V.category)}`,children:C(V.category)}),V.startTime&&v.jsx("span",{className:"text-xs font-bold text-guam-navy tracking-tight",children:V.startTime})]}),v.jsxs("div",{className:"flex-1 min-w-0 pr-8",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 leading-tight mb-1 truncate",children:V.name}),v.jsxs("div",{className:"text-xs text-slate-500 space-y-1 mb-2",children:[V.hours&&v.jsxs("p",{className:"flex items-center",children:[v.jsx(pS,{size:12,className:"mr-1.5 text-guam-teal"})," ",V.hours]}),V.price&&v.jsxs("p",{className:"flex items-center",children:[v.jsx(wd,{size:12,className:"mr-1.5 text-guam-teal"})," ",V.price]}),V.address&&v.jsxs("p",{className:"flex items-center truncate",children:[v.jsx(_d,{size:12,className:"mr-1.5 text-guam-teal"})," ",V.address]})]}),V.note&&v.jsxs("div",{className:"bg-guam-sand/60 p-2.5 rounded-xl border border-guam-teal/10",children:[v.jsx("div",{className:`text-xs text-slate-600 leading-relaxed overflow-hidden transition-all ${h.includes(V.id)?"max-h-96":"max-h-10 line-clamp-2"}`,children:V.note}),V.note.length>40&&v.jsx("button",{onClick:b=>{b.stopPropagation(),g(V.id)},className:"text-[10px] text-guam-teal font-bold mt-1 flex items-center",children:h.includes(V.id)?"":"..."})]})]}),v.jsxs("div",{className:"absolute top-4 right-3 flex flex-col gap-2",children:[v.jsx("button",{onClick:()=>H(V.address||V.name),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-teal hover:text-white transition-all shadow-sm",children:v.jsx(_d,{size:14})}),v.jsx("button",{onClick:()=>u(V),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-navy hover:text-white transition-all shadow-sm",children:v.jsx(i_,{size:14})})]})]})]},V.id)),t.length===0&&v.jsx("div",{className:"text-center py-20 opacity-40",children:v.jsx("p",{className:"text-sm font-medium",children:""})})]})]})},LS=()=>{const[s,e]=Ce.useState("100"),t=Math.round((parseFloat(s)||0)*Ed),i=o=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(o+" Guam")}`,"_blank")};return v.jsxs("div",{className:"space-y-6 animate-fade-in pb-24",children:[v.jsxs("div",{className:"bg-gradient-to-br from-guam-navy to-guam-teal rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-10 -mt-10 blur-2xl"}),v.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center relative z-10",children:[v.jsx(vS,{className:"mr-2",size:20}),"  (USD)"]}),v.jsxs("div",{className:"flex items-center justify-between gap-4 relative z-10",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"USD ()"}),v.jsx("input",{type:"number",value:s,onChange:o=>e(o.target.value),className:"w-full bg-white/20 border border-white/30 rounded-xl px-3 py-2 text-white placeholder-white/50 focus:outline-none text-xl font-bold"})]}),v.jsx(hS,{className:"text-white/50 mt-4",size:20}),v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"TWD ()"}),v.jsx("div",{className:"w-full bg-white/10 rounded-xl px-3 py-2 text-white text-xl font-bold border border-transparent",children:t.toLocaleString()})]})]}),v.jsxs("p",{className:"text-[10px] text-cyan-200 mt-3 text-right opacity-70",children:[": ",Ed]})]}),v.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[v.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[v.jsx(Tu,{className:"text-guam-coral mr-2",size:20})," "]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("span",{className:"bg-guam-navy text-white text-[10px] px-2 py-0.5 rounded",children:" (2/7)"}),v.jsx("span",{className:"text-xs font-bold text-slate-400",children:"CI "})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"11:00"}),v.jsx("span",{className:"text-xs text-slate-400",children:"TPE"})]}),v.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[v.jsx("span",{className:"text-[10px] text-slate-400",children:"3h 50m"}),v.jsx("div",{className:"w-full h-px bg-slate-300 relative my-1",children:v.jsx(Tu,{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-slate-300 bg-slate-50",size:12})})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"16:50"}),v.jsx("span",{className:"text-xs text-slate-400",children:"GUM"})]})]})]}),v.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("span",{className:"bg-guam-teal text-white text-[10px] px-2 py-0.5 rounded",children:" (2/11)"}),v.jsx("span",{className:"text-xs font-bold text-slate-400",children:"CI "})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"07:30"}),v.jsx("span",{className:"text-xs text-slate-400",children:"GUM"})]}),v.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[v.jsx("span",{className:"text-[10px] text-slate-400",children:"4h 30m"}),v.jsx("div",{className:"w-full h-px bg-slate-300 relative my-1",children:v.jsx(Tu,{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-slate-300 bg-slate-50",size:12})})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"10:00"}),v.jsx("span",{className:"text-xs text-slate-400",children:"TPE"})]})]})]})]})]}),v.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[v.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[v.jsx(TS,{className:"text-guam-teal mr-2",size:20})," "]}),v.jsx("div",{className:"space-y-4",children:[{date:"2/7 (Sat)",name:"Bayview Hotel Guam",cn:""},{date:"2/8 (Sun)",name:"Crowne Plaza Resort",cn:""},{date:"2/9 (Mon)",name:"Hoshino Resorts RISONARE",cn:""},{date:"2/10 (Tue)",name:"Guam Plaza Resort",cn:"Spa"}].map((o,u)=>v.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-3 last:border-0",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-[10px] bg-slate-100 px-2 py-0.5 rounded text-slate-500 font-bold",children:o.date}),v.jsx("h4",{className:"font-bold text-slate-700 text-sm mt-1",children:o.name}),v.jsx("p",{className:"text-xs text-slate-400",children:o.cn})]}),v.jsx("button",{onClick:()=>i(o.name),className:"w-8 h-8 rounded-full bg-slate-50 text-guam-teal flex items-center justify-center hover:bg-guam-teal hover:text-white transition-colors",children:v.jsx(_d,{size:14})})]},u))})]})]})},FS=({items:s,onRemove:e,onAddClick:t})=>v.jsx("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.map(i=>v.jsxs("div",{className:"bg-white rounded-3xl p-4 shadow-[0_8px_20px_-6px_rgba(0,0,0,0.05)] relative group border border-white/60",children:[v.jsxs("div",{className:"aspect-square bg-slate-50 rounded-2xl mb-4 overflow-hidden relative flex items-center justify-center shadow-inner",children:[i.image?v.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"}):v.jsx(rc,{className:"text-slate-200",size:40}),v.jsx("button",{onClick:()=>e(i.id),className:"absolute top-2 right-2 bg-red-500/90 backdrop-blur text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-lg active:scale-90",children:v.jsx(o_,{size:16})})]}),v.jsx("p",{className:"font-bold text-base text-slate-800 truncate px-1 mb-0.5",children:i.name}),v.jsx("p",{className:"text-xs text-slate-400 px-1 truncate font-medium",children:i.note||""})]},i.id)),v.jsxs("div",{onClick:t,className:"bg-white/40 border-2 border-dashed border-slate-300/50 rounded-3xl p-4 flex flex-col items-center justify-center cursor-pointer min-h-[180px] hover:bg-white/80 transition-all hover:border-guam-teal/50 group hover:shadow-lg hover:-translate-y-1",children:[v.jsx("div",{className:"w-14 h-14 rounded-full bg-slate-100 flex items-center justify-center mb-3 group-hover:bg-guam-teal group-hover:text-white transition-colors shadow-sm",children:v.jsx(s_,{size:24,className:"text-slate-300 group-hover:text-white"})}),v.jsx("span",{className:"text-sm text-slate-400 font-bold group-hover:text-guam-teal transition-colors",children:""})]})]})}),US=({expenses:s,onRemove:e,onEdit:t,members:i=[]})=>{const[o,u]=Ce.useState("list"),h=s.reduce((b,W)=>b+W.amount,0),m=Math.round(h*Ed),g=b=>i.find(W=>W.id===b)?.name||"Unknown",w=b=>i.find(W=>W.id===b)?.avatarUrl,T=b=>{switch(b){case"food":return v.jsx(yS,{size:14});case"shopping":return v.jsx(rc,{size:14});case"transport":return v.jsx(Uu,{size:14});case"accommodation":return v.jsx(e_,{size:14});case"other":return v.jsx(kS,{size:14});default:return v.jsx(wd,{size:14})}},C=b=>{switch(b){case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"transport":return"bg-slate-500";case"accommodation":return"bg-indigo-500";case"other":return"bg-slate-400";default:return"bg-guam-sun"}},H=(()=>{const b={};return i.forEach(W=>{b[W.id]={paid:0,share:0,net:0}}),s.forEach(W=>{b[W.payerId]||(b[W.payerId]={paid:0,share:0,net:0}),b[W.payerId].paid+=W.amount,W.splits&&W.splits.length>0?W.splits.forEach(ie=>{b[ie.memberId]||(b[ie.memberId]={paid:0,share:0,net:0}),b[ie.memberId].share+=ie.amount}):b[W.payerId].share+=W.amount}),Object.keys(b).forEach(W=>{b[W].net=b[W].paid-b[W].share}),b})(),$=(()=>{let b=[],W=[];Object.keys(H).forEach(ye=>{const ce=H[ye].net;Math.abs(ce)<.01||(ce<0?b.push({id:ye,amount:-ce}):W.push({id:ye,amount:ce}))}),b.sort((ye,ce)=>ce.amount-ye.amount),W.sort((ye,ce)=>ce.amount-ye.amount);const ie=[];let de=0,ge=0;for(;de<b.length&&ge<W.length;){const ye=b[de],ce=W[ge],R=Math.min(ye.amount,ce.amount);R>0&&ie.push({fromId:ye.id,toId:ce.id,amount:parseFloat(R.toFixed(2))}),ye.amount-=R,ce.amount-=R,ye.amount<.01&&de++,ce.amount<.01&&ge++}return ie})();return v.jsxs("div",{className:"animate-fade-in pb-24",children:[v.jsxs("div",{className:"flex bg-white rounded-2xl p-1 mb-6 shadow-sm border border-slate-100",children:[v.jsxs("button",{onClick:()=>u("list"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="list"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[v.jsx($g,{size:16,className:"mr-2"})," "]}),v.jsxs("button",{onClick:()=>u("settlement"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="settlement"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[v.jsx(Sa,{size:16,className:"mr-2"})," "]})]}),o==="list"?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-guam-navy rounded-[2.5rem] p-8 mb-6 relative overflow-hidden text-white shadow-xl shadow-guam-navy/20",children:[v.jsx("div",{className:"absolute -right-12 -top-12 bg-guam-teal/30 w-56 h-56 rounded-full blur-3xl"}),v.jsx("div",{className:"absolute -left-10 bottom-0 bg-guam-coral/20 w-40 h-40 rounded-full blur-2xl"}),v.jsx("p",{className:"text-xs text-cyan-100/80 mb-1 relative z-10 font-medium tracking-wider",children:"TOTAL SPENT (USD)"}),v.jsxs("h2",{className:"text-5xl font-bold relative z-10 tracking-tight mb-2",children:["$",h.toLocaleString()]}),v.jsxs("p",{className:"text-sm text-right opacity-70 relative z-10",children:[" NT$ ",m.toLocaleString()]})]}),v.jsxs("div",{className:"bg-white rounded-t-[2.5rem] min-h-[400px] p-6 shadow-[0_-5px_30px_rgba(0,0,0,0.03)] -mx-4 px-8 pt-8 border-t border-slate-50",children:[v.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center text-sm tracking-wide",children:[v.jsx($g,{className:"text-guam-teal mr-2",size:16})," RECENT ACTIVITY"]}),v.jsxs("div",{className:"space-y-6",children:[s.map(b=>v.jsxs("div",{className:"flex items-center justify-between group",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white mr-4 shadow-sm ${C(b.category)}`,children:T(b.category)}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-slate-700 text-sm",children:b.name}),v.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-medium flex items-center gap-2",children:[v.jsxs("span",{children:[b.date,"  ",b.payment]}),v.jsxs("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-bold",children:[g(b.payerId)," "]})]})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"font-bold text-slate-800",children:["$",b.amount]}),v.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[v.jsxs("button",{onClick:()=>t(b),className:"text-[10px] text-guam-navy flex items-center",children:[v.jsx(i_,{size:10,className:"mr-1"})," "]}),v.jsxs("button",{onClick:()=>e(b.id),className:"text-[10px] text-red-300 flex items-center",children:[v.jsx(sc,{size:10,className:"mr-1"})," "]})]})]})]},b.id)),s.length===0&&v.jsx("p",{className:"text-center text-slate-300 text-sm py-8",children:""})]})]})]}):v.jsxs("div",{className:"space-y-6",children:[$.length>0&&v.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-[0_5px_20px_rgba(13,148,136,0.1)] border border-guam-teal/20",children:[v.jsxs("h3",{className:"font-bold text-guam-teal mb-4 flex items-center text-sm tracking-wide",children:[v.jsx(AS,{size:16,className:"mr-2"}),"  (Transfer Guide)"]}),v.jsx("div",{className:"space-y-3",children:$.map((b,W)=>v.jsxs("div",{className:"flex items-center justify-between bg-guam-sand/50 p-4 rounded-2xl border border-guam-teal/10 relative overflow-hidden",children:[v.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-guam-teal/5 z-0 pointer-events-none",children:v.jsx(Ug,{size:60})}),v.jsx("div",{className:"flex items-center z-10",children:v.jsxs("div",{className:"text-center mr-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-slate-100 overflow-hidden shadow-sm mx-auto mb-1",children:w(b.fromId)?v.jsx("img",{src:w(b.fromId),className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:g(b.fromId)[0]})}),v.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:g(b.fromId)})]})}),v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center z-10 px-2",children:[v.jsx("p",{className:"text-[10px] text-slate-400 font-bold mb-1",children:"PAYS"}),v.jsx("div",{className:"bg-white px-3 py-1 rounded-full shadow-sm border border-guam-teal/20",children:v.jsxs("span",{className:"font-bold text-guam-teal text-lg",children:["$",b.amount]})}),v.jsx(Ug,{size:14,className:"text-guam-teal/50 mt-1"})]}),v.jsx("div",{className:"flex items-center z-10",children:v.jsxs("div",{className:"text-center ml-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-guam-teal overflow-hidden shadow-sm mx-auto mb-1",children:w(b.toId)?v.jsx("img",{src:w(b.toId),className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:g(b.toId)[0]})}),v.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:g(b.toId)})]})})]},W))})]}),v.jsxs("div",{className:"px-2",children:[v.jsx("h3",{className:"font-bold text-slate-400 mb-3 flex items-center text-xs tracking-wide uppercase px-2",children:" (Net Balance)"}),v.jsx("div",{className:"space-y-4",children:i.map(b=>{const W=H[b.id]||{paid:0,share:0,net:0},ie=W.net>=0;return v.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100 relative overflow-hidden opacity-90",children:[v.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${ie?"bg-guam-teal":"bg-guam-coral"}`}),v.jsxs("div",{className:"flex justify-between items-start mb-4 pl-2",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 mr-3 overflow-hidden border border-white shadow-sm",children:b.avatarUrl?v.jsx("img",{src:b.avatarUrl,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs font-bold",children:b.name[0]})}),v.jsx("span",{className:"font-bold text-slate-800 text-lg",children:b.name})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider mb-0.5",children:ie?" (Receive)":" (Pay)"}),v.jsxs("p",{className:`text-xl font-bold ${ie?"text-guam-teal":"text-guam-coral"}`,children:["$",Math.abs(W.net).toLocaleString()]})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-2",children:[v.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[v.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[v.jsx(_S,{size:10,className:"mr-1"})," "]}),v.jsxs("p",{className:"font-bold text-slate-700",children:["$",W.paid.toLocaleString()]})]}),v.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[v.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[v.jsx(Sa,{size:10,className:"mr-1"})," "]}),v.jsxs("p",{className:"font-bold text-slate-700",children:["$",W.share.toLocaleString()]})]})]})]},b.id)})})]}),s.length===0&&v.jsxs("div",{className:"text-center py-10 opacity-50",children:[v.jsx(Sa,{size:40,className:"mx-auto text-slate-300 mb-2"}),v.jsx("p",{className:"text-sm text-slate-400",children:""})]})]})]})},zS=({items:s,onToggle:e,onRemove:t})=>{const[i,o]=Ce.useState("todo"),u=g=>{switch(g){case"Mom":return"bg-red-50 text-red-500 border-red-100";case"Sister1":return"bg-blue-50 text-blue-500 border-blue-100";case"Sister2":return"bg-green-50 text-green-500 border-green-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},h=[{key:"todo",label:"",icon:v.jsx(IS,{size:18})},{key:"luggage",label:"",icon:v.jsx(dS,{size:18})},{key:"documents",label:"",icon:v.jsx(ES,{size:18})}],m=s.filter(g=>g.category===i);return v.jsxs("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:[v.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl shadow-sm mb-6 border border-slate-100 sticky top-0 z-10 mx-1",children:h.map(g=>v.jsxs("button",{onClick:()=>o(g.key),className:`flex-1 flex items-center justify-center py-3 text-sm font-bold rounded-xl transition-all ${i===g.key?"bg-guam-teal text-white shadow-md scale-100":"text-slate-400 hover:bg-slate-50 scale-95"}`,children:[v.jsx("span",{className:"mr-2 opacity-90",children:g.icon}),g.label]},g.key))}),v.jsx("div",{className:"space-y-4",children:m.map(g=>v.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.03)] border border-white flex items-center group transition-all hover:shadow-lg hover:-translate-y-0.5",children:[v.jsxs("label",{className:"flex items-center flex-1 cursor-pointer checkbox-wrapper select-none",children:[v.jsx("input",{type:"checkbox",checked:g.completed,onChange:()=>e(g.id),className:"hidden"}),v.jsx("div",{className:`w-7 h-7 rounded-xl border-2 mr-4 flex items-center justify-center transition-all duration-300 ${g.completed?"bg-guam-teal border-guam-teal rotate-6 scale-110":"border-slate-200 bg-slate-50 group-hover:border-guam-teal/50"}`,children:v.jsx(n_,{size:16,className:"text-white hidden",strokeWidth:4})}),v.jsx("span",{className:`text-base font-bold transition-colors ${g.completed?"text-slate-300 line-through decoration-2 decoration-slate-200":"text-slate-700"}`,children:g.title})]}),v.jsxs("div",{className:"flex items-center pl-3",children:[v.jsx("span",{className:`text-[10px] px-3 py-1.5 rounded-full border font-bold whitespace-nowrap tracking-wide uppercase ${u(g.assignedTo)}`,children:g.assignedTo}),v.jsx("button",{onClick:()=>t(g.id),className:"ml-3 w-10 h-10 rounded-full bg-red-50 text-red-400 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all hover:bg-red-500 hover:text-white shadow-sm active:scale-90",children:v.jsx(sc,{size:18})})]})]},g.id))}),m.length===0&&v.jsxs("div",{className:"text-center py-24 flex flex-col items-center justify-center opacity-50",children:[v.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-4 text-slate-300 shadow-sm",children:h.find(g=>g.key===i)?.icon}),v.jsxs("p",{className:"text-base font-bold text-slate-500",children:["",h.find(g=>g.key===i)?.label]}),v.jsx("p",{className:"text-sm text-slate-400 mt-1",children:""})]})]})},BS=({isOpen:s,onClose:e,onSave:t,onDelete:i,initialData:o})=>{const[u,h]=Ce.useState({category:"sightseeing",transportType:"car"});return Ce.useEffect(()=>{h(o?{...o}:{category:"sightseeing",transportType:"car",name:"",address:"",price:"",hours:"",note:"",startTime:""})},[o,s]),s?v.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[v.jsx("h3",{className:"font-bold text-lg mb-6 text-center text-slate-800",children:o?"":""}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("select",{value:u.category,onChange:m=>h({...u,category:m.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",children:[v.jsx("option",{value:"sightseeing",children:""}),v.jsx("option",{value:"food",children:""}),v.jsx("option",{value:"shopping",children:""}),v.jsx("option",{value:"transport",children:""}),v.jsx("option",{value:"accommodation",children:""}),v.jsx("option",{value:"ticket",children:"/"}),v.jsx("option",{value:"other",children:""})]}),v.jsx("input",{placeholder:" (09:00)",value:u.startTime||"",onChange:m=>h({...u,startTime:m.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal text-center placeholder-slate-400"})]}),v.jsx("input",{placeholder:"",value:u.name||"",onChange:m=>h({...u,name:m.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal font-bold placeholder-slate-400"}),v.jsx("input",{placeholder:"",value:u.address||"",onChange:m=>h({...u,address:m.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsx("input",{placeholder:"",value:u.price||"",onChange:m=>h({...u,price:m.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"}),v.jsx("input",{placeholder:"",value:u.hours||"",onChange:m=>h({...u,hours:m.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"})]}),v.jsx("textarea",{placeholder:"",rows:3,value:u.note||"",onChange:m=>h({...u,note:m.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"})]}),v.jsxs("div",{className:"flex space-x-3 mt-8",children:[v.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),o&&v.jsx("button",{onClick:()=>{i(o.id),e()},className:"w-12 bg-red-50 text-red-400 rounded-xl flex items-center justify-center",children:v.jsx(sc,{size:18})}),v.jsx("button",{onClick:()=>{t(u),e()},className:"flex-[2] py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},$S=({isOpen:s,onClose:e,onSave:t})=>{const[i,o]=Ce.useState(""),[u,h]=Ce.useState(""),[m,g]=Ce.useState(void 0),w=T=>{const C=T.target.files?.[0];if(C){const j=new FileReader;j.onload=H=>g(H.target?.result),j.readAsDataURL(C)}};return s?v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[v.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:""}),v.jsx("input",{placeholder:"",value:i,onChange:T=>o(T.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),v.jsx("input",{placeholder:"",value:u,onChange:T=>h(T.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-4 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),v.jsxs("div",{className:"relative mb-6",children:[v.jsx("input",{type:"file",onChange:w,className:"hidden",id:"shopFileInput"}),v.jsx("label",{htmlFor:"shopFileInput",className:"w-full h-32 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl flex items-center justify-center cursor-pointer text-slate-400 hover:border-guam-teal transition-all overflow-hidden",children:m?v.jsx("img",{src:m,className:"w-full h-full object-cover",alt:"preview"}):v.jsxs("span",{className:"flex flex-col items-center text-xs",children:[v.jsx(t_,{className:"mb-2"})," "]})})]}),v.jsxs("div",{className:"flex space-x-3",children:[v.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),v.jsx("button",{onClick:()=>{t({name:i,note:u,image:m}),e(),o(""),h(""),g(void 0)},className:"flex-1 py-3 rounded-xl bg-guam-navy text-white font-bold text-sm shadow-lg shadow-guam-navy/30",children:""})]})]})}):null},HS=({isOpen:s,onClose:e,onSave:t,members:i,initialData:o})=>{const[u,h]=Ce.useState({category:"food",payment:"Cash",amount:0}),[m,g]=Ce.useState([]);Ce.useEffect(()=>{if(s)if(o){h(o);const V=o.splits||[];g(i.map($=>{const b=V.find(W=>W.memberId===$.id);return{id:$.id,amount:b?b.amount:0,checked:!!b}}))}else h({category:"food",payment:"Cash",amount:0,payerId:i[0]?.id}),g(i.map(V=>({id:V.id,amount:0,checked:!0})))},[s,i,o]);const w=(V,$)=>{const W=$.filter(ie=>ie.checked).length;if(W>0&&V>0){const ie=parseFloat((V/W).toFixed(2)),de=parseFloat((V-ie*(W-1)).toFixed(2));let ge=0;return $.map(ye=>ye.checked?(ge++,{...ye,amount:ge===W?de:ie}):{...ye,amount:0})}else return $.map(ie=>({...ie,amount:0}))},T=V=>{const $=parseFloat(V)||0;h(b=>({...b,amount:$})),g(b=>w($,b))},C=V=>{const $=m.map(b=>b.id===V?{...b,checked:!b.checked}:b);g(w(u.amount||0,$))},j=(V,$)=>{g(b=>b.map(W=>W.id===V?{...W,amount:$}:W))},H=()=>{const V=m.reduce((W,ie)=>W+(ie.checked?ie.amount:0),0),$=u.amount||0;if(Math.abs(V-$)>.05){alert(` (${V})  (${$})`);return}const b=m.filter(W=>W.checked).map(W=>({memberId:W.id,amount:W.amount}));t({...u,splits:b}),e(),h({category:"food",payment:"Cash",payerId:i[0]?.id,amount:0})};return s?v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in overflow-y-auto",children:v.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl my-auto",children:[v.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:o?"":" (USD)"}),v.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[v.jsxs("select",{value:u.category,onChange:V=>h({...u,category:V.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[v.jsx("option",{value:"food",children:""}),v.jsx("option",{value:"shopping",children:""}),v.jsx("option",{value:"transport",children:""}),v.jsx("option",{value:"ticket",children:""}),v.jsx("option",{value:"accommodation",children:""}),v.jsx("option",{value:"other",children:""})]}),v.jsx("select",{value:u.payerId||i[0]?.id,onChange:V=>h({...u,payerId:V.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:i.map(V=>v.jsxs("option",{value:V.id,children:[": ",V.name]},V.id))})]}),v.jsxs("div",{className:"flex bg-slate-50 rounded-xl p-1 mb-3",children:[v.jsx("button",{onClick:()=>h({...u,payment:"Cash"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${u.payment==="Cash"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""}),v.jsx("button",{onClick:()=>h({...u,payment:"Card"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${u.payment==="Card"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""})]}),v.jsx("input",{placeholder:"",value:u.name||"",onChange:V=>h({...u,name:V.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"}),v.jsxs("div",{className:"relative mb-5",children:[v.jsx("span",{className:"absolute left-4 top-4 text-slate-400 font-bold",children:"$"}),v.jsx("input",{type:"number",placeholder:"0.00",value:u.amount||"",onChange:V=>T(V.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 pl-8 text-lg font-bold outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("p",{className:"text-xs font-bold text-slate-400 mb-2 flex items-center",children:[v.jsx(Sa,{size:12,className:"mr-1"}),"  ()"]}),v.jsx("div",{className:"space-y-2 bg-slate-50 p-3 rounded-2xl max-h-[150px] overflow-y-auto",children:m.map(V=>{const $=i.find(b=>b.id===V.id);return v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{onClick:()=>C(V.id),className:`w-5 h-5 rounded-md border flex items-center justify-center mr-2 cursor-pointer transition-colors ${V.checked?"bg-guam-teal border-guam-teal":"border-slate-300 bg-white"}`,children:V.checked&&v.jsx(n_,{size:12,className:"text-white"})}),v.jsx("span",{className:`text-sm ${V.checked?"text-slate-700":"text-slate-400"}`,children:$?.name})]}),v.jsxs("div",{className:"relative w-24",children:[v.jsx("span",{className:`absolute left-2 top-1.5 text-xs ${V.checked?"text-slate-500":"text-slate-300"}`,children:"$"}),v.jsx("input",{type:"number",disabled:!V.checked,value:V.amount,onChange:b=>j(V.id,parseFloat(b.target.value)),className:`w-full rounded-lg py-1 pl-4 pr-2 text-right text-sm outline-none border ${V.checked?"bg-white border-slate-200 focus:border-guam-teal text-slate-800":"bg-transparent border-transparent text-slate-300"}`})]})]},V.id)})})]}),v.jsxs("div",{className:"flex space-x-3",children:[v.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),v.jsx("button",{onClick:H,className:"flex-1 py-3 rounded-xl bg-guam-coral text-white font-bold text-sm shadow-lg shadow-guam-coral/30",children:""})]})]})}):null},qS=({isOpen:s,onClose:e,onSave:t,members:i})=>{const[o,u]=Ce.useState({category:"todo",assignedTo:"All",completed:!1});return s?v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[v.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:""}),v.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[v.jsxs("select",{value:o.category,onChange:h=>u({...o,category:h.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[v.jsx("option",{value:"todo",children:""}),v.jsx("option",{value:"luggage",children:""}),v.jsx("option",{value:"documents",children:""})]}),v.jsxs("select",{value:o.assignedTo,onChange:h=>u({...o,assignedTo:h.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[v.jsx("option",{value:"All",children:" (All)"}),i.map(h=>v.jsx("option",{value:h.name,children:h.name},h.id))]})]}),v.jsx("input",{placeholder:"",value:o.title||"",onChange:h=>u({...o,title:h.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-6 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),v.jsxs("div",{className:"flex space-x-3",children:[v.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),v.jsx("button",{onClick:()=>{t(o),e(),u({category:"todo",assignedTo:"All",completed:!1})},className:"flex-1 py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},WS=({isOpen:s,onClose:e,members:t,onAddMember:i,onRemoveMember:o})=>{const[u,h]=Ce.useState(""),[m,g]=Ce.useState(""),[w,T]=Ce.useState(!1),[C,j]=Ce.useState(null);if(!s)return null;const H=$=>{const b=$.target.files?.[0];if(!b)return;T(!0);const W=new FileReader;W.onload=ie=>{const de=new Image;de.onload=()=>{const ge=document.createElement("canvas"),ye=200;let ce=de.width,R=de.height;ce>R?ce>ye&&(R*=ye/ce,ce=ye):R>ye&&(ce*=ye/R,R=ye),ge.width=ce,ge.height=R;const x=ge.getContext("2d");if(x){x.drawImage(de,0,0,ce,R);const k=ge.toDataURL("image/jpeg",.7);j(k)}T(!1)},de.src=ie.target?.result},W.readAsDataURL(b)},V=()=>{if(!u.trim())return;const $={id:Date.now().toString(),name:u,email:m.trim(),avatarUrl:C||void 0,role:"Member"};i($),h(""),g(""),j(null)};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl overflow-hidden",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h3",{className:"font-bold text-lg text-slate-800",children:" ()"}),v.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:v.jsx(o_,{size:24})})]}),v.jsxs("div",{className:"space-y-3 mb-6 max-h-[200px] overflow-y-auto pr-2",children:[t.map($=>v.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-xl",children:[v.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[v.jsx("div",{className:"w-10 h-10 shrink-0 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center border-2 border-white shadow-sm",children:$.avatarUrl?v.jsx("img",{src:$.avatarUrl,alt:$.name,className:"w-full h-full object-cover"}):v.jsx(NS,{size:20,className:"text-slate-400"})}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("p",{className:"font-bold text-slate-700 truncate",children:$.name}),v.jsx("p",{className:"text-[10px] text-slate-400 truncate",children:$.email||"No Email"})]})]}),v.jsx("button",{onClick:()=>o($.id),className:"w-8 h-8 shrink-0 flex items-center justify-center text-slate-300 hover:text-red-400 transition-colors",children:v.jsx(sc,{size:16})})]},$.id)),t.length===0&&v.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:""})]}),v.jsxs("div",{className:"border-t border-slate-100 pt-4",children:[v.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase tracking-wide",children:""}),v.jsxs("div",{className:"flex gap-3 mb-3",children:[v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:H}),v.jsx("label",{htmlFor:"avatar-upload",className:"w-12 h-12 rounded-full bg-slate-50 border border-dashed border-slate-300 flex items-center justify-center cursor-pointer hover:border-guam-teal hover:bg-guam-teal/5 transition-all overflow-hidden shrink-0",children:w?v.jsx(r_,{size:20,className:"animate-spin text-guam-teal"}):C?v.jsx("img",{src:C,className:"w-full h-full object-cover"}):v.jsx(PS,{size:18,className:"text-slate-400"})})]}),v.jsxs("div",{className:"flex-1 space-y-2",children:[v.jsx("input",{type:"text",placeholder:" (: Mom)",value:u,onChange:$=>h($.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl px-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"}),v.jsxs("div",{className:"relative",children:[v.jsx(SS,{size:14,className:"absolute left-3 top-2.5 text-slate-400"}),v.jsx("input",{type:"email",placeholder:"Google Email",value:m,onChange:$=>g($.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl pl-9 pr-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"})]})]})]}),v.jsx("button",{onClick:V,disabled:!u.trim()||w,className:"w-full py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]}),!aS()&&v.jsx("p",{className:"text-[10px] text-center text-amber-500 mt-3 bg-amber-50 p-2 rounded-lg",children:"  Firebase Config"})]})})},GS=s=>s.reduce((e,t,i)=>(e[i.toString()]=t,e),{}),KS=s=>Array.isArray(s)?s:Object.keys(s).sort((t,i)=>parseInt(t)-parseInt(i)).map(t=>s[t]),QS=()=>{const[s,e]=Ce.useState(null),[t,i]=Ce.useState("itinerary"),[o,u]=Ce.useState(0),[h,m]=Ce.useState(ss.itinerary),[g,w]=Ce.useState(ss.shopping),[T,C]=Ce.useState(ss.expenses),[j,H]=Ce.useState(ss.planning||[]),[V,$]=Ce.useState(Qh),[b,W]=Ce.useState(!1),[ie,de]=Ce.useState(!1),[ge,ye]=Ce.useState(!1),[ce,R]=Ce.useState(!1),[x,k]=Ce.useState(!1),[P,D]=Ce.useState(null),[O,S]=Ce.useState(null),Ve=async(te,ne)=>{if(Gt)try{let Ie=ne;te==="itinerary"&&Array.isArray(ne)&&(Ie=GS(ne)),await qh(ns(Gt,"trip_data",te),{data:Ie})}catch(Ie){console.error(`Error saving ${te}`,Ie)}};Ce.useEffect(()=>{let te=()=>{};Gt&&(te=ma(BT(Gt,"members"),Ie=>{if(Ie.empty)Qh.forEach(Et=>qh(ns(Gt,"members",Et.id),Et)),$(Qh);else{const Et=Ie.docs.map(Ge=>({id:Ge.id,...Ge.data()}));$(Et)}}));const ne=localStorage.getItem("trip_user_id");return ne&&e({id:ne,name:"Loading...",email:""}),()=>{te()}},[]),Ce.useEffect(()=>{if(s&&V.length>0){const te=V.find(ne=>ne.id===s.id);te&&e(te)}},[V,s?.id]),Ce.useEffect(()=>{if(!Gt)return;const te=ma(ns(Gt,"trip_data","itinerary"),Ge=>{if(Ge.exists()){const nn=Ge.data().data;Array.isArray(nn)?m(nn):m(KS(nn))}else Ve("itinerary",ss.itinerary)}),ne=ma(ns(Gt,"trip_data","shopping"),Ge=>{Ge.exists()?w(Ge.data().data):Ve("shopping",ss.shopping)}),Ie=ma(ns(Gt,"trip_data","expenses"),Ge=>{Ge.exists()?C(Ge.data().data):Ve("expenses",ss.expenses)}),Et=ma(ns(Gt,"trip_data","planning"),Ge=>{Ge.exists()?H(Ge.data().data):Ve("planning",ss.planning)});return()=>{te(),ne(),Ie(),Et()}},[]);const _t=te=>{const ne=V.find(Ie=>Ie.id===te);ne&&(e(ne),localStorage.setItem("trip_user_id",te))},wt=async()=>{to&&await Bv(to),e(null),localStorage.removeItem("trip_user_id"),window.location.reload()},He=()=>{t==="itinerary"?(D(null),W(!0)):t==="shopping"?de(!0):t==="expenses"?(S(null),ye(!0)):t==="planning"&&R(!0)},ee=te=>{const ne=[...h],Ie=[...ne[o]];if(P){const Et=Ie.findIndex(Ge=>Ge.id===P.id);Et!==-1&&(Ie[Et]={...P,...te})}else{const Et={...te,id:Date.now()};Ie.push(Et),Ie.sort((Ge,nn)=>Ge.startTime>nn.startTime?1:-1)}ne[o]=Ie,m(ne),Ve("itinerary",ne),D(null)},pe=te=>{const ne=[...h];ne[o]=ne[o].filter(Ie=>Ie.id!==te),m(ne),Ve("itinerary",ne)},re=te=>{const ne=[...g,{...te,id:Date.now()}];w(ne),Ve("shopping",ne)},M=te=>{const ne=g.filter(Ie=>Ie.id!==te);w(ne),Ve("shopping",ne)},q=te=>{let ne;O?(ne=T.map(Ie=>Ie.id===O.id?{...Ie,...te}:Ie),S(null)):ne=[{...te,id:Date.now(),date:new Date().toLocaleDateString("en-US",{month:"numeric",day:"numeric"})},...T],C(ne),Ve("expenses",ne)},fe=te=>{const ne=T.filter(Ie=>Ie.id!==te);C(ne),Ve("expenses",ne)},Ae=te=>{const ne=[...j,{...te,id:Date.now()}];H(ne),Ve("planning",ne)},Pe=te=>{const ne=j.map(Ie=>Ie.id===te?{...Ie,completed:!Ie.completed}:Ie);H(ne),Ve("planning",ne)},be=te=>{const ne=j.filter(Ie=>Ie.id!==te);H(ne),Ve("planning",ne)},Fe=async te=>{if(Gt)try{await qh(ns(Gt,"members",te.id),te)}catch(ne){console.error("Error adding member to DB",ne)}$([...V,te])},Ue=async te=>{if(Gt)try{await ix(ns(Gt,"members",te))}catch(ne){console.error("Error deleting member from DB",ne)}$(V.filter(ne=>ne.id!==te))};return s?v.jsxs("div",{className:"app-container max-w-[480px] mx-auto min-h-screen bg-guam-sand relative shadow-[0_0_40px_rgba(13,148,136,0.1)]",children:[v.jsx(DS,{currentTab:t,onTabChange:i,title:no.title,subtitle:no.subtitle,coverImage:no.coverImage,onOpenMembers:()=>k(!0)}),v.jsx("div",{className:"fixed top-4 right-4 z-50 opacity-0 hover:opacity-100 transition-opacity",children:v.jsx("button",{onClick:wt,className:"bg-red-500 text-white text-xs px-2 py-1 rounded",children:"Logout"})}),v.jsxs("main",{className:"px-4 pt-6 relative z-0",children:[t==="itinerary"&&v.jsx(jS,{dates:VS,weather:MS,items:h[o],selectedDateIndex:o,onDateSelect:u,onEdit:te=>{D(te),W(!0)}}),t==="info"&&v.jsx(LS,{}),t==="shopping"&&v.jsx(FS,{items:g,onRemove:M,onAddClick:()=>de(!0)}),t==="planning"&&v.jsx(zS,{items:j,onToggle:Pe,onRemove:be}),t==="expenses"&&v.jsx(US,{expenses:T,onRemove:fe,onEdit:te=>{S(te),ye(!0)},members:V})]}),t!=="info"&&v.jsx("button",{onClick:He,className:"fixed bottom-24 right-6 w-14 h-14 bg-guam-coral text-white rounded-full shadow-[0_4px_20px_rgba(251,113,133,0.6)] text-xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all z-40",children:v.jsx(s_,{size:24})}),v.jsx(BS,{isOpen:b,onClose:()=>W(!1),onSave:ee,initialData:P,onDelete:pe}),v.jsx($S,{isOpen:ie,onClose:()=>de(!1),onSave:re}),v.jsx(HS,{isOpen:ge,onClose:()=>ye(!1),onSave:q,members:V,initialData:O}),v.jsx(qS,{isOpen:ce,onClose:()=>R(!1),onSave:Ae,members:V}),v.jsx(WS,{isOpen:x,onClose:()=>k(!1),members:V,onAddMember:Fe,onRemoveMember:Ue})]}):v.jsx(OS,{members:V,onLogin:_t})},a_=document.getElementById("root");if(!a_)throw new Error("Could not find root element to mount to");const XS=E0.createRoot(a_);XS.render(v.jsx(p0.StrictMode,{children:v.jsx(QS,{})}));
