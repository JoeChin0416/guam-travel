(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Sv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Md={exports:{}},To={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function Db(){if(j0)return To;j0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return To.Fragment=e,To.jsx=i,To.jsxs=i,To}var L0;function Mb(){return L0||(L0=1,Md.exports=Db()),Md.exports}var T=Mb(),Od={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function Ob(){if(U0)return Ae;U0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,L={};function W(O,$,se){this.props=O,this.context=$,this.refs=L,this.updater=se||G}W.prototype.isReactComponent={},W.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},W.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=W.prototype;function ae(O,$,se){this.props=O,this.context=$,this.refs=L,this.updater=se||G}var De=ae.prototype=new te;De.constructor=ae,K(De,W.prototype),De.isPureReactComponent=!0;var Ee=Array.isArray;function pe(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,$,se){var re=se.ref;return{$$typeof:s,type:O,key:$,ref:re!==void 0?re:null,props:se}}function V(O,$){return C(O.type,$,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return $[se]})}var x=/\/+/g;function $e(O,$){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):$.toString(36)}function pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(pe,pe):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,$,se,re,Te){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(Re){case"bigint":case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case s:case e:je=!0;break;case b:return je=O._init,F(je(O._payload),$,se,re,Te)}}if(je)return Te=Te(O),je=re===""?"."+$e(O,0):re,Ee(Te)?(se="",je!=null&&(se=je.replace(x,"$&/")+"/"),F(Te,$,se,"",function(Pi){return Pi})):Te!=null&&(D(Te)&&(Te=V(Te,se+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(x,"$&/")+"/")+je)),$.push(Te)),1;je=0;var Tt=re===""?".":re+":";if(Ee(O))for(var ot=0;ot<O.length;ot++)re=O[ot],Re=Tt+$e(re,ot),je+=F(re,$,se,Re,Te);else if(ot=Q(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(re=O.next()).done;)re=re.value,Re=Tt+$e(re,ot++),je+=F(re,$,se,Re,Te);else if(Re==="object"){if(typeof O.then=="function")return F(pt(O),$,se,re,Te);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return je}function ie(O,$,se){if(O==null)return O;var re=[],Te=0;return F(O,re,"","",function(Re){return $.call(se,Re,Te++)}),re}function fe(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var qe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ke={map:ie,forEach:function(O,$,se){ie(O,function(){$.apply(this,arguments)},se)},count:function(O){var $=0;return ie(O,function(){$++}),$},toArray:function(O){return ie(O,function($){return $})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=A,Ae.Children=Ke,Ae.Component=W,Ae.Fragment=i,Ae.Profiler=o,Ae.PureComponent=ae,Ae.StrictMode=a,Ae.Suspense=y,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,$,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=K({},O.props),Te=O.key;if($!=null)for(Re in $.key!==void 0&&(Te=""+$.key),$)!w.call($,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&$.ref===void 0||(re[Re]=$[Re]);var Re=arguments.length-2;if(Re===1)re.children=se;else if(1<Re){for(var je=Array(Re),Tt=0;Tt<Re;Tt++)je[Tt]=arguments[Tt+2];re.children=je}return C(O.type,Te,re)},Ae.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ae.createElement=function(O,$,se){var re,Te={},Re=null;if($!=null)for(re in $.key!==void 0&&(Re=""+$.key),$)w.call($,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Te[re]=$[re]);var je=arguments.length-2;if(je===1)Te.children=se;else if(1<je){for(var Tt=Array(je),ot=0;ot<je;ot++)Tt[ot]=arguments[ot+2];Te.children=Tt}if(O&&O.defaultProps)for(re in je=O.defaultProps,je)Te[re]===void 0&&(Te[re]=je[re]);return C(O,Re,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:p,render:O}},Ae.isValidElement=D,Ae.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:fe}},Ae.memo=function(O,$){return{$$typeof:_,type:O,compare:$===void 0?null:$}},Ae.startTransition=function(O){var $=R.T,se={};R.T=se;try{var re=O(),Te=R.S;Te!==null&&Te(se,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(pe,qe)}catch(Re){qe(Re)}finally{$!==null&&se.types!==null&&($.types=se.types),R.T=$}},Ae.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ae.use=function(O){return R.H.use(O)},Ae.useActionState=function(O,$,se){return R.H.useActionState(O,$,se)},Ae.useCallback=function(O,$){return R.H.useCallback(O,$)},Ae.useContext=function(O){return R.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,$){return R.H.useDeferredValue(O,$)},Ae.useEffect=function(O,$){return R.H.useEffect(O,$)},Ae.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Ae.useId=function(){return R.H.useId()},Ae.useImperativeHandle=function(O,$,se){return R.H.useImperativeHandle(O,$,se)},Ae.useInsertionEffect=function(O,$){return R.H.useInsertionEffect(O,$)},Ae.useLayoutEffect=function(O,$){return R.H.useLayoutEffect(O,$)},Ae.useMemo=function(O,$){return R.H.useMemo(O,$)},Ae.useOptimistic=function(O,$){return R.H.useOptimistic(O,$)},Ae.useReducer=function(O,$,se){return R.H.useReducer(O,$,se)},Ae.useRef=function(O){return R.H.useRef(O)},Ae.useState=function(O){return R.H.useState(O)},Ae.useSyncExternalStore=function(O,$,se){return R.H.useSyncExternalStore(O,$,se)},Ae.useTransition=function(){return R.H.useTransition()},Ae.version="19.2.3",Ae}var z0;function wm(){return z0||(z0=1,Od.exports=Ob()),Od.exports}var Ce=wm();const Vb=Sv(Ce);var Vd={exports:{}},Eo={},kd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function kb(){return P0||(P0=1,(function(s){function e(F,ie){var fe=F.length;F.push(ie);e:for(;0<fe;){var qe=fe-1>>>1,Ke=F[qe];if(0<o(Ke,ie))F[qe]=ie,F[fe]=Ke,fe=qe;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ie=F[0],fe=F.pop();if(fe!==ie){F[0]=fe;e:for(var qe=0,Ke=F.length,O=Ke>>>1;qe<O;){var $=2*(qe+1)-1,se=F[$],re=$+1,Te=F[re];if(0>o(se,fe))re<Ke&&0>o(Te,se)?(F[qe]=Te,F[re]=fe,qe=re):(F[qe]=se,F[$]=fe,qe=$);else if(re<Ke&&0>o(Te,fe))F[qe]=Te,F[re]=fe,qe=re;else break e}}return ie}function o(F,ie){var fe=F.sortIndex-ie.sortIndex;return fe!==0?fe:F.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,A=null,I=3,Q=!1,G=!1,K=!1,L=!1,W=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function De(F){for(var ie=i(_);ie!==null;){if(ie.callback===null)a(_);else if(ie.startTime<=F)a(_),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=i(_)}}function Ee(F){if(K=!1,De(F),!G)if(i(y)!==null)G=!0,pe||(pe=!0,k());else{var ie=i(_);ie!==null&&pt(Ee,ie.startTime-F)}}var pe=!1,R=-1,w=5,C=-1;function V(){return L?!0:!(s.unstable_now()-C<w)}function D(){if(L=!1,pe){var F=s.unstable_now();C=F;var ie=!0;try{e:{G=!1,K&&(K=!1,te(R),R=-1),Q=!0;var fe=I;try{t:{for(De(F),A=i(y);A!==null&&!(A.expirationTime>F&&V());){var qe=A.callback;if(typeof qe=="function"){A.callback=null,I=A.priorityLevel;var Ke=qe(A.expirationTime<=F);if(F=s.unstable_now(),typeof Ke=="function"){A.callback=Ke,De(F),ie=!0;break t}A===i(y)&&a(y),De(F)}else a(y);A=i(y)}if(A!==null)ie=!0;else{var O=i(_);O!==null&&pt(Ee,O.startTime-F),ie=!1}}break e}finally{A=null,I=fe,Q=!1}ie=void 0}}finally{ie?k():pe=!1}}}var k;if(typeof ae=="function")k=function(){ae(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,$e=x.port2;x.port1.onmessage=D,k=function(){$e.postMessage(null)}}else k=function(){W(D,0)};function pt(F,ie){R=W(function(){F(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(F){switch(I){case 1:case 2:case 3:var ie=3;break;default:ie=I}var fe=I;I=ie;try{return F()}finally{I=fe}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=I;I=F;try{return ie()}finally{I=fe}},s.unstable_scheduleCallback=function(F,ie,fe){var qe=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?qe+fe:qe):fe=qe,F){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=fe+Ke,F={id:b++,callback:ie,priorityLevel:F,startTime:fe,expirationTime:Ke,sortIndex:-1},fe>qe?(F.sortIndex=fe,e(_,F),i(y)===null&&F===i(_)&&(K?(te(R),R=-1):K=!0,pt(Ee,fe-qe))):(F.sortIndex=Ke,e(y,F),G||Q||(G=!0,pe||(pe=!0,k()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var ie=I;return function(){var fe=I;I=ie;try{return F.apply(this,arguments)}finally{I=fe}}}})(jd)),jd}var B0;function jb(){return B0||(B0=1,kd.exports=kb()),kd.exports}var Ld={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function Lb(){if(q0)return nn;q0=1;var s=wm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},nn.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},nn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},nn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},nn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:Q}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:I,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},nn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},nn.requestFormReset=function(y){a.d.r(y)},nn.unstable_batchedUpdates=function(y,_){return y(_)},nn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var H0;function Ub(){if(H0)return Ld.exports;H0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=Lb(),Ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function zb(){if(G0)return Eo;G0=1;var s=jb(),e=wm(),i=Ub();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,l=f;break}if(E===l){g=!0,l=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,l=h;break}if(E===l){g=!0,l=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function $e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case W:return"Profiler";case L:return"StrictMode";case Ee:return"Suspense";case pe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ae:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case De:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:$e(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return $e(t(n))}catch{}}return null}var pt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},qe=[],Ke=-1;function O(t){return{current:t}}function $(t){0>Ke||(t.current=qe[Ke],qe[Ke]=null,Ke--)}function se(t,n){Ke++,qe[Ke]=t.current,t.current=n}var re=O(null),Te=O(null),Re=O(null),je=O(null);function Tt(t,n){switch(se(Re,n),se(Te,t),se(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?a0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=a0(n),t=r0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(re),se(re,t)}function ot(){$(re),$(Te),$(Re)}function Pi(t){t.memoizedState!==null&&se(je,t);var n=re.current,r=r0(n,t.type);n!==r&&(se(Te,t),se(re,r))}function ps(t){Te.current===t&&($(re),$(Te)),je.current===t&&($(je),go._currentValue=fe)}var me,he;function _e(t){if(me===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);me=n&&n[1]||"",he=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+t+he}var Qt=!1;function xt(t,n){if(!t||Qt)return"";Qt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var B=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){B=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){B=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),P=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===P.length)for(l=N.length-1,h=P.length-1;1<=l&&0<=h&&N[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==P[h]){var Y=`
`+N[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Qt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?_e(r):""}function Ze(t,n){switch(t.tag){case 26:case 27:case 5:return _e(t.type);case 16:return _e("Lazy");case 13:return t.child!==n&&n!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return xt(t.type,!1);case 11:return xt(t.type.render,!1);case 1:return xt(t.type,!0);case 31:return _e("Activity");default:return""}}function yt(t){try{var n="",r=null;do n+=Ze(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Oe=Object.prototype.hasOwnProperty,nt=s.unstable_scheduleCallback,Nn=s.unstable_cancelCallback,da=s.unstable_shouldYield,sr=s.unstable_requestPaint,on=s.unstable_now,ma=s.unstable_getCurrentPriorityLevel,_l=s.unstable_ImmediatePriority,vl=s.unstable_UserBlockingPriority,gs=s.unstable_NormalPriority,Vh=s.unstable_LowPriority,tu=s.unstable_IdlePriority,nu=s.log,iu=s.unstable_setDisableYieldValue,Fn=null,Kt=null;function In(t){if(typeof nu=="function"&&iu(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Fn,t)}catch{}}var Et=Math.clz32?Math.clz32:au,su=Math.log,ar=Math.LN2;function au(t){return t>>>=0,t===0?32:31-(su(t)/ar|0)|0}var oi=256,pa=262144,Rt=4194304;function ui(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ui(l):(g&=E,g!==0?h=ui(g):r||(r=E&~t,r!==0&&(h=ui(r))))):(E=l&~f,E!==0?h=ui(E):g!==0?h=ui(g):r||(r=l&~t,r!==0&&(h=ui(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function hi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ga(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(r=g&~r;0<r;){var Y=31-Et(r),J=1<<Y;E[Y]=0,N[Y]=-1;var B=P[Y];if(B!==null)for(P[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}r&=~J}l!==0&&ya(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ya(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Et(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Tl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Et(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function El(t,n){var r=n&-n;return r=(r&42)!==0?1:_a(r),(r&(t.suspendedLanes|n))!==0?0:r}function _a(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:N0(t.type))}function Kn(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var Yn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Yn,qt="__reactProps$"+Yn,fi="__reactContainer$"+Yn,rr="__reactEvents$"+Yn,Lh="__reactListeners$"+Yn,ou="__reactHandles$"+Yn,uu="__reactResources$"+Yn,di="__reactMarker$"+Yn;function lr(t){delete t[Ct],delete t[qt],delete t[rr],delete t[Lh],delete t[ou]}function mi(t){var n=t[Ct];if(n)return n;for(var r=t.parentNode;r;){if(n=r[fi]||r[Ct]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=d0(t);t!==null;){if(r=t[Ct])return r;t=d0(t)}return n}t=r,r=t.parentNode}return null}function Dn(t){if(t=t[Ct]||t[fi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Tn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function pi(t){var n=t[uu];return n||(n=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(t){t[di]=!0}var bl=new Set,Sl={};function gi(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(Sl[t]=n,t=0;t<n.length;t++)bl.add(n[t])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},xl={};function cu(t){return Oe.call(xl,t)?!0:Oe.call(wl,t)?!1:Al.test(t)?xl[t]=!0:(wl[t]=!0,!1)}function or(t,n,r){if(cu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function En(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function It(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ys(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=ys(t)?"checked":"value";t._valueTracker=Rl(t,n,""+t[n])}}function va(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ys(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ta=/[\n"\\]/g;function hn(t){return t.replace(Ta,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ur(t,n,r,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ht(n)):t.value!==""+Ht(n)&&(t.value=""+Ht(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Cl(t,g,Ht(n)):r!=null?Cl(t,g,Ht(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ht(E):t.removeAttribute("name")}function hu(t,n,r,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){We(t);return}r=r!=null?""+Ht(r):"",n=n!=null?""+Ht(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),We(t)}function Cl(t,n,r){n==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function _s(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ht(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fu(t,n,r){if(n!=null&&(n=""+Ht(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ht(r):""}function vs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(pt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ht(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),We(t)}function fn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||du.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Il(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Nl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Nl(t,f,n[f])}function cr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(t){return Ts.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Dl=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Es=null,vi=null;function Ea(t){var n=Dn(t);if(n&&(t=n.stateNode)){var r=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ur(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[qt]||null;if(!h)throw Error(a(90));ur(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&va(l)}break e;case"textarea":fu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&_s(t,!!r.multiple,n,!1)}}}var fr=!1;function bs(t,n,r){if(fr)return t(n,r);fr=!0;try{var l=t(n);return l}finally{if(fr=!1,(Es!==null||vi!==null)&&(lc(),Es&&(n=Es,t=vi,vi=Es=null,Ea(n),t)))for(n=0;n<t.length;n++)Ea(t[n])}}function $n(t,n){var r=t.stateNode;if(r===null)return null;var l=r[qt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(On)try{var it={};Object.defineProperty(it,"passive",{get:function(){ba=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{ba=!1}var Ti=null,Ml=null,Sa=null;function Ol(){if(Sa)return Sa;var t,n=Ml,r=n.length,l,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return Sa=h.slice(t,1<l?1-l:void 0)}function Aa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function Jn(){return!1}function Yt(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qi:Jn,this.isPropagationStopped=Jn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),n}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Yt(Hi),Ss=A({},Hi,{view:0,detail:0}),Vl=Yt(Ss),As,dr,bi,mr=A({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(As=t.screenX-bi.screenX,dr=t.screenY-bi.screenY):dr=As=0,bi=t),As)},movementY:function(t){return"movementY"in t?t.movementY:dr}}),kl=Yt(mr),wa=A({},mr,{dataTransfer:0}),pu=Yt(wa),gu=A({},Ss,{relatedTarget:0}),xa=Yt(gu),jl=A({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Yt(jl),pr=A({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=Yt(pr),vu=A({},Hi,{data:0}),Si=Yt(vu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bu[t])?!!n[t]:!1}function ws(){return Su}var un=A({},Ss,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Aa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?Aa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Aa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Au=Yt(un),wu=A({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Yt(wu),u=A({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),m=Yt(u),v=A({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Yt(v),U=A({},mr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Yt(U),ne=A({},Hi,{newState:0,oldState:0}),Ne=Yt(ne),bt=[9,13,27,32],Ye=On&&"CompositionEvent"in window,dt=null;On&&"documentMode"in document&&(dt=document.documentMode);var Vn=On&&"TextEvent"in window&&!dt,Ai=On&&(!Ye||dt&&8<dt&&11>=dt),Zn=" ",Wn=!1;function Ra(t,n){switch(t){case"keyup":return bt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yr=!1;function tE(t,n){switch(t){case"compositionend":return gr(n);case"keypress":return n.which!==32?null:(Wn=!0,Zn);case"textInput":return t=n.data,t===Zn&&Wn?null:t;default:return null}}function nE(t,n){if(yr)return t==="compositionend"||!Ye&&Ra(t,n)?(t=Ol(),Sa=Ml=Ti=null,yr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var iE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!iE[t.type]:n==="textarea"}function yp(t,n,r,l){Es?vi?vi.push(l):vi=[l]:Es=l,n=mc(n,"onChange"),0<n.length&&(r=new Ei("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ll=null,Ul=null;function sE(t){Wy(t,0)}function xu(t){var n=Tn(t);if(va(n))return t}function _p(t,n){if(t==="change")return n}var vp=!1;if(On){var Uh;if(On){var zh="oninput"in document;if(!zh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),zh=typeof Tp.oninput=="function"}Uh=zh}else Uh=!1;vp=Uh&&(!document.documentMode||9<document.documentMode)}function Ep(){Ll&&(Ll.detachEvent("onpropertychange",bp),Ul=Ll=null)}function bp(t){if(t.propertyName==="value"&&xu(Ul)){var n=[];yp(n,Ul,t,Mn(t)),bs(sE,n)}}function aE(t,n,r){t==="focusin"?(Ep(),Ll=n,Ul=r,Ll.attachEvent("onpropertychange",bp)):t==="focusout"&&Ep()}function rE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(Ul)}function lE(t,n){if(t==="click")return xu(n)}function oE(t,n){if(t==="input"||t==="change")return xu(n)}function uE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var bn=typeof Object.is=="function"?Object.is:uE;function zl(t,n){if(bn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Oe.call(n,h)||!bn(t[h],n[h]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ap(t,n){var r=Sp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sp(r)}}function wp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_i(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=_i(t.document)}return n}function Ph(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var cE=On&&"documentMode"in document&&11>=document.documentMode,_r=null,Bh=null,Pl=null,qh=!1;function Rp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qh||_r==null||_r!==_i(l)||(l=_r,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&zl(Pl,l)||(Pl=l,l=mc(Bh,"onSelect"),0<l.length&&(n=new Ei("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=_r)))}function Ca(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var vr={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Hh={},Cp={};On&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function Na(t){if(Hh[t])return Hh[t];if(!vr[t])return t;var n=vr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Cp)return Hh[t]=n[r];return t}var Np=Na("animationend"),Ip=Na("animationiteration"),Dp=Na("animationstart"),hE=Na("transitionrun"),fE=Na("transitionstart"),dE=Na("transitioncancel"),Mp=Na("transitionend"),Op=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function ei(t,n){Op.set(t,n),gi(n,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],Tr=0,Fh=0;function Cu(){for(var t=Tr,n=Fh=Tr=0;n<t;){var r=kn[n];kn[n++]=null;var l=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Vp(r,h,f)}}function Nu(t,n,r,l){kn[Tr++]=t,kn[Tr++]=n,kn[Tr++]=r,kn[Tr++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qh(t,n,r,l){return Nu(t,n,r,l),Iu(t)}function Ia(t,n){return Nu(t,null,null,n),Iu(t)}function Vp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Et(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Iu(t){if(50<oo)throw oo=0,nd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Er={};function mE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,r,l){return new mE(t,n,r,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,n){var r=t.alternate;return r===null?(r=Sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function kp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Kh(t)&&(g=1);else if(typeof t=="string")g=vb(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Sn(31,r,n,h),t.elementType=C,t.lanes=f,t;case K:return Da(r.children,h,f,n);case L:g=8,h|=24;break;case W:return t=Sn(12,r,n,h|2),t.elementType=W,t.lanes=f,t;case Ee:return t=Sn(13,r,n,h),t.elementType=Ee,t.lanes=f,t;case pe:return t=Sn(19,r,n,h),t.elementType=pe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:g=10;break e;case te:g=9;break e;case De:g=11;break e;case R:g=14;break e;case w:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Sn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Da(t,n,r,l){return t=Sn(7,t,l,n),t.lanes=r,t}function Yh(t,n,r){return t=Sn(6,t,null,n),t.lanes=r,t}function jp(t){var n=Sn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,r){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Lp=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var r=Lp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:yt(n)},Lp.set(t,n),n)}return{value:t,source:n,stack:yt(n)}}var br=[],Sr=0,Mu=null,Bl=0,Ln=[],Un=0,xs=null,wi=1,xi="";function Qi(t,n){br[Sr++]=Bl,br[Sr++]=Mu,Mu=t,Bl=n}function Up(t,n,r){Ln[Un++]=wi,Ln[Un++]=xi,Ln[Un++]=xs,xs=t;var l=wi;t=xi;var h=32-Et(l)-1;l&=~(1<<h),r+=1;var f=32-Et(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,wi=1<<32-Et(n)+h|r<<h|l,xi=f+t}else wi=1<<f|r<<h|l,xi=t}function $h(t){t.return!==null&&(Qi(t,1),Up(t,1,0))}function Jh(t){for(;t===Mu;)Mu=br[--Sr],br[Sr]=null,Bl=br[--Sr],br[Sr]=null;for(;t===xs;)xs=Ln[--Un],Ln[Un]=null,xi=Ln[--Un],Ln[Un]=null,wi=Ln[--Un],Ln[Un]=null}function zp(t,n){Ln[Un++]=wi,Ln[Un++]=xi,Ln[Un++]=xs,wi=n.id,xi=n.overflow,xs=t}var Xt=null,ut=null,He=!1,Rs=null,zn=!1,Zh=Error(a(519));function Cs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(jn(n,t)),Zh}function Pp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ct]=t,n[qt]=l,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(r=0;r<co.length;r++)ke(co[r],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),hu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),vs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||i0(n.textContent,r)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||Cs(t,!0)}function Bp(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Xt=Xt.return}}function Ar(t){if(t!==Xt)return!1;if(!He)return Bp(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||yd(t.type,t.memoizedProps)),r=!r),r&&ut&&Cs(t),Bp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=f0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=f0(t)}else n===27?(n=ut,qs(t.type)?(t=bd,bd=null,ut=t):ut=n):ut=Xt?Bn(t.stateNode.nextSibling):null;return!0}function Ma(){ut=Xt=null,He=!1}function Wh(){var t=Rs;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Rs=null),t}function ql(t){Rs===null?Rs=[t]:Rs.push(t)}var ef=O(null),Oa=null,Ki=null;function Ns(t,n,r){se(ef,n._currentValue),n._currentValue=r}function Yi(t){t._currentValue=ef.current,$(ef)}function tf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function nf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),tf(f.return,r,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),tf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function wr(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;bn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===je.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(go):t=[go])}h=h.return}t!==null&&nf(n,t,r,l),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Va(t){Oa=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return qp(Oa,t)}function Vu(t,n){return Oa===null&&Va(t),qp(t,n)}function qp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ki===null){if(t===null)throw Error(a(308));Ki=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ki=Ki.next=n;return r}var pE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},gE=s.unstable_scheduleCallback,yE=s.unstable_NormalPriority,Dt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new pE,data:new Map,refCount:0}}function Hl(t){t.refCount--,t.refCount===0&&gE(yE,function(){t.controller.abort()})}var Gl=null,af=0,xr=0,Rr=null;function _E(t,n){if(Gl===null){var r=Gl=[];af=0,xr=od(),Rr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return af++,n.then(Hp,Hp),n}function Hp(){if(--af===0&&Gl!==null){Rr!==null&&(Rr.status="fulfilled");var t=Gl;Gl=null,xr=0,Rr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function vE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Gp=F.S;F.S=function(t,n){Ry=on(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_E(t,n),Gp!==null&&Gp(t,n)};var ka=O(null);function rf(){var t=ka.current;return t!==null?t:lt.pooledCache}function ku(t,n){n===null?se(ka,ka.current):se(ka,n.pool)}function Fp(){var t=rf();return t===null?null:{parent:Dt._currentValue,pool:t}}var Cr=Error(a(460)),lf=Error(a(474)),ju=Error(a(542)),Lu={then:function(){}};function Qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Xn,Xn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xp(t),t;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xp(t),t}throw La=n,Cr}}function ja(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(La=r,Cr):r}}var La=null;function Yp(){if(La===null)throw Error(a(459));var t=La;return La=null,t}function Xp(t){if(t===Cr||t===ju)throw Error(a(483))}var Nr=null,Fl=0;function Uu(t){var n=Fl;return Fl+=1,Nr===null&&(Nr=[]),Kp(Nr,t,n)}function Ql(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $p(t){function n(j,M){if(t){var z=j.deletions;z===null?(j.deletions=[M],j.flags|=16):z.push(M)}}function r(j,M){if(!t)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Fi(j,M),j.index=0,j.sibling=null,j}function f(j,M,z){return j.index=z,t?(z=j.alternate,z!==null?(z=z.index,z<M?(j.flags|=67108866,M):z):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,M,z,X){return M===null||M.tag!==6?(M=Yh(z,j.mode,X),M.return=j,M):(M=h(M,z),M.return=j,M)}function N(j,M,z,X){var de=z.type;return de===K?Y(j,M,z.props.children,X,z.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&ja(de)===M.type)?(M=h(M,z.props),Ql(M,z),M.return=j,M):(M=Du(z.type,z.key,z.props,null,j.mode,X),Ql(M,z),M.return=j,M)}function P(j,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Xh(z,j.mode,X),M.return=j,M):(M=h(M,z.children||[]),M.return=j,M)}function Y(j,M,z,X,de){return M===null||M.tag!==7?(M=Da(z,j.mode,X,de),M.return=j,M):(M=h(M,z),M.return=j,M)}function J(j,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Yh(""+M,j.mode,z),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:return z=Du(M.type,M.key,M.props,null,j.mode,z),Ql(z,M),z.return=j,z;case G:return M=Xh(M,j.mode,z),M.return=j,M;case w:return M=ja(M),J(j,M,z)}if(pt(M)||k(M))return M=Da(M,j.mode,z,null),M.return=j,M;if(typeof M.then=="function")return J(j,Uu(M),z);if(M.$$typeof===ae)return J(j,Vu(j,M),z);zu(j,M)}return null}function B(j,M,z,X){var de=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:E(j,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===de?N(j,M,z,X):null;case G:return z.key===de?P(j,M,z,X):null;case w:return z=ja(z),B(j,M,z,X)}if(pt(z)||k(z))return de!==null?null:Y(j,M,z,X,null);if(typeof z.then=="function")return B(j,M,Uu(z),X);if(z.$$typeof===ae)return B(j,M,Vu(j,z),X);zu(j,z)}return null}function H(j,M,z,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(z)||null,E(M,j,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Q:return j=j.get(X.key===null?z:X.key)||null,N(M,j,X,de);case G:return j=j.get(X.key===null?z:X.key)||null,P(M,j,X,de);case w:return X=ja(X),H(j,M,z,X,de)}if(pt(X)||k(X))return j=j.get(z)||null,Y(M,j,X,de,null);if(typeof X.then=="function")return H(j,M,z,Uu(X),de);if(X.$$typeof===ae)return H(j,M,z,Vu(M,X),de);zu(M,X)}return null}function oe(j,M,z,X){for(var de=null,Fe=null,ue=M,Me=M=0,Ue=null;ue!==null&&Me<z.length;Me++){ue.index>Me?(Ue=ue,ue=null):Ue=ue.sibling;var Qe=B(j,ue,z[Me],X);if(Qe===null){ue===null&&(ue=Ue);break}t&&ue&&Qe.alternate===null&&n(j,ue),M=f(Qe,M,Me),Fe===null?de=Qe:Fe.sibling=Qe,Fe=Qe,ue=Ue}if(Me===z.length)return r(j,ue),He&&Qi(j,Me),de;if(ue===null){for(;Me<z.length;Me++)ue=J(j,z[Me],X),ue!==null&&(M=f(ue,M,Me),Fe===null?de=ue:Fe.sibling=ue,Fe=ue);return He&&Qi(j,Me),de}for(ue=l(ue);Me<z.length;Me++)Ue=H(ue,j,Me,z[Me],X),Ue!==null&&(t&&Ue.alternate!==null&&ue.delete(Ue.key===null?Me:Ue.key),M=f(Ue,M,Me),Fe===null?de=Ue:Fe.sibling=Ue,Fe=Ue);return t&&ue.forEach(function(Ks){return n(j,Ks)}),He&&Qi(j,Me),de}function ye(j,M,z,X){if(z==null)throw Error(a(151));for(var de=null,Fe=null,ue=M,Me=M=0,Ue=null,Qe=z.next();ue!==null&&!Qe.done;Me++,Qe=z.next()){ue.index>Me?(Ue=ue,ue=null):Ue=ue.sibling;var Ks=B(j,ue,Qe.value,X);if(Ks===null){ue===null&&(ue=Ue);break}t&&ue&&Ks.alternate===null&&n(j,ue),M=f(Ks,M,Me),Fe===null?de=Ks:Fe.sibling=Ks,Fe=Ks,ue=Ue}if(Qe.done)return r(j,ue),He&&Qi(j,Me),de;if(ue===null){for(;!Qe.done;Me++,Qe=z.next())Qe=J(j,Qe.value,X),Qe!==null&&(M=f(Qe,M,Me),Fe===null?de=Qe:Fe.sibling=Qe,Fe=Qe);return He&&Qi(j,Me),de}for(ue=l(ue);!Qe.done;Me++,Qe=z.next())Qe=H(ue,j,Me,Qe.value,X),Qe!==null&&(t&&Qe.alternate!==null&&ue.delete(Qe.key===null?Me:Qe.key),M=f(Qe,M,Me),Fe===null?de=Qe:Fe.sibling=Qe,Fe=Qe);return t&&ue.forEach(function(Ib){return n(j,Ib)}),He&&Qi(j,Me),de}function rt(j,M,z,X){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:e:{for(var de=z.key;M!==null;){if(M.key===de){if(de=z.type,de===K){if(M.tag===7){r(j,M.sibling),X=h(M,z.props.children),X.return=j,j=X;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&ja(de)===M.type){r(j,M.sibling),X=h(M,z.props),Ql(X,z),X.return=j,j=X;break e}r(j,M);break}else n(j,M);M=M.sibling}z.type===K?(X=Da(z.props.children,j.mode,X,z.key),X.return=j,j=X):(X=Du(z.type,z.key,z.props,null,j.mode,X),Ql(X,z),X.return=j,j=X)}return g(j);case G:e:{for(de=z.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){r(j,M.sibling),X=h(M,z.children||[]),X.return=j,j=X;break e}else{r(j,M);break}else n(j,M);M=M.sibling}X=Xh(z,j.mode,X),X.return=j,j=X}return g(j);case w:return z=ja(z),rt(j,M,z,X)}if(pt(z))return oe(j,M,z,X);if(k(z)){if(de=k(z),typeof de!="function")throw Error(a(150));return z=de.call(z),ye(j,M,z,X)}if(typeof z.then=="function")return rt(j,M,Uu(z),X);if(z.$$typeof===ae)return rt(j,M,Vu(j,z),X);zu(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(r(j,M.sibling),X=h(M,z),X.return=j,j=X):(r(j,M),X=Yh(z,j.mode,X),X.return=j,j=X),g(j)):r(j,M)}return function(j,M,z,X){try{Fl=0;var de=rt(j,M,z,X);return Nr=null,de}catch(ue){if(ue===Cr||ue===ju)throw ue;var Fe=Sn(29,ue,null,j.mode);return Fe.lanes=X,Fe.return=j,Fe}finally{}}}var Ua=$p(!0),Jp=$p(!1),Is=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ds(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(t),Vp(t,null,r),n}return Nu(t,l,n,r),Iu(t)}function Kl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Tl(t,r)}}function cf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var hf=!1;function Yl(){if(hf){var t=Rr;if(t!==null)throw t}}function Xl(t,n,r,l){hf=!1;var h=t.updateQueue;Is=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,P=N.next;N.next=null,g===null?f=P:g.next=P,g=N;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=P:E.next=P,Y.lastBaseUpdate=N))}if(f!==null){var J=h.baseState;g=0,Y=P=N=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Le&B)===B:(l&B)===B){B!==0&&B===xr&&(hf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,ye=E;B=n;var rt=r;switch(ye.tag){case 1:if(oe=ye.payload,typeof oe=="function"){J=oe.call(rt,J,B);break e}J=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ye.payload,B=typeof oe=="function"?oe.call(rt,J,B):oe,B==null)break e;J=A({},J,B);break e;case 2:Is=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(P=Y=H,N=J):Y=Y.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(N=J),h.baseState=N,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Ls|=g,t.lanes=g,t.memoizedState=J}}function Zp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Wp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Zp(r[t],n)}var Ir=O(null),Pu=O(0);function eg(t,n){t=is,se(Pu,t),se(Ir,n),is=t|n.baseLanes}function ff(){se(Pu,is),se(Ir,Ir.current)}function df(){is=Pu.current,$(Ir),$(Pu)}var An=O(null),Pn=null;function Os(t){var n=t.alternate;se(St,St.current&1),se(An,t),Pn===null&&(n===null||Ir.current!==null||n.memoizedState!==null)&&(Pn=t)}function mf(t){se(St,St.current),se(An,t),Pn===null&&(Pn=t)}function tg(t){t.tag===22?(se(St,St.current),se(An,t),Pn===null&&(Pn=t)):Vs()}function Vs(){se(St,St.current),se(An,An.current)}function wn(t){$(An),Pn===t&&(Pn=null),$(St)}var St=O(0);function Bu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||Ed(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xi=0,Ie=null,st=null,Mt=null,qu=!1,Dr=!1,za=!1,Hu=0,$l=0,Mr=null,TE=0;function _t(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!bn(t[r],n[r]))return!1;return!0}function gf(t,n,r,l,h,f){return Xi=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Ug:Df,za=!1,f=r(l,h),za=!1,Dr&&(f=ig(n,r,l,h)),ng(t),f}function ng(t){F.H=Wl;var n=st!==null&&st.next!==null;if(Xi=0,Mt=st=Ie=null,qu=!1,$l=0,Mr=null,n)throw Error(a(300));t===null||Ot||(t=t.dependencies,t!==null&&Ou(t)&&(Ot=!0))}function ig(t,n,r,l){Ie=t;var h=0;do{if(Dr&&(Mr=null),$l=0,Dr=!1,25<=h)throw Error(a(301));if(h+=1,Mt=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=zg,f=n(r,l)}while(Dr);return f}function EE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Jl(n):n,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ie.flags|=1024),n}function yf(){var t=Hu!==0;return Hu=0,t}function _f(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function vf(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}Xi=0,Mt=st=Ie=null,Dr=!1,$l=Hu=0,Mr=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ie.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function At(){if(st===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var n=Mt===null?Ie.memoizedState:Mt.next;if(n!==null)Mt=n,st=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Mt===null?Ie.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(t){var n=$l;return $l+=1,Mr===null&&(Mr=[]),t=Kp(Mr,t,n),n=Ie,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Ug:Df),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jl(t);if(t.$$typeof===ae)return $t(t)}throw Error(a(438,String(t)))}function Tf(t){var n=null,r=Ie.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Gu(),Ie.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function $i(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=At();return Ef(n,st,t)}function Ef(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,N=null,P=n,Y=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(Le&J)===J:(Xi&J)===J){var B=P.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===xr&&(Y=!0);else if((Xi&B)===B){P=P.next,B===xr&&(Y=!0);continue}else J={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=J,g=f):N=N.next=J,Ie.lanes|=B,Ls|=B;J=P.action,za&&r(f,J),f=P.hasEagerState?P.eagerState:r(f,J)}else B={lane:J,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=B,g=f):N=N.next=B,Ie.lanes|=J,Ls|=J;P=P.next}while(P!==null&&P!==n);if(N===null?g=f:N.next=E,!bn(f,t.memoizedState)&&(Ot=!0,Y&&(r=Rr,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var n=At(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);bn(f,n.memoizedState)||(Ot=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function sg(t,n,r){var l=Ie,h=At(),f=He;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!bn((st||h).memoizedState,r);if(g&&(h.memoizedState=r,Ot=!0),h=h.queue,wf(lg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Or(9,{destroy:void 0},rg.bind(null,l,h,r,n),null),lt===null)throw Error(a(349));f||(Xi&127)!==0||ag(l,n,r)}return r}function ag(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ie.updateQueue,n===null?(n=Gu(),Ie.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function rg(t,n,r,l){n.value=r,n.getSnapshot=l,og(n)&&ug(t)}function lg(t,n,r){return r(function(){og(n)&&ug(t)})}function og(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!bn(t,r)}catch{return!0}}function ug(t){var n=Ia(t,2);n!==null&&yn(n,t,2)}function Sf(t){var n=cn();if(typeof t=="function"){var r=t;if(t=r(),za){In(!0);try{r()}finally{In(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},n}function cg(t,n,r,l){return t.baseState=r,Ef(t,st,typeof l=="function"?l:$i)}function bE(t,n,r,l,h){if(Xu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,hg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function hg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=r(h,l),N=F.S;N!==null&&N(g,E),fg(t,n,E)}catch(P){Af(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=r(h,l),fg(t,n,f)}catch(P){Af(t,n,P)}}function fg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){dg(t,n,l)},function(l){return Af(t,n,l)}):dg(t,n,r)}function dg(t,n,r){n.status="fulfilled",n.value=r,mg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,hg(t,r)))}function Af(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,mg(n),n=n.next;while(n!==l)}t.action=null}function mg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pg(t,n){return n}function gg(t,n){if(He){var r=lt.formState;if(r!==null){e:{var l=Ie;if(He){if(ut){t:{for(var h=ut,f=zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Bn(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},r.queue=l,r=kg.bind(null,Ie,l),l.dispatch=r,l=Sf(!1),f=If.bind(null,Ie,!1,l.queue),l=cn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=bE.bind(null,Ie,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function yg(t){var n=At();return _g(n,st,t)}function _g(t,n,r){if(n=Ef(t,n,pg)[0],t=Qu($i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Jl(n)}catch(g){throw g===Cr?ju:g}else l=n;n=At();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ie.flags|=2048,Or(9,{destroy:void 0},SE.bind(null,h,r),null)),[l,f,t]}function SE(t,n){t.action=n}function vg(t){var n=At(),r=st;if(r!==null)return _g(n,r,t);At(),n=n.memoizedState,r=At();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Or(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Gu(),Ie.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Tg(){return At().memoizedState}function Ku(t,n,r,l){var h=cn();Ie.flags|=t,h.memoizedState=Or(1|n,{destroy:void 0},r,l===void 0?null:l)}function Yu(t,n,r,l){var h=At();l=l===void 0?null:l;var f=h.memoizedState.inst;st!==null&&l!==null&&pf(l,st.memoizedState.deps)?h.memoizedState=Or(n,f,r,l):(Ie.flags|=t,h.memoizedState=Or(1|n,f,r,l))}function Eg(t,n){Ku(8390656,8,t,n)}function wf(t,n){Yu(2048,8,t,n)}function AE(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=Gu(),Ie.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function bg(t){var n=At().memoizedState;return AE({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Sg(t,n){return Yu(4,2,t,n)}function Ag(t,n){return Yu(4,4,t,n)}function wg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,r){r=r!=null?r.concat([t]):null,Yu(4,4,wg.bind(null,n,t),r)}function xf(){}function Rg(t,n){var r=At();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&pf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Cg(t,n){var r=At();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&pf(n,l[1]))return l[0];if(l=t(),za){In(!0);try{t()}finally{In(!1)}}return r.memoizedState=[l,n],l}function Rf(t,n,r){return r===void 0||(Xi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ny(),Ie.lanes|=t,Ls|=t,r)}function Ng(t,n,r,l){return bn(r,n)?r:Ir.current!==null?(t=Rf(t,r,l),bn(t,n)||(Ot=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Le&261930)===0?(Ot=!0,t.memoizedState=r):(t=Ny(),Ie.lanes|=t,Ls|=t,n)}function Ig(t,n,r,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,If(t,!1,n,r);try{var N=h(),P=F.S;if(P!==null&&P(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=vE(N,l);Zl(t,n,Y,Cn(t))}else Zl(t,n,l,Cn(t))}catch(J){Zl(t,n,{then:function(){},status:"rejected",reason:J},Cn())}finally{ie.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function wE(){}function Cf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Dg(t).queue;Ig(t,h,n,fe,r===null?wE:function(){return Mg(t),r(l)})}function Dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:fe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mg(t){var n=Dg(t);n.next===null&&(n=t.alternate.memoizedState),Zl(t,n.next.queue,{},Cn())}function Nf(){return $t(go)}function Og(){return At().memoizedState}function Vg(){return At().memoizedState}function xE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();t=Ds(r);var l=Ms(n,t,r);l!==null&&(yn(l,n,r),Kl(l,n,r)),n={cache:sf()},t.payload=n;return}n=n.return}}function RE(t,n,r){var l=Cn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Xu(t)?jg(n,r):(r=Qh(t,n,r,l),r!==null&&(yn(r,t,l),Lg(r,n,l)))}function kg(t,n,r){var l=Cn();Zl(t,n,r,l)}function Zl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))jg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,bn(E,g))return Nu(t,n,h,0),lt===null&&Cu(),!1}catch{}finally{}if(r=Qh(t,n,h,l),r!==null)return yn(r,t,l),Lg(r,n,l),!0}return!1}function If(t,n,r,l){if(l={lane:2,revertLane:od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(n)throw Error(a(479))}else n=Qh(t,r,l,2),n!==null&&yn(n,t,2)}function Xu(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function jg(t,n){Dr=qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Lg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Tl(t,r)}}var Wl={readContext:$t,use:Fu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Wl.useEffectEvent=_t;var Ug={readContext:$t,use:Fu,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:Eg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ku(4194308,4,wg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var r=cn();n=n===void 0?null:n;var l=t();if(za){In(!0);try{t()}finally{In(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=cn();if(r!==void 0){var h=r(n);if(za){In(!0);try{r(n)}finally{In(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=RE.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Sf(t);var n=t.queue,r=kg.bind(null,Ie,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:xf,useDeferredValue:function(t,n){var r=cn();return Rf(r,t,n)},useTransition:function(){var t=Sf(!1);return t=Ig.bind(null,Ie,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ie,h=cn();if(He){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),lt===null)throw Error(a(349));(Le&127)!==0||ag(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Eg(lg.bind(null,l,f,t),[t]),l.flags|=2048,Or(9,{destroy:void 0},rg.bind(null,l,f,r,n),null),r},useId:function(){var t=cn(),n=lt.identifierPrefix;if(He){var r=xi,l=wi;r=(l&~(1<<32-Et(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=TE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nf,useFormState:gg,useActionState:gg,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=If.bind(null,Ie,!0,r),r.dispatch=n,[t,n]},useMemoCache:Tf,useCacheRefresh:function(){return cn().memoizedState=xE.bind(null,Ie)},useEffectEvent:function(t){var n=cn(),r={impl:t};return n.memoizedState=r,function(){if((Xe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:$t,use:Fu,useCallback:Rg,useContext:$t,useEffect:wf,useImperativeHandle:xg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Cg,useReducer:Qu,useRef:Tg,useState:function(){return Qu($i)},useDebugValue:xf,useDeferredValue:function(t,n){var r=At();return Ng(r,st.memoizedState,t,n)},useTransition:function(){var t=Qu($i)[0],n=At().memoizedState;return[typeof t=="boolean"?t:Jl(t),n]},useSyncExternalStore:sg,useId:Og,useHostTransitionStatus:Nf,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var r=At();return cg(r,st,t,n)},useMemoCache:Tf,useCacheRefresh:Vg};Df.useEffectEvent=bg;var zg={readContext:$t,use:Fu,useCallback:Rg,useContext:$t,useEffect:wf,useImperativeHandle:xg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Cg,useReducer:bf,useRef:Tg,useState:function(){return bf($i)},useDebugValue:xf,useDeferredValue:function(t,n){var r=At();return st===null?Rf(r,t,n):Ng(r,st.memoizedState,t,n)},useTransition:function(){var t=bf($i)[0],n=At().memoizedState;return[typeof t=="boolean"?t:Jl(t),n]},useSyncExternalStore:sg,useId:Og,useHostTransitionStatus:Nf,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var r=At();return st!==null?cg(r,st,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Vg};zg.useEffectEvent=bg;function Mf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Of={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Cn(),h=Ds(l);h.payload=n,r!=null&&(h.callback=r),n=Ms(t,h,l),n!==null&&(yn(n,t,l),Kl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Cn(),h=Ds(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ms(t,h,l),n!==null&&(yn(n,t,l),Kl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Cn(),l=Ds(r);l.tag=2,n!=null&&(l.callback=n),n=Ms(t,l,r),n!==null&&(yn(n,t,r),Kl(n,t,r))}};function Pg(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!zl(r,l)||!zl(h,f):!0}function Bg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Of.enqueueReplaceState(n,n.state,null)}function Pa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function qg(t){Ru(t)}function Hg(t){console.error(t)}function Gg(t){Ru(t)}function $u(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,n,r){return r=Ds(r),r.tag=3,r.payload={element:null},r.callback=function(){$u(t,n)},r}function Qg(t){return t=Ds(t),t.tag=3,t}function Kg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Fg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Fg(n,r,l),typeof h!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function CE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&wr(n,r,h,!0),r=An.current,r!==null){switch(r.tag){case 31:case 13:return Pn===null?oc():r.alternate===null&&vt===0&&(vt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Lu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ad(t,l,h)),!1;case 22:return r.flags|=65536,l===Lu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ad(t,l,h)),!1}throw Error(a(435,r.tag))}return ad(t,l,h),oc(),!1}if(He)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zh&&(t=Error(a(422),{cause:l}),ql(jn(t,r)))):(l!==Zh&&(n=Error(a(423),{cause:l}),ql(jn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,r),h=Vf(t.stateNode,l,h),cf(t,h),vt!==4&&(vt=2)),!1;var f=Error(a(520),{cause:l});if(f=jn(f,r),lo===null?lo=[f]:lo.push(f),vt!==4&&(vt=2),n===null)return!0;l=jn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Vf(r.stateNode,l,t),cf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Us===null||!Us.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Qg(h),Kg(h,t,r,l),cf(r,h),!1}r=r.return}while(r!==null);return!1}var kf=Error(a(461)),Ot=!1;function Jt(t,n,r,l){n.child=t===null?Jp(n,null,r,l):Ua(n,t.child,r,l)}function Yg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Va(n),l=gf(t,n,r,g,f,h),E=yf(),t!==null&&!Ot?(_f(t,n,h),Ji(t,n,h)):(He&&E&&$h(n),n.flags|=1,Jt(t,n,l,h),n.child)}function Xg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,$g(t,n,f,l,h)):(t=Du(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:zl,r(g,l)&&t.ref===n.ref)return Ji(t,n,h)}return n.flags|=1,t=Fi(f,l),t.ref=n.ref,t.return=n,n.child=t}function $g(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(zl(f,l)&&t.ref===n.ref)if(Ot=!1,n.pendingProps=l=f,Hf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return n.lanes=t.lanes,Ji(t,n,h)}return jf(t,n,r,l,h)}function Jg(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Zg(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(n,f!==null?f.cachePool:null),f!==null?eg(n,f):ff(),tg(n);else return l=n.lanes=536870912,Zg(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(ku(n,f.cachePool),eg(n,f),Vs(),n.memoizedState=null):(t!==null&&ku(n,null),ff(),Vs());return Jt(t,n,h,r),n.child}function eo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zg(t,n,r,l,h){var f=rf();return f=f===null?null:{parent:Dt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&ku(n,null),ff(),tg(n),t!==null&&wr(t,n,l,!0),n.childLanes=h,null}function Ju(t,n){return n=Wu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Wg(t,n,r){return Ua(n,t.child,null,r),t=Ju(n,n.pendingProps),t.flags|=2,wn(n),n.memoizedState=null,t}function NE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=Ju(n,l),n.lanes=536870912,eo(null,t);if(mf(n),(t=ut)?(t=h0(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:wi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},r=jp(t),r.return=n,n.child=r,Xt=n,ut=null)):t=null,t===null)throw Cs(n);return n.lanes=536870912,null}return Ju(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=Wg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ot||wr(t,n,r,!1),h=(r&t.childLanes)!==0,Ot||h){if(l=lt,l!==null&&(g=El(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ia(t,g),yn(l,t,g),kf;oc(),n=Wg(t,n,r)}else t=f.treeContext,ut=Bn(g.nextSibling),Xt=n,He=!0,Rs=null,zn=!1,t!==null&&zp(n,t),n=Ju(n,l),n.flags|=4096;return n}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function jf(t,n,r,l,h){return Va(n),r=gf(t,n,r,l,void 0,h),l=yf(),t!==null&&!Ot?(_f(t,n,h),Ji(t,n,h)):(He&&l&&$h(n),n.flags|=1,Jt(t,n,r,h),n.child)}function ey(t,n,r,l,h,f){return Va(n),n.updateQueue=null,r=ig(n,l,r,h),ng(t),l=yf(),t!==null&&!Ot?(_f(t,n,f),Ji(t,n,f)):(He&&l&&$h(n),n.flags|=1,Jt(t,n,r,f),n.child)}function ty(t,n,r,l,h){if(Va(n),n.stateNode===null){var f=Er,g=r.contextType;typeof g=="object"&&g!==null&&(f=$t(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},of(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?$t(g):Er,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Mf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Of.enqueueReplaceState(f,f.state,null),Xl(n,l,f,h),Yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Pa(r,E);f.props=N;var P=f.context,Y=r.contextType;g=Er,typeof Y=="object"&&Y!==null&&(g=$t(Y));var J=r.getDerivedStateFromProps;Y=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Bg(n,f,l,g),Is=!1;var B=n.memoizedState;f.state=B,Xl(n,l,f,h),Yl(),P=n.memoizedState,E||B!==P||Is?(typeof J=="function"&&(Mf(n,r,J,l),P=n.memoizedState),(N=Is||Pg(n,r,N,l,B,P,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uf(t,n),g=n.memoizedProps,Y=Pa(r,g),f.props=Y,J=n.pendingProps,B=f.context,P=r.contextType,N=Er,typeof P=="object"&&P!==null&&(N=$t(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==J||B!==N)&&Bg(n,f,l,N),Is=!1,B=n.memoizedState,f.state=B,Xl(n,l,f,h),Yl();var H=n.memoizedState;g!==J||B!==H||Is||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof E=="function"&&(Mf(n,r,E,l),H=n.memoizedState),(Y=Is||Pg(n,r,Y,l,B,H,N)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=N,l=Y):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ua(n,t.child,null,h),n.child=Ua(n,null,r,h)):Jt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Ji(t,n,h),t}function ny(t,n,r,l){return Ma(),n.flags|=256,Jt(t,n,r,l),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Fp()}}function zf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Rn),t}function iy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Os(n):Vs(),(t=ut)?(t=h0(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:wi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},r=jp(t),r.return=n,n.child=r,Xt=n,ut=null)):t=null,t===null)throw Cs(n);return Ed(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Vs(),h=n.mode,E=Wu({mode:"hidden",children:E},h),l=Da(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Uf(r),l.childLanes=zf(t,g,r),n.memoizedState=Lf,eo(null,l)):(Os(n),Pf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(Os(n),n.flags&=-257,n=Bf(t,n,r)):n.memoizedState!==null?(Vs(),n.child=t.child,n.flags|=128,n=null):(Vs(),E=l.fallback,h=n.mode,l=Wu({mode:"visible",children:l.children},h),E=Da(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ua(n,t.child,null,r),l=n.child,l.memoizedState=Uf(r),l.childLanes=zf(t,g,r),n.memoizedState=Lf,n=eo(null,l));else if(Os(n),Ed(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,ql({value:l,source:null,stack:null}),n=Bf(t,n,r)}else if(Ot||wr(t,n,r,!1),g=(r&t.childLanes)!==0,Ot||g){if(g=lt,g!==null&&(l=El(g,r),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ia(t,l),yn(g,t,l),kf;Td(E)||oc(),n=Bf(t,n,r)}else Td(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ut=Bn(E.nextSibling),Xt=n,He=!0,Rs=null,zn=!1,t!==null&&zp(n,t),n=Pf(n,l.children),n.flags|=4096);return n}return h?(Vs(),E=l.fallback,h=n.mode,N=t.child,P=N.sibling,l=Fi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,P!==null?E=Fi(P,E):(E=Da(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,eo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Uf(r):(h=E.cachePool,h!==null?(N=Dt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Fp(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=zf(t,g,r),n.memoizedState=Lf,eo(t.child,l)):(Os(n),r=t.child,t=r.sibling,r=Fi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Pf(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=Sn(22,t,null,n),t.lanes=0,t}function Bf(t,n,r){return Ua(n,t.child,null,r),t=Pf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),tf(t.return,n,r)}function qf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ay(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=St.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,se(St,g),Jt(t,n,l,r),l=He?Bl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,r,n);else if(t.tag===19)sy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Bu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),qf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}qf(n,!0,r,null,f,l);break;case"together":qf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ji(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ls|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(wr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Fi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Fi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function IE(t,n,r){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),Ns(n,Dt,t.memoizedState.cache),Ma();break;case 27:case 5:Pi(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:Ns(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Os(n),n.flags|=128,null):(r&n.child.childLanes)!==0?iy(t,n,r):(Os(n),t=Ji(t,n,r),t!==null?t.sibling:null);Os(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(wr(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ay(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(St,St.current),l)break;return null;case 22:return n.lanes=0,Jg(t,n,r,n.pendingProps);case 24:Ns(n,Dt,t.memoizedState.cache)}return Ji(t,n,r)}function ry(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ot=!0;else{if(!Hf(t,r)&&(n.flags&128)===0)return Ot=!1,IE(t,n,r);Ot=(t.flags&131072)!==0}else Ot=!1,He&&(n.flags&1048576)!==0&&Up(n,Bl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ja(n.elementType),n.type=t,typeof t=="function")Kh(t)?(l=Pa(t,l),n.tag=1,n=ty(null,n,t,l,r)):(n.tag=0,n=jf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===De){n.tag=11,n=Yg(null,n,t,l,r);break e}else if(h===R){n.tag=14,n=Xg(null,n,t,l,r);break e}}throw n=$e(t)||t,Error(a(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Pa(l,n.pendingProps),ty(t,n,l,h,r);case 3:e:{if(Tt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),Xl(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Ns(n,Dt,l),l!==f.cache&&nf(n,[Dt],r,!0),Yl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(t,n,l,r);break e}else if(l!==h){h=jn(Error(a(424)),n),ql(h),n=ny(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Bn(t.firstChild),Xt=n,He=!0,Rs=null,zn=!0,r=Jp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ma(),l===h){n=Ji(t,n,r);break e}Jt(t,n,l,r)}n=n.child}return n;case 26:return Zu(t,n),t===null?(r=y0(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,l=pc(Re.current).createElement(r),l[Ct]=n,l[qt]=t,Zt(l,r,t),Nt(l),n.stateNode=l):n.memoizedState=y0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pi(n),t===null&&He&&(l=n.stateNode=m0(n.type,n.pendingProps,Re.current),Xt=n,zn=!0,h=ut,qs(n.type)?(bd=h,ut=Bn(l.firstChild)):ut=h),Jt(t,n,n.pendingProps.children,r),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=l=ut)&&(l=rb(l,n.type,n.pendingProps,zn),l!==null?(n.stateNode=l,Xt=n,ut=Bn(l.firstChild),zn=!1,h=!0):h=!1),h||Cs(n)),Pi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,yd(h,f)?l=null:g!==null&&yd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,EE,null,null,r),go._currentValue=h),Zu(t,n),Jt(t,n,l,r),n.child;case 6:return t===null&&He&&((t=r=ut)&&(r=lb(r,n.pendingProps,zn),r!==null?(n.stateNode=r,Xt=n,ut=null,t=!0):t=!1),t||Cs(n)),null;case 13:return iy(t,n,r);case 4:return Tt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ua(n,null,l,r):Jt(t,n,l,r),n.child;case 11:return Yg(t,n,n.type,n.pendingProps,r);case 7:return Jt(t,n,n.pendingProps,r),n.child;case 8:return Jt(t,n,n.pendingProps.children,r),n.child;case 12:return Jt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ns(n,n.type,l.value),Jt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Va(n),h=$t(h),l=l(h),n.flags|=1,Jt(t,n,l,r),n.child;case 14:return Xg(t,n,n.type,n.pendingProps,r);case 15:return $g(t,n,n.type,n.pendingProps,r);case 19:return ay(t,n,r);case 31:return NE(t,n,r);case 22:return Jg(t,n,r,n.pendingProps);case 24:return Va(n),l=$t(Dt),t===null?(h=rf(),h===null&&(h=lt,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},of(n),Ns(n,Dt,h)):((t.lanes&r)!==0&&(uf(t,n),Xl(n,null,null,r),Yl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ns(n,Dt,l)):(l=f.cache,Ns(n,Dt,l),l!==h.cache&&nf(n,[Dt],r,!0))),Jt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Zi(t){t.flags|=4}function Gf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Oy())t.flags|=8192;else throw La=Lu,lf}else t.flags&=-16777217}function ly(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b0(n))if(Oy())t.flags|=8192;else throw La=Lu,lf}function ec(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,Lr|=n)}function to(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function DE(t,n,r){var l=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Yi(Dt),ot(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ar(n)?Zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Zi(n),f!==null?(ct(n),ly(n,f)):(ct(n),Gf(n,h,null,l,r))):f?f!==t.memoizedState?(Zi(n),ct(n),ly(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(n),ct(n),Gf(n,h,t,l,r)),null;case 27:if(ps(n),r=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ct(n),null}t=re.current,Ar(n)?Pp(n):(t=m0(h,l,r),n.stateNode=t,Zi(n))}return ct(n),null;case 5:if(ps(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ct(n),null}if(f=re.current,Ar(n))Pp(n);else{var g=pc(Re.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Ct]=n,f[qt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Zt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(n)}}return ct(n),Gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Re.current,Ar(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||i0(t.nodeValue,r)),t||Cs(n,!0)}else t=pc(t).createTextNode(l),t[Ct]=n,n.stateNode=t}return ct(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ar(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ct]=n}else Ma(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else r=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ct(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ar(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ct]=n}else Ma(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ec(n,n.updateQueue),ct(n),null);case 4:return ot(),t===null&&fd(n.stateNode.containerInfo),ct(n),null;case 10:return Yi(n.type),ct(n),null;case 19:if($(St),l=n.memoizedState,l===null)return ct(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)to(l,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bu(t),f!==null){for(n.flags|=128,to(l,!1),t=f.updateQueue,n.updateQueue=t,ec(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)kp(r,t),r=r.sibling;return se(St,St.current&1|2),He&&Qi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&on()>ac&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304)}else{if(!h)if(t=Bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ec(n,t),to(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return ct(n),null}else 2*on()-l.renderingStartTime>ac&&r!==536870912&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,r=St.current,se(St,h?r&1|2:r&1),He&&Qi(n,l.treeForkCount),t):(ct(n),null);case 22:case 23:return wn(n),df(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),r=n.updateQueue,r!==null&&ec(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&$(ka),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Yi(Dt),ct(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ME(t,n){switch(Jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Yi(Dt),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ps(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(a(340));Ma()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(wn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ma()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(St),null;case 4:return ot(),null;case 10:return Yi(n.type),null;case 22:case 23:return wn(n),df(),t!==null&&$(ka),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Yi(Dt),null;case 25:return null;default:return null}}function oy(t,n){switch(Jh(n),n.tag){case 3:Yi(Dt),ot();break;case 26:case 27:case 5:ps(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:$(St);break;case 10:Yi(n.type);break;case 22:case 23:wn(n),df(),t!==null&&$(ka);break;case 24:Yi(Dt)}}function no(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(E){tt(n,n.return,E)}}function ks(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var N=r,P=E;try{P()}catch(Y){tt(h,N,Y)}}}l=l.next}while(l!==f)}}catch(Y){tt(n,n.return,Y)}}function uy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Wp(n,r)}catch(l){tt(t,t.return,l)}}}function cy(t,n,r){r.props=Pa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){tt(t,n,l)}}function io(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){tt(t,n,h)}}function Ri(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){tt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){tt(t,n,h)}else r.current=null}function hy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){tt(t,t.return,h)}}function Ff(t,n,r){try{var l=t.stateNode;eb(l,t.type,r,n),l[qt]=n}catch(h){tt(t,t.return,h)}}function fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qs(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Xn));else if(l!==4&&(l===27&&qs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,r),t=t.sibling;t!==null;)Kf(t,n,r),t=t.sibling}function tc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&qs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(tc(t,n,r),t=t.sibling;t!==null;)tc(t,n,r),t=t.sibling}function dy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Zt(n,l,r),n[Ct]=t,n[qt]=r}catch(f){tt(t,t.return,f)}}var Wi=!1,Vt=!1,Yf=!1,my=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function OE(t,n){if(t=t.containerInfo,pd=bc,t=xp(t),Ph(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,N=-1,P=0,Y=0,J=t,B=null;t:for(;;){for(var H;J!==r||h!==0&&J.nodeType!==3||(E=g+h),J!==f||l!==0&&J.nodeType!==3||(N=g+l),J.nodeType===3&&(g+=J.nodeValue.length),(H=J.firstChild)!==null;)B=J,J=H;for(;;){if(J===t)break t;if(B===r&&++P===h&&(E=g),B===f&&++Y===l&&(N=g),(H=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=H}r=E===-1||N===-1?null:{start:E,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:t,selectionRange:r},bc=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var oe=Pa(r.type,h);t=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){tt(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)vd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function py(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ts(t,r),l&4&&no(5,r);break;case 1:if(ts(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){tt(r,r.return,g)}else{var h=Pa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){tt(r,r.return,g)}}l&64&&uy(r),l&512&&io(r,r.return);break;case 3:if(ts(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Wp(t,n)}catch(g){tt(r,r.return,g)}}break;case 27:n===null&&l&4&&dy(r);case 26:case 5:ts(t,r),n===null&&l&4&&hy(r),l&512&&io(r,r.return);break;case 12:ts(t,r);break;case 31:ts(t,r),l&4&&_y(t,r);break;case 13:ts(t,r),l&4&&vy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=qE.bind(null,r),ob(t,r))));break;case 22:if(l=r.memoizedState!==null||Wi,!l){n=n!==null&&n.memoizedState!==null||Vt,h=Wi;var f=Vt;Wi=l,(Vt=n)&&!f?ns(t,r,(r.subtreeFlags&8772)!==0):ts(t,r),Wi=h,Vt=f}break;case 30:break;default:ts(t,r)}}function gy(t){var n=t.alternate;n!==null&&(t.alternate=null,gy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&lr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,dn=!1;function es(t,n,r){for(r=r.child;r!==null;)yy(t,n,r),r=r.sibling}function yy(t,n,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Fn,r)}catch{}switch(r.tag){case 26:Vt||Ri(r,n),es(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Vt||Ri(r,n);var l=mt,h=dn;qs(r.type)&&(mt=r.stateNode,dn=!1),es(t,n,r),fo(r.stateNode),mt=l,dn=h;break;case 5:Vt||Ri(r,n);case 6:if(l=mt,h=dn,mt=null,es(t,n,r),mt=l,dn=h,mt!==null)if(dn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(r.stateNode)}catch(f){tt(r,n,f)}else try{mt.removeChild(r.stateNode)}catch(f){tt(r,n,f)}break;case 18:mt!==null&&(dn?(t=mt,u0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Fr(t)):u0(mt,r.stateNode));break;case 4:l=mt,h=dn,mt=r.stateNode.containerInfo,dn=!0,es(t,n,r),mt=l,dn=h;break;case 0:case 11:case 14:case 15:ks(2,r,n),Vt||ks(4,r,n),es(t,n,r);break;case 1:Vt||(Ri(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&cy(r,n,l)),es(t,n,r);break;case 21:es(t,n,r);break;case 22:Vt=(l=Vt)||r.memoizedState!==null,es(t,n,r),Vt=l;break;default:es(t,n,r)}}function _y(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fr(t)}catch(r){tt(n,n.return,r)}}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fr(t)}catch(r){tt(n,n.return,r)}}function VE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new my),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new my),n;default:throw Error(a(435,t.tag))}}function nc(t,n){var r=VE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=HE.bind(null,t,l);l.then(h,h)}})}function mn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(qs(E.type)){mt=E.stateNode,dn=!1;break e}break;case 5:mt=E.stateNode,dn=!1;break e;case 3:case 4:mt=E.stateNode.containerInfo,dn=!0;break e}E=E.return}if(mt===null)throw Error(a(160));yy(f,g,h),mt=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,t),n=n.sibling}var ti=null;function Ty(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(n,t),pn(t),l&4&&(ks(3,t,t.return),no(3,t),ks(5,t,t.return));break;case 1:mn(n,t),pn(t),l&512&&(Vt||r===null||Ri(r,r.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ti;if(mn(n,t),pn(t),l&512&&(Vt||r===null||Ri(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Zt(f,l,r),f[Ct]=t,Nt(f),l=f;break e;case"link":var g=T0("link","href",h).get(l+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),Zt(f,l,r),h.head.appendChild(f);break;case"meta":if(g=T0("meta","content",h).get(l+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(l),Zt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ct]=t,Nt(f),l=f}t.stateNode=l}else E0(h,t.type,t.stateNode);else t.stateNode=v0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?E0(h,t.type,t.stateNode):v0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,r.memoizedProps)}break;case 27:mn(n,t),pn(t),l&512&&(Vt||r===null||Ri(r,r.return)),r!==null&&l&4&&Ff(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,t),pn(t),l&512&&(Vt||r===null||Ri(r,r.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(oe){tt(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Yf=!0);break;case 6:if(mn(n,t),pn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(oe){tt(t,t.return,oe)}}break;case 3:if(_c=null,h=ti,ti=gc(n.containerInfo),mn(n,t),ti=h,pn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Fr(n.containerInfo)}catch(oe){tt(t,t.return,oe)}Yf&&(Yf=!1,Ey(t));break;case 4:l=ti,ti=gc(t.stateNode.containerInfo),mn(n,t),pn(t),ti=l;break;case 12:mn(n,t),pn(t);break;case 31:mn(n,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 13:mn(n,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sc=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 22:h=t.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,P=Wi,Y=Vt;if(Wi=P||h,Vt=Y||N,mn(n,t),Vt=Y,Wi=P,pn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||Wi||Vt||Ba(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var J=N.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){tt(N,N.return,oe)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(oe){tt(N,N.return,oe)}}}else if(n.tag===18){if(r===null){N=n;try{var H=N.stateNode;h?c0(H,!0):c0(N.stateNode,!1)}catch(oe){tt(N,N.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,nc(t,r))));break;case 19:mn(n,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 30:break;case 21:break;default:mn(n,t),pn(t)}}function pn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(fy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Qf(t);tc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(fn(g,""),r.flags&=-33);var E=Qf(t);tc(t,E,g);break;case 3:case 4:var N=r.stateNode.containerInfo,P=Qf(t);Kf(t,P,N);break;default:throw Error(a(161))}}catch(Y){tt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ey(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ts(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(t,n.alternate,n),n=n.sibling}function Ba(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ks(4,n,n.return),Ba(n);break;case 1:Ri(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&cy(n,n.return,r),Ba(n);break;case 27:fo(n.stateNode);case 26:case 5:Ri(n,n.return),Ba(n);break;case 22:n.memoizedState===null&&Ba(n);break;case 30:Ba(n);break;default:Ba(n)}t=t.sibling}}function ns(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ns(h,f,r),no(4,f);break;case 1:if(ns(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){tt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Zp(N[h],E)}catch(P){tt(l,l.return,P)}}r&&g&64&&uy(f),io(f,f.return);break;case 27:dy(f);case 26:case 5:ns(h,f,r),r&&l===null&&g&4&&hy(f),io(f,f.return);break;case 12:ns(h,f,r);break;case 31:ns(h,f,r),r&&g&4&&_y(h,f);break;case 13:ns(h,f,r),r&&g&4&&vy(h,f);break;case 22:f.memoizedState===null&&ns(h,f,r),io(f,f.return);break;case 30:break;default:ns(h,f,r)}n=n.sibling}}function Xf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Hl(r))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Hl(t))}function ni(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)by(t,n,r,l),n=n.sibling}function by(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n,r,l),h&2048&&no(9,n);break;case 1:ni(t,n,r,l);break;case 3:ni(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Hl(t)));break;case 12:if(h&2048){ni(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){tt(n,n.return,N)}}else ni(t,n,r,l);break;case 31:ni(t,n,r,l);break;case 13:ni(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ni(t,n,r,l):so(t,n):f._visibility&2?ni(t,n,r,l):(f._visibility|=2,Vr(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(g,n);break;case 24:ni(t,n,r,l),h&2048&&$f(n.alternate,n);break;default:ni(t,n,r,l)}}function Vr(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,N=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Vr(f,g,E,N,h),no(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?Vr(f,g,E,N,h):so(f,g):(Y._visibility|=2,Vr(f,g,E,N,h)),h&&P&2048&&Xf(g.alternate,g);break;case 24:Vr(f,g,E,N,h),h&&P&2048&&$f(g.alternate,g);break;default:Vr(f,g,E,N,h)}n=n.sibling}}function so(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:so(r,l),h&2048&&Xf(l.alternate,l);break;case 24:so(r,l),h&2048&&$f(l.alternate,l);break;default:so(r,l)}n=n.sibling}}var ao=8192;function kr(t,n,r){if(t.subtreeFlags&ao)for(t=t.child;t!==null;)Sy(t,n,r),t=t.sibling}function Sy(t,n,r){switch(t.tag){case 26:kr(t,n,r),t.flags&ao&&t.memoizedState!==null&&Tb(r,ti,t.memoizedState,t.memoizedProps);break;case 5:kr(t,n,r);break;case 3:case 4:var l=ti;ti=gc(t.stateNode.containerInfo),kr(t,n,r),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ao,ao=16777216,kr(t,n,r),ao=l):kr(t,n,r));break;default:kr(t,n,r)}}function Ay(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ro(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Gt=l,xy(l,t)}Ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wy(t),t=t.sibling}function wy(t){switch(t.tag){case 0:case 11:case 15:ro(t),t.flags&2048&&ks(9,t,t.return);break;case 3:ro(t);break;case 12:ro(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ic(t)):ro(t);break;default:ro(t)}}function ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Gt=l,xy(l,t)}Ay(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ks(8,n,n.return),ic(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ic(n));break;default:ic(n)}t=t.sibling}}function xy(t,n){for(;Gt!==null;){var r=Gt;switch(r.tag){case 0:case 11:case 15:ks(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Gt=l;else e:for(r=t;Gt!==null;){l=Gt;var h=l.sibling,f=l.return;if(gy(l),l===r){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var kE={getCacheForType:function(t){var n=$t(Dt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return $t(Dt).controller.signal}},jE=typeof WeakMap=="function"?WeakMap:Map,Xe=0,lt=null,Ve=null,Le=0,et=0,xn=null,js=!1,jr=!1,Jf=!1,is=0,vt=0,Ls=0,qa=0,Zf=0,Rn=0,Lr=0,lo=null,gn=null,Wf=!1,sc=0,Ry=0,ac=1/0,rc=null,Us=null,Lt=0,zs=null,Ur=null,ss=0,ed=0,td=null,Cy=null,oo=0,nd=null;function Cn(){return(Xe&2)!==0&&Le!==0?Le&-Le:F.T!==null?od():lu()}function Ny(){if(Rn===0)if((Le&536870912)===0||He){var t=pa;pa<<=1,(pa&3932160)===0&&(pa=262144),Rn=t}else Rn=536870912;return t=An.current,t!==null&&(t.flags|=32),Rn}function yn(t,n,r){(t===lt&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(zr(t,0),Ps(t,Le,Rn,!1)),ga(t,r),((Xe&2)===0||t!==lt)&&(t===lt&&((Xe&2)===0&&(qa|=r),vt===4&&Ps(t,Le,Rn,!1)),Ci(t))}function Iy(t,n,r){if((Xe&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Qn(t,n),h=l?zE(t,n):sd(t,n,!0),f=l;do{if(h===0){jr&&!l&&Ps(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!LE(r)){h=sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=lo;var N=E.current.memoizedState.isDehydrated;if(N&&(zr(E,g).flags|=256),g=sd(E,g,!1),g!==2){if(Jf&&!N){E.errorRecoveryDisabledLanes|=f,qa|=f,h=4;break e}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){zr(t,0),Ps(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ps(l,n,Rn,!js);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-on(),10<h)){if(Ps(l,n,Rn,!js),ci(l,0,!0)!==0)break e;ss=n,l.timeoutHandle=l0(Dy.bind(null,l,r,gn,rc,Wf,n,Rn,qa,Lr,js,f,"Throttled",-0,0),h);break e}Dy(l,r,gn,rc,Wf,n,Rn,qa,Lr,js,f,null,-0,0)}}break}while(!0);Ci(t)}function Dy(t,n,r,l,h,f,g,E,N,P,Y,J,B,H){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},Sy(n,f,J);var oe=(f&62914560)===f?sc-on():(f&4194048)===f?Ry-on():0;if(oe=Eb(J,oe),oe!==null){ss=f,t.cancelPendingCommit=oe(zy.bind(null,t,n,f,r,l,h,g,E,N,Y,J,null,B,H)),Ps(t,f,g,!P);return}}zy(t,n,f,r,l,h,g,E,N)}function LE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ps(t,n,r,l){n&=~Zf,n&=~qa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Et(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&ya(t,r,n)}function lc(){return(Xe&6)===0?(uo(0),!1):!0}function id(){if(Ve!==null){if(et===0)var t=Ve.return;else t=Ve,Ki=Oa=null,vf(t),Nr=null,Fl=0,t=Ve;for(;t!==null;)oy(t.alternate,t),t=t.return;Ve=null}}function zr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ib(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ss=0,id(),lt=t,Ve=r=Fi(t.current,null),Le=n,et=0,xn=null,js=!1,jr=Qn(t,n),Jf=!1,Lr=Rn=Zf=qa=Ls=vt=0,gn=lo=null,Wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Et(l),f=1<<h;n|=t[h],l&=~f}return is=n,Cu(),r}function My(t,n){Ie=null,F.H=Wl,n===Cr||n===ju?(n=Yp(),et=3):n===lf?(n=Yp(),et=4):et=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Ve===null&&(vt=1,$u(t,jn(n,t.current)))}function Oy(){var t=An.current;return t===null?!0:(Le&4194048)===Le?Pn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Pn:!1}function Vy(){var t=F.H;return F.H=Wl,t===null?Wl:t}function ky(){var t=F.A;return F.A=kE,t}function oc(){vt=4,js||(Le&4194048)!==Le&&An.current!==null||(jr=!0),(Ls&134217727)===0&&(qa&134217727)===0||lt===null||Ps(lt,Le,Rn,!1)}function sd(t,n,r){var l=Xe;Xe|=2;var h=Vy(),f=ky();(lt!==t||Le!==n)&&(rc=null,zr(t,n)),n=!1;var g=vt;e:do try{if(et!==0&&Ve!==null){var E=Ve,N=xn;switch(et){case 8:id(),g=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=et;if(et=0,xn=null,Pr(t,E,N,P),r&&jr){g=0;break e}break;default:P=et,et=0,xn=null,Pr(t,E,N,P)}}UE(),g=vt;break}catch(Y){My(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Ki=Oa=null,Xe=l,F.H=h,F.A=f,Ve===null&&(lt=null,Le=0,Cu()),g}function UE(){for(;Ve!==null;)jy(Ve)}function zE(t,n){var r=Xe;Xe|=2;var l=Vy(),h=ky();lt!==t||Le!==n?(rc=null,ac=on()+500,zr(t,n)):jr=Qn(t,n);e:do try{if(et!==0&&Ve!==null){n=Ve;var f=xn;t:switch(et){case 1:et=0,xn=null,Pr(t,n,f,1);break;case 2:case 9:if(Qp(f)){et=0,xn=null,Ly(n);break}n=function(){et!==2&&et!==9||lt!==t||(et=7),Ci(t)},f.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Qp(f)?(et=0,xn=null,Ly(n)):(et=0,xn=null,Pr(t,n,f,7));break;case 5:var g=null;switch(Ve.tag){case 26:g=Ve.memoizedState;case 5:case 27:var E=Ve;if(g?b0(g):E.stateNode.complete){et=0,xn=null;var N=E.sibling;if(N!==null)Ve=N;else{var P=E.return;P!==null?(Ve=P,uc(P)):Ve=null}break t}}et=0,xn=null,Pr(t,n,f,5);break;case 6:et=0,xn=null,Pr(t,n,f,6);break;case 8:id(),vt=6;break e;default:throw Error(a(462))}}PE();break}catch(Y){My(t,Y)}while(!0);return Ki=Oa=null,F.H=l,F.A=h,Xe=r,Ve!==null?0:(lt=null,Le=0,Cu(),vt)}function PE(){for(;Ve!==null&&!da();)jy(Ve)}function jy(t){var n=ry(t.alternate,t,is);t.memoizedProps=t.pendingProps,n===null?uc(t):Ve=n}function Ly(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ey(r,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=ey(r,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:vf(n);default:oy(r,n),n=Ve=kp(n,is),n=ry(r,n,is)}t.memoizedProps=t.pendingProps,n===null?uc(t):Ve=n}function Pr(t,n,r,l){Ki=Oa=null,vf(n),Nr=null,Fl=0;var h=n.return;try{if(CE(t,h,n,r,Le)){vt=1,$u(t,jn(r,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;vt=1,$u(t,jn(r,t.current)),Ve=null;return}n.flags&32768?(He||l===1?t=!0:jr||(Le&536870912)!==0?t=!1:(js=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uy(n,t)):uc(n)}function uc(t){var n=t;do{if((n.flags&32768)!==0){Uy(n,js);return}t=n.return;var r=DE(n.alternate,n,is);if(r!==null){Ve=r;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);vt===0&&(vt=5)}function Uy(t,n){do{var r=ME(t.alternate,t);if(r!==null){r.flags&=32767,Ve=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=r}while(t!==null);vt=6,Ve=null}function zy(t,n,r,l,h,f,g,E,N){t.cancelPendingCommit=null;do cc();while(Lt!==0);if((Xe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,jh(t,r,f,g,E,N),t===lt&&(Ve=lt=null,Le=0),Ur=n,zs=t,ss=r,ed=f,td=h,Cy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,GE(gs,function(){return Gy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ie.p,ie.p=2,g=Xe,Xe|=4;try{OE(t,n,r)}finally{Xe=g,ie.p=h,F.T=l}}Lt=1,Py(),By(),qy()}}function Py(){if(Lt===1){Lt=0;var t=zs,n=Ur,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=ie.p;ie.p=2;var h=Xe;Xe|=4;try{Ty(n,t);var f=gd,g=xp(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&wp(E.ownerDocument.documentElement,E)){if(N!==null&&Ph(E)){var P=N.start,Y=N.end;if(Y===void 0&&(Y=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Y,E.value.length);else{var J=E.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var H=B.getSelection(),oe=E.textContent.length,ye=Math.min(N.start,oe),rt=N.end===void 0?ye:Math.min(N.end,oe);!H.extend&&ye>rt&&(g=rt,rt=ye,ye=g);var j=Ap(E,ye),M=Ap(E,rt);if(j&&M&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var z=J.createRange();z.setStart(j.node,j.offset),H.removeAllRanges(),ye>rt?(H.addRange(z),H.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),H.addRange(z))}}}}for(J=[],H=E;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}bc=!!pd,gd=pd=null}finally{Xe=h,ie.p=l,F.T=r}}t.current=n,Lt=2}}function By(){if(Lt===2){Lt=0;var t=zs,n=Ur,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=ie.p;ie.p=2;var h=Xe;Xe|=4;try{py(t,n.alternate,n)}finally{Xe=h,ie.p=l,F.T=r}}Lt=3}}function qy(){if(Lt===4||Lt===3){Lt=0,sr();var t=zs,n=Ur,r=ss,l=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,Ur=zs=null,Hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Us=null),Bi(r),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=ie.p,ie.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,ie.p=h}}(ss&3)!==0&&cc(),Ci(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===nd?oo++:(oo=0,nd=t):oo=0,uo(0)}}function Hy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Hl(n)))}function cc(){return Py(),By(),qy(),Gy()}function Gy(){if(Lt!==5)return!1;var t=zs,n=ed;ed=0;var r=Bi(ss),l=F.T,h=ie.p;try{ie.p=32>r?32:r,F.T=null,r=td,td=null;var f=zs,g=ss;if(Lt=0,Ur=zs=null,ss=0,(Xe&6)!==0)throw Error(a(331));var E=Xe;if(Xe|=4,wy(f.current),by(f,f.current,g,r),Xe=E,uo(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{ie.p=h,F.T=l,Hy(t,n)}}function Fy(t,n,r){n=jn(r,n),n=Vf(t.stateNode,n,2),t=Ms(t,n,2),t!==null&&(ga(t,2),Ci(t))}function tt(t,n,r){if(t.tag===3)Fy(t,t,r);else for(;n!==null;){if(n.tag===3){Fy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Us===null||!Us.has(l))){t=jn(r,t),r=Qg(2),l=Ms(n,r,2),l!==null&&(Kg(r,l,n,t),ga(l,2),Ci(l));break}}n=n.return}}function ad(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new jE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Jf=!0,h.add(r),t=BE.bind(null,t,n,r),n.then(t,t))}function BE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,lt===t&&(Le&r)===r&&(vt===4||vt===3&&(Le&62914560)===Le&&300>on()-sc?(Xe&2)===0&&zr(t,0):Zf|=r,Lr===Le&&(Lr=0)),Ci(t)}function Qy(t,n){n===0&&(n=ru()),t=Ia(t,n),t!==null&&(ga(t,n),Ci(t))}function qE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Qy(t,r)}function HE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Qy(t,r)}function GE(t,n){return nt(t,n)}var hc=null,Br=null,rd=!1,fc=!1,ld=!1,Bs=0;function Ci(t){t!==Br&&t.next===null&&(Br===null?hc=Br=t:Br=Br.next=t),fc=!0,rd||(rd=!0,QE())}function uo(t,n){if(!ld&&fc){ld=!0;do for(var r=!1,l=hc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Et(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,$y(l,f))}else f=Le,f=ci(l,l===lt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Qn(l,f)||(r=!0,$y(l,f));l=l.next}while(r);ld=!1}}function FE(){Ky()}function Ky(){fc=rd=!1;var t=0;Bs!==0&&nb()&&(t=Bs);for(var n=on(),r=null,l=hc;l!==null;){var h=l.next,f=Yy(l,n);f===0?(l.next=null,r===null?hc=h:r.next=h,h===null&&(Br=r)):(r=l,(t!==0||(f&3)!==0)&&(fc=!0)),l=h}Lt!==0&&Lt!==5||uo(t),Bs!==0&&(Bs=0)}function Yy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Et(f),E=1<<g,N=h[g];N===-1?((E&r)===0||(E&l)!==0)&&(h[g]=kh(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=lt,r=Le,r=ci(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Nn(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Qn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Nn(l),Bi(r)){case 2:case 8:r=vl;break;case 32:r=gs;break;case 268435456:r=tu;break;default:r=gs}return l=Xy.bind(null,t),r=nt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Nn(l),t.callbackPriority=2,t.callbackNode=null,2}function Xy(t,n){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var l=Le;return l=ci(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iy(t,l,n),Yy(t,on()),t.callbackNode!=null&&t.callbackNode===r?Xy.bind(null,t):null)}function $y(t,n){if(cc())return null;Iy(t,n,!0)}function QE(){sb(function(){(Xe&6)!==0?nt(_l,FE):Ky()})}function od(){if(Bs===0){var t=xr;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Bs=t}return Bs}function Jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hr(""+t)}function Zy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function KE(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Jy((h[qt]||null).action),g=l.submitter;g&&(n=(n=g[qt]||null)?Jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ei("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var N=g?Zy(h,g):new FormData(h);Cf(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?Zy(h,g):new FormData(h),Cf(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],YE=cd.toLowerCase(),XE=cd[0].toUpperCase()+cd.slice(1);ei(YE,"on"+XE)}ei(Np,"onAnimationEnd"),ei(Ip,"onAnimationIteration"),ei(Dp,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(hE,"onTransitionRun"),ei(fE,"onTransitionStart"),ei(dE,"onTransitionCancel"),ei(Mp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function Wy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],N=E.instance,P=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(Y){Ru(Y)}h.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(E=l[g],N=E.instance,P=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(Y){Ru(Y)}h.currentTarget=null,f=N}}}}function ke(t,n){var r=n[rr];r===void 0&&(r=n[rr]=new Set);var l=t+"__bubble";r.has(l)||(e0(n,t,2,!1),r.add(l))}function hd(t,n,r){var l=0;n&&(l|=4),e0(r,t,l,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[dc]){t[dc]=!0,bl.forEach(function(r){r!=="selectionchange"&&($E.has(r)||hd(r,!1,t),hd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[dc]||(n[dc]=!0,hd("selectionchange",!1,n))}}function e0(t,n,r,l){switch(N0(n)){case 2:var h=Ab;break;case 8:h=wb;break;default:h=Rd}r=h.bind(null,n,r,t),h=void 0,!ba||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function dd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=mi(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue e}E=E.parentNode}}l=l.return}bs(function(){var P=f,Y=Mn(r),J=[];e:{var B=Op.get(t);if(B!==void 0){var H=Ei,oe=t;switch(t){case"keypress":if(Aa(r)===0)break e;case"keydown":case"keyup":H=Au;break;case"focusin":oe="focus",H=xa;break;case"focusout":oe="blur",H=xa;break;case"beforeblur":case"afterblur":H=xa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Np:case Ip:case Dp:H=yu;break;case Mp:H=S;break;case"scroll":case"scrollend":H=Vl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Gi;break;case"toggle":case"beforetoggle":H=Ne}var ye=(n&4)!==0,rt=!ye&&(t==="scroll"||t==="scrollend"),j=ye?B!==null?B+"Capture":null:B;ye=[];for(var M=P,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||j===null||(X=$n(M,j),X!=null&&ye.push(ho(M,X,z))),rt)break;M=M.return}0<ye.length&&(B=new H(B,oe,null,r,Y),J.push({event:B,listeners:ye}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&r!==Dl&&(oe=r.relatedTarget||r.fromElement)&&(mi(oe)||oe[fi]))break e;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(oe=r.relatedTarget||r.toElement,H=P,oe=oe?mi(oe):null,oe!==null&&(rt=c(oe),ye=oe.tag,oe!==rt||ye!==5&&ye!==27&&ye!==6)&&(oe=null)):(H=null,oe=P),H!==oe)){if(ye=kl,X="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Gi,X="onPointerLeave",j="onPointerEnter",M="pointer"),rt=H==null?B:Tn(H),z=oe==null?B:Tn(oe),B=new ye(X,M+"leave",H,r,Y),B.target=rt,B.relatedTarget=z,X=null,mi(Y)===P&&(ye=new ye(j,M+"enter",oe,r,Y),ye.target=z,ye.relatedTarget=rt,X=ye),rt=X,H&&oe)t:{for(ye=JE,j=H,M=oe,z=0,X=j;X;X=ye(X))z++;X=0;for(var de=M;de;de=ye(de))X++;for(;0<z-X;)j=ye(j),z--;for(;0<X-z;)M=ye(M),X--;for(;z--;){if(j===M||M!==null&&j===M.alternate){ye=j;break t}j=ye(j),M=ye(M)}ye=null}else ye=null;H!==null&&t0(J,B,H,ye,!1),oe!==null&&rt!==null&&t0(J,rt,oe,ye,!0)}}e:{if(B=P?Tn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Fe=_p;else if(gp(B))if(vp)Fe=oE;else{Fe=rE;var ue=aE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&cr(P.elementType)&&(Fe=_p):Fe=lE;if(Fe&&(Fe=Fe(t,P))){yp(J,Fe,r,Y);break e}ue&&ue(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Cl(B,"number",B.value)}switch(ue=P?Tn(P):window,t){case"focusin":(gp(ue)||ue.contentEditable==="true")&&(_r=ue,Bh=P,Pl=null);break;case"focusout":Pl=Bh=_r=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Rp(J,r,Y);break;case"selectionchange":if(cE)break;case"keydown":case"keyup":Rp(J,r,Y)}var Me;if(Ye)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else yr?Ra(t,r)&&(Ue="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ai&&r.locale!=="ko"&&(yr||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&yr&&(Me=Ol()):(Ti=Y,Ml="value"in Ti?Ti.value:Ti.textContent,yr=!0)),ue=mc(P,Ue),0<ue.length&&(Ue=new Si(Ue,t,null,r,Y),J.push({event:Ue,listeners:ue}),Me?Ue.data=Me:(Me=gr(r),Me!==null&&(Ue.data=Me)))),(Me=Vn?tE(t,r):nE(t,r))&&(Ue=mc(P,"onBeforeInput"),0<Ue.length&&(ue=new Si("onBeforeInput","beforeinput",null,r,Y),J.push({event:ue,listeners:Ue}),ue.data=Me)),KE(J,t,P,r,Y)}Wy(J,n)})}function ho(t,n,r){return{instance:t,listener:n,currentTarget:r}}function mc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(t,r),h!=null&&l.unshift(ho(t,h,f)),h=$n(t,n),h!=null&&l.push(ho(t,h,f))),t.tag===3)return l;t=t.return}return[]}function JE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t0(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var E=r,N=E.alternate,P=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||P===null||(N=P,h?(P=$n(r,f),P!=null&&g.unshift(ho(r,P,N))):h||(P=$n(r,f),P!=null&&g.push(ho(r,P,N)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var ZE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function n0(t){return(typeof t=="string"?t:""+t).replace(ZE,`
`).replace(WE,"")}function i0(t,n){return n=n0(n),n0(t)===n}function at(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,r,l);break;case"style":Il(t,l,f);break;case"data":if(n!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=hr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&at(t,n,"name",h.name,h,null),at(t,n,"formEncType",h.formEncType,h,null),at(t,n,"formMethod",h.formMethod,h,null),at(t,n,"formTarget",h.formTarget,h,null)):(at(t,n,"encType",h.encType,h,null),at(t,n,"method",h.method,h,null),at(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=hr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=hr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),or(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mu.get(r)||r,or(t,r,l))}}function md(t,n,r,l,h,f){switch(r){case"style":Il(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[qt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):or(t,r,l)}}}function Zt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,f,g,r,null)}}h&&at(t,n,"srcSet",r.srcSet,r,null),l&&at(t,n,"src",r.src,r,null);return;case"input":ke("invalid",t);var E=f=g=h=null,N=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Y=r[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":g=Y;break;case"checked":N=Y;break;case"defaultChecked":P=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:at(t,n,l,Y,r,null)}}hu(t,f,E,N,P,g,h,!1);return;case"select":ke("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:at(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!l,n!=null?_s(t,!!l,n,!1):r!=null&&_s(t,!!l,r,!0);return;case"textarea":ke("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:at(t,n,g,E,r,null)}vs(t,l,h,f);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,n,N,l,r,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<co.length;l++)ke(co[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,P,l,r,null)}return;default:if(cr(n)){for(Y in r)r.hasOwnProperty(Y)&&(l=r[Y],l!==void 0&&md(t,n,Y,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&at(t,n,E,l,r,null))}function eb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,N=null,P=null,Y=null;for(H in r){var J=r[H];if(r.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(H)||at(t,n,H,null,l,J)}}for(var B in l){var H=l[B];if(J=r[B],l.hasOwnProperty(B)&&(H!=null||J!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Y=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==J&&at(t,n,B,H,l,J)}}ur(t,g,E,N,P,Y,f,h);return;case"select":H=g=E=B=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(f)||at(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=r[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&at(t,n,h,f,l,N)}n=E,r=g,l=H,B!=null?_s(t,!!r,B,!1):!!l!=!!r&&(n!=null?_s(t,!!r,n,!0):_s(t,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:at(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&at(t,n,g,h,l,f)}fu(t,B,H);return;case"option":for(var oe in r)if(B=r[oe],r.hasOwnProperty(oe)&&B!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:at(t,n,oe,null,l,B)}for(N in l)if(B=l[N],H=r[N],l.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null))switch(N){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:at(t,n,N,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)B=r[ye],r.hasOwnProperty(ye)&&B!=null&&!l.hasOwnProperty(ye)&&at(t,n,ye,null,l,B);for(P in l)if(B=l[P],H=r[P],l.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:at(t,n,P,B,l,H)}return;default:if(cr(n)){for(var rt in r)B=r[rt],r.hasOwnProperty(rt)&&B!==void 0&&!l.hasOwnProperty(rt)&&md(t,n,rt,void 0,l,B);for(Y in l)B=l[Y],H=r[Y],!l.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||md(t,n,Y,B,l,H);return}}for(var j in r)B=r[j],r.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&at(t,n,j,null,l,B);for(J in l)B=l[J],H=r[J],!l.hasOwnProperty(J)||B===H||B==null&&H==null||at(t,n,J,B,l,H)}function s0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&s0(g)){for(g=0,E=h.responseEnd,l+=1;l<r.length;l++){var N=r[l],P=N.startTime;if(P>E)break;var Y=N.transferSize,J=N.initiatorType;Y&&s0(J)&&(N=N.responseEnd,g+=Y*(N<E?1:(E-P)/(N-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,gd=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function a0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function nb(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(t){return o0.resolve(null).then(t).catch(ab)}:l0;function ab(t){setTimeout(function(){throw t})}function qs(t){return t==="head"}function u0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Fr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")fo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,fo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&fo(t.ownerDocument.body);r=h}while(r);Fr(n)}function c0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vd(r),lr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function rb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function lb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Bn(t.nextSibling),t===null))return null;return t}function h0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Bn(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$?"||t.data==="$~"}function Ed(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ob(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bd=null;function f0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Bn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function d0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function m0(t,n,r){switch(n=pc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function fo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);lr(t)}var qn=new Map,p0=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var as=ie.d;ie.d={f:ub,r:cb,D:hb,C:fb,L:db,m:mb,X:gb,S:pb,M:yb};function ub(){var t=as.f(),n=lc();return t||n}function cb(t){var n=Dn(t);n!==null&&n.tag===5&&n.type==="form"?Mg(n):as.r(t)}var qr=typeof document>"u"?null:document;function g0(t,n,r){var l=qr;if(l&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),p0.has(h)||(p0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Zt(n,"link",t),Nt(n),l.head.appendChild(n)))}}function hb(t){as.D(t),g0("dns-prefetch",t,null)}function fb(t,n){as.C(t,n),g0("preconnect",t,n)}function db(t,n,r){as.L(t,n,r);var l=qr;if(l&&t&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var f=h;switch(n){case"style":f=Hr(t);break;case"script":f=Gr(t)}qn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),qn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(mo(f))||n==="script"&&l.querySelector(po(f))||(n=l.createElement("link"),Zt(n,"link",t),Nt(n),l.head.appendChild(n)))}}function mb(t,n){as.m(t,n);var r=qr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Gr(t)}if(!qn.has(f)&&(t=A({rel:"modulepreload",href:t},n),qn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(po(f)))return}l=r.createElement("link"),Zt(l,"link",t),Nt(l),r.head.appendChild(l)}}}function pb(t,n,r){as.S(t,n,r);var l=qr;if(l&&t){var h=pi(l).hoistableStyles,f=Hr(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(mo(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=qn.get(f))&&Sd(t,r);var N=g=l.createElement("link");Nt(N),Zt(N,"link",t),N._p=new Promise(function(P,Y){N.onload=P,N.onerror=Y}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function gb(t,n){as.X(t,n);var r=qr;if(r&&t){var l=pi(r).hoistableScripts,h=Gr(t),f=l.get(h);f||(f=r.querySelector(po(h)),f||(t=A({src:t,async:!0},n),(n=qn.get(h))&&Ad(t,n),f=r.createElement("script"),Nt(f),Zt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function yb(t,n){as.M(t,n);var r=qr;if(r&&t){var l=pi(r).hoistableScripts,h=Gr(t),f=l.get(h);f||(f=r.querySelector(po(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=qn.get(h))&&Ad(t,n),f=r.createElement("script"),Nt(f),Zt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function y0(t,n,r,l){var h=(h=Re.current)?gc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Hr(r.href),r=pi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Hr(r.href);var f=pi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(mo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qn.set(t,r),f||_b(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Gr(r),r=pi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Hr(t){return'href="'+hn(t)+'"'}function mo(t){return'link[rel="stylesheet"]['+t+"]"}function _0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function _b(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Zt(n,"link",r),Nt(n),t.head.appendChild(n))}function Gr(t){return'[src="'+hn(t)+'"]'}function po(t){return"script[async]"+t}function v0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+hn(r.href)+'"]');if(l)return n.instance=l,Nt(l),l;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),Zt(l,"style",h),yc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Hr(r.href);var f=t.querySelector(mo(h));if(f)return n.state.loading|=4,n.instance=f,Nt(f),f;l=_0(r),(h=qn.get(h))&&Sd(l,h),f=(t.ownerDocument||t).createElement("link"),Nt(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Zt(f,"link",l),n.state.loading|=4,yc(f,r.precedence,t),n.instance=f;case"script":return f=Gr(r.src),(h=t.querySelector(po(f)))?(n.instance=h,Nt(h),h):(l=r,(h=qn.get(f))&&(l=A({},r),Ad(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),Zt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yc(l,r.precedence,t));return n.instance}function yc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _c=null;function T0(t,n,r){if(_c===null){var l=new Map,h=_c=new Map;h.set(r,l)}else h=_c,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[di]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function E0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function vb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Tb(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Hr(l.href),f=n.querySelector(mo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Nt(f);return}f=n.ownerDocument||n,l=_0(l),(h=qn.get(h))&&Sd(l,h),f=f.createElement("link"),Nt(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Zt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=vc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var wd=0;function Eb(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*tb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(bb,t),Tc=null,vc.call(t))}function bb(t,n){if(!(n.state.loading&4)){var r=Tc.get(t);if(r)var l=r.get(null);else{r=new Map,Tc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var go={$$typeof:ae,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Sb(t,n,r,l,h,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function S0(t,n,r,l,h,f,g,E,N,P,Y,J){return t=new Sb(t,n,r,g,N,P,Y,J,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},of(f),t}function A0(t){return t?(t=Er,t):Er}function w0(t,n,r,l,h,f){h=A0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ds(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ms(t,l,n),r!==null&&(yn(r,t,n),Kl(r,t,n))}function x0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function xd(t,n){x0(t,n),(t=t.alternate)&&x0(t,n)}function R0(t){if(t.tag===13||t.tag===31){var n=Ia(t,67108864);n!==null&&yn(n,t,67108864),xd(t,67108864)}}function C0(t){if(t.tag===13||t.tag===31){var n=Cn();n=_a(n);var r=Ia(t,n);r!==null&&yn(r,t,n),xd(t,n)}}var bc=!0;function Ab(t,n,r,l){var h=F.T;F.T=null;var f=ie.p;try{ie.p=2,Rd(t,n,r,l)}finally{ie.p=f,F.T=h}}function wb(t,n,r,l){var h=F.T;F.T=null;var f=ie.p;try{ie.p=8,Rd(t,n,r,l)}finally{ie.p=f,F.T=h}}function Rd(t,n,r,l){if(bc){var h=Cd(l);if(h===null)dd(t,n,l,Sc,r),I0(t,l);else if(Rb(h,t,n,r,l))l.stopPropagation();else if(I0(t,l),n&4&&-1<xb.indexOf(t)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-Et(g);E.entanglements[1]|=N,g&=~N}Ci(f),(Xe&6)===0&&(ac=on()+500,uo(0))}}break;case 31:case 13:E=Ia(f,2),E!==null&&yn(E,f,2),lc(),xd(f,2)}if(f=Cd(l),f===null&&dd(t,n,l,Sc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else dd(t,n,l,null,r)}}function Cd(t){return t=Mn(t),Nd(t)}var Sc=null;function Nd(t){if(Sc=null,t=mi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function N0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case _l:return 2;case vl:return 8;case gs:case Vh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Id=!1,Hs=null,Gs=null,Fs=null,yo=new Map,_o=new Map,Qs=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I0(t,n){switch(t){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":yo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(n.pointerId)}}function vo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&R0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Rb(t,n,r,l,h){switch(n){case"focusin":return Hs=vo(Hs,t,n,r,l,h),!0;case"dragenter":return Gs=vo(Gs,t,n,r,l,h),!0;case"mouseover":return Fs=vo(Fs,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return yo.set(f,vo(yo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,_o.set(f,vo(_o.get(f)||null,t,n,r,l,h)),!0}return!1}function D0(t){var n=mi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Kn(t.priority,function(){C0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,Kn(t.priority,function(){C0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Cd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Dl=l,r.target.dispatchEvent(l),Dl=null}else return n=Dn(r),n!==null&&R0(n),t.blockedOn=r,!1;n.shift()}return!0}function M0(t,n,r){Ac(t)&&r.delete(n)}function Cb(){Id=!1,Hs!==null&&Ac(Hs)&&(Hs=null),Gs!==null&&Ac(Gs)&&(Gs=null),Fs!==null&&Ac(Fs)&&(Fs=null),yo.forEach(M0),_o.forEach(M0)}function wc(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Cb)))}var xc=null;function O0(t){xc!==t&&(xc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Nd(l||r)===null)continue;break}var f=Dn(r);f!==null&&(t.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Fr(t){function n(N){return wc(N,t)}Hs!==null&&wc(Hs,t),Gs!==null&&wc(Gs,t),Fs!==null&&wc(Fs,t),yo.forEach(n),_o.forEach(n);for(var r=0;r<Qs.length;r++){var l=Qs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qs.length&&(r=Qs[0],r.blockedOn===null);)D0(r),r.blockedOn===null&&Qs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[qt]||null;if(typeof f=="function")g||O0(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[qt]||null)E=g.formAction;else if(Nd(h)!==null)continue}else E=g.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),O0(r)}}}function V0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(t){this._internalRoot=t}Rc.prototype.render=Dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Cn();w0(r,l,t,n,null,null)},Rc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;w0(t.current,2,null,t,null,null),lc(),n[fi]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Qs.length&&n!==0&&n<Qs[r].priority;r++);Qs.splice(r,0,t),r===0&&D0(t)}};var k0=e.version;if(k0!=="19.2.3")throw Error(a(527,k0,"19.2.3"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Nb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Fn=Cc.inject(Nb),Kt=Cc}catch{}}return Eo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=qg,f=Hg,g=Gg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S0(t,1,!1,null,null,r,l,null,h,f,g,V0),t[fi]=n.current,fd(t),new Dd(n)},Eo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=qg,g=Hg,E=Gg,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=S0(t,1,!0,n,r??null,l,h,N,f,g,E,V0),n.context=A0(null),r=n.current,l=Cn(),l=_a(l),h=Ds(l),h.callback=null,Ms(r,h,l),r=l,n.current.lanes=r,ga(n,r),Ci(n),t[fi]=n.current,fd(t),new Rc(n)},Eo.version="19.2.3",Eo}var F0;function Pb(){if(F0)return Vd.exports;F0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vd.exports=zb(),Vd.exports}var Bb=Pb();const qb=Sv(Bb),Hb=()=>{};var Q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Gb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let I=(p&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(I=64)),a.push(i[b],i[A],i[I],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Av(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Gb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||A==null)throw new Fb;const I=c<<2|p>>4;if(a.push(I),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),A!==64){const G=_<<6&192|A;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qb=function(s){const e=Av(s);return wv.encodeByteArray(e,!0)},Yc=function(s){return Qb(s).replace(/\./g,"")},xv=function(s){try{return wv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=()=>Kb().__FIREBASE_DEFAULTS__,Xb=()=>{if(typeof process>"u"||typeof Q0>"u")return;const s=Q0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},$b=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&xv(s[1]);return e&&JSON.parse(e)},ph=()=>{try{return Hb()||Yb()||Xb()||$b()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Rv=s=>{var e,i;return(i=(e=ph())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},Jb=s=>{const e=Rv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Cv=()=>{var s;return(s=ph())==null?void 0:s.config},Nv=s=>{var e;return(e=ph())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Iv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const No={};function e2(){const s={prod:[],emulator:[]};for(const e of Object.keys(No))No[e]?s.emulator.push(e):s.prod.push(e);return s}function t2(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let K0=!1;function Dv(s,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||No[s]===e||No[s]||K0)return;No[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",c=e2().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,Q){I.setAttribute("width","24"),I.setAttribute("id",Q),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{K0=!0,d()},I}function b(I,Q){I.setAttribute("id",Q),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=t2(a),Q=i("text"),G=document.getElementById(Q)||document.createElement("span"),K=i("learnmore"),L=document.getElementById(K)||document.createElement("a"),W=i("preprendIcon"),te=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ae=I.element;p(ae),b(L,K);const De=_();y(te,W),ae.append(te,G,L,De),document.body.appendChild(ae)}c?(G.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function i2(){var e;const s=(e=ph())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function r2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l2(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function o2(){return!i2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u2(){try{return typeof indexedDB=="object"}catch{return!1}}function c2(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="FirebaseError";class ms extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=h2,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Go.prototype.create)}}class Go{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?f2(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ms(o,p,a)}}function f2(s,e){return s.replace(d2,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const d2=/\{\$([^}]+)}/g;function m2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Xa(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(Y0(c)&&Y0(d)){if(!Xa(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Y0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function p2(s,e){const i=new g2(s,e);return i.subscribe.bind(i)}class g2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");y2(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y2(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(s){return s&&s._delegate?s._delegate:s}class $a{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Zb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T2(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:v2(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v2(s){return s===Ha?void 0:s}function T2(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new _2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const b2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},S2=ze.INFO,A2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},w2=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=A2[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=S2,this._logHandler=w2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const x2=(s,e)=>e.some(i=>s instanceof i);let X0,$0;function R2(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C2(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,Jd=new WeakMap,Ov=new WeakMap,zd=new WeakMap,Rm=new WeakMap;function N2(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ta(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Mv.set(i,s)}).catch(()=>{}),Rm.set(e,s),e}function I2(s){if(Jd.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Jd.set(s,e)}let Zd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Jd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Ov.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ta(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function D2(s){Zd=s(Zd)}function M2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Pd(this),e,...i);return Ov.set(a,e.sort?e.sort():[e]),ta(a)}:C2().includes(s)?function(...e){return s.apply(Pd(this),e),ta(Mv.get(this))}:function(...e){return ta(s.apply(Pd(this),e))}}function O2(s){return typeof s=="function"?M2(s):(s instanceof IDBTransaction&&I2(s),x2(s,R2())?new Proxy(s,Zd):s)}function ta(s){if(s instanceof IDBRequest)return N2(s);if(zd.has(s))return zd.get(s);const e=O2(s);return e!==s&&(zd.set(s,e),Rm.set(e,s)),e}const Pd=s=>Rm.get(s);function V2(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=ta(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ta(d.result),y.oldVersion,y.newVersion,ta(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const k2=["get","getKey","getAll","getAllKeys","count"],j2=["put","add","delete","clear"],Bd=new Map;function J0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=j2.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||k2.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return Bd.set(e,c),c}D2(s=>({...s,get:(e,i,a)=>J0(e,i)||s.get(e,i,a),has:(e,i)=>!!J0(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(U2(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function U2(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wd="@firebase/app",Z0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new xm("@firebase/app"),z2="@firebase/app-compat",P2="@firebase/analytics-compat",B2="@firebase/analytics",q2="@firebase/app-check-compat",H2="@firebase/app-check",G2="@firebase/auth",F2="@firebase/auth-compat",Q2="@firebase/database",K2="@firebase/data-connect",Y2="@firebase/database-compat",X2="@firebase/functions",$2="@firebase/functions-compat",J2="@firebase/installations",Z2="@firebase/installations-compat",W2="@firebase/messaging",eS="@firebase/messaging-compat",tS="@firebase/performance",nS="@firebase/performance-compat",iS="@firebase/remote-config",sS="@firebase/remote-config-compat",aS="@firebase/storage",rS="@firebase/storage-compat",lS="@firebase/firestore",oS="@firebase/ai",uS="@firebase/firestore-compat",cS="firebase",hS="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",fS={[Wd]:"fire-core",[z2]:"fire-core-compat",[B2]:"fire-analytics",[P2]:"fire-analytics-compat",[H2]:"fire-app-check",[q2]:"fire-app-check-compat",[G2]:"fire-auth",[F2]:"fire-auth-compat",[Q2]:"fire-rtdb",[K2]:"fire-data-connect",[Y2]:"fire-rtdb-compat",[X2]:"fire-fn",[$2]:"fire-fn-compat",[J2]:"fire-iid",[Z2]:"fire-iid-compat",[W2]:"fire-fcm",[eS]:"fire-fcm-compat",[tS]:"fire-perf",[nS]:"fire-perf-compat",[iS]:"fire-rc",[sS]:"fire-rc-compat",[aS]:"fire-gcs",[rS]:"fire-gcs-compat",[lS]:"fire-fst",[uS]:"fire-fst-compat",[oS]:"fire-vertex","fire-js":"fire-js",[cS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,dS=new Map,tm=new Map;function W0(s,e){try{s.container.addComponent(e)}catch(i){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function nl(s){const e=s.name;if(tm.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,s);for(const i of Xc.values())W0(i,s);for(const i of dS.values())W0(i,s);return!0}function Cm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ii(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new Go("app","Firebase",mS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=hS;function Vv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:em,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw na.create("bad-app-name",{appName:String(o)});if(i||(i=Cv()),!i)throw na.create("no-options");const c=Xc.get(o);if(c){if(Xa(i,c.options)&&Xa(a,c.config))return c;throw na.create("duplicate-app",{appName:o})}const d=new E2(o);for(const y of tm.values())d.addComponent(y);const p=new pS(i,a,d);return Xc.set(o,p),p}function kv(s=em){const e=Xc.get(s);if(!e&&s===em&&Cv())return Vv();if(!e)throw na.create("no-app",{appName:s});return e}function ia(s,e,i){let a=fS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}nl(new $a(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebase-heartbeat-database",yS=1,jo="firebase-heartbeat-store";let qd=null;function jv(){return qd||(qd=V2(gS,yS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(jo)}catch(i){console.warn(i)}}}}).catch(s=>{throw na.create("idb-open",{originalErrorMessage:s.message})})),qd}async function _S(s){try{const i=(await jv()).transaction(jo),a=await i.objectStore(jo).get(Lv(s));return await i.done,a}catch(e){if(e instanceof ms)cs.warn(e.message);else{const i=na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cs.warn(i.message)}}}async function e_(s,e){try{const a=(await jv()).transaction(jo,"readwrite");await a.objectStore(jo).put(e,Lv(s)),await a.done}catch(i){if(i instanceof ms)cs.warn(i.message);else{const a=na.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});cs.warn(a.message)}}}function Lv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=1024,TS=30;class ES{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=t_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>TS){const d=AS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){cs.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=t_(),{heartbeatsToSend:a,unsentEntries:o}=bS(this._heartbeatsCache.heartbeats),c=Yc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return cs.warn(i),""}}}function t_(){return new Date().toISOString().substring(0,10)}function bS(s,e=vS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),n_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),n_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class SS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u2()?c2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _S(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function n_(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function AS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(s){nl(new $a("platform-logger",e=>new L2(e),"PRIVATE")),nl(new $a("heartbeat",e=>new ES(e),"PRIVATE")),ia(Wd,Z0,s),ia(Wd,Z0,"esm2020"),ia("fire-js","")}wS("");var i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sa,Uv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,D,k){for(var x=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)x[$e-2]=arguments[$e];return w.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],D=R.g[2];let k=R.g[3],x;x=w+(k^C&(D^k))+V[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(D^w&(C^D))+V[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(C^k&(w^C))+V[2]+606105819&4294967295,D=k+(x<<17&4294967295|x>>>15),x=C+(w^D&(k^w))+V[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(k^C&(D^k))+V[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(D^w&(C^D))+V[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(C^k&(w^C))+V[6]+2821735955&4294967295,D=k+(x<<17&4294967295|x>>>15),x=C+(w^D&(k^w))+V[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(k^C&(D^k))+V[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(D^w&(C^D))+V[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(C^k&(w^C))+V[10]+4294925233&4294967295,D=k+(x<<17&4294967295|x>>>15),x=C+(w^D&(k^w))+V[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(k^C&(D^k))+V[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(D^w&(C^D))+V[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(C^k&(w^C))+V[14]+2792965006&4294967295,D=k+(x<<17&4294967295|x>>>15),x=C+(w^D&(k^w))+V[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(D^k&(C^D))+V[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^D&(w^C))+V[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(k^w))+V[11]+643717713&4294967295,D=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(D^k))+V[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(C^D))+V[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^D&(w^C))+V[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(k^w))+V[15]+3634488961&4294967295,D=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(D^k))+V[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(C^D))+V[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^D&(w^C))+V[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(k^w))+V[3]+4107603335&4294967295,D=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(D^k))+V[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(C^D))+V[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^D&(w^C))+V[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(k^w))+V[7]+1735328473&4294967295,D=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(D^k))+V[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(C^D^k)+V[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^D)+V[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^C)+V[11]+1839030562&4294967295,D=k+(x<<16&4294967295|x>>>16),x=C+(D^k^w)+V[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^k)+V[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^D)+V[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^C)+V[7]+4139469664&4294967295,D=k+(x<<16&4294967295|x>>>16),x=C+(D^k^w)+V[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^k)+V[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^D)+V[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^C)+V[3]+3572445317&4294967295,D=k+(x<<16&4294967295|x>>>16),x=C+(D^k^w)+V[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^k)+V[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^D)+V[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^C)+V[15]+530742520&4294967295,D=k+(x<<16&4294967295|x>>>16),x=C+(D^k^w)+V[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(D^(C|~k))+V[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~D))+V[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~C))+V[14]+2878612391&4294967295,D=k+(x<<15&4294967295|x>>>17),x=C+(k^(D|~w))+V[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~k))+V[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~D))+V[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~C))+V[10]+4293915773&4294967295,D=k+(x<<15&4294967295|x>>>17),x=C+(k^(D|~w))+V[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~k))+V[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~D))+V[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~C))+V[6]+2734768916&4294967295,D=k+(x<<15&4294967295|x>>>17),x=C+(k^(D|~w))+V[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~k))+V[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~D))+V[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~C))+V[2]+718787259&4294967295,D=k+(x<<15&4294967295|x>>>17),x=C+(k^(D|~w))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+k&4294967295}a.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=C;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<w;)if(V[D++]=R.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<w;)if(V[D++]=R[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[w++]=this.g[C]>>>V&255;return R};function c(R,w){var C=p;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function d(R,w){this.h=w;const C=[];let V=!0;for(let D=R.length-1;D>=0;D--){const k=R[D]|0;V&&k==w||(C[D]=k,V=!1)}this.g=C}var p={};function y(R){return-128<=R&&R<128?c(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return L(_(-R));const w=[];let C=1;for(let V=0;R>=C;V++)w[V]=R/C|0,C*=4294967296;return new d(w,0)}function b(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return L(b(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=A;for(let k=0;k<R.length;k+=8){var D=Math.min(8,R.length-k);const x=parseInt(R.substring(k,k+D),w);D<8?(D=_(Math.pow(w,D)),V=V.j(D).add(_(x))):(V=V.j(C),V=V.add(_(x)))}return V}var A=y(0),I=y(1),Q=y(16777216);s=d.prototype,s.m=function(){if(K(this))return-L(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*w,w*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(G(this))return"0";if(K(this))return"-"+L(this).toString(R);const w=_(Math.pow(R,6));var C=this;let V="";for(;;){const D=De(C,w).g;C=W(C,D.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,G(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function G(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function K(R){return R.h==-1}s.l=function(R){return R=W(this,R),K(R)?-1:G(R)?0:1};function L(R){const w=R.g.length,C=[];for(let V=0;V<w;V++)C[V]=~R.g[V];return new d(C,~R.h).add(I)}s.abs=function(){return K(this)?L(this):this},s.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let k=V+(this.i(D)&65535)+(R.i(D)&65535),x=(k>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);V=x>>>16,k&=65535,x&=65535,C[D]=x<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function W(R,w){return R.add(L(w))}s.j=function(R){if(G(this)||G(R))return A;if(K(this))return K(R)?L(this).j(L(R)):L(L(this).j(R));if(K(R))return L(this.j(L(R)));if(this.l(Q)<0&&R.l(Q)<0)return _(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<R.g.length;D++){const k=this.i(V)>>>16,x=this.i(V)&65535,$e=R.i(D)>>>16,pt=R.i(D)&65535;C[2*V+2*D]+=x*pt,te(C,2*V+2*D),C[2*V+2*D+1]+=k*pt,te(C,2*V+2*D+1),C[2*V+2*D+1]+=x*$e,te(C,2*V+2*D+1),C[2*V+2*D+2]+=k*$e,te(C,2*V+2*D+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new d(C,0)};function te(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function ae(R,w){this.g=R,this.h=w}function De(R,w){if(G(w))throw Error("division by zero");if(G(R))return new ae(A,A);if(K(R))return w=De(L(R),w),new ae(L(w.g),L(w.h));if(K(w))return w=De(R,L(w)),new ae(L(w.g),w.h);if(R.g.length>30){if(K(R)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var C=I,V=w;V.l(R)<=0;)C=Ee(C),V=Ee(V);var D=pe(C,1),k=pe(V,1);for(V=pe(V,2),C=pe(C,2);!G(V);){var x=k.add(V);x.l(R)<=0&&(D=D.add(C),k=x),V=pe(V,1),C=pe(C,1)}return w=W(R,D.j(w)),new ae(D,w)}for(D=A;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(C),x=k.j(w);K(x)||x.l(R)>0;)C-=V,k=_(C),x=k.j(w);G(k)&&(k=I),D=D.add(k),R=W(R,x)}return new ae(D,R)}s.B=function(R){return De(this,R).h},s.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&R.i(V);return new d(C,this.h&R.h)},s.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|R.i(V);return new d(C,this.h|R.h)},s.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^R.i(V);return new d(C,this.h^R.h)};function Ee(R){const w=R.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new d(C,R.h)}function pe(R,w){const C=w>>5;w%=32;const V=R.g.length-C,D=[];for(let k=0;k<V;k++)D[k]=w>0?R.i(k+C)>>>w|R.i(k+C+1)<<32-w:R.i(k+C);return new d(D,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Uv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,sa=d}).apply(typeof i_<"u"?i_:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zv,wo,Pv,jc,nm,Bv,qv,Hv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,U,q){for(var ne=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ne[Ne-2]=arguments[Ne];return m.prototype[U].apply(S,ne)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function G(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let ne=0;ne<q;ne++)u[v+ne]=U[ne]}else u.push(U)}}class K{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function L(u){d.setTimeout(()=>{throw u},0)}function W(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class te{constructor(){this.h=this.g=null}add(m,v){const S=ae.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new K(()=>new De,u=>u.reset());class De{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,pe=!1,R=new te,w=()=>{const u=Promise.resolve(void 0);Ee=()=>{u.then(C)}};function C(){for(var u;u=W();){try{u.h.call(u.g)}catch(v){L(v)}var m=ae;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}pe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function $e(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A($e,D),$e.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(u,m,v,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++F,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qe(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Ke(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let q=0;q<$.length;q++)v=$[q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,S,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ne=Re(u,m,S,U);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new ie(m,this.src,q,!!S,U),m.fa=v,u.push(m)),m};function Te(u,m){const v=m.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,S){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return U}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Tt={};function ot(u,m,v,S,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ot(u,m[q],v,S,U);return null}return v=yt(v),u&&u[pt]?u.J(m,v,p(S)?!!S.capture:!1,U):Pi(u,m,v,!1,S,U)}function Pi(u,m,v,S,U,q){if(!m)throw Error("Invalid event type");const ne=p(U)?!!U.capture:!!U;let Ne=xt(u);if(Ne||(u[je]=Ne=new re(u)),v=Ne.add(m,v,S,ne,q),v.proxy)return v;if(S=ps(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)k||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(_e(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ps(){function u(v){return m.call(u.src,u.listener,v)}const m=Qt;return u}function me(u,m,v,S,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)me(u,m[q],v,S,U);else S=p(S)?!!S.capture:!!S,v=yt(v),u&&u[pt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Re(m,v,S,U),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=xt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,S,U)),(v=u>-1?m[u]:null)&&he(v))}function he(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pt])Te(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(_e(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=xt(m))?(Te(v,u),v.h==0&&(v.src=null,m[je]=null)):fe(u)}}}function _e(u){return u in Tt?Tt[u]:Tt[u]="on"+u}function Qt(u,m){if(u.da)u=!0;else{m=new $e(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&he(u),u=v.call(S,m)}return u}function xt(u){return u=u[je],u instanceof re?u:null}var Ze="__closure_events_fn_"+(Math.random()*1e9>>>0);function yt(u){return typeof u=="function"?u:(u[Ze]||(u[Ze]=function(m){return u.handleEvent(m)}),u[Ze])}function Oe(){V.call(this),this.i=new re(this),this.M=this,this.G=null}A(Oe,V),Oe.prototype[pt]=!0,Oe.prototype.removeEventListener=function(u,m,v,S){me(this,u,m,v,S)};function nt(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(S,u),se(m,U)}U=!0;let q,ne;if(v)for(ne=v.length-1;ne>=0;ne--)q=m.g=v[ne],U=Nn(q,S,!0,m)&&U;if(q=m.g=u,U=Nn(q,S,!0,m)&&U,U=Nn(q,S,!1,m)&&U,v)for(ne=0;ne<v.length;ne++)q=m.g=v[ne],U=Nn(q,S,!1,m)&&U}Oe.prototype.N=function(){if(Oe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)fe(v[S]);delete u.g[m],u.h--}}this.G=null},Oe.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},Oe.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function Nn(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const ne=m[q];if(ne&&!ne.da&&ne.capture==v){const Ne=ne.listener,bt=ne.ha||ne.src;ne.fa&&Te(u.i,ne),U=Ne.call(bt,S)!==!1&&U}}return U&&!S.defaultPrevented}function da(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function sr(u){u.g=da(()=>{u.g=null,u.i&&(u.i=!1,sr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class on extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:sr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(u){V.call(this),this.h=u,this.g={}}A(ma,V);var _l=[];function vl(u){qe(u.g,function(m,v){this.g.hasOwnProperty(v)&&he(m)},u),u.g={}}ma.prototype.N=function(){ma.Z.N.call(this),vl(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=d.JSON.stringify,Vh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){D.call(this,"d")}A(Kt,D);function In(){D.call(this,"c")}A(In,D);var Et={},su=null;function ar(){return su=su||new Oe}Et.Ia="serverreachability";function au(u){D.call(this,Et.Ia,u)}A(au,D);function oi(u){const m=ar();nt(m,new au(m))}Et.STAT_EVENT="statevent";function pa(u,m){D.call(this,Et.STAT_EVENT,u),this.stat=m}A(pa,D);function Rt(u){const m=ar();nt(m,new pa(m,u))}Et.Ja="timingevent";function ui(u,m){D.call(this,Et.Ja,u),this.size=m}A(ui,D);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function kh(u,m,v,S,U,q){u.info(function(){if(u.g)if(q){var ne="",Ne=q.split("&");for(let Ye=0;Ye<Ne.length;Ye++){var bt=Ne[Ye].split("=");if(bt.length>1){const dt=bt[0];bt=bt[1];const Vn=dt.split("_");ne=Vn.length>=2&&Vn[1]=="type"?ne+(dt+"="+bt+"&"):ne+(dt+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+ne})}function ru(u,m,v,S,U,q,ne){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+ne})}function hi(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(S?" "+S:"")})}function ga(u,m){u.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<S.length;ne++)S[ne]=""}}}}return gs(q)}catch{return m}}var ya={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function _a(){}A(_a,nu),_a.prototype.g=function(){return new XMLHttpRequest},El=new _a;function Bi(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Kn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new ma(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Ct={},qt={};function fi(u,m,v){u.M=1,u.A=va(It(m)),u.u=v,u.R=!0,rr(u,null)}function rr(u,m){u.F=Date.now(),di(u),u.B=It(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),cr(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Yn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new on(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(_l[0]=U.toString()),U=_l);for(let q=0;q<U.length;q++){const ne=ot(v,U[q],S||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Jn(this.g),bt=this.g.ya(),Ye=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||Ne!=4||bt==7||(bt==8||Ye<=0?oi(3):oi(2)),mi(this);var m=this.g.ca();this.X=m;var v=Lh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var q=S;break t}}q=null}if(u=q)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,Rt(12),Tn(this),Dn(this);break e}}if(this.R){u=!0;let dt;for(;!this.K&&this.C<v.length;)if(dt=uu(this,v),dt==qt){Ne==4&&(this.m=4,Rt(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Ct){this.m=4,Rt(15),hi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,dt,null),pi(this,dt);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Rt(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jl(ne),ne.P=!0,Rt(11))}}else hi(this.i,this.l,v,null),pi(this,v);Ne==4&&Tn(this),this.o&&!this.K&&(Ne==4?_u(this.j,this):(this.o=!1,di(this)))}else Hi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Tn(this),Dn(this)}}}catch{}finally{}};function Lh(u){if(!ou(u))return u.g.la();const m=Yt(u.g);if(m==="")return"";let v="";const S=m.length,U=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?qt:(v=Number(m.substring(v,S)),isNaN(v)?Ct:(S+=1,S+v>m.length?qt:(m=m.slice(S,S+v),u.C=S+v,m)))}Kn.prototype.cancel=function(){this.K=!0,Tn(this)};function di(u){u.T=Date.now()+u.H,lr(u,u.H)}function lr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(_(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ga(this.i,this.B),this.M!=2&&(oi(),Rt(17)),Tn(this),this.m=2,Dn(this)):lr(this,this.T-u)};function Dn(u){u.j.I==0||u.K||_u(u.j,u)}function Tn(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||yi(v.h,u))){if(!u.L&&yi(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pr(v),As(v);else break e;xa(v),Rt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(_(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((u.L||v.g==u)&&pr(v),!x(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ye=U[m];const dt=Ye[0];if(!(dt<=v.K))if(v.K=dt,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const Vn=Ye[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ai=Ye[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Zn=Ye[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(S=1.5*Zn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Wn=u.g;if(Wn){const Ra=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var q=S.h;q.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Al(q,q.h),q.h=null))}if(S.G){const gr=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;gr&&(S.wa=gr,We(S.J,S.G,gr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ne=u;if(S.na=Eu(S,S.L?S.ba:null,S.W),ne.L){wl(S.h,ne);var Ne=ne,bt=S.O;bt&&(Ne.H=bt),Ne.D&&(mi(Ne),di(Ne)),S.g=ne}else gu(S);v.i.length>0&&bi(v)}else Ye[0]!="stop"&&Ye[0]!="close"||Si(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Si(v,7):Vl(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}oi(4)}catch{}}var Nt=class{constructor(u,m){this.g=u,this.map=m}};function bl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Al(u,m){u.g?u.g.add(m):u.h=m}function wl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function or(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let U,q=null;S>=0?(U=u[v].substring(0,S),q=u[v].substring(S+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,Ht(this,u.j),this.o=u.o,this.g=u.g,ys(this,u.u),this.h=u.h,Rl(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Ht(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),ys(this,m[4]),this.h=_i(m[5]||"",!0),Rl(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ta(m,ur,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ta(m,ur,!0),"@"),u.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ta(v,v.charAt(0)=="/"?Cl:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ta(v,fu)),u.join("")},En.prototype.resolve=function(u){const m=It(this);let v=!!u.j;v?Ht(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)ys(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ne=0;ne<U.length;){const Ne=U[ne++];Ne=="."?S&&ne==U.length&&q.push(""):Ne==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&ne==U.length&&q.push("")):(q.push(Ne),S=!0)}S=q.join("/")}else S=U}return v?m.h=S:v=u.i.toString()!=="",v?Rl(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function It(u){return new En(u)}function Ht(u,m,v){u.j=v?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ys(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Rl(u,m,v){m instanceof vs?(u.i=m,hr(u.i,u.l)):(v||(m=Ta(m,_s)),u.i=new vs(m,u.l))}function We(u,m,v){u.i.set(m,v)}function va(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ta(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ur=/[#\/\?@]/g,hu=/[#\?:]/g,Cl=/[#\?]/g,_s=/[#\?@]/g,fu=/#/g;function vs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&or(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=vs.prototype,s.add=function(u,m){fn(this),this.i=null,u=Ts(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){fn(u),m=Ts(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Nl(u,m){return fn(u),m=Ts(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(m,U,S,this)},this)},this)};function Il(u,m){fn(u);let v=[];if(typeof m=="string")Nl(u,m)&&(v=v.concat(u.g.get(Ts(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return fn(this),this.i=null,u=Ts(this,u),Nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Il(this,u),u.length>0?String(u[0]):m):m};function cr(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(Ts(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const U=Bi(v);v=Il(this,v);for(let q=0;q<v.length;q++){let ne=U;v[q]!==""&&(ne+="="+Bi(v[q])),u.push(ne)}}return this.i=u.join("&")};function mu(u){const m=new vs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ts(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function hr(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(du(this,S),cr(this,U,v))},u)),u.j=m}function Xn(u,m){const v=new Qn;if(d.Image){const S=new Image;S.onload=b(Mn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=b(Mn,v,"TestLoadImage: error",!1,m,S),S.onabort=b(Mn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=b(Mn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Dl(u,m){const v=new Qn,S=new AbortController,U=setTimeout(()=>{S.abort(),Mn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?Mn(v,"TestPingServer: ok",!0,m):Mn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Mn(v,"TestPingServer: error",!1,m)})}function Mn(u,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Es(){this.g=new tu}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(vi,nu),vi.prototype.g=function(){return new Ea(this.i,this.h)};function Ea(u,m){Oe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ea,Oe),s=Ea.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function fr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bs(this):$n(this),this.readyState==3&&fr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,bs(this))},s.Na=function(u){this.g&&(this.response=u,bs(this))},s.ga=function(){this.g&&bs(this)};function bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return qe(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function ba(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=On(v),typeof u=="string"?v!=null&&Bi(v):We(u,m,v))}function it(u){Oe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(it,Oe);var Ti=/^https?$/i,Ml=["POST","PUT"];s=it.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Sa(this,q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ml,m,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Sa(this,q)}};function Sa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ol(u),qi(u)}function Ol(u){u.A||(u.A=!0,nt(u,"complete"),nt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,nt(this,"complete"),nt(this,"abort"),qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),it.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Aa(this):this.Xa())},s.Xa=function(){Aa(this)};function Aa(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(nt(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let ne=String(u.D).match(cu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),S=!Ti.test(ne?ne.toLowerCase():"")}v=S}if(v)nt(u,"complete"),nt(u,"success");else{u.o=6;try{var U=Jn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ol(u)}}finally{qi(u)}}}}function qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||nt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vh(m)}};function Yt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var v=lu(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Ke(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ss(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bl(u&&u.concurrentRequestLimit),this.Ba=new Es,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ss.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){Rt(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Eu(this,null,this.W),bi(this)};function Vl(u){if(dr(u),u.I==3){var m=u.V++,v=It(u.J);if(We(v,"SID",u.M),We(v,"RID",m),We(v,"TYPE","terminate"),wa(u,v),m=new Kn(u,u.j,m),m.M=2,m.A=va(It(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}Tu(u)}function As(u){u.g&&(jl(u),u.g.cancel(),u.g=null)}function dr(u){As(u),u.v&&(d.clearTimeout(u.v),u.v=null),pr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function bi(u){if(!Sl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ee||w(),pe||(Ee(),pe=!0),R.add(m,u),u.D=0}}function mr(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(_(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Kn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=pu(this,U,m),v=It(this.J),We(v,"RID",u),We(v,"CVER",22),this.G&&We(v,"X-HTTP-Session-Id",this.G),wa(this,v),q&&(this.R?m="headers="+Bi(On(q))+"&"+m:this.u&&ba(v,this.u,q)),Al(this.h,U),this.Ra&&We(v,"TYPE","init"),this.S?(We(v,"$req",m),We(v,"SID","null"),U.U=!0,fi(U,v,null)):fi(U,v,m),this.I=2}}else this.I==3&&(u?kl(this,u):this.i.length==0||Sl(this.h)||kl(this))};function kl(u,m){var v;m?v=m.l:v=u.V++;const S=It(u.J);We(S,"SID",u.M),We(S,"RID",v),We(S,"AID",u.K),wa(u,S),u.u&&u.o&&ba(S,u.u,u.o),v=new Kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Al(u.h,v),fi(v,S,m)}function wa(u,m){u.H&&qe(u.H,function(v,S){We(m,S,v)}),u.l&&qe({},function(v,S){We(m,S,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ne=-1;for(;;){const bt=["count="+v];Ne==-1?v>0?(Ne=U[0].g,bt.push("ofs="+Ne)):Ne=0:bt.push("ofs="+Ne);let Ye=!0;for(let dt=0;dt<v;dt++){var q=U[dt].g;const Vn=U[dt].map;if(q-=Ne,q<0)Ne=Math.max(0,U[dt].g-100),Ye=!1;else try{q="req"+q+"_"||"";try{var ne=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ai,Zn]of ne){let Wn=Zn;p(Zn)&&(Wn=gs(Zn)),bt.push(q+Ai+"="+encodeURIComponent(Wn))}}catch(Ai){throw bt.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{S&&S(Vn)}}if(Ye){ne=bt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ee||w(),pe||(Ee(),pe=!0),R.add(m,u),u.A=0}}function xa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(_(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),As(this),yu(this))};function jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=It(u.na);We(m,"RID","rpc"),We(m,"SID",u.M),We(m,"AID",u.K),We(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(m,"TO",u.ia),We(m,"TYPE","xmlhttp"),wa(u,m),u.u&&u.o&&ba(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=va(It(m)),v.u=null,v.R=!0,rr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,As(this),xa(this),Rt(19))};function pr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){pr(u),jl(u),u.g=null;var S=2}else if(yi(u.h,m))v=m.G,wl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=ar(),nt(S,new ui(S,v)),bi(u)}else gu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&mr(u,m)||S==2&&xa(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const U=!S;S=new En(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(S,"https"),va(S),U?Xn(S.toString(),v):Dl(S.toString(),v)}else Rt(2);u.I=0,u.l&&u.l.pa(m),Tu(u),dr(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=xl(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var S=v instanceof En?It(v):new En(v);if(S.g!="")m&&(S.g=m+"."+S.g),ys(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new En(null);S&&Ht(q,S),m&&(q.g=m),U&&ys(q,U),v&&(q.h=v),S=q}return v=u.G,m=u.wa,v&&m&&We(S,v,m),We(S,"VER",u.ka),wa(u,S),S}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new it(new vi({ab:v})):new it(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ws(){}ws.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Oe.call(this),this.g=new Ss(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gi(this)}A(un,Oe),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Vl(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gs(u),u=v);m.i.push(new Nt(m.Ya++,u)),m.I==3&&bi(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,un.Z.N.call(this)};function Au(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Au,Kt);function wu(){In.call(this),this.status=1}A(wu,In);function Gi(u){this.g=u}A(Gi,Su),Gi.prototype.ra=function(){nt(this.g,"a")},Gi.prototype.qa=function(u){nt(this.g,new Au(u))},Gi.prototype.pa=function(u){nt(this.g,new wu)},Gi.prototype.oa=function(){nt(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Hv=function(){return new ws},qv=function(){return ar()},Bv=Et,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,jc=ya,Tl.COMPLETE="complete",Pv=Tl,iu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Oe.prototype.listen=Oe.prototype.J,wo=iu,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,zv=it}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="12.8.0";function xS(s){dl=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new xm("@firebase/firestore");function Qr(){return Ja.logLevel}function le(s,...e){if(Ja.logLevel<=ze.DEBUG){const i=e.map(Nm);Ja.debug(`Firestore (${dl}): ${s}`,...i)}}function hs(s,...e){if(Ja.logLevel<=ze.ERROR){const i=e.map(Nm);Ja.error(`Firestore (${dl}): ${s}`,...i)}}function il(s,...e){if(Ja.logLevel<=ze.WARN){const i=e.map(Nm);Ja.warn(`Firestore (${dl}): ${s}`,...i)}}function Nm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Gv(s,a,i)}function Gv(s,e,i){let a=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw hs(a),new Error(a)}function Je(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Gv(e,o,a)}function we(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class CS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class NS{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new aa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new aa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string",31837,{l:a}),new Fv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class IS{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class DS{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new IS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new s_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=OS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Pe(s,e){return s<e?-1:s>e?1:0}function im(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Hd(o)===Hd(c)?Pe(o,c):Hd(o)?1:-1}return Pe(s.length,e.length)}const VS=55296,kS=57343;function Hd(s){const e=s.charCodeAt(0);return e>=VS&&e<=kS}function sl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class Ii{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ii.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const a=Ii.isNumericId(e),o=Ii.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(i)):im(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sa.fromString(e.substring(4,e.length-2))}}class ht extends Ii{construct(e,i,a){return new ht(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ht(i)}static emptyPath(){return new ht([])}}const jS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Ii{construct(e,i,a){return new en(e,i,a)}static isValidIdentifier(e){return jS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new en([a_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ht.fromString(e))}static fromName(e){return new ge(ht.fromString(e).popFirst(5))}static empty(){return new ge(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(s,e,i){if(!i)throw new ce(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function LS(s,e,i,a){if(e===!0&&a===!0)throw new ce(ee.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function r_(s){if(!ge.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function l_(s){if(ge.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Kv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function us(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(s);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Qo(s,e){if(!Kv(s))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce(ee.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-62135596800,u_=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*u_);return new ft(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<o_)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qo(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:jt("string",ft._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ft(0,0))}static max(){return new Se(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=-1;function US(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new ft(i+1,0):new ft(i,a));return new la(o,ge.empty(),e)}function zS(s){return new la(s.readTime,s.key,Lo)}class la{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new la(Se.min(),ge.empty(),Lo)}static max(){return new la(Se.max(),ge.empty(),Lo)}}function PS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:Pe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==BS)throw s;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function HS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function pl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=-1;function yh(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function GS(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="";function FS(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=c_(e)),e=QS(s.get(i),e);return c_(e)}function QS(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Yv:i+="";break;default:i+=c}}return i}function c_(s){return s+Yv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function er(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Xv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new gt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Wt.RED,this.left=o??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Wt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new f_(this.data.getIterator())}getIteratorFrom(e){return new f_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Bt(this.comparator);return i.data=e,i}}class f_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new si([])}unionWith(e){let i=new Bt(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new si(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $v("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const KS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const i=KS.exec(s);if(Je(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wt(s.seconds),nanos:wt(s.nanos)}}function wt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ua(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="server_timestamp",Zv="__type__",Wv="__previous_value__",e1="__local_write_time__";function Om(s){var i,a;return((a=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Zv])==null?void 0:a.stringValue)===Jv}function _h(s){const e=s.mapValue.fields[Wv];return Om(e)?_h(e):e}function Uo(s){const e=oa(s.mapValue.fields[e1].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,i,a,o,c,d,p,y,_,b,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=A}}const Jc="(default)";class zo{constructor(e,i){this.projectId=e,this.database=i||Jc}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}function XS(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="__type__",$S="__max__",Dc={mapValue:{}},n1="__vector__",Zc="value";function ca(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Om(s)?4:ZS(s)?9007199254740991:JS(s)?10:11:ve(28295,{value:s})}function Li(s,e){if(s===e)return!0;const i=ca(s);if(i!==ca(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Uo(s).isEqual(Uo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=oa(o.timestampValue),p=oa(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return ua(o.bytesValue).isEqual(ua(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return wt(o.geoPointValue.latitude)===wt(c.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return wt(o.integerValue)===wt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=wt(o.doubleValue),p=wt(c.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return sl(s.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(h_(d)!==h_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Li(d[y],p[y])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Po(s,e){return(s.values||[]).find((i=>Li(i,e)))!==void 0}function al(s,e){if(s===e)return 0;const i=ca(s),a=ca(e);if(i!==a)return Pe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=wt(c.integerValue||c.doubleValue),y=wt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return d_(s.timestampValue,e.timestampValue);case 4:return d_(Uo(s),Uo(e));case 5:return im(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=ua(c),y=ua(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=Pe(p[_],y[_]);if(b!==0)return b}return Pe(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Pe(wt(c.latitude),wt(d.latitude));return p!==0?p:Pe(wt(c.longitude),wt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return m_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){var I,Q,G,K;const p=c.fields||{},y=d.fields||{},_=(I=p[Zc])==null?void 0:I.arrayValue,b=(Q=y[Zc])==null?void 0:Q.arrayValue,A=Pe(((G=_==null?void 0:_.values)==null?void 0:G.length)||0,((K=b==null?void 0:b.values)==null?void 0:K.length)||0);return A!==0?A:m_(_,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const I=im(y[A],b[A]);if(I!==0)return I;const Q=al(p[y[A]],_[b[A]]);if(Q!==0)return Q}return Pe(y.length,b.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function d_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const i=oa(s),a=oa(e),o=Pe(i.seconds,a.seconds);return o!==0?o:Pe(i.nanos,a.nanos)}function m_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=al(i[o],a[o]);if(c)return c}return Pe(i.length,a.length)}function rl(s){return sm(s)}function sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=oa(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ua(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=sm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${sm(i.fields[d])}`;return o+"}"})(s.mapValue):ve(61005,{value:s})}function Lc(s){switch(ca(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(s);return e?16+Lc(e):16;case 5:return 2*s.stringValue.length;case 6:return ua(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Lc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return er(a.fields,((c,d)=>{o+=c.length+Lc(d)})),o})(s.mapValue);default:throw ve(13486,{value:s})}}function am(s){return!!s&&"integerValue"in s}function Vm(s){return!!s&&"arrayValue"in s}function p_(s){return!!s&&"nullValue"in s}function g_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uc(s){return!!s&&"mapValue"in s}function JS(s){var i,a;return((a=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[t1])==null?void 0:a.stringValue)===n1}function Io(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return er(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Io(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Io(s.arrayValue.values[i]);return e}return{...s}}function ZS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$S}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Io(i)}setAll(e){let i=en.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Io(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){er(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Hn(Io(this.value))}}function i1(s){const e=[];return er(s.fields,((i,a)=>{const o=new en([i]);if(Uc(a)){const c=i1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new rn(e,0,Se.min(),Se.min(),Se.min(),Hn.empty(),0)}static newFoundDocument(e,i,a,o){return new rn(e,1,i,Se.min(),a,o,0)}static newNoDocument(e,i){return new rn(e,2,i,Se.min(),Se.min(),Hn.empty(),0)}static newUnknownDocument(e,i){return new rn(e,3,i,Se.min(),Se.min(),Hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,i){this.position=e,this.inclusive=i}}function y_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=al(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function __(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Li(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,i="asc"){this.field=e,this.dir=i}}function WS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{}class zt extends s1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new tA(e,i,a):i==="array-contains"?new sA(e,a):i==="in"?new aA(e,a):i==="not-in"?new rA(e,a):i==="array-contains-any"?new lA(e,a):new zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new nA(e,a):new iA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(al(i,this.value)):i!==null&&ca(this.value)===ca(i)&&this.matchesComparison(al(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends s1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ui(e,i)}matches(e){return a1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function a1(s){return s.op==="and"}function r1(s){return eA(s)&&a1(s)}function eA(s){for(const e of s.filters)if(e instanceof Ui)return!1;return!0}function rm(s){if(s instanceof zt)return s.field.canonicalString()+s.op.toString()+rl(s.value);if(r1(s))return s.filters.map((e=>rm(e))).join(",");{const e=s.filters.map((i=>rm(i))).join(",");return`${s.op}(${e})`}}function l1(s,e){return s instanceof zt?(function(a,o){return o instanceof zt&&a.op===o.op&&a.field.isEqual(o.field)&&Li(a.value,o.value)})(s,e):s instanceof Ui?(function(a,o){return o instanceof Ui&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&l1(d,o.filters[p])),!0):!1})(s,e):void ve(19439)}function o1(s){return s instanceof zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${rl(i.value)}`})(s):s instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(o1).join(" ,")+"}"})(s):"Filter"}class tA extends zt{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class nA extends zt{constructor(e,i){super(e,"in",i),this.keys=u1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class iA extends zt{constructor(e,i){super(e,"not-in",i),this.keys=u1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function u1(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((a=>ge.fromName(a.referenceValue)))}class sA extends zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Vm(i)&&Po(i.arrayValue,this.value)}}class aA extends zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Po(this.value.arrayValue,i)}}class rA extends zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Po(this.value.arrayValue,i)}}class lA extends zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Po(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function v_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new oA(s,e,i,a,o,c,d)}function km(s){const e=we(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),yh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>rl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>rl(a))).join(",")),e.Te=i}return e.Te}function jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!WS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!l1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!__(s.startAt,e.startAt)&&__(s.endAt,e.endAt)}function lm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function uA(s,e,i,a,o,c,d,p){return new vh(s,e,i,a,o,c,d,p)}function Lm(s){return new vh(s)}function T_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cA(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function hA(s){return s.collectionGroup!==null}function Do(s){const e=we(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Bt(en.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new eh(c,a))})),i.has(en.keyField().canonicalString())||e.Ie.push(new eh(en.keyField(),a))}return e.Ie}function Mi(s){const e=we(s);return e.Ee||(e.Ee=fA(e,Do(s))),e.Ee}function fA(s,e){if(s.limitType==="F")return v_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eh(o.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return v_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function om(s,e,i){return new vh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Th(s,e){return jm(Mi(s),Mi(e))&&s.limitType===e.limitType}function c1(s){return`${km(Mi(s))}|lt:${s.limitType}`}function Kr(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>o1(o))).join(", ")}]`),yh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>rl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>rl(o))).join(",")),`Target(${a})`})(Mi(s))}; limitType=${s.limitType})`}function Eh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Do(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=y_(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Do(a),o)||a.endAt&&!(function(d,p,y){const _=y_(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Do(a),o))})(s,e)}function dA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function h1(s){return(e,i)=>{let a=!1;for(const o of Do(s)){const c=mA(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function mA(s,e,i){const a=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?al(y,_):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){er(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return Xv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new gt(ge.comparator);function fs(){return pA}const f1=new gt(ge.comparator);function xo(...s){let e=f1;for(const i of s)e=e.insert(i.key,i);return e}function d1(s){let e=f1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Ga(){return Mo()}function m1(){return Mo()}function Mo(){return new tr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const gA=new gt(ge.comparator),yA=new Bt(ge.comparator);function Be(...s){let e=yA;for(const i of s)e=e.add(i);return e}const _A=new Bt(Pe);function vA(){return _A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function p1(s){return{integerValue:""+s}}function TA(s,e){return GS(e)?p1(e):Um(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function EA(s,e,i){return s instanceof th?(function(o,c){const d={fields:{[Zv]:{stringValue:Jv},[e1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Om(c)&&(c=_h(c)),c&&(d.fields[Wv]=c),{mapValue:d}})(i,e):s instanceof Bo?y1(s,e):s instanceof qo?_1(s,e):(function(o,c){const d=g1(o,c),p=E_(d)+E_(o.Ae);return am(d)&&am(o.Ae)?p1(p):Um(o.serializer,p)})(s,e)}function bA(s,e,i){return s instanceof Bo?y1(s,e):s instanceof qo?_1(s,e):i}function g1(s,e){return s instanceof nh?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class th extends bh{}class Bo extends bh{constructor(e){super(),this.elements=e}}function y1(s,e){const i=v1(e);for(const a of s.elements)i.some((o=>Li(o,a)))||i.push(a);return{arrayValue:{values:i}}}class qo extends bh{constructor(e){super(),this.elements=e}}function _1(s,e){let i=v1(e);for(const a of s.elements)i=i.filter((o=>!Li(o,a)));return{arrayValue:{values:i}}}class nh extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function E_(s){return wt(s.integerValue||s.doubleValue)}function v1(s){return Vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function SA(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Bo&&o instanceof Bo||a instanceof qo&&o instanceof qo?sl(a.elements,o.elements,Li):a instanceof nh&&o instanceof nh?Li(a.Ae,o.Ae):a instanceof th&&o instanceof th})(s.transform,e.transform)}class AA{constructor(e,i){this.version=e,this.transformResults=i}}class Oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Sh{}function T1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new zm(s.key,Oi.none()):new Ko(s.key,s.data,Oi.none());{const i=s.data,a=Hn.empty();let o=new Bt(en.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new nr(s.key,a,new si(o.toArray()),Oi.none())}}function wA(s,e,i){s instanceof Ko?(function(o,c,d){const p=o.value.clone(),y=S_(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof nr?(function(o,c,d){if(!zc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=S_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(E1(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Oo(s,e,i,a){return s instanceof Ko?(function(c,d,p,y){if(!zc(c.precondition,d))return p;const _=c.value.clone(),b=A_(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof nr?(function(c,d,p,y){if(!zc(c.precondition,d))return p;const _=A_(c.fieldTransforms,y,d),b=d.data;return b.setAll(E1(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,p){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function xA(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=g1(a.transform,o||null);c!=null&&(i===null&&(i=Hn.empty()),i.set(a.field,c))}return i||null}function b_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&sl(a,o,((c,d)=>SA(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ko extends Sh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class nr extends Sh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function E1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function S_(s,e,i){const a=new Map;Je(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,bA(d,p,i[o]))}return a}function A_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,EA(c,d,e))}return a}class zm extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RA extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&wA(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Oo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Oo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=m1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=T1(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((i,a)=>b_(i,a)))&&sl(this.baseMutations,e.baseMutations,((i,a)=>b_(i,a)))}}class Pm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Je(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return gA})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Pm(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Ge;function DA(s){switch(s){case ee.OK:return ve(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function b1(s){if(s===void 0)return hs("GRPC error has no .code"),ee.UNKNOWN;switch(s){case kt.OK:return ee.OK;case kt.CANCELLED:return ee.CANCELLED;case kt.UNKNOWN:return ee.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ee.INTERNAL;case kt.UNAVAILABLE:return ee.UNAVAILABLE;case kt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case kt.NOT_FOUND:return ee.NOT_FOUND;case kt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case kt.ABORTED:return ee.ABORTED;case kt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case kt.DATA_LOSS:return ee.DATA_LOSS;default:return ve(39323,{code:s})}}(Ge=kt||(kt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new sa([4294967295,4294967295],0);function w_(s){const e=MA().encode(s),i=new Uv;return i.update(e),new Uint8Array(i.digest())}function x_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new sa([i,a],0),new sa([o,c],0)]}class Bm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ro(`Invalid padding: ${i}`);if(a<0)throw new Ro(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=sa.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(sa.fromNumber(a)));return o.compare(OA)===1&&(o=new sa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=w_(e),[a,o]=x_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Bm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=w_(e),[a,o]=x_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Yo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ah(Se.min(),o,new gt(Pe),fs(),Be())}}class Yo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Yo(a,i,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class S1{constructor(e,i){this.targetId=e,this.Ce=i}}class A1{constructor(e,i,a=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class R_{constructor(){this.ve=0,this.Fe=C_(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),a=Be();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:c})}})),new Yo(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=C_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class VA{constructor(e){this.Ge=e,this.ze=new Map,this.je=fs(),this.He=Mc(),this.Je=Mc(),this.Ze=new gt(Pe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(lm(c))if(a===0){const d=new ge(c.path);this.et(i,d,rn.newNoDocument(d,Se.min()))}else Je(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=ua(a).toUint8Array()}catch(y){if(y instanceof $v)return il("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Bm(d,o,c)}catch(y){return il(y instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&lm(p.target)){const y=new ge(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,rn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Be();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ah(e,i,this.Ze,this.je,a);return this.je=fs(),this.He=Mc(),this.Je=Mc(),this.Ze=new gt(Pe),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new R_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Bt(Pe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Bt(Pe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new R_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new gt(ge.comparator)}function C_(){return new gt(ge.comparator)}const kA={asc:"ASCENDING",desc:"DESCENDING"},jA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LA={and:"AND",or:"OR"};class UA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function um(s,e){return s.useProto3Json||yh(e)?e:{value:e}}function ih(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function zA(s,e){return ih(s,e.toTimestamp())}function Vi(s){return Je(!!s,49232),Se.fromTimestamp((function(i){const a=oa(i);return new ft(a.seconds,a.nanos)})(s))}function qm(s,e){return cm(s,e).canonicalString()}function cm(s,e){const i=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function x1(s){const e=ht.fromString(s);return Je(D1(e),10190,{key:e.toString()}),e}function hm(s,e){return qm(s.databaseId,e.path)}function Gd(s,e){const i=x1(e);if(i.get(1)!==s.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(C1(i))}function R1(s,e){return qm(s.databaseId,e)}function PA(s){const e=x1(s);return e.length===4?ht.emptyPath():C1(e)}function fm(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function C1(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function N_(s,e,i){return{name:hm(s,e),fields:i.value.mapValue.fields}}function BA(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Je(b===void 0||typeof b=="string",58123),tn.fromBase64String(b||"")):(Je(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),tn.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?ee.UNKNOWN:b1(_.code);return new ce(b,_.message||"")})(d);i=new A1(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(s,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):Se.min(),p=new Hn({mapValue:{fields:a.document.fields}}),y=rn.newFoundDocument(o,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Pc(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Gd(s,a.document),c=a.readTime?Vi(a.readTime):Se.min(),d=rn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Pc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Gd(s,a.document),c=a.removedTargetIds||[];i=new Pc([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new IA(o,c),p=a.targetId;i=new S1(p,d)}}return i}function qA(s,e){let i;if(e instanceof Ko)i={update:N_(s,e.key,e.value)};else if(e instanceof zm)i={delete:hm(s,e.key)};else if(e instanceof nr)i={update:N_(s,e.key,e.data),updateMask:JA(e.fieldMask)};else{if(!(e instanceof RA))return ve(16599,{dt:e.type});i={verify:hm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Bo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof qo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:zA(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function HA(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Vi(o.updateTime):Vi(c);return d.isEqual(Se.min())&&(d=Vi(c)),new AA(d,o.transformResults||[])})(i,e)))):[]}function GA(s,e){return{documents:[R1(s,e.path)]}}function FA(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=R1(s,o);const c=(function(_){if(_.length!==0)return I1(Ui.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(I){return{field:Yr(I.field),direction:YA(I.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=um(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function QA(s){let e=PA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Je(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const I=N1(A);return I instanceof Ui&&r1(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((I=>(function(G){return new eh(Xr(G.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(I)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let I;return I=typeof A=="object"?A.value:A,yh(I)?null:I})(i.limit));let y=null;i.startAt&&(y=(function(A){const I=!!A.before,Q=A.values||[];return new Wc(Q,I)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const I=!A.before,Q=A.values||[];return new Wc(Q,I)})(i.endAt)),uA(e,o,d,c,p,"F",y,_)}function KA(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function N1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Xr(i.unaryFilter.field);return zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Xr(i.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xr(i.unaryFilter.field);return zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xr(i.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return zt.create(Xr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((a=>N1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function YA(s){return kA[s]}function XA(s){return jA[s]}function $A(s){return LA[s]}function Yr(s){return{fieldPath:s.canonicalString()}}function Xr(s){return en.fromServerFormat(s.fieldPath)}function I1(s){return s instanceof zt?(function(i){if(i.op==="=="){if(g_(i.value))return{unaryFilter:{field:Yr(i.field),op:"IS_NAN"}};if(p_(i.value))return{unaryFilter:{field:Yr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(g_(i.value))return{unaryFilter:{field:Yr(i.field),op:"IS_NOT_NAN"}};if(p_(i.value))return{unaryFilter:{field:Yr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yr(i.field),op:XA(i.op),value:i.value}}})(s):s instanceof Ui?(function(i){const a=i.getFilters().map((o=>I1(o)));return a.length===1?a[0]:{compositeFilter:{op:$A(i.op),filters:a}}})(s):ve(54877,{filter:s})}function JA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function D1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function M1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,i,a,o,c=Se.min(),d=Se.min(),p=tn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.yt=e}}function WA(s){const e=QA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this.Sn=new tw}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(la.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(la.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class tw{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Bt(ht.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Bt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O1=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(O1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ll(0)}static ar(){return new ll(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LruGarbageCollector",nw=1048576;function M_([s,e],[i,a]){const o=Pe(s,i);return o===0?Pe(e,a):o}class iw{constructor(e){this.Pr=e,this.buffer=new Bt(M_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();M_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sw{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(D_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){pl(i)?le(D_,"Ignoring IndexedDB error during garbage collection: ",i):await ml(i)}await this.Ar(3e5)}))}}class aw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(gh.ce);const a=new iw(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(I_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Qr()<=ze.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function rw(s,e){return new aw(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.changes=new tr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Oo(a.mutation,o,si.empty(),ft.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Be()){const o=Ga();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=xo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Ga();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Be())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=fs();const d=Mo(),p=(function(){return Mo()})();return i.forEach(((y,_)=>{const b=a.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof nr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Oo(b.mutation,_,b.mutation.getFieldMask(),ft.now())):d.set(_.key,si.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new ow(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Mo();let o=new gt(((d,p)=>d-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||si.empty();b=p.applyToLocalView(_,b),a.set(y,b);const A=(o.get(p.batchId)||Be()).add(y);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,A=m1();b.forEach((I=>{if(!c.has(I)){const Q=T1(i.get(I),a.get(I));Q!==null&&A.set(I,Q),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return cA(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):hA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(Ga());let p=Lo,y=c;return d.next((_=>Z.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next((I=>{y=y.insert(b,I)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Be()))).next((b=>({batchId:p,changes:d1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let o=xo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=xo();return this.indexManager.getCollectionParents(e,c).next((p=>Z.forEach(p,(y=>{const _=(function(A,I){return new vh(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((b=>{b.forEach(((A,I)=>{d=d.insert(A,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,rn.newInvalidDocument(b)))}));let p=xo();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Oo(b.mutation,_,si.empty(),ft.now()),Eh(i,_)&&(p=p.insert(y,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:WA(o.bundledQuery),readTime:Vi(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.overlays=new gt(ge.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Ga();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=Ga(),c=i.length+1,d=new ge(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new gt(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Ga(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Ga(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=o)););return Z.resolve(p)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new NA(i,a));let c=this.Lr.get(i);c===void 0&&(c=Be(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.kr=new Bt(Ft.Kr),this.qr=new Bt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Ft(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Ft(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ge(new ht([])),a=new Ft(i,e),o=new Ft(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ge(new ht([])),a=new Ft(i,e),o=new Ft(i,e+1);let c=Be();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ft(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ge.comparator(e.key,i.key)||Pe(e.Hr,i.Hr)}static Ur(e,i){return Pe(e.Hr,i.Hr)||ge.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Bt(Ft.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CA(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Ft(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Mm:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Bt(Pe);return i.forEach((o=>{const c=new Ft(o,0),d=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),Z.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new ge(c),0);let p=new Bt(Pe);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Hr)),!0)}),d),Z.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Je(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return Z.forEach(i.mutations,(o=>{const c=new Ft(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Ft(i,0),o=this.Jr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.ti=e,this.docs=(function(){return new gt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(e,i){let a=fs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():rn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=fs();const d=i.path,p=new ge(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||PS(zS(b),a)<=0||(o.has(b.key)||Eh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ve(9500)}ni(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new pw(this)}getSize(e){return Z.resolve(this.size)}}class pw extends lw{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.persistence=e,this.ri=new tr((i=>km(i)),jm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Hm,this.targetCount=0,this.oi=ll._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new ll(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,i){this._i={},this.overlays={},this.ai=new gh(0),this.ui=!1,this.ui=!0,this.ci=new fw,this.referenceDelegate=e(this),this.li=new gw(this),this.indexManager=new ew,this.remoteDocumentCache=(function(o){return new mw(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new ZA(i),this.Pi=new cw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new dw(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new yw(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return Z.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class yw extends qS{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Ri=new Hm,this.Ai=null}static Vi(e){return new Gm(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(a=>{const o=ge.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class sh{constructor(e,i){this.persistence=e,this.fi=new tr((a=>FS(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=rw(this,i)}static Vi(e,i){return new sh(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lc(e.data.value)),i}wr(e,i,a){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=Be(),o=Be();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Fm(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return o2()?8:HS(ln())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new _w;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(Qr()<=ze.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Kr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Qr()<=ze.DEBUG&&le("QueryEngine","Query:",Kr(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Qr()<=ze.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Kr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(i))):Z.resolve())}gs(e,i){if(T_(i))return Z.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=om(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Be(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.bs(i,p);return this.Ss(i,_,d,y.readTime)?this.gs(e,om(i,null,"F")):this.Ds(e,_,i,y)}))))})))))}ps(e,i,a,o){return T_(i)||o.isEqual(Se.min())?Z.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?Z.resolve(null):(Qr()<=ze.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Kr(i)),this.Ds(e,d,i,US(o,Lo)).next((p=>p)))}))}bs(e,i){let a=new Bt(h1(e));return i.forEach(((o,c)=>{Eh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return Qr()<=ze.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Kr(i)),this.fs.getDocumentsMatchingQuery(e,i,la.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="LocalStore",Tw=3e8;class Ew{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new gt(Pe),this.Fs=new tr((c=>km(c)),jm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function bw(s,e,i,a){return new Ew(s,e,i,a)}async function k1(s,e){const i=we(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Be();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function Sw(s,e){const i=we(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const A=_.batch,I=A.keys();let Q=Z.resolve();return I.forEach((G=>{Q=Q.next((()=>b.getEntry(y,G))).next((K=>{const L=_.docVersions.get(G);Je(L!==null,48541),K.version.compareTo(L)<0&&(A.applyToRemoteDocument(K,_),K.isValidDocument()&&(K.setReadTime(_.commitVersion),b.addEntry(K)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Be();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function j1(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function Aw(s,e){const i=we(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((b,A)=>{const I=o.get(A);if(!I)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let Q=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?Q=Q.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,a)),o=o.insert(A,Q),(function(K,L,W){return K.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Tw?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(I,Q,b)&&p.push(i.li.updateTargetData(c,Q))}));let y=fs(),_=Be();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(ww(c,d,e.documentUpdates).next((b=>{y=b.Bs,_=b.Ls}))),!a.isEqual(Se.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.vs=o,c)))}function ww(s,e,i){let a=Be(),o=Be();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=fs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):le(Qm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:o}}))}function xw(s,e){const i=we(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Rw(s,e){const i=we(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new ea(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function dm(s,e,i){const a=we(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!pl(d))throw d;le(Qm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function O_(s,e,i){const a=we(s);let o=Se.min(),c=Be();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=we(y),I=A.Fs.get(b);return I!==void 0?Z.resolve(A.vs.get(I)):A.li.getTargetData(_,b)})(a,d,Mi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:Se.min(),i?c:Be()))).next((p=>(Cw(a,dA(e),p),{documents:p,ks:c})))))}function Cw(s,e,i){let a=s.Ms.get(e)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class V_{constructor(){this.activeTargetIds=vA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nw{constructor(){this.vo=new V_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new V_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class j_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(k_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function mm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",Dw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Mw{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=mm(),p=this.Qo(e,i.toUriEncodedString());le(Fd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,c);const{host:_}=new URL(p),b=hl(_);return this.zo(e,p,y,a,b).then((A=>(le(Fd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw il(Fd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=Dw[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection",bo=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class $r extends Mw{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$r.c_){const e=qv();bo(e,Bv.STAT_EVENT,(i=>{i.stat===nm.PROXY?le(sn,"STAT_EVENT: detected buffering proxy"):i.stat===nm.NOPROXY&&le(sn,"STAT_EVENT: detected no buffering proxy")})),$r.c_=!0}}zo(e,i,a,o,c){const d=mm();return new Promise(((p,y)=>{const _=new zv;_.setWithCredentials(!0),_.listenOnce(Pv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case jc.NO_ERROR:const A=_.getResponseJson();le(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case jc.TIMEOUT:le(sn,`RPC '${e}' ${d} timed out`),y(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const I=_.getStatus();if(le(sn,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const G=Q==null?void 0:Q.error;if(G&&G.status&&G.message){const K=(function(W){const te=W.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(te)>=0?te:ee.UNKNOWN})(G.status);y(new ce(K,G.message))}else y(new ce(ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(sn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);le(sn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",b,a,15)}))}T_(e,i,a){const o=mm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=c.join("");le(sn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=d.createWebChannel(_,p);this.I_(b);let A=!1,I=!1;const Q=new Ow({Ho:G=>{I?le(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(A||(le(sn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),le(sn,`RPC '${e}' stream ${o} sending:`,G),b.send(G))},Jo:()=>b.close()});return bo(b,wo.EventType.OPEN,(()=>{I||(le(sn,`RPC '${e}' stream ${o} transport opened.`),Q.i_())})),bo(b,wo.EventType.CLOSE,(()=>{I||(I=!0,le(sn,`RPC '${e}' stream ${o} transport closed`),Q.o_(),this.E_(b))})),bo(b,wo.EventType.ERROR,(G=>{I||(I=!0,il(sn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),Q.o_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),bo(b,wo.EventType.MESSAGE,(G=>{var K;if(!I){const L=G.data[0];Je(!!L,16349);const W=L,te=(W==null?void 0:W.error)||((K=W[0])==null?void 0:K.error);if(te){le(sn,`RPC '${e}' stream ${o} received error:`,te);const ae=te.status;let De=(function(R){const w=kt[R];if(w!==void 0)return b1(w)})(ae),Ee=te.message;De===void 0&&(De=ee.INTERNAL,Ee="Unknown error status: "+ae+" with message "+te.message),I=!0,Q.o_(new ce(De,Ee)),b.close()}else le(sn,`RPC '${e}' stream ${o} received:`,L),Q.__(L)}})),$r.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Hv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(s){return new $r(s)}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(s){return new UA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.c_=!1;class L1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="PersistentStream";class U1{constructor(e,i,a,o,c,d,p,y){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new L1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(hs(i.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kw extends U1{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=BA(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Vi(d.readTime):Se.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=lm(y)?{documents:GA(c,y)}:{query:FA(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=w1(c,d.resumeToken);const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=KA(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=fm(this.serializer),i.removeTarget=e,this.K_(i)}}class jw extends U1{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=HA(e.writeResults,e.commitTime),a=Vi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=fm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>qA(this.serializer,a)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{}class Uw extends Lw{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,cm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(ee.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,cm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function zw(s,e,i,a){return new Uw(s,e,i,a)}class Pw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class Bw{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ir(this)&&(le(Za,"Restarting streams for network reachability change."),await(async function(y){const _=we(y);_.Ea.add(4),await Xo(_),_.Va.set("Unknown"),_.Ea.delete(4),await xh(_)})(this))}))})),this.Va=new Pw(a,o)}}async function xh(s){if(ir(s))for(const e of s.Ra)await e(!0)}async function Xo(s){for(const e of s.Ra)await e(!1)}function z1(s,e){const i=we(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),$m(i)?Xm(i):gl(i).O_()&&Ym(i,e))}function Km(s,e){const i=we(s),a=gl(i);i.Ia.delete(e),a.O_()&&P1(i,e),i.Ia.size===0&&(a.O_()?a.L_():ir(i)&&i.Va.set("Unknown"))}function Ym(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}gl(s).Z_(e)}function P1(s,e){s.da.$e(e),gl(s).X_(e)}function Xm(s){s.da=new VA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),gl(s).start(),s.Va.ua()}function $m(s){return ir(s)&&!gl(s).x_()&&s.Ia.size>0}function ir(s){return we(s).Ea.size===0}function B1(s){s.da=void 0}async function qw(s){s.Va.set("Online")}async function Hw(s){s.Ia.forEach(((e,i)=>{Ym(s,e)}))}async function Gw(s,e){B1(s),$m(s)?(s.Va.ha(e),Xm(s)):s.Va.set("Unknown")}async function Fw(s,e,i){if(s.Va.set("Online"),e instanceof A1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(a){le(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ah(s,a)}else if(e instanceof Pc?s.da.Xe(e):e instanceof S1?s.da.st(e):s.da.tt(e),!i.isEqual(Se.min()))try{const a=await j1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(tn.EMPTY_BYTE_STRING,b.snapshotVersion)),P1(c,y);const A=new ea(b.target,y,_,b.sequenceNumber);Ym(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){le(Za,"Failed to raise snapshot:",a),await ah(s,a)}}async function ah(s,e,i){if(!pl(e))throw e;s.Ea.add(1),await Xo(s),s.Va.set("Offline"),i||(i=()=>j1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(Za,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await xh(s)}))}function q1(s,e){return e().catch((i=>ah(s,i,e)))}async function Rh(s){const e=we(s),i=ha(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mm;for(;Qw(e);)try{const o=await xw(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,Kw(e,o)}catch(o){await ah(e,o)}H1(e)&&G1(e)}function Qw(s){return ir(s)&&s.Ta.length<10}function Kw(s,e){s.Ta.push(e);const i=ha(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function H1(s){return ir(s)&&!ha(s).x_()&&s.Ta.length>0}function G1(s){ha(s).start()}async function Yw(s){ha(s).ra()}async function Xw(s){const e=ha(s);for(const i of s.Ta)e.ea(i.mutations)}async function $w(s,e,i){const a=s.Ta.shift(),o=Pm.from(a,e,i);await q1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Rh(s)}async function Jw(s,e){e&&ha(s).Y_&&await(async function(a,o){if((function(d){return DA(d)&&d!==ee.ABORTED})(o.code)){const c=a.Ta.shift();ha(a).B_(),await q1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rh(a)}})(s,e),H1(s)&&G1(s)}async function U_(s,e){const i=we(s);i.asyncQueue.verifyOperationInProgress(),le(Za,"RemoteStore received new credentials");const a=ir(i);i.Ea.add(3),await Xo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await xh(i)}async function Zw(s,e){const i=we(s);e?(i.Ea.delete(2),await xh(i)):e||(i.Ea.add(2),await Xo(i),i.Va.set("Unknown"))}function gl(s){return s.ma||(s.ma=(function(i,a,o){const c=we(i);return c.sa(),new kw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:qw.bind(null,s),Yo:Hw.bind(null,s),t_:Gw.bind(null,s),J_:Fw.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),$m(s)?Xm(s):s.Va.set("Unknown")):(await s.ma.stop(),B1(s))}))),s.ma}function ha(s){return s.fa||(s.fa=(function(i,a,o){const c=we(i);return c.sa(),new jw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Yw.bind(null,s),t_:Jw.bind(null,s),ta:Xw.bind(null,s),na:$w.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Rh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(Za,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new Jm(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(s,e){if(hs("AsyncQueue",`${e}: ${s}`),pl(s))return new ce(ee.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{static emptySet(e){return new Jr(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=xo(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Jr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.ga=new gt(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class ol{constructor(e,i,a,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ol(e,i,Jr.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ex{constructor(){this.queries=P_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=P_(),c.forEach(((d,p)=>{for(const y of p.ba)y.onError(a)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function P_(){return new tr((s=>c1(s)),Th)}async function F1(s,e){const i=we(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new Ww,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Zm(d,`Initialization of query '${Kr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Wm(i)}async function Q1(s,e){const i=we(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function tx(s,e){const i=we(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&Wm(i)}function nx(s,e,i){const a=we(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function Wm(s){s.Ca.forEach((e=>{e.next()}))}var pm,B_;(B_=pm||(pm={})).Ma="default",B_.Cache="cache";class K1{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ol(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.key=e}}class X1{constructor(e){this.key=e}}class ix{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=h1(e),this.tu=new Jr(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new z_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const I=o.get(b),Q=Eh(this.query,A)?A:null,G=!!I&&this.mutatedKeys.has(I.key),K=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let L=!1;I&&Q?I.data.isEqual(Q.data)?G!==K&&(a.track({type:3,doc:Q}),L=!0):this.su(I,Q)||(a.track({type:2,doc:Q}),L=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!I&&Q?(a.track({type:0,doc:Q}),L=!0):I&&!Q&&(a.track({type:1,doc:I}),L=!0,(y||_)&&(p=!0)),L&&(Q?(d=d.add(Q),c=K?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(Q,G){const K=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:L})}};return K(Q)-K(G)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new ol(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new X1(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new Y1(a))})),i}cu(e){this.Za=e.ks,this.Ya=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ep="SyncEngine";class sx{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class ax{constructor(e){this.key=e,this.hu=!1}}class rx{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new tr((p=>c1(p)),Th),this.Iu=new Map,this.Eu=new Set,this.Ru=new gt(ge.comparator),this.Au=new Map,this.Vu=new Hm,this.du={},this.mu=new Map,this.fu=ll.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lx(s,e,i=!0){const a=tT(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await $1(a,e,i,!0),o}async function ox(s,e){const i=tT(s);await $1(i,e,!0,!1)}async function $1(s,e,i,a){const o=await Rw(s.localStore,Mi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await ux(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&z1(s.remoteStore,o),p}async function ux(s,e,i,a,o){s.pu=(A,I,Q)=>(async function(K,L,W,te){let ae=L.view.ru(W);ae.Ss&&(ae=await O_(K.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,ae))));const De=te&&te.targetChanges.get(L.targetId),Ee=te&&te.targetMismatches.get(L.targetId)!=null,pe=L.view.applyChanges(ae,K.isPrimaryClient,De,Ee);return H_(K,L.targetId,pe.au),pe.snapshot})(s,A,I,Q);const c=await O_(s.localStore,e,!0),d=new ix(e,c.ks),p=d.ru(c.documents),y=Yo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,y);H_(s,i,_.au);const b=new sx(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function cx(s,e,i){const a=we(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Th(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await dm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Km(a.remoteStore,o.targetId),gm(a,o.targetId)})).catch(ml)):(gm(a,o.targetId),await dm(a.localStore,o.targetId,!0))}async function hx(s,e){const i=we(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function fx(s,e,i){const a=vx(s);try{const o=await(function(d,p){const y=we(d),_=ft.now(),b=p.reduce(((Q,G)=>Q.add(G.key)),Be());let A,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let G=fs(),K=Be();return y.xs.getEntries(Q,b).next((L=>{G=L,G.forEach(((W,te)=>{te.isValidDocument()||(K=K.add(W))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,G))).next((L=>{A=L;const W=[];for(const te of p){const ae=xA(te,A.get(te.key).overlayedDocument);ae!=null&&W.push(new nr(te.key,ae,i1(ae.value.mapValue),Oi.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,W,p)})).next((L=>{I=L;const W=L.applyToLocalDocumentSet(A,K);return y.documentOverlayCache.saveOverlays(Q,L.batchId,W)}))})).then((()=>({batchId:I.batchId,changes:d1(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.du[d.currentUser.toKey()];_||(_=new gt(Pe)),_=_.insert(p,y),d.du[d.currentUser.toKey()]=_})(a,o.batchId,i),await $o(a,o.changes),await Rh(a.remoteStore)}catch(o){const c=Zm(o,"Failed to persist write");i.reject(c)}}async function J1(s,e){const i=we(s);try{const a=await Aw(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Je(d.hu,14607):o.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await $o(i,a,e)}catch(a){await ml(a)}}function q_(s,e,i){const a=we(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=we(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,A)=>{for(const I of A.ba)I.va(p)&&(_=!0)})),_&&Wm(y)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function dx(s,e,i){const a=we(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new gt(ge.comparator);d=d.insert(c,rn.newNoDocument(c,Se.min()));const p=Be().add(c),y=new Ah(Se.min(),new Map,new gt(Pe),d,p);await J1(a,y),a.Ru=a.Ru.remove(c),a.Au.delete(e),tp(a)}else await dm(a.localStore,e,!1).then((()=>gm(a,e,i))).catch(ml)}async function mx(s,e){const i=we(s),a=e.batch.batchId;try{const o=await Sw(i.localStore,e);W1(i,a,null),Z1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $o(i,o)}catch(o){await ml(o)}}async function px(s,e,i){const a=we(s);try{const o=await(function(d,p){const y=we(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Je(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,e);W1(a,e,i),Z1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $o(a,o)}catch(o){await ml(o)}}function Z1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function W1(s,e,i){const a=we(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function gm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||eT(s,a)}))}function eT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Km(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),tp(s))}function H_(s,e,i){for(const a of i)a instanceof Y1?(s.Vu.addReference(a.key,e),gx(s,a)):a instanceof X1?(le(ep,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||eT(s,a.key)):ve(19791,{wu:a})}function gx(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(le(ep,"New document in limbo: "+i),s.Eu.add(a),tp(s))}function tp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(ht.fromString(e)),a=s.fu.next();s.Au.set(a,new ax(i)),s.Ru=s.Ru.insert(i,a),z1(s.remoteStore,new ea(Mi(Lm(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function $o(s,e,i){const a=we(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{var b;if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:(b=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:b.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Fm.Es(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(y,_){const b=we(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(I=>Z.forEach(I.Ts,(Q=>b.persistence.referenceDelegate.addReference(A,I.targetId,Q))).next((()=>Z.forEach(I.Is,(Q=>b.persistence.referenceDelegate.removeReference(A,I.targetId,Q)))))))))}catch(A){if(!pl(A))throw A;le(Qm,"Failed to update sequence numbers: "+A)}for(const A of _){const I=A.targetId;if(!A.fromCache){const Q=b.vs.get(I),G=Q.snapshotVersion,K=Q.withLastLimboFreeSnapshotVersion(G);b.vs=b.vs.insert(I,K)}}})(a.localStore,c))}async function yx(s,e){const i=we(s);if(!i.currentUser.isEqual(e)){le(ep,"User change. New user:",e.toKey());const a=await k1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ce(ee.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $o(i,a.Ns)}}function _x(s,e){const i=we(s),a=i.Au.get(e);if(a&&a.hu)return Be().add(a.key);{let o=Be();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function tT(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=J1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_x.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dx.bind(null,e),e.Pu.J_=tx.bind(null,e.eventManager),e.Pu.yu=nx.bind(null,e.eventManager),e}function vx(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=px.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return bw(this.persistence,new vw,e.initialUser,this.serializer)}Cu(e){return new V1(Gm.Vi,this.serializer)}Du(e){return new Nw}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class Tx extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new sw(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new V1((a=>sh.Vi(a,i)),this.serializer)}}class ym{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>q_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=yx.bind(null,this.syncEngine),await Zw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ex})()}createDatastore(e){const i=wh(e.databaseInfo.databaseId),a=Vw(e.databaseInfo);return zw(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new Bw(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>q_(this.syncEngine,i,0)),(function(){return j_.v()?new j_:new Iw})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,b){const A=new rx(o,c,d,p,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const c=we(o);le(Za,"RemoteStore shutting down."),c.Ea.add(5),await Xo(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}ym.provider={build:()=>new ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="FirestoreClient";class Ex{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(fa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(fa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kd(s,e){s.asyncQueue.verifyOperationInProgress(),le(fa,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await k1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function G_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await bx(s);le(fa,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>U_(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>U_(e.remoteStore,o))),s._onlineComponents=e}async function bx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(fa,"Using user provided OfflineComponentProvider");try{await Kd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;il("Error using user provided cache. Falling back to memory cache: "+i),await Kd(s,new rh)}}else le(fa,"Using default OfflineComponentProvider"),await Kd(s,new Tx(void 0));return s._offlineComponents}async function iT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(fa,"Using user provided OnlineComponentProvider"),await G_(s,s._uninitializedComponentsProvider._online)):(le(fa,"Using default OnlineComponentProvider"),await G_(s,new ym))),s._onlineComponents}function Sx(s){return iT(s).then((e=>e.syncEngine))}async function _m(s){const e=await iT(s),i=e.eventManager;return i.onListen=lx.bind(null,e.syncEngine),i.onUnlisten=cx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ox.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=hx.bind(null,e.syncEngine),i}function Ax(s,e,i,a){const o=new nT(a),c=new K1(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>F1(await _m(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Q1(await _m(s),c)))}}function wx(s,e,i={}){const a=new aa;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const b=new nT({next:I=>{b.Nu(),d.enqueueAndForget((()=>Q1(c,A))),I.fromCache&&y.source==="server"?_.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),A=new K1(p,b,{includeMetadataChanges:!0,Ka:!0});return F1(c,A)})(await _m(s),s.asyncQueue,e,i,a))),a.promise}function xx(s,e){const i=new aa;return s.asyncQueue.enqueueAndForget((async()=>fx(await Sx(s),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="ComponentProvider",F_=new Map;function Cx(s,e,i,a,o){return new YS(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,sT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firestore.googleapis.com",Q_=!0;class K_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aT,this.ssl=Q_}else this.host=e.host,this.ssl=e.ssl??Q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nw)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new RS;switch(a.type){case"firstParty":return new DS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=F_.get(i);a&&(le(Rx,"Removing Datastore"),F_.delete(i),a.terminate())})(this),Promise.resolve()}}function Nx(s,e,i,a={}){var _;s=us(s,Ch);const o=hl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(Iv(`https://${p}`),Dv("Firestore",!0)),c.host!==aT&&c.host!==p&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!Xa(y,d)&&(s._setSettings(y),a.mockUserToken)){let b,A;if(typeof a.mockUserToken=="string")b=a.mockUserToken,A=an.MOCK_USER;else{b=Wb(a.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new an(I)}s._authCredentials=new CS(new Fv(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class Pt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Qo(i,Pt._jsonSchema))return new Pt(e,a||null,new ge(ht.fromString(i.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:jt("string",Pt._jsonSchemaVersion),referencePath:jt("string")};class ra extends Jo{constructor(e,i,a){super(e,i,Lm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ge(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function Y_(s,e,...i){if(s=vn(s),Qv("collection","path",e),s instanceof Ch){const a=ht.fromString(e,...i);return l_(a),new ra(s,null,a)}{if(!(s instanceof Pt||s instanceof ra))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ht.fromString(e,...i));return l_(a),new ra(s.firestore,null,a)}}function Ni(s,e,...i){if(s=vn(s),arguments.length===1&&(e=Im.newId()),Qv("doc","path",e),s instanceof Ch){const a=ht.fromString(e,...i);return r_(a),new Pt(s,null,new ge(a))}{if(!(s instanceof Pt||s instanceof ra))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ht.fromString(e,...i));return r_(a),new Pt(s.firestore,s instanceof ra?s.converter:null,new ge(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="AsyncQueue";class $_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new L1(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&le(X_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;le(X_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",J_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Jm.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:J_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function J_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ul extends Ch{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new $_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $_(e),this._firestoreClient=void 0,await e}}}function Ix(s,e){const i=typeof s=="object"?s:kv(),a=typeof s=="string"?s:Jc,o=Cm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Jb("firestore");c&&Nx(o,...c)}return o}function np(s){if(s._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Dx(s),s._firestoreClient}function Dx(s){var a,o,c,d;const e=s._freezeSettings(),i=Cx(s._databaseId,((a=s._app)==null?void 0:a.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Ex(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(tn.fromBase64String(e))}catch(i){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Gn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qo(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:jt("string",Gn._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Qo(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:jt("string",ki._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qo(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ri(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:jt("string",ri._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=/^__.*__$/;class Ox{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new nr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ko(e,this.data,i,this.fieldTransforms)}}function oT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class ip{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ip({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return lh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oT(this.dataSource)&&Mx.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Vx{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||wh(e)}createContext(e,i,a,o=!1){return new ip({dataSource:e,methodName:i,targetDoc:a,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kx(s){const e=s._freezeSettings(),i=wh(s._databaseId);return new Vx(s._databaseId,!!e.ignoreUndefinedProperties,i)}function jx(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);fT("Data must be an object, but it was:",d,a);const p=cT(a,d);let y,_;if(c.merge)y=new si(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const I=sp(e,A,i);if(!d.contains(I))throw new ce(ee.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);zx(b,I)||b.push(I)}y=new si(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new Ox(new Hn(p),y,_)}function uT(s,e){if(hT(s=vn(s)))return fT("Unsupported field value:",e,s),cT(s,e);if(s instanceof lT)return(function(a,o){if(!oT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=uT(p,o.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return TA(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ft.fromDate(a);return{timestampValue:ih(o.serializer,c)}}if(a instanceof ft){const c=new ft(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:w1(o.serializer,a._byteString)};if(a instanceof Pt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ri)return(function(d,p){const y=d instanceof ri?d.toArray():d;return{mapValue:{fields:{[t1]:{stringValue:n1},[Zc]:{arrayValue:{values:y.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Um(p.serializer,b)}))}}}}}})(a,o);if(M1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Dm(a)}`)})(s,e)}function cT(s,e){const i={};return Xv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):er(s,((a,o)=>{const c=uT(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function hT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ft||s instanceof ki||s instanceof Gn||s instanceof Pt||s instanceof lT||s instanceof ri||M1(s))}function fT(s,e,i){if(!hT(i)||!Kv(i)){const a=Dm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function sp(s,e,i){if((e=vn(e))instanceof rT)return e._internalPath;if(typeof e=="string")return Ux(s,e);throw lh("Field path arguments must be of type string or ",s,!1,void 0,i)}const Lx=new RegExp("[~\\*/\\[\\]]");function Ux(s,e,i){if(e.search(Lx)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new rT(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ce(ee.INVALID_ARGUMENT,p+s+y)}function zx(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{convertValue(e,i="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return er(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){var a,o,c;const i=(c=(o=(a=e.fields)==null?void 0:a[Zc].arrayValue)==null?void 0:o.values)==null?void 0:c.map((d=>wt(d.doubleValue)));return new ri(i)}convertGeoPoint(e){return new ki(wt(e.latitude),wt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=_h(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Uo(e));default:return null}}convertTimestamp(e){const i=oa(e);return new ft(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ht.fromString(e);Je(D1(a),9688,{name:e});const o=new zo(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return o.isEqual(i)||hs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends Px{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,i)}}const Z_="@firebase/firestore",W_="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(sp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Bx extends dT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function qx(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Co{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends dT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(sp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Qa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:jt("string",Qa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Bc extends Qa{data(e={}){return super.data(e)}}class Ka{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Co(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Co(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:Hx(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:jt("string",Ka._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};function Gx(s){s=us(s,Jo);const e=us(s.firestore,ul),i=np(e),a=new ap(e);return mT(s._query),wx(i,s._query).then((o=>new Ka(e,a,s,o)))}function So(s,e,i){s=us(s,Pt);const a=us(s.firestore,ul),o=qx(s.converter,e,i),c=kx(a);return pT(a,[jx(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Oi.none())])}function Fx(s){return pT(us(s.firestore,ul),[new zm(s._key,Oi.none())])}function Ao(s,...e){var _,b,A;s=vn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||ev(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ev(e[a])){const I=e[a];e[a]=(_=I.next)==null?void 0:_.bind(I),e[a+1]=(b=I.error)==null?void 0:b.bind(I),e[a+2]=(A=I.complete)==null?void 0:A.bind(I)}let c,d,p;if(s instanceof Pt)d=us(s.firestore,ul),p=Lm(s._key.path),c={next:I=>{e[a]&&e[a](Qx(d,s,I))},error:e[a+1],complete:e[a+2]};else{const I=us(s,Jo);d=us(I.firestore,ul),p=I._query;const Q=new ap(d);c={next:G=>{e[a]&&e[a](new Ka(d,Q,I,G))},error:e[a+1],complete:e[a+2]},mT(s._query)}const y=np(d);return Ax(y,p,o,c)}function pT(s,e){const i=np(s);return xx(i,e)}function Qx(s,e,i){const a=i.docs.get(e._key),o=new ap(s);return new Qa(s,o,e._key,a,new Co(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){xS(fl),nl(new $a("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ul(new NS(a.getProvider("auth-internal")),new MS(d,a.getProvider("app-check-internal")),XS(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ia(Z_,W_,e),ia(Z_,W_,"esm2020")})();var Kx="firebase",Yx="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ia(Kx,Yx,"app");function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xx=gT,yT=new Go("auth","Firebase",gT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new xm("@firebase/auth");function $x(s,...e){oh.logLevel<=ze.WARN&&oh.warn(`Auth (${fl}): ${s}`,...e)}function qc(s,...e){oh.logLevel<=ze.ERROR&&oh.error(`Auth (${fl}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(s,...e){throw lp(s,...e)}function li(s,...e){return lp(s,...e)}function rp(s,e,i){const a={...Xx(),[e]:i};return new Go("auth","Firebase",a).create(e,{appName:s.name})}function Ya(s){return rp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jx(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&zi(s,"argument-error"),rp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lp(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return yT.create(s,...e)}function be(s,e,...i){if(!s)throw lp(e,...i)}function ls(s){const e="INTERNAL ASSERTION FAILED: "+s;throw qc(e),new Error(e)}function ds(s,e){s||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function Zx(){return tv()==="http:"||tv()==="https:"}function tv(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zx()||a2()||"connection"in navigator)?navigator.onLine:!0}function eR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ds(i>e,"Short delay should be less than long delay!"),this.isMobile=n2()||r2()}get(){return Wx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(s,e){ds(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iR=new Zo(3e4,6e4);function up(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function yl(s,e,i,a,o={}){return vT(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Fo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return s2()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&hl(s.emulatorConfig.host)&&(_.credentials="include"),_T.fetch()(await TT(s,s.config.apiHost,i,p),_)})}async function vT(s,e,i){s._canInitEmulator=!1;const a={...tR,...e};try{const o=new aR(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Vc(s,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw rp(s,b,_);zi(s,b)}}catch(o){if(o instanceof ms)throw o;zi(s,"network-request-failed",{message:String(o)})}}async function sR(s,e,i,a,o={}){const c=await yl(s,e,i,a,o);return"mfaPendingCredential"in c&&zi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function TT(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?op(s.config,o):`${s.config.apiScheme}://${o}`;return nR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class aR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(li(this.auth,"network-request-failed")),iR.get())})}}function Vc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=li(s,e,a);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(s,e){return yl(s,"POST","/v1/accounts:delete",e)}async function uh(s,e){return yl(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lR(s,e=!1){const i=vn(s),a=await i.getIdToken(e),o=cp(a);be(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:a,authTime:Vo(Yd(o.auth_time)),issuedAtTime:Vo(Yd(o.iat)),expirationTime:Vo(Yd(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Yd(s){return Number(s)*1e3}function cp(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=xv(i);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function nv(s){const e=cp(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ms&&oR(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function oR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(s){var A;const e=s.auth,i=await s.getIdToken(),a=await Ho(s,uh(e,{idToken:i}));be(a==null?void 0:a.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=(A=o.providerUserInfo)!=null&&A.length?ET(o.providerUserInfo):[],d=hR(s.providerData,c),p=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function cR(s){const e=vn(s);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hR(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function ET(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(s,e){const i=await vT(s,{},async()=>{const a=Fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await TT(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&hl(s.emulatorConfig.host)&&(y.credentials="include"),_T.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function dR(s,e){return yl(s,"POST","/v2/accounts:revokeToken",up(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=nv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await fR(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Zr;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(be(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zr,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new uR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return lR(this,e)}reload(){return cR(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ch(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Ya(this.auth));const e=await this.getIdToken();return await Ho(this,rR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:I,isAnonymous:Q,providerData:G,stsTokenManager:K}=i;be(A&&K,e,"internal-error");const L=Zr.fromJSON(this.name,K);be(typeof A=="string",e,"internal-error"),Ys(a,e.name),Ys(o,e.name),be(typeof I=="boolean",e,"internal-error"),be(typeof Q=="boolean",e,"internal-error"),Ys(c,e.name),Ys(d,e.name),Ys(p,e.name),Ys(y,e.name),Ys(_,e.name),Ys(b,e.name);const W=new ai({uid:A,auth:e,email:o,emailVerified:I,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:L,createdAt:_,lastLoginAt:b});return G&&Array.isArray(G)&&(W.providerData=G.map(te=>({...te}))),y&&(W._redirectEventId=y),W}static async _fromIdTokenResponse(e,i,a=!1){const o=new Zr;o.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ch(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?ET(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new Zr;p.updateFromIdToken(a);const y=new ai({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;function os(s){ds(s instanceof Function,"Expected a class definition");let e=iv.get(s);return e?(ds(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,iv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}bT.type="NONE";const sv=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(s,e,i){return`firebase:${s}:${e}:${i}`}class Wr{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Hc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await uh(this.auth,{idToken:e}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Wr(os(sv),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||os(sv);const d=Hc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const I=await uh(e,{idToken:b}).catch(()=>{});if(!I)break;A=await ai._fromGetAccountInfoResponse(e,I,b)}else A=ai._fromJSON(e,b);_!==c&&(p=A),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Wr(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Wr(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ST(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CT(e))return"Blackberry";if(NT(e))return"Webos";if(AT(e))return"Safari";if((e.includes("chrome/")||wT(e))&&!e.includes("edge/"))return"Chrome";if(RT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function ST(s=ln()){return/firefox\//i.test(s)}function AT(s=ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wT(s=ln()){return/crios\//i.test(s)}function xT(s=ln()){return/iemobile/i.test(s)}function RT(s=ln()){return/android/i.test(s)}function CT(s=ln()){return/blackberry/i.test(s)}function NT(s=ln()){return/webos/i.test(s)}function hp(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mR(s=ln()){var e;return hp(s)&&!!((e=window.navigator)!=null&&e.standalone)}function pR(){return l2()&&document.documentMode===10}function IT(s=ln()){return hp(s)||RT(s)||NT(s)||CT(s)||/windows phone/i.test(s)||xT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(s,e=[]){let i;switch(s){case"Browser":i=av(ln());break;case"Worker":i=`${av(ln())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${fl}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(s,e={}){return yl(s,"GET","/v2/passwordPolicy",up(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=6;class vR{constructor(e){var a;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_R,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new gR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=os(i)),this._initializationPromise=this.queue(async()=>{var a,o,c;if(!this._deleted&&(this.persistenceManager=await Wr.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await uh(this,{idToken:e}),a=await ai._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(ii(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=a==null?void 0:a._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===p)&&(y!=null&&y.user)&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Ya(this));const i=e?vn(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yR(this),i=new vR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Go("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await dR(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&os(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await Wr.create(this,[os(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var i;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&$x(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Nh(s){return vn(s)}class rv{constructor(e){this.auth=e,this.observer=null,this.addObserver=p2(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ER(s){fp=s}function bR(s){return fp.loadJS(s)}function SR(){return fp.gapiScript}function AR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(s,e){const i=Cm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Xa(c,e??{}))return o;zi(o,"already-initialized")}return i.initialize({options:e})}function xR(s,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(os);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function RR(s,e,i){const a=Nh(s);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=MT(e),{host:d,port:p}=CR(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(Xa(_,a.config.emulator)&&Xa(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,hl(d)?(Iv(`${c}//${d}${y}`),Dv("Auth",!0)):NR()}function MT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function CR(s){const e=MT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:lv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:lv(d)}}}function lv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function NR(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,i){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(s,e){return sR(s,"POST","/v1/accounts:signInWithIdp",up(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="http://localhost";class Wa extends OT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Wa(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return el(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,el(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,el(e,i)}buildRequest(){const e={requestUri:IR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Fo(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Wo{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Wo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Wa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return rs.credential(i,a)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Wo{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Wo{constructor(){super("twitter.com")}static credential(e,i){return Wa._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await ai._fromIdTokenResponse(e,a,o),d=ov(a);return new cl({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=ov(a);return new cl({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function ov(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends ms{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new hh(e,i,a,o)}}function VT(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(s,c,e,a):c})}async function DR(s,e,i=!1){const a=await Ho(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return cl._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(s,e,i=!1){const{auth:a}=s;if(ii(a.app))return Promise.reject(Ya(a));const o="reauthenticate";try{const c=await Ho(s,VT(a,o,e,s),i);be(c.idToken,a,"internal-error");const d=cp(c.idToken);be(d,a,"internal-error");const{sub:p}=d;return be(s.uid===p,a,"user-mismatch"),cl._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&zi(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(s,e,i=!1){if(ii(s.app))return Promise.reject(Ya(s));const a="signIn",o=await VT(s,a,e),c=await cl._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function VR(s,e,i,a){return vn(s).onIdTokenChanged(e,i,a)}function kR(s,e,i){return vn(s).beforeAuthStateChanged(e,i)}function jR(s,e,i,a){return vn(s).onAuthStateChanged(e,i,a)}function Gc(s){return vn(s).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=1e3,UR=10;class jT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);pR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,UR):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},LR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}jT.type="LOCAL";const zR=jT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}LT.type="SESSION";const UT=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Ih(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await PR(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=mp("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const I=A;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(I.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function qR(s){ji().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function HR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function FR(){return zT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebaseLocalStorageDb",QR=1,dh="firebaseLocalStorage",BT="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Dh(s,e){return s.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function KR(){const s=indexedDB.deleteDatabase(PT);return new eu(s).toPromise()}function Em(){const s=indexedDB.open(PT,QR);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(dh,{keyPath:BT})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(dh)?e(a):(a.close(),await KR(),e(await Em()))})})}async function uv(s,e,i){const a=Dh(s,!0).put({[BT]:e,value:i});return new eu(a).toPromise()}async function YR(s,e){const i=Dh(s,!1).get(e),a=await new eu(i).toPromise();return a===void 0?null:a.value}function cv(s,e){const i=Dh(s,!0).delete(e);return new eu(i).toPromise()}const XR=800,$R=3;class qT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>$R)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(FR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,a;if(this.activeServiceWorker=await HR(),!this.activeServiceWorker)return;this.sender=new BR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await uv(e,fh,"1"),await cv(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>uv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>YR(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>cv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Dh(o,!1).getAll();return new eu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qT.type="LOCAL";const JR=qT;new Zo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(s,e){return e?os(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends OT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,i){return el(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function ZR(s){return OR(s.auth,new pp(s),s.bypassAuthState)}function WR(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),MR(i,new pp(s),s.bypassAuthState)}async function eC(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),DR(i,new pp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZR;case"linkViaPopup":case"linkViaRedirect":return eC;case"reauthViaPopup":case"reauthViaRedirect":return WR;default:zi(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Zo(2e3,1e4);async function nC(s,e,i){if(ii(s.app))return Promise.reject(li(s,"operation-not-supported-in-this-environment"));const a=Nh(s);Jx(s,e,dp);const o=HT(a,i);return new Fa(a,"signInViaPopup",e,o).executeNotNull()}class Fa extends GT{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if((a=(i=this.authWindow)==null?void 0:i.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tC.get())};e()}}Fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="pendingRedirect",Fc=new Map;class sC extends GT{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const a=await aC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aC(s,e){const i=oC(e),a=lC(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function rC(s,e){Fc.set(s._key(),e)}function lC(s){return os(s._redirectPersistence)}function oC(s){return Hc(iC,s.config.apiKey,s.name)}async function uC(s,e,i=!1){if(ii(s.app))return Promise.reject(Ya(s));const a=Nh(s),o=HT(a,e),d=await new sC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=600*1e3;class hC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!FT(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";i.onError(li(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cC&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(e))}saveEventToCache(e){this.cachedEventUids.add(hv(e)),this.lastProcessedEventTime=Date.now()}}function hv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function FT({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(s,e={}){return yl(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pC=/^https?/;async function gC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await dC(s);for(const i of e)try{if(yC(i))return}catch{}zi(s,"unauthorized-domain")}function yC(s){const e=vm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!pC.test(i))return!1;if(mC.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Zo(3e4,6e4);function fv(){const s=ji().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function vC(s){return new Promise((e,i)=>{var o,c,d;function a(){fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fv(),i(li(s,"network-request-failed"))},timeout:_C.get()})}if((c=(o=ji().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=ji().gapi)!=null&&d.load)a();else{const p=AR("iframefcb");return ji()[p]=()=>{gapi.load?a():i(li(s,"network-request-failed"))},bR(`${SR()}?onload=${p}`).catch(y=>i(y))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function TC(s){return Qc=Qc||vC(s),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Zo(5e3,15e3),bC="__/auth/iframe",SC="emulator/auth/iframe",AC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xC(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?op(e,SC):`https://${s.config.authDomain}/${bC}`,a={apiKey:e.apiKey,appName:s.name,v:fl},o=wC.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Fo(a).slice(1)}`}async function RC(s){const e=await TC(s),i=ji().gapi;return be(i,s,"internal-error"),e.open({where:document.body,url:xC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AC,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=li(s,"network-request-failed"),p=ji().setTimeout(()=>{c(d)},EC.get());function y(){ji().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NC=500,IC=600,DC="_blank",MC="http://localhost";class dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OC(s,e,i,a=NC,o=IC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...CC,width:a.toString(),height:o.toString(),top:c,left:d},_=ln().toLowerCase();i&&(p=wT(_)?DC:i),ST(_)&&(e=e||MC,y.scrollbars="yes");const b=Object.entries(y).reduce((I,[Q,G])=>`${I}${Q}=${G},`,"");if(mR(_)&&p!=="_self")return VC(e||"",p),new dv(null);const A=window.open(e||"",p,b);be(A,s,"popup-blocked");try{A.focus()}catch{}return new dv(A)}function VC(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="__/auth/handler",jC="emulator/auth/handler",LC=encodeURIComponent("fac");async function mv(s,e,i,a,o,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:fl,eventId:o};if(e instanceof dp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",m2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof Wo){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await s._getAppCheckToken(),_=y?`#${LC}=${encodeURIComponent(y)}`:"";return`${UC(s)}?${Fo(p).slice(1)}${_}`}function UC({config:s}){return s.emulator?op(s,jC):`https://${s.authDomain}/${kC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UT,this._completeRedirectFn=uC,this._overrideRedirectResult=rC}async _openPopup(e,i,a,o){var d;ds((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await mv(e,i,a,vm(),o);return OC(e,c,mp())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await mv(e,i,a,vm(),o);return qR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ds(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await RC(e),a=new hC(e);return i.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},o=>{var d;const c=(d=o==null?void 0:o[0])==null?void 0:d[Xd];c!==void 0&&i(!!c),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=gC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return IT()||AT()||hp()}}const PC=zC;var pv="@firebase/auth",gv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HC(s){nl(new $a("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(s)},_=new TR(a,o,c,y);return xR(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),nl(new $a("auth-internal",e=>{const i=Nh(e.getProvider("auth").getImmediate());return(a=>new BC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ia(pv,gv,qC(s)),ia(pv,gv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=300,FC=Nv("authIdTokenMaxAge")||GC;let yv=null;const QC=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>FC)return;const o=i==null?void 0:i.token;yv!==o&&(yv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KC(s=kv()){const e=Cm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=wR(s,{popupRedirectResolver:PC,persistence:[JR,zR,UT]}),a=Nv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=QC(c.toString());kR(i,d,()=>d(i.currentUser)),VR(i,p=>d(p))}}const o=Rv("auth");return o&&RR(i,`http://${o}`),i}function YC(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}ER({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=li("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",YC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HC("Browser");const XC={apiKey:"AIzaSyBW5v_7kGitttrnCBQwYVPG9TiSPXdNaNc",authDomain:"guam-5eaff.firebaseapp.com",projectId:"guam-5eaff",storageBucket:"guam-5eaff.firebasestorage.app",messagingSenderId:"94280815489",appId:"1:94280815489:web:669d6fc05c097397bb8e80",measurementId:"G-0NNCC31G7E"};let $d,Ut,Di;try{$d=Vv(XC),Ut=Ix($d),Di=KC($d)}catch(s){console.error("Firebase init error",s)}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=s=>{const e=JC(s);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Ce.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>Ce.createElement("svg",{ref:y,...ZC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:QT("lucide",o),...!c&&!WC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>Ce.createElement(_,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(s,e)=>{const i=Ce.forwardRef(({className:a,...o},c)=>Ce.createElement(eN,{ref:c,iconNode:e,className:QT(`lucide-${$C(_v(s))}`,`lucide-${s}`,a),...o}));return i.displayName=_v(s),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],nN=xe("arrow-right-left",tN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vv=xe("arrow-right",iN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],KT=xe("bed",sN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],rN=xe("briefcase",aN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Tv=xe("bus",lN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],YT=xe("camera",oN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],mh=xe("car",uN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],XT=xe("check",cN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],fN=xe("clipboard-check",hN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mN=xe("clock",dN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],gN=xe("cloud-rain",pN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],_N=xe("cloud",yN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],TN=xe("coffee",vN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],bN=xe("coins",EN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],AN=xe("credit-card",SN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],xN=xe("database",wN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],CN=xe("dollar-sign",RN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],IN=xe("ellipsis",NN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],MN=xe("file-text",DN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Ev=xe("footprints",ON);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],kN=xe("hotel",VN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],LN=xe("info",jN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],zN=xe("key-round",UN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],BN=xe("list-todo",PN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$T=xe("loader-circle",qN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],GN=xe("log-out",HN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],QN=xe("mail",FN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bm=xe("map-pin",KN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Kc=xe("plane",YN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JT=xe("plus",XN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],bv=xe("receipt",$N);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ZN=xe("send",JN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eI=xe("shield-check",WN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Mh=xe("shopping-bag",tI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ZT=xe("square-pen",nI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],sI=xe("sun",iI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Sm=xe("ticket",aI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Oh=xe("trash-2",rI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oI=xe("triangle-alert",lI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cI=xe("upload",uI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fI=xe("user",hI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ko=xe("users",dI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],pI=xe("utensils",mI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WT=xe("x",gI),yI=({currentTab:s,onTabChange:e,title:i,subtitle:a,coverImage:o,onOpenMembers:c})=>{const d=p=>`w-[42px] h-[42px] rounded-full flex items-center justify-center transition-all duration-300 ${s===p?"bg-guam-teal text-white scale-110 shadow-lg shadow-guam-teal/40":"text-slate-400"}`;return T.jsxs("div",{className:"relative h-[260px] bg-white rounded-b-[40px] shadow-lg overflow-hidden z-10",children:[T.jsxs("div",{className:"w-full h-full relative",children:[T.jsx("img",{src:o,alt:i,className:"w-full h-full object-cover"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-guam-teal/20 to-transparent"}),T.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 flex justify-between items-start",children:[T.jsxs("div",{className:"text-white drop-shadow-md mt-6",children:[T.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:i}),T.jsx("p",{className:"text-sm font-medium opacity-90 tracking-widest uppercase",children:a})]}),T.jsx("button",{onClick:c,className:"bg-white/20 backdrop-blur-md text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors mt-6 border border-white/30",children:T.jsx(ko,{size:20})})]})]}),T.jsxs("div",{className:"absolute bottom-5 right-5 z-30 flex gap-2.5 bg-white/90 backdrop-blur-md p-2 rounded-full shadow-sm",children:[T.jsx("button",{onClick:()=>e("itinerary"),className:d("itinerary"),children:T.jsx(mh,{size:20})}),T.jsx("button",{onClick:()=>e("info"),className:d("info"),children:T.jsx(LN,{size:20})}),T.jsx("button",{onClick:()=>e("shopping"),className:d("shopping"),children:T.jsx(Mh,{size:20})}),T.jsx("button",{onClick:()=>e("planning"),className:d("planning"),children:T.jsx(fN,{size:20})}),T.jsx("button",{onClick:()=>e("expenses"),className:d("expenses"),children:T.jsx(CN,{size:20})})]})]})},Am=32.5,tl={title:"Guam Vacation",subtitle:"Feb 07 - Feb 11, 2026",coverImage:"https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?q=80&w=2069&auto=format&fit=crop"},_I=[{date:"2/07",weekday:"SAT",hasCar:!1},{date:"2/08",weekday:"SUN",hasCar:!0},{date:"2/09",weekday:"MON",hasCar:!0},{date:"2/10",weekday:"TUE",hasCar:!0},{date:"2/11",weekday:"WED",hasCar:!1}],vI=[{condition:"sunny",temp:"29"},{condition:"cloudy",temp:"28"},{condition:"rain",temp:"27"},{condition:"sunny",temp:"30"},{condition:"sunny",temp:"29"}],$s=[{id:"1",name:"YVONNE",email:"a0988034625@gmail.com"},{id:"2",name:"JOE",email:"hope78121@gmail.com"},{id:"3",name:"Member B",email:"member2@example.com"}],Xs={itinerary:[[{id:101,name:"",category:"transport",startTime:"16:50",address:"Antonio B. Won Pat International Airport",note:"",transportType:"flight",travelTime:""},{id:102,name:"Bayview Hotel Check-in",category:"accommodation",startTime:"17:30",address:"Bayview Hotel Guam",note:"",transportType:"transport",travelTime:"15m"},{id:103,name:" ()",category:"sightseeing",startTime:"18:00",address:"Plaza de Espaa",note:"",hours:"Open 24H",price:"Free",transportType:"transport",travelTime:"10m"},{id:104,name:"",category:"sightseeing",startTime:"18:40",address:"Paseo de Susana Park",note:"",transportType:"walk",travelTime:"5m"},{id:105,name:": Agana Shopping Center",category:"food",startTime:"19:30",address:"Agana Shopping Center",note:" BBQ  Chamorro ",hours:"10:00-20:00",price:"~$30",transportType:"transport",travelTime:"5m"}],[{id:201,name:" & ",category:"transport",startTime:"09:00",address:"Nippon Rent-A-Car",note:"",transportType:"car",travelTime:""},{id:202,name:"",category:"sightseeing",startTime:"10:00",address:"Fish Eye Marine Park",note:"",hours:"08:00-17:00",price:"$16",transportType:"car",travelTime:"20m"},{id:203,name:"Umatac ",category:"sightseeing",startTime:"11:30",address:"Umatac Bay Park",note:"",price:"Free",transportType:"car",travelTime:"30m"},{id:204,name:"Inarajan ",category:"sightseeing",startTime:"13:00",address:"Inarajan Natural Pool",note:"",price:"Free",transportType:"car",travelTime:"20m"},{id:206,name:" Two Lovers Point",category:"sightseeing",startTime:"15:30",address:"Two Lovers Point",note:"",hours:"07:00-19:00",price:"$3",transportType:"car",travelTime:"45m"},{id:207,name:"Crowne Plaza Check-in",category:"accommodation",startTime:"17:00",address:"Crowne Plaza Resort Guam",note:" + ",transportType:"car",travelTime:"15m"}],[{id:301,name:": Crowne Plaza",category:"accommodation",startTime:"10:30",address:"Crowne Plaza Resort Guam",note:"",transportType:"transport",travelTime:""},{id:302,name:"Hoshino Resorts Check-in",category:"accommodation",startTime:"11:00",address:"Hoshino Resorts RISONARE Guam",note:"Check-in ",transportType:"transport",travelTime:"10m"},{id:303,name:"",category:"ticket",startTime:"11:30",address:"Hoshino Resorts RISONARE Guam",note:"SUP",price:"Free for guests",transportType:"walk",travelTime:"0m"},{id:306,name:": Hoshino / Tumon",category:"food",startTime:"18:30",address:"Hoshino Resorts RISONARE Guam",note:" + ",transportType:"walk",travelTime:"0m"}],[{id:402,name:"Guam Plaza Check-in",category:"accommodation",startTime:"10:30",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:404,name:"Plaza Spa ",category:"ticket",startTime:"12:30",address:"Guam Plaza Resort",note:"",price:"~$80",transportType:"walk",travelTime:"5m"},{id:405,name:"DFS / Micronesia Mall",category:"shopping",startTime:"14:30",address:"T Galleria by DFS",note:"",hours:"10:00-20:00",transportType:"transport",travelTime:"10m"},{id:406,name:": Hard Rock Cafe",category:"food",startTime:"19:00",address:"Hard Rock Cafe Guam",note:"",hours:"11:00-22:00",price:"~$40",transportType:"walk",travelTime:"5m"}],[{id:501,name:" & ",category:"transport",startTime:"05:00",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:503,name:"",category:"transport",startTime:"07:30",address:"Guam Airport",note:"",transportType:"flight",travelTime:"4h30m"},{id:504,name:"",category:"transport",startTime:"10:00",address:"Taoyuan Airport",note:"",transportType:"flight",travelTime:""}]],shopping:[{id:1,name:"Banana Boat  (SPF110)",note:"ABC Store "},{id:2,name:"Godiva ",note:"Macy's "},{id:3,name:"Guam  (6)",note:""}],expenses:[{id:1,name:" (TPE-GUM)",amount:650,category:"transport",date:"01/15",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:650}]},{id:2,name:"Bayview Hotel ",amount:150,category:"accommodation",date:"01/20",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:50},{memberId:"2",amount:50},{memberId:"3",amount:50}]},{id:3,name:"Wifi ",amount:30,category:"ticket",date:"02/07",payment:"Card",payerId:"2",splits:[{memberId:"1",amount:10},{memberId:"2",amount:10},{memberId:"3",amount:10}]}],planning:[{id:1,title:" (>6)",category:"documents",completed:!0,assignedTo:"All"},{id:2,title:"",category:"documents",completed:!1,assignedTo:"Mom"},{id:3,title:"/",category:"documents",completed:!1,assignedTo:"Sister1"},{id:4,title:"/",category:"luggage",completed:!1,assignedTo:"All"},{id:5,title:"/Gopro",category:"luggage",completed:!1,assignedTo:"Sister2"},{id:6,title:"",category:"todo",completed:!0,assignedTo:"Mom"}]},TI=({members:s,onLogin:e})=>{const[i,a]=Ce.useState(""),[o,c]=Ce.useState(!1),d=async()=>{if(!Di){a("Firebase Auth  firebaseConfig.ts");return}c(!0),a("");const y=new rs;try{const A=((await nC(Di,y)).user.email||"").toLowerCase();console.log("Google Login Success:",A);const Q=[...s,...$s].find(G=>{var K;return((K=G.email)==null?void 0:K.toLowerCase())===A});Q?(console.log("Whitelist Match:",Q.name),e(Q)):(console.warn("Whitelist Fail:",A),await Gc(Di),a(` Email (${A}) `))}catch(_){console.error("Login Error:",_),a(": "+_.message)}finally{c(!1)}},p=()=>{const y=$s[0]||{id:"dev-admin",name:"Developer",email:"dev@test.com",role:"Admin"};e(y)};return T.jsxs("div",{className:"min-h-screen bg-guam-sand flex flex-col items-center justify-center relative overflow-hidden",children:[T.jsxs("div",{className:"absolute inset-0 z-0",children:[T.jsx("img",{src:tl.coverImage,alt:"background",className:"w-full h-full object-cover opacity-80"}),T.jsx("div",{className:"absolute inset-0 bg-guam-navy/40 backdrop-blur-sm"})]}),T.jsxs("div",{className:"relative z-10 w-full max-w-md p-8 animate-fade-in flex flex-col items-center",children:[T.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-8 rounded-[3rem] shadow-2xl w-full text-center",children:[T.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-md tracking-tight",children:tl.title}),T.jsx("p",{className:"text-white/80 font-medium tracking-widest uppercase mb-8",children:tl.subtitle}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 text-white/80 text-sm leading-relaxed border border-white/5 mb-4",children:[T.jsxs("p",{className:"flex items-center justify-center gap-2 mb-2 font-bold text-white",children:[T.jsx(eI,{size:18,className:"text-guam-teal"}),"Private Access"]})," Google  Email "]}),T.jsx("button",{onClick:d,disabled:o,className:"w-full py-4 bg-white text-slate-700 rounded-2xl font-bold text-lg shadow-lg hover:bg-slate-50 hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3 disabled:opacity-70 disabled:cursor-not-allowed group",children:o?T.jsx($T,{className:"animate-spin text-guam-navy"}):T.jsxs(T.Fragment,{children:[T.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-5 h-5"}),T.jsx("span",{children:"Google "})]})}),T.jsxs("div",{className:"w-full flex items-center gap-3 my-2 opacity-50",children:[T.jsx("div",{className:"h-px bg-white/30 flex-1"}),T.jsx("span",{className:"text-[10px] text-white/60 font-mono",children:"DEBUG MODE"}),T.jsx("div",{className:"h-px bg-white/30 flex-1"})]}),T.jsxs("button",{onClick:p,className:"w-full py-3 bg-indigo-500/20 text-indigo-100 rounded-2xl font-bold text-sm hover:bg-indigo-500/40 transition-all flex items-center justify-center gap-2 border border-indigo-200/20 backdrop-blur-sm",children:[T.jsx(zN,{size:16}),T.jsx("span",{children:" (Testing)"})]}),i&&T.jsxs("div",{className:"flex items-start gap-2 text-left bg-red-500/90 backdrop-blur text-white p-4 rounded-2xl border border-red-400/50 shadow-lg mt-4",children:[T.jsx(oI,{size:20,className:"shrink-0 mt-0.5"}),T.jsx("p",{className:"text-sm font-medium leading-relaxed",children:i})]})]})]}),T.jsx("p",{className:"text-white/40 text-xs mt-8 font-medium",children:"Protected by Google Firebase"})]})]})},EI=({dates:s,weather:e,items:i,selectedDateIndex:a,onDateSelect:o,onEdit:c})=>{const[d,p]=Ce.useState([]),y=G=>{d.includes(G)?p(d.filter(K=>K!==G)):p([...d,G])},_=G=>{switch(G){case"rain":return T.jsx(gN,{className:"text-guam-ocean"});case"cloudy":return T.jsx(_N,{className:"text-slate-400"});default:return T.jsx(sI,{className:"text-guam-sun"})}},b=G=>{switch(G){case"car":return T.jsx(mh,{size:14});case"flight":return T.jsx(Kc,{size:14});case"walk":return T.jsx(Ev,{size:14});default:return T.jsx(Tv,{size:14})}},A=G=>{switch(G){case"food":return T.jsx(pI,{size:20});case"shopping":return T.jsx(Mh,{size:20});case"accommodation":return T.jsx(KT,{size:20});case"ticket":return T.jsx(Sm,{size:20});case"transport":return T.jsx(Tv,{size:20});default:return T.jsx(YT,{size:20})}},I=G=>{switch(G){case"sightseeing":return"bg-guam-teal";case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"accommodation":return"bg-indigo-500";case"transport":return"bg-slate-500";case"ticket":return"bg-guam-sun";default:return"bg-guam-teal"}},Q=G=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(G+" Guam")}`,"_blank")};return T.jsxs("div",{className:"animate-fade-in pb-24",children:[T.jsx("div",{className:"flex overflow-x-auto hide-scrollbar space-x-3 pb-4 mb-2 px-1 sticky top-0 z-20 bg-guam-sand/95 backdrop-blur-sm pt-4 -mx-4 px-4 border-b border-guam-teal/10",children:s.map((G,K)=>T.jsxs("div",{onClick:()=>o(K),className:`flex-shrink-0 w-[58px] h-[70px] rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all duration-300 border-2 shadow-sm ${a===K?"bg-guam-teal text-white border-guam-teal shadow-lg scale-105":"bg-white text-slate-400 border-white hover:bg-white/60"}`,children:[T.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:G.weekday}),T.jsx("span",{className:"text-sm font-bold",children:G.date})]},K))}),T.jsxs("div",{className:"mb-6 bg-gradient-to-r from-guam-teal/10 to-transparent border border-guam-teal/20 rounded-3xl p-4 flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center text-guam-teal space-x-3",children:[T.jsx("div",{className:"text-4xl drop-shadow-sm",children:_(e[a].condition)}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-baseline",children:[T.jsx("span",{className:"text-2xl font-bold",children:e[a].temp}),T.jsx("span",{className:"text-xs ml-1",children:"C"})]}),T.jsx("span",{className:"text-xs font-medium block text-slate-500 capitalize",children:e[a].condition})]})]}),T.jsx("div",{className:"text-right text-xs",children:s[a].hasCar?T.jsxs("span",{className:"inline-flex items-center bg-guam-navy/10 text-guam-navy px-3 py-1.5 rounded-full font-bold",children:[T.jsx(mh,{size:12,className:"mr-1.5"})," "]}):T.jsxs("span",{className:"inline-flex items-center bg-slate-100 text-slate-500 px-3 py-1.5 rounded-full",children:[T.jsx(Ev,{size:12,className:"mr-1.5"})," /"]})})]}),T.jsxs("div",{className:"space-y-6",children:[i.map((G,K)=>T.jsxs("div",{className:"relative group",children:[K>0&&T.jsxs("div",{className:"pl-8 pb-3 flex items-center text-xs text-slate-400 relative",children:[T.jsx("div",{className:"h-full w-0.5 bg-guam-teal/20 absolute left-[27px] -top-6 bottom-0"}),T.jsxs("div",{className:"ml-2 flex items-center bg-white/50 px-2 py-0.5 rounded-full backdrop-blur-sm",children:[T.jsx("span",{className:"mr-1.5 text-guam-teal",children:b(G.transportType)}),T.jsx("span",{className:"font-medium",children:G.travelTime||""})]})]}),T.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-[2rem] p-5 shadow-[0_8px_20px_-6px_rgba(13,148,136,0.1)] border border-white/60 relative overflow-hidden flex items-start",children:[T.jsxs("div",{className:"mr-4 flex flex-col items-center min-w-[50px]",children:[T.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shadow-md mb-1.5 ${I(G.category)}`,children:A(G.category)}),G.startTime&&T.jsx("span",{className:"text-xs font-bold text-guam-navy tracking-tight",children:G.startTime})]}),T.jsxs("div",{className:"flex-1 min-w-0 pr-8",children:[T.jsx("h3",{className:"text-lg font-bold text-slate-800 leading-tight mb-1 truncate",children:G.name}),T.jsxs("div",{className:"text-xs text-slate-500 space-y-1 mb-2",children:[G.hours&&T.jsxs("p",{className:"flex items-center",children:[T.jsx(mN,{size:12,className:"mr-1.5 text-guam-teal"})," ",G.hours]}),G.price&&T.jsxs("p",{className:"flex items-center",children:[T.jsx(Sm,{size:12,className:"mr-1.5 text-guam-teal"})," ",G.price]}),G.address&&T.jsxs("p",{className:"flex items-center truncate",children:[T.jsx(bm,{size:12,className:"mr-1.5 text-guam-teal"})," ",G.address]})]}),G.note&&T.jsxs("div",{className:"bg-guam-sand/60 p-2.5 rounded-xl border border-guam-teal/10",children:[T.jsx("div",{className:`text-xs text-slate-600 leading-relaxed overflow-hidden transition-all ${d.includes(G.id)?"max-h-96":"max-h-10 line-clamp-2"}`,children:G.note}),G.note.length>40&&T.jsx("button",{onClick:L=>{L.stopPropagation(),y(G.id)},className:"text-[10px] text-guam-teal font-bold mt-1 flex items-center",children:d.includes(G.id)?"":"..."})]})]}),T.jsxs("div",{className:"absolute top-4 right-3 flex flex-col gap-2",children:[T.jsx("button",{onClick:()=>Q(G.address||G.name),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-teal hover:text-white transition-all shadow-sm",children:T.jsx(bm,{size:14})}),T.jsx("button",{onClick:()=>c(G),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-navy hover:text-white transition-all shadow-sm",children:T.jsx(ZT,{size:14})})]})]})]},G.id)),i.length===0&&T.jsx("div",{className:"text-center py-20 opacity-40",children:T.jsx("p",{className:"text-sm font-medium",children:""})})]})]})},bI=()=>{const[s,e]=Ce.useState("100"),i=Math.round((parseFloat(s)||0)*Am),a=o=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(o+" Guam")}`,"_blank")};return T.jsxs("div",{className:"space-y-6 animate-fade-in pb-24",children:[T.jsxs("div",{className:"bg-gradient-to-br from-guam-navy to-guam-teal rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-10 -mt-10 blur-2xl"}),T.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center relative z-10",children:[T.jsx(bN,{className:"mr-2",size:20}),"  (USD)"]}),T.jsxs("div",{className:"flex items-center justify-between gap-4 relative z-10",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"USD ()"}),T.jsx("input",{type:"number",value:s,onChange:o=>e(o.target.value),className:"w-full bg-white/20 border border-white/30 rounded-xl px-3 py-2 text-white placeholder-white/50 focus:outline-none text-xl font-bold"})]}),T.jsx(nN,{className:"text-white/50 mt-4",size:20}),T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"TWD ()"}),T.jsx("div",{className:"w-full bg-white/10 rounded-xl px-3 py-2 text-white text-xl font-bold border border-transparent",children:i.toLocaleString()})]})]}),T.jsxs("p",{className:"text-[10px] text-cyan-200 mt-3 text-right opacity-70",children:[": ",Am]})]}),T.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[T.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[T.jsx(Kc,{className:"text-guam-coral mr-2",size:20})," "]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("span",{className:"bg-guam-navy text-white text-[10px] px-2 py-0.5 rounded",children:" (2/7)"}),T.jsx("span",{className:"text-xs font-bold text-slate-400",children:"CI "})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"11:00"}),T.jsx("span",{className:"text-xs text-slate-400",children:"TPE"})]}),T.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[T.jsx("span",{className:"text-[10px] text-slate-400",children:"3h 50m"}),T.jsx("div",{className:"w-full h-px bg-slate-300 relative my-1",children:T.jsx(Kc,{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-slate-300 bg-slate-50",size:12})})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"16:50"}),T.jsx("span",{className:"text-xs text-slate-400",children:"GUM"})]})]})]}),T.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("span",{className:"bg-guam-teal text-white text-[10px] px-2 py-0.5 rounded",children:" (2/11)"}),T.jsx("span",{className:"text-xs font-bold text-slate-400",children:"CI "})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"07:30"}),T.jsx("span",{className:"text-xs text-slate-400",children:"GUM"})]}),T.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[T.jsx("span",{className:"text-[10px] text-slate-400",children:"4h 30m"}),T.jsx("div",{className:"w-full h-px bg-slate-300 relative my-1",children:T.jsx(Kc,{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-slate-300 bg-slate-50",size:12})})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"10:00"}),T.jsx("span",{className:"text-xs text-slate-400",children:"TPE"})]})]})]})]})]}),T.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[T.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[T.jsx(kN,{className:"text-guam-teal mr-2",size:20})," "]}),T.jsx("div",{className:"space-y-4",children:[{date:"2/7 (Sat)",name:"Bayview Hotel Guam",cn:""},{date:"2/8 (Sun)",name:"Crowne Plaza Resort",cn:""},{date:"2/9 (Mon)",name:"Hoshino Resorts RISONARE",cn:""},{date:"2/10 (Tue)",name:"Guam Plaza Resort",cn:"Spa"}].map((o,c)=>T.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-3 last:border-0",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-[10px] bg-slate-100 px-2 py-0.5 rounded text-slate-500 font-bold",children:o.date}),T.jsx("h4",{className:"font-bold text-slate-700 text-sm mt-1",children:o.name}),T.jsx("p",{className:"text-xs text-slate-400",children:o.cn})]}),T.jsx("button",{onClick:()=>a(o.name),className:"w-8 h-8 rounded-full bg-slate-50 text-guam-teal flex items-center justify-center hover:bg-guam-teal hover:text-white transition-colors",children:T.jsx(bm,{size:14})})]},c))})]})]})},SI=({items:s,onRemove:e,onAddClick:i})=>T.jsx("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.map(a=>T.jsxs("div",{className:"bg-white rounded-3xl p-4 shadow-[0_8px_20px_-6px_rgba(0,0,0,0.05)] relative group border border-white/60",children:[T.jsxs("div",{className:"aspect-square bg-slate-50 rounded-2xl mb-4 overflow-hidden relative flex items-center justify-center shadow-inner",children:[a.image?T.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"}):T.jsx(Mh,{className:"text-slate-200",size:40}),T.jsx("button",{onClick:()=>e(a.id),className:"absolute top-2 right-2 bg-red-500/90 backdrop-blur text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-lg active:scale-90",children:T.jsx(WT,{size:16})})]}),T.jsx("p",{className:"font-bold text-base text-slate-800 truncate px-1 mb-0.5",children:a.name}),T.jsx("p",{className:"text-xs text-slate-400 px-1 truncate font-medium",children:a.note||""})]},a.id)),T.jsxs("div",{onClick:i,className:"bg-white/40 border-2 border-dashed border-slate-300/50 rounded-3xl p-4 flex flex-col items-center justify-center cursor-pointer min-h-[180px] hover:bg-white/80 transition-all hover:border-guam-teal/50 group hover:shadow-lg hover:-translate-y-1",children:[T.jsx("div",{className:"w-14 h-14 rounded-full bg-slate-100 flex items-center justify-center mb-3 group-hover:bg-guam-teal group-hover:text-white transition-colors shadow-sm",children:T.jsx(JT,{size:24,className:"text-slate-300 group-hover:text-white"})}),T.jsx("span",{className:"text-sm text-slate-400 font-bold group-hover:text-guam-teal transition-colors",children:""})]})]})}),AI=({expenses:s,onRemove:e,onEdit:i,members:a=[]})=>{const[o,c]=Ce.useState("list"),d=s.reduce((L,W)=>L+W.amount,0),p=Math.round(d*Am),y=L=>{var W;return((W=a.find(te=>te.id===L))==null?void 0:W.name)||"Unknown"},_=L=>{var W;return(W=a.find(te=>te.id===L))==null?void 0:W.avatarUrl},b=L=>{switch(L){case"food":return T.jsx(TN,{size:14});case"shopping":return T.jsx(Mh,{size:14});case"transport":return T.jsx(mh,{size:14});case"accommodation":return T.jsx(KT,{size:14});case"other":return T.jsx(IN,{size:14});default:return T.jsx(Sm,{size:14})}},A=L=>{switch(L){case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"transport":return"bg-slate-500";case"accommodation":return"bg-indigo-500";case"other":return"bg-slate-400";default:return"bg-guam-sun"}},Q=(()=>{const L={};return a.forEach(W=>{L[W.id]={paid:0,share:0,net:0}}),s.forEach(W=>{L[W.payerId]||(L[W.payerId]={paid:0,share:0,net:0}),L[W.payerId].paid+=W.amount,W.splits&&W.splits.length>0?W.splits.forEach(te=>{L[te.memberId]||(L[te.memberId]={paid:0,share:0,net:0}),L[te.memberId].share+=te.amount}):L[W.payerId].share+=W.amount}),Object.keys(L).forEach(W=>{L[W].net=L[W].paid-L[W].share}),L})(),K=(()=>{let L=[],W=[];Object.keys(Q).forEach(Ee=>{const pe=Q[Ee].net;Math.abs(pe)<.01||(pe<0?L.push({id:Ee,amount:-pe}):W.push({id:Ee,amount:pe}))}),L.sort((Ee,pe)=>pe.amount-Ee.amount),W.sort((Ee,pe)=>pe.amount-Ee.amount);const te=[];let ae=0,De=0;for(;ae<L.length&&De<W.length;){const Ee=L[ae],pe=W[De],R=Math.min(Ee.amount,pe.amount);R>0&&te.push({fromId:Ee.id,toId:pe.id,amount:parseFloat(R.toFixed(2))}),Ee.amount-=R,pe.amount-=R,Ee.amount<.01&&ae++,pe.amount<.01&&De++}return te})();return T.jsxs("div",{className:"animate-fade-in pb-24",children:[T.jsxs("div",{className:"flex bg-white rounded-2xl p-1 mb-6 shadow-sm border border-slate-100",children:[T.jsxs("button",{onClick:()=>c("list"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="list"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[T.jsx(bv,{size:16,className:"mr-2"})," "]}),T.jsxs("button",{onClick:()=>c("settlement"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="settlement"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[T.jsx(ko,{size:16,className:"mr-2"})," "]})]}),o==="list"?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"bg-guam-navy rounded-[2.5rem] p-8 mb-6 relative overflow-hidden text-white shadow-xl shadow-guam-navy/20",children:[T.jsx("div",{className:"absolute -right-12 -top-12 bg-guam-teal/30 w-56 h-56 rounded-full blur-3xl"}),T.jsx("div",{className:"absolute -left-10 bottom-0 bg-guam-coral/20 w-40 h-40 rounded-full blur-2xl"}),T.jsx("p",{className:"text-xs text-cyan-100/80 mb-1 relative z-10 font-medium tracking-wider",children:"TOTAL SPENT (USD)"}),T.jsxs("h2",{className:"text-5xl font-bold relative z-10 tracking-tight mb-2",children:["$",d.toLocaleString()]}),T.jsxs("p",{className:"text-sm text-right opacity-70 relative z-10",children:[" NT$ ",p.toLocaleString()]})]}),T.jsxs("div",{className:"bg-white rounded-t-[2.5rem] min-h-[400px] p-6 shadow-[0_-5px_30px_rgba(0,0,0,0.03)] -mx-4 px-8 pt-8 border-t border-slate-50",children:[T.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center text-sm tracking-wide",children:[T.jsx(bv,{className:"text-guam-teal mr-2",size:16})," RECENT ACTIVITY"]}),T.jsxs("div",{className:"space-y-6",children:[s.map(L=>T.jsxs("div",{className:"flex items-center justify-between group",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white mr-4 shadow-sm ${A(L.category)}`,children:b(L.category)}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-slate-700 text-sm",children:L.name}),T.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-medium flex items-center gap-2",children:[T.jsxs("span",{children:[L.date,"  ",L.payment]}),T.jsxs("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-bold",children:[y(L.payerId)," "]})]})]})]}),T.jsxs("div",{className:"text-right",children:[T.jsxs("p",{className:"font-bold text-slate-800",children:["$",L.amount]}),T.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[T.jsxs("button",{onClick:()=>i(L),className:"text-[10px] text-guam-navy flex items-center",children:[T.jsx(ZT,{size:10,className:"mr-1"})," "]}),T.jsxs("button",{onClick:()=>e(L.id),className:"text-[10px] text-red-300 flex items-center",children:[T.jsx(Oh,{size:10,className:"mr-1"})," "]})]})]})]},L.id)),s.length===0&&T.jsx("p",{className:"text-center text-slate-300 text-sm py-8",children:""})]})]})]}):T.jsxs("div",{className:"space-y-6",children:[K.length>0&&T.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-[0_5px_20px_rgba(13,148,136,0.1)] border border-guam-teal/20",children:[T.jsxs("h3",{className:"font-bold text-guam-teal mb-4 flex items-center text-sm tracking-wide",children:[T.jsx(ZN,{size:16,className:"mr-2"}),"  (Transfer Guide)"]}),T.jsx("div",{className:"space-y-3",children:K.map((L,W)=>T.jsxs("div",{className:"flex items-center justify-between bg-guam-sand/50 p-4 rounded-2xl border border-guam-teal/10 relative overflow-hidden",children:[T.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-guam-teal/5 z-0 pointer-events-none",children:T.jsx(vv,{size:60})}),T.jsx("div",{className:"flex items-center z-10",children:T.jsxs("div",{className:"text-center mr-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-slate-100 overflow-hidden shadow-sm mx-auto mb-1",children:_(L.fromId)?T.jsx("img",{src:_(L.fromId),className:"w-full h-full object-cover"}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:y(L.fromId)[0]})}),T.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:y(L.fromId)})]})}),T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center z-10 px-2",children:[T.jsx("p",{className:"text-[10px] text-slate-400 font-bold mb-1",children:"PAYS"}),T.jsx("div",{className:"bg-white px-3 py-1 rounded-full shadow-sm border border-guam-teal/20",children:T.jsxs("span",{className:"font-bold text-guam-teal text-lg",children:["$",L.amount]})}),T.jsx(vv,{size:14,className:"text-guam-teal/50 mt-1"})]}),T.jsx("div",{className:"flex items-center z-10",children:T.jsxs("div",{className:"text-center ml-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-guam-teal overflow-hidden shadow-sm mx-auto mb-1",children:_(L.toId)?T.jsx("img",{src:_(L.toId),className:"w-full h-full object-cover"}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:y(L.toId)[0]})}),T.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:y(L.toId)})]})})]},W))})]}),T.jsxs("div",{className:"px-2",children:[T.jsx("h3",{className:"font-bold text-slate-400 mb-3 flex items-center text-xs tracking-wide uppercase px-2",children:" (Net Balance)"}),T.jsx("div",{className:"space-y-4",children:a.map(L=>{const W=Q[L.id]||{paid:0,share:0,net:0},te=W.net>=0;return T.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100 relative overflow-hidden opacity-90",children:[T.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${te?"bg-guam-teal":"bg-guam-coral"}`}),T.jsxs("div",{className:"flex justify-between items-start mb-4 pl-2",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 mr-3 overflow-hidden border border-white shadow-sm",children:L.avatarUrl?T.jsx("img",{src:L.avatarUrl,className:"w-full h-full object-cover"}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs font-bold",children:L.name[0]})}),T.jsx("span",{className:"font-bold text-slate-800 text-lg",children:L.name})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider mb-0.5",children:te?" (Receive)":" (Pay)"}),T.jsxs("p",{className:`text-xl font-bold ${te?"text-guam-teal":"text-guam-coral"}`,children:["$",Math.abs(W.net).toLocaleString()]})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-2",children:[T.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[T.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[T.jsx(AN,{size:10,className:"mr-1"})," "]}),T.jsxs("p",{className:"font-bold text-slate-700",children:["$",W.paid.toLocaleString()]})]}),T.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[T.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[T.jsx(ko,{size:10,className:"mr-1"})," "]}),T.jsxs("p",{className:"font-bold text-slate-700",children:["$",W.share.toLocaleString()]})]})]})]},L.id)})})]}),s.length===0&&T.jsxs("div",{className:"text-center py-10 opacity-50",children:[T.jsx(ko,{size:40,className:"mx-auto text-slate-300 mb-2"}),T.jsx("p",{className:"text-sm text-slate-400",children:""})]})]})]})},wI=({items:s,onToggle:e,onRemove:i})=>{var y,_;const[a,o]=Ce.useState("todo"),c=b=>{switch(b){case"Mom":return"bg-red-50 text-red-500 border-red-100";case"Sister1":return"bg-blue-50 text-blue-500 border-blue-100";case"Sister2":return"bg-green-50 text-green-500 border-green-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},d=[{key:"todo",label:"",icon:T.jsx(BN,{size:18})},{key:"luggage",label:"",icon:T.jsx(rN,{size:18})},{key:"documents",label:"",icon:T.jsx(MN,{size:18})}],p=s.filter(b=>b.category===a);return T.jsxs("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:[T.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl shadow-sm mb-6 border border-slate-100 sticky top-0 z-10 mx-1",children:d.map(b=>T.jsxs("button",{onClick:()=>o(b.key),className:`flex-1 flex items-center justify-center py-3 text-sm font-bold rounded-xl transition-all ${a===b.key?"bg-guam-teal text-white shadow-md scale-100":"text-slate-400 hover:bg-slate-50 scale-95"}`,children:[T.jsx("span",{className:"mr-2 opacity-90",children:b.icon}),b.label]},b.key))}),T.jsx("div",{className:"space-y-4",children:p.map(b=>T.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.03)] border border-white flex items-center group transition-all hover:shadow-lg hover:-translate-y-0.5",children:[T.jsxs("label",{className:"flex items-center flex-1 cursor-pointer checkbox-wrapper select-none",children:[T.jsx("input",{type:"checkbox",checked:b.completed,onChange:()=>e(b.id),className:"hidden"}),T.jsx("div",{className:`w-7 h-7 rounded-xl border-2 mr-4 flex items-center justify-center transition-all duration-300 ${b.completed?"bg-guam-teal border-guam-teal rotate-6 scale-110":"border-slate-200 bg-slate-50 group-hover:border-guam-teal/50"}`,children:T.jsx(XT,{size:16,className:"text-white hidden",strokeWidth:4})}),T.jsx("span",{className:`text-base font-bold transition-colors ${b.completed?"text-slate-300 line-through decoration-2 decoration-slate-200":"text-slate-700"}`,children:b.title})]}),T.jsxs("div",{className:"flex items-center pl-3",children:[T.jsx("span",{className:`text-[10px] px-3 py-1.5 rounded-full border font-bold whitespace-nowrap tracking-wide uppercase ${c(b.assignedTo)}`,children:b.assignedTo}),T.jsx("button",{onClick:()=>i(b.id),className:"ml-3 w-10 h-10 rounded-full bg-red-50 text-red-400 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all hover:bg-red-500 hover:text-white shadow-sm active:scale-90",children:T.jsx(Oh,{size:18})})]})]},b.id))}),p.length===0&&T.jsxs("div",{className:"text-center py-24 flex flex-col items-center justify-center opacity-50",children:[T.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-4 text-slate-300 shadow-sm",children:(y=d.find(b=>b.key===a))==null?void 0:y.icon}),T.jsxs("p",{className:"text-base font-bold text-slate-500",children:["",(_=d.find(b=>b.key===a))==null?void 0:_.label]}),T.jsx("p",{className:"text-sm text-slate-400 mt-1",children:""})]})]})},xI=({isOpen:s,onClose:e,onSave:i,onDelete:a,initialData:o})=>{const[c,d]=Ce.useState({category:"sightseeing",transportType:"car"});return Ce.useEffect(()=>{d(o?{...o}:{category:"sightseeing",transportType:"car",name:"",address:"",price:"",hours:"",note:"",startTime:""})},[o,s]),s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[T.jsx("h3",{className:"font-bold text-lg mb-6 text-center text-slate-800",children:o?"":""}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("select",{value:c.category,onChange:p=>d({...c,category:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",children:[T.jsx("option",{value:"sightseeing",children:""}),T.jsx("option",{value:"food",children:""}),T.jsx("option",{value:"shopping",children:""}),T.jsx("option",{value:"transport",children:""}),T.jsx("option",{value:"accommodation",children:""}),T.jsx("option",{value:"ticket",children:"/"}),T.jsx("option",{value:"other",children:""})]}),T.jsx("input",{placeholder:" (09:00)",value:c.startTime||"",onChange:p=>d({...c,startTime:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal text-center placeholder-slate-400"})]}),T.jsx("input",{placeholder:"",value:c.name||"",onChange:p=>d({...c,name:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal font-bold placeholder-slate-400"}),T.jsx("input",{placeholder:"",value:c.address||"",onChange:p=>d({...c,address:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsx("input",{placeholder:"",value:c.price||"",onChange:p=>d({...c,price:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"}),T.jsx("input",{placeholder:"",value:c.hours||"",onChange:p=>d({...c,hours:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"})]}),T.jsx("textarea",{placeholder:"",rows:3,value:c.note||"",onChange:p=>d({...c,note:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"})]}),T.jsxs("div",{className:"flex space-x-3 mt-8",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),o&&T.jsx("button",{onClick:()=>{a(o.id),e()},className:"w-12 bg-red-50 text-red-400 rounded-xl flex items-center justify-center",children:T.jsx(Oh,{size:18})}),T.jsx("button",{onClick:()=>{i(c),e()},className:"flex-[2] py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},RI=({isOpen:s,onClose:e,onSave:i})=>{const[a,o]=Ce.useState(""),[c,d]=Ce.useState(""),[p,y]=Ce.useState(void 0),_=b=>{var I;const A=(I=b.target.files)==null?void 0:I[0];if(A){const Q=new FileReader;Q.onload=G=>{var K;return y((K=G.target)==null?void 0:K.result)},Q.readAsDataURL(A)}};return s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[T.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:""}),T.jsx("input",{placeholder:"",value:a,onChange:b=>o(b.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsx("input",{placeholder:"",value:c,onChange:b=>d(b.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-4 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsxs("div",{className:"relative mb-6",children:[T.jsx("input",{type:"file",onChange:_,className:"hidden",id:"shopFileInput"}),T.jsx("label",{htmlFor:"shopFileInput",className:"w-full h-32 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl flex items-center justify-center cursor-pointer text-slate-400 hover:border-guam-teal transition-all overflow-hidden",children:p?T.jsx("img",{src:p,className:"w-full h-full object-cover",alt:"preview"}):T.jsxs("span",{className:"flex flex-col items-center text-xs",children:[T.jsx(YT,{className:"mb-2"})," "]})})]}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),T.jsx("button",{onClick:()=>{i({name:a,note:c,image:p}),e(),o(""),d(""),y(void 0)},className:"flex-1 py-3 rounded-xl bg-guam-navy text-white font-bold text-sm shadow-lg shadow-guam-navy/30",children:""})]})]})}):null},CI=({isOpen:s,onClose:e,onSave:i,members:a,initialData:o})=>{var G;const[c,d]=Ce.useState({category:"food",payment:"Cash",amount:0}),[p,y]=Ce.useState([]);Ce.useEffect(()=>{var K;if(s)if(o){d(o);const L=o.splits||[];y(a.map(W=>{const te=L.find(ae=>ae.memberId===W.id);return{id:W.id,amount:te?te.amount:0,checked:!!te}}))}else d({category:"food",payment:"Cash",amount:0,payerId:(K=a[0])==null?void 0:K.id}),y(a.map(L=>({id:L.id,amount:0,checked:!0})))},[s,a,o]);const _=(K,L)=>{const te=L.filter(ae=>ae.checked).length;if(te>0&&K>0){const ae=parseFloat((K/te).toFixed(2)),De=parseFloat((K-ae*(te-1)).toFixed(2));let Ee=0;return L.map(pe=>pe.checked?(Ee++,{...pe,amount:Ee===te?De:ae}):{...pe,amount:0})}else return L.map(ae=>({...ae,amount:0}))},b=K=>{const L=parseFloat(K)||0;d(W=>({...W,amount:L})),y(W=>_(L,W))},A=K=>{const L=p.map(W=>W.id===K?{...W,checked:!W.checked}:W);y(_(c.amount||0,L))},I=(K,L)=>{y(W=>W.map(te=>te.id===K?{...te,amount:L}:te))},Q=()=>{var te;const K=p.reduce((ae,De)=>ae+(De.checked?De.amount:0),0),L=c.amount||0;if(Math.abs(K-L)>.05){alert(` (${K})  (${L})`);return}const W=p.filter(ae=>ae.checked).map(ae=>({memberId:ae.id,amount:ae.amount}));i({...c,splits:W}),e(),d({category:"food",payment:"Cash",payerId:(te=a[0])==null?void 0:te.id,amount:0})};return s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in overflow-y-auto",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl my-auto",children:[T.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:o?"":" (USD)"}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[T.jsxs("select",{value:c.category,onChange:K=>d({...c,category:K.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[T.jsx("option",{value:"food",children:""}),T.jsx("option",{value:"shopping",children:""}),T.jsx("option",{value:"transport",children:""}),T.jsx("option",{value:"ticket",children:""}),T.jsx("option",{value:"accommodation",children:""}),T.jsx("option",{value:"other",children:""})]}),T.jsx("select",{value:c.payerId||((G=a[0])==null?void 0:G.id),onChange:K=>d({...c,payerId:K.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:a.map(K=>T.jsxs("option",{value:K.id,children:[": ",K.name]},K.id))})]}),T.jsxs("div",{className:"flex bg-slate-50 rounded-xl p-1 mb-3",children:[T.jsx("button",{onClick:()=>d({...c,payment:"Cash"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${c.payment==="Cash"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""}),T.jsx("button",{onClick:()=>d({...c,payment:"Card"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${c.payment==="Card"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""})]}),T.jsx("input",{placeholder:"",value:c.name||"",onChange:K=>d({...c,name:K.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"}),T.jsxs("div",{className:"relative mb-5",children:[T.jsx("span",{className:"absolute left-4 top-4 text-slate-400 font-bold",children:"$"}),T.jsx("input",{type:"number",placeholder:"0.00",value:c.amount||"",onChange:K=>b(K.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 pl-8 text-lg font-bold outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsxs("p",{className:"text-xs font-bold text-slate-400 mb-2 flex items-center",children:[T.jsx(ko,{size:12,className:"mr-1"}),"  ()"]}),T.jsx("div",{className:"space-y-2 bg-slate-50 p-3 rounded-2xl max-h-[150px] overflow-y-auto",children:p.map(K=>{const L=a.find(W=>W.id===K.id);return T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{onClick:()=>A(K.id),className:`w-5 h-5 rounded-md border flex items-center justify-center mr-2 cursor-pointer transition-colors ${K.checked?"bg-guam-teal border-guam-teal":"border-slate-300 bg-white"}`,children:K.checked&&T.jsx(XT,{size:12,className:"text-white"})}),T.jsx("span",{className:`text-sm ${K.checked?"text-slate-700":"text-slate-400"}`,children:L==null?void 0:L.name})]}),T.jsxs("div",{className:"relative w-24",children:[T.jsx("span",{className:`absolute left-2 top-1.5 text-xs ${K.checked?"text-slate-500":"text-slate-300"}`,children:"$"}),T.jsx("input",{type:"number",disabled:!K.checked,value:K.amount,onChange:W=>I(K.id,parseFloat(W.target.value)),className:`w-full rounded-lg py-1 pl-4 pr-2 text-right text-sm outline-none border ${K.checked?"bg-white border-slate-200 focus:border-guam-teal text-slate-800":"bg-transparent border-transparent text-slate-300"}`})]})]},K.id)})})]}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),T.jsx("button",{onClick:Q,className:"flex-1 py-3 rounded-xl bg-guam-coral text-white font-bold text-sm shadow-lg shadow-guam-coral/30",children:""})]})]})}):null},NI=({isOpen:s,onClose:e,onSave:i,members:a})=>{const[o,c]=Ce.useState({category:"todo",assignedTo:"All",completed:!1});return s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[T.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:""}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[T.jsxs("select",{value:o.category,onChange:d=>c({...o,category:d.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[T.jsx("option",{value:"todo",children:""}),T.jsx("option",{value:"luggage",children:""}),T.jsx("option",{value:"documents",children:""})]}),T.jsxs("select",{value:o.assignedTo,onChange:d=>c({...o,assignedTo:d.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[T.jsx("option",{value:"All",children:" (All)"}),a.map(d=>T.jsx("option",{value:d.name,children:d.name},d.id))]})]}),T.jsx("input",{placeholder:"",value:o.title||"",onChange:d=>c({...o,title:d.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-6 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),T.jsx("button",{onClick:()=>{i(o),e(),c({category:"todo",assignedTo:"All",completed:!1})},className:"flex-1 py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},II=({isOpen:s,onClose:e,members:i,onAddMember:a,onRemoveMember:o,currentUser:c,onLogout:d,onSyncDB:p})=>{const[y,_]=Ce.useState(""),[b,A]=Ce.useState(""),[I,Q]=Ce.useState(!1),[G,K]=Ce.useState(null);if(!s)return null;const L=te=>{var Ee;const ae=(Ee=te.target.files)==null?void 0:Ee[0];if(!ae)return;Q(!0);const De=new FileReader;De.onload=pe=>{var w;const R=new Image;R.onload=()=>{const C=document.createElement("canvas"),V=200;let D=R.width,k=R.height;D>k?D>V&&(k*=V/D,D=V):k>V&&(D*=V/k,k=V),C.width=D,C.height=k;const x=C.getContext("2d");if(x){x.drawImage(R,0,0,D,k);const $e=C.toDataURL("image/jpeg",.7);K($e)}Q(!1)},R.src=(w=pe.target)==null?void 0:w.result},De.readAsDataURL(ae)},W=()=>{if(!y.trim()||!b.trim())return;const te={id:Date.now().toString(),name:y,email:b.trim(),role:"Member"};G&&(te.avatarUrl=G),a(te),_(""),A(""),K(null)};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[T.jsx("h3",{className:"font-bold text-lg text-slate-800",children:""}),T.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:T.jsx(WT,{size:24})})]}),T.jsxs("div",{className:"space-y-3 mb-6 overflow-y-auto pr-2 flex-1 min-h-0",children:[i.map(te=>T.jsxs("div",{className:`flex items-center justify-between p-2 rounded-xl border ${te.id===(c==null?void 0:c.id)?"bg-guam-teal/5 border-guam-teal/30":"bg-slate-50 border-slate-100"}`,children:[T.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[T.jsx("div",{className:"w-10 h-10 shrink-0 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center border-2 border-white shadow-sm",children:te.avatarUrl?T.jsx("img",{src:te.avatarUrl,alt:te.name,className:"w-full h-full object-cover"}):T.jsx(fI,{size:20,className:"text-slate-400"})}),T.jsxs("div",{className:"min-w-0",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"font-bold text-slate-700 block truncate",children:te.name}),te.id===(c==null?void 0:c.id)&&T.jsx("span",{className:"ml-2 text-[10px] bg-guam-teal text-white px-1.5 py-0.5 rounded-full font-bold leading-none",children:"YOU"})]}),T.jsxs("span",{className:"text-[10px] text-slate-400 block truncate flex items-center",children:[T.jsx(QN,{size:10,className:"mr-1 inline"})," ",te.email||"No Email"]})]})]}),te.id!==(c==null?void 0:c.id)&&T.jsx("button",{onClick:()=>o(te.id),className:"w-8 h-8 flex items-center justify-center text-slate-300 hover:text-red-400 transition-colors shrink-0",children:T.jsx(Oh,{size:16})})]},te.id)),i.length===0&&T.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:""})]}),T.jsxs("div",{className:"border-t border-slate-100 pt-4 shrink-0",children:[T.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase tracking-wide",children:" ()"}),T.jsxs("div",{className:"flex gap-3 mb-3",children:[T.jsxs("div",{className:"relative shrink-0",children:[T.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:L}),T.jsx("label",{htmlFor:"avatar-upload",className:"w-12 h-12 rounded-full bg-slate-50 border border-dashed border-slate-300 flex items-center justify-center cursor-pointer hover:border-guam-teal hover:bg-guam-teal/5 transition-all overflow-hidden",children:I?T.jsx($T,{size:20,className:"animate-spin text-guam-teal"}):G?T.jsx("img",{src:G,className:"w-full h-full object-cover"}):T.jsx(cI,{size:18,className:"text-slate-400"})})]}),T.jsxs("div",{className:"flex-1 space-y-2",children:[T.jsx("input",{type:"text",placeholder:"...",value:y,onChange:te=>_(te.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl px-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"}),T.jsx("input",{type:"email",placeholder:"Google Email ()",value:b,onChange:te=>A(te.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl px-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"})]})]}),T.jsx("button",{onClick:W,disabled:!y.trim()||!b.trim()||I,className:"w-full py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30 disabled:opacity-50 disabled:cursor-not-allowed mb-2",children:""}),(c==null?void 0:c.role)==="Admin"&&p&&T.jsxs("button",{onClick:p,className:"w-full py-2 rounded-xl bg-slate-100 text-slate-500 font-bold text-xs flex items-center justify-center hover:bg-slate-200 transition-colors mb-2",children:[T.jsx(xN,{size:14,className:"mr-2"})," /"]}),T.jsxs("button",{onClick:()=>{e(),d()},className:"w-full py-3 rounded-xl border border-red-100 bg-red-50 text-red-500 font-bold text-sm flex items-center justify-center hover:bg-red-100 transition-colors",children:[T.jsx(GN,{size:16,className:"mr-2"}),"  (",c==null?void 0:c.name,")"]})]}),!1]})})},DI=s=>s.reduce((e,i,a)=>(e[a.toString()]=i,e),{}),MI=s=>Array.isArray(s)?s:Object.keys(s).sort((i,a)=>parseInt(i)-parseInt(a)).map(i=>s[i]),kc=s=>Object.entries(s).reduce((e,[i,a])=>(a!==void 0&&(e[i]=a),e),{}),OI=()=>{const[s,e]=Ce.useState(null),[i,a]=Ce.useState(!1),[o,c]=Ce.useState("itinerary"),[d,p]=Ce.useState(0),[y,_]=Ce.useState(Xs.itinerary),[b,A]=Ce.useState(Xs.shopping),[I,Q]=Ce.useState(Xs.expenses),[G,K]=Ce.useState(Xs.planning||[]),[L,W]=Ce.useState($s),[te,ae]=Ce.useState(!1),[De,Ee]=Ce.useState(!1),[pe,R]=Ce.useState(!1),[w,C]=Ce.useState(!1),[V,D]=Ce.useState(!1),[k,x]=Ce.useState(null),[$e,pt]=Ce.useState(null),F=async(me,he)=>{if(Ut&&s)try{let _e=he;me==="itinerary"&&Array.isArray(he)&&(_e=DI(he)),await So(Ni(Ut,"trip_data",me),{data:_e})}catch(_e){console.error(`Error saving ${me}`,_e)}};Ce.useEffect(()=>{const me=setTimeout(()=>{i||(console.warn("Auth timeout - forcing UI render"),a(!0))},3e3);if(!Di)return a(!0),()=>clearTimeout(me);const he=jR(Di,async _e=>{if(_e){if(_e.isAnonymous||!_e.email){await Gc(Di),e(null),a(!0);return}const Qt=(_e.email||"").toLowerCase();console.log("Auth State Changed: Logged in as",Qt);const xt=$s.find(yt=>{var Oe;return((Oe=yt.email)==null?void 0:Oe.toLowerCase())===Qt});if(xt){console.log("Fast Match Found:",xt.name),e({id:xt.id,name:xt.name,email:_e.email,avatarUrl:xt.avatarUrl||_e.photoURL||void 0,role:xt.role||"Member"}),a(!0);return}let Ze;if(Ut)try{const yt=await Gx(Y_(Ut,"users"));yt.empty||(Ze=yt.docs.map(nt=>({id:nt.id,...nt.data()})).find(nt=>{var Nn;return((Nn=nt.email)==null?void 0:Nn.toLowerCase())===Qt}))}catch(yt){console.error("Auth check: DB fetch failed",yt)}Ze?e({id:Ze.id,name:Ze.name,email:_e.email,avatarUrl:Ze.avatarUrl||_e.photoURL||void 0,role:Ze.role||"Member"}):(console.warn(`User ${Qt} not in whitelist (Local or DB). Signing out.`),await Gc(Di),e(null))}else e(null);a(!0)});return()=>{he(),clearTimeout(me)}},[]),Ce.useEffect(()=>{if(!Ut||!s)return;const me=Ao(Y_(Ut,"users"),Ze=>{if(Ze.empty)console.log("Users collection empty. Attempting to seed..."),$s.length>0&&$s.forEach(yt=>{const Oe=kc(yt);So(Ni(Ut,"users",yt.id),Oe).catch(console.error)});else{const yt=Ze.docs.map(Oe=>({id:Oe.id,...Oe.data()}));W(yt),$s.forEach(Oe=>{const nt=yt.find(da=>da.id===Oe.id);if(!nt||Oe.email&&nt.email!==Oe.email||Oe.name!==nt.name){console.log(`Auto-repairing member ${Oe.id} in Firestore (users)...`);const da=kc(Oe);So(Ni(Ut,"users",Oe.id),da,{merge:!0}).catch(sr=>console.warn("Auto-repair failed (likely permission)",sr))}})}}),he=Ao(Ni(Ut,"trip_data","itinerary"),Ze=>{if(Ze.exists()){const yt=Ze.data().data;_(Array.isArray(yt)?yt:MI(yt))}else F("itinerary",Xs.itinerary)}),_e=Ao(Ni(Ut,"trip_data","shopping"),Ze=>{Ze.exists()?A(Ze.data().data):F("shopping",Xs.shopping)}),Qt=Ao(Ni(Ut,"trip_data","expenses"),Ze=>{Ze.exists()?Q(Ze.data().data):F("expenses",Xs.expenses)}),xt=Ao(Ni(Ut,"trip_data","planning"),Ze=>{Ze.exists()?K(Ze.data().data):F("planning",Xs.planning)});return()=>{me(),he(),_e(),Qt(),xt()}},[s==null?void 0:s.id]);const ie=me=>{e(me),localStorage.setItem("trip_user_id",me.id)},fe=async()=>{Di&&await Gc(Di),e(null),localStorage.removeItem("trip_user_id")},qe=()=>{o==="itinerary"?(x(null),ae(!0)):o==="shopping"?Ee(!0):o==="expenses"?(pt(null),R(!0)):o==="planning"&&C(!0)},Ke=me=>{const he=[...y],_e=[...he[d]];if(k){const Qt=_e.findIndex(xt=>xt.id===k.id);Qt!==-1&&(_e[Qt]={...k,...me})}else{const Qt={...me,id:Date.now()};_e.push(Qt),_e.sort((xt,Ze)=>xt.startTime>Ze.startTime?1:-1)}he[d]=_e,_(he),F("itinerary",he),x(null)},O=me=>{const he=[...y];he[d]=he[d].filter(_e=>_e.id!==me),_(he),F("itinerary",he)},$=me=>{const he=[...b,{...me,id:Date.now()}];A(he),F("shopping",he)},se=me=>{const he=b.filter(_e=>_e.id!==me);A(he),F("shopping",he)},re=me=>{let he;$e?(he=I.map(_e=>_e.id===$e.id?{..._e,...me}:_e),pt(null)):he=[{...me,id:Date.now(),date:new Date().toLocaleDateString("en-US",{month:"numeric",day:"numeric"})},...I],Q(he),F("expenses",he)},Te=me=>{const he=I.filter(_e=>_e.id!==me);Q(he),F("expenses",he)},Re=me=>{const he=[...G,{...me,id:Date.now()}];K(he),F("planning",he)},je=me=>{const he=G.map(_e=>_e.id===me?{..._e,completed:!_e.completed}:_e);K(he),F("planning",he)},Tt=me=>{const he=G.filter(_e=>_e.id!==me);K(he),F("planning",he)},ot=async me=>{if(Ut)try{const he=kc(me);await So(Ni(Ut,"users",me.id),he)}catch(he){console.error("Error adding member to DB",he),alert("")}else console.warn("Database not initialized, member only added locally");W([...L,me])},Pi=async me=>{if(Ut)try{await Fx(Ni(Ut,"users",me))}catch(he){console.error("Error deleting member from DB",he)}W(L.filter(he=>he.id!==me))},ps=async()=>{if(!(!Ut||!s)&&confirm(" 'users' "))try{for(const me of $s){const he=kc(me);await So(Ni(Ut,"users",me.id),he,{merge:!0})}alert(" Firebase Console  users ")}catch(me){alert(": "+me.message)}};return i?s?T.jsxs("div",{className:"app-container max-w-[480px] mx-auto min-h-screen bg-guam-sand relative shadow-[0_0_40px_rgba(13,148,136,0.1)]",children:[T.jsx(yI,{currentTab:o,onTabChange:c,title:tl.title,subtitle:tl.subtitle,coverImage:tl.coverImage,onOpenMembers:()=>D(!0)}),T.jsxs("main",{className:"px-4 pt-6 relative z-0",children:[o==="itinerary"&&T.jsx(EI,{dates:_I,weather:vI,items:y[d],selectedDateIndex:d,onDateSelect:p,onEdit:me=>{x(me),ae(!0)}}),o==="info"&&T.jsx(bI,{}),o==="shopping"&&T.jsx(SI,{items:b,onRemove:se,onAddClick:()=>Ee(!0)}),o==="planning"&&T.jsx(wI,{items:G,onToggle:je,onRemove:Tt}),o==="expenses"&&T.jsx(AI,{expenses:I,onRemove:Te,onEdit:me=>{pt(me),R(!0)},members:L})]}),o!=="info"&&T.jsx("button",{onClick:qe,className:"fixed bottom-24 right-6 w-14 h-14 bg-guam-coral text-white rounded-full shadow-[0_4px_20px_rgba(251,113,133,0.6)] text-xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all z-40",children:T.jsx(JT,{size:24})}),T.jsx(xI,{isOpen:te,onClose:()=>ae(!1),onSave:Ke,initialData:k,onDelete:O}),T.jsx(RI,{isOpen:De,onClose:()=>Ee(!1),onSave:$}),T.jsx(CI,{isOpen:pe,onClose:()=>R(!1),onSave:re,members:L,initialData:$e}),T.jsx(NI,{isOpen:w,onClose:()=>C(!1),onSave:Re,members:L}),T.jsx(II,{isOpen:V,onClose:()=>D(!1),members:L,onAddMember:ot,onRemoveMember:Pi,currentUser:s,onLogout:fe,onSyncDB:ps})]}):T.jsx(TI,{members:L,onLogin:ie}):T.jsx("div",{className:"min-h-screen bg-guam-sand flex items-center justify-center",children:T.jsxs("div",{className:"animate-pulse text-guam-teal flex flex-col items-center",children:[T.jsx("div",{className:"w-8 h-8 border-4 border-guam-teal border-t-transparent rounded-full animate-spin mb-2"}),"Loading..."]})})},eE=document.getElementById("root");if(!eE)throw new Error("Could not find root element to mount to");const VI=qb.createRoot(eE);VI.render(T.jsx(Vb.StrictMode,{children:T.jsx(OI,{})}));
