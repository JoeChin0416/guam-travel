(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Yg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Oh={exports:{}},ya={},Lh={exports:{}},be={};var km;function __(){if(km)return be;km=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function V(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,H={};function P(M,W,de){this.props=M,this.context=W,this.refs=H,this.updater=de||$}P.prototype.isReactComponent={},P.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function q(){}q.prototype=P.prototype;function J(M,W,de){this.props=M,this.context=W,this.refs=H,this.updater=de||$}var pe=J.prototype=new q;pe.constructor=J,j(pe,P.prototype),pe.isPureReactComponent=!0;var me=Array.isArray,_e=Object.prototype.hasOwnProperty,oe={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function T(M,W,de){var Ne,Pe={},De=null,Ue=null;if(W!=null)for(Ne in W.ref!==void 0&&(Ue=W.ref),W.key!==void 0&&(De=""+W.key),W)_e.call(W,Ne)&&!R.hasOwnProperty(Ne)&&(Pe[Ne]=W[Ne]);var Te=arguments.length-2;if(Te===1)Pe.children=de;else if(1<Te){for(var Ge=Array(Te),ft=0;ft<Te;ft++)Ge[ft]=arguments[ft+2];Pe.children=Ge}if(M&&M.defaultProps)for(Ne in Te=M.defaultProps,Te)Pe[Ne]===void 0&&(Pe[Ne]=Te[Ne]);return{$$typeof:s,type:M,key:De,ref:Ue,props:Pe,_owner:oe.current}}function S(M,W){return{$$typeof:s,type:M.type,key:W,ref:M.ref,props:M.props,_owner:M._owner}}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function D(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return W[de]})}var O=/\/+/g;function k(M,W){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):W.toString(36)}function st(M,W,de,Ne,Pe){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(De){case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case s:case e:Ue=!0}}if(Ue)return Ue=M,Pe=Pe(Ue),M=Ne===""?"."+k(Ue,0):Ne,me(Pe)?(de="",M!=null&&(de=M.replace(O,"$&/")+"/"),st(Pe,W,de,"",function(ft){return ft})):Pe!=null&&(N(Pe)&&(Pe=S(Pe,de+(!Pe.key||Ue&&Ue.key===Pe.key?"":(""+Pe.key).replace(O,"$&/")+"/")+M)),W.push(Pe)),1;if(Ue=0,Ne=Ne===""?".":Ne+":",me(M))for(var Te=0;Te<M.length;Te++){De=M[Te];var Ge=Ne+k(De,Te);Ue+=st(De,W,de,Ge,Pe)}else if(Ge=V(M),typeof Ge=="function")for(M=Ge.call(M),Te=0;!(De=M.next()).done;)De=De.value,Ge=Ne+k(De,Te++),Ue+=st(De,W,de,Ge,Pe);else if(De==="object")throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ue}function _t(M,W,de){if(M==null)return M;var Ne=[],Pe=0;return st(M,Ne,"","",function(De){return W.call(de,De,Pe++)}),Ne}function kt(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var He={current:null},ee={transition:null},ge={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:ee,ReactCurrentOwner:oe};function se(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:_t,forEach:function(M,W,de){_t(M,function(){W.apply(this,arguments)},de)},count:function(M){var W=0;return _t(M,function(){W++}),W},toArray:function(M){return _t(M,function(W){return W})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},be.Component=P,be.Fragment=t,be.Profiler=o,be.PureComponent=J,be.StrictMode=i,be.Suspense=y,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,be.act=se,be.cloneElement=function(M,W,de){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ne=j({},M.props),Pe=M.key,De=M.ref,Ue=M._owner;if(W!=null){if(W.ref!==void 0&&(De=W.ref,Ue=oe.current),W.key!==void 0&&(Pe=""+W.key),M.type&&M.type.defaultProps)var Te=M.type.defaultProps;for(Ge in W)_e.call(W,Ge)&&!R.hasOwnProperty(Ge)&&(Ne[Ge]=W[Ge]===void 0&&Te!==void 0?Te[Ge]:W[Ge])}var Ge=arguments.length-2;if(Ge===1)Ne.children=de;else if(1<Ge){Te=Array(Ge);for(var ft=0;ft<Ge;ft++)Te[ft]=arguments[ft+2];Ne.children=Te}return{$$typeof:s,type:M.type,key:Pe,ref:De,props:Ne,_owner:Ue}},be.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},be.createElement=T,be.createFactory=function(M){var W=T.bind(null,M);return W.type=M,W},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:p,render:M}},be.isValidElement=N,be.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:kt}},be.memo=function(M,W){return{$$typeof:_,type:M,compare:W===void 0?null:W}},be.startTransition=function(M){var W=ee.transition;ee.transition={};try{M()}finally{ee.transition=W}},be.unstable_act=se,be.useCallback=function(M,W){return He.current.useCallback(M,W)},be.useContext=function(M){return He.current.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M){return He.current.useDeferredValue(M)},be.useEffect=function(M,W){return He.current.useEffect(M,W)},be.useId=function(){return He.current.useId()},be.useImperativeHandle=function(M,W,de){return He.current.useImperativeHandle(M,W,de)},be.useInsertionEffect=function(M,W){return He.current.useInsertionEffect(M,W)},be.useLayoutEffect=function(M,W){return He.current.useLayoutEffect(M,W)},be.useMemo=function(M,W){return He.current.useMemo(M,W)},be.useReducer=function(M,W,de){return He.current.useReducer(M,W,de)},be.useRef=function(M){return He.current.useRef(M)},be.useState=function(M){return He.current.useState(M)},be.useSyncExternalStore=function(M,W,de){return He.current.useSyncExternalStore(M,W,de)},be.useTransition=function(){return He.current.useTransition()},be.version="18.3.1",be}var Am;function kd(){return Am||(Am=1,Lh.exports=__()),Lh.exports}var Cm;function w_(){if(Cm)return ya;Cm=1;var s=kd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(p,y,_){var E,C={},V=null,$=null;_!==void 0&&(V=""+_),y.key!==void 0&&(V=""+y.key),y.ref!==void 0&&($=y.ref);for(E in y)i.call(y,E)&&!u.hasOwnProperty(E)&&(C[E]=y[E]);if(p&&p.defaultProps)for(E in y=p.defaultProps,y)C[E]===void 0&&(C[E]=y[E]);return{$$typeof:e,type:p,key:V,ref:$,props:C,_owner:o.current}}return ya.Fragment=t,ya.jsx=h,ya.jsxs=h,ya}var Rm;function x_(){return Rm||(Rm=1,Oh.exports=w_()),Oh.exports}var g=x_(),ye=kd();const E_=Yg(ye);var fu={},Fh={exports:{}},on={},Uh={exports:{}},zh={};var Nm;function T_(){return Nm||(Nm=1,(function(s){function e(ee,ge){var se=ee.length;ee.push(ge);e:for(;0<se;){var M=se-1>>>1,W=ee[M];if(0<o(W,ge))ee[M]=ge,ee[se]=W,se=M;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ge=ee[0],se=ee.pop();if(se!==ge){ee[0]=se;e:for(var M=0,W=ee.length,de=W>>>1;M<de;){var Ne=2*(M+1)-1,Pe=ee[Ne],De=Ne+1,Ue=ee[De];if(0>o(Pe,se))De<W&&0>o(Ue,Pe)?(ee[M]=Ue,ee[De]=se,M=De):(ee[M]=Pe,ee[Ne]=se,M=Ne);else if(De<W&&0>o(Ue,se))ee[M]=Ue,ee[De]=se,M=De;else break e}}return ge}function o(ee,ge){var se=ee.sortIndex-ge.sortIndex;return se!==0?se:ee.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var y=[],_=[],E=1,C=null,V=3,$=!1,j=!1,H=!1,P=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pe(ee){for(var ge=t(_);ge!==null;){if(ge.callback===null)i(_);else if(ge.startTime<=ee)i(_),ge.sortIndex=ge.expirationTime,e(y,ge);else break;ge=t(_)}}function me(ee){if(H=!1,pe(ee),!j)if(t(y)!==null)j=!0,kt(_e);else{var ge=t(_);ge!==null&&He(me,ge.startTime-ee)}}function _e(ee,ge){j=!1,H&&(H=!1,q(T),T=-1),$=!0;var se=V;try{for(pe(ge),C=t(y);C!==null&&(!(C.expirationTime>ge)||ee&&!D());){var M=C.callback;if(typeof M=="function"){C.callback=null,V=C.priorityLevel;var W=M(C.expirationTime<=ge);ge=s.unstable_now(),typeof W=="function"?C.callback=W:C===t(y)&&i(y),pe(ge)}else i(y);C=t(y)}if(C!==null)var de=!0;else{var Ne=t(_);Ne!==null&&He(me,Ne.startTime-ge),de=!1}return de}finally{C=null,V=se,$=!1}}var oe=!1,R=null,T=-1,S=5,N=-1;function D(){return!(s.unstable_now()-N<S)}function O(){if(R!==null){var ee=s.unstable_now();N=ee;var ge=!0;try{ge=R(!0,ee)}finally{ge?k():(oe=!1,R=null)}}else oe=!1}var k;if(typeof J=="function")k=function(){J(O)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,_t=st.port2;st.port1.onmessage=O,k=function(){_t.postMessage(null)}}else k=function(){P(O,0)};function kt(ee){R=ee,oe||(oe=!0,k())}function He(ee,ge){T=P(function(){ee(s.unstable_now())},ge)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ee){ee.callback=null},s.unstable_continueExecution=function(){j||$||(j=!0,kt(_e))},s.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ee?Math.floor(1e3/ee):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_getFirstCallbackNode=function(){return t(y)},s.unstable_next=function(ee){switch(V){case 1:case 2:case 3:var ge=3;break;default:ge=V}var se=V;V=ge;try{return ee()}finally{V=se}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(ee,ge){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var se=V;V=ee;try{return ge()}finally{V=se}},s.unstable_scheduleCallback=function(ee,ge,se){var M=s.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?M+se:M):se=M,ee){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=se+W,ee={id:E++,callback:ge,priorityLevel:ee,startTime:se,expirationTime:W,sortIndex:-1},se>M?(ee.sortIndex=se,e(_,ee),t(y)===null&&ee===t(_)&&(H?(q(T),T=-1):H=!0,He(me,se-M))):(ee.sortIndex=W,e(y,ee),j||$||(j=!0,kt(_e))),ee},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(ee){var ge=V;return function(){var se=V;V=ge;try{return ee.apply(this,arguments)}finally{V=se}}}})(zh)),zh}var Pm;function I_(){return Pm||(Pm=1,Uh.exports=T_()),Uh.exports}var bm;function S_(){if(bm)return on;bm=1;var s=kd(),e=I_();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function u(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(o[n]=r,n=0;n<r.length;n++)i.add(r[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},C={};function V(n){return y.call(C,n)?!0:y.call(E,n)?!1:_.test(n)?C[n]=!0:(E[n]=!0,!1)}function $(n,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function j(n,r,a,c){if(r===null||typeof r>"u"||$(n,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function H(n,r,a,c,d,m,w){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=r,this.sanitizeURL=m,this.removeEmptyString=w}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){P[n]=new H(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];P[r]=new H(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){P[n]=new H(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){P[n]=new H(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){P[n]=new H(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){P[n]=new H(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){P[n]=new H(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){P[n]=new H(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){P[n]=new H(n,5,!1,n.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function J(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(q,J);P[r]=new H(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(q,J);P[r]=new H(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(q,J);P[r]=new H(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){P[n]=new H(n,1,!1,n.toLowerCase(),null,!1,!1)}),P.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){P[n]=new H(n,1,!1,n.toLowerCase(),null,!0,!0)});function pe(n,r,a,c){var d=P.hasOwnProperty(r)?P[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(j(r,a,d,c)&&(a=null),c||d===null?V(r)&&(a===null?n.removeAttribute(r):n.setAttribute(r,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,r,a):n.setAttribute(r,a))))}var me=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_e=Symbol.for("react.element"),oe=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ge(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,M;function W(n){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+n}var de=!1;function Ne(n,r){if(!n||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var c=z}Reflect.construct(n,[],r)}else{try{r.call()}catch(z){c=z}n.call(r.prototype)}else{try{throw Error()}catch(z){c=z}n()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),m=c.stack.split(`
`),w=d.length-1,I=m.length-1;1<=w&&0<=I&&d[w]!==m[I];)I--;for(;1<=w&&0<=I;w--,I--)if(d[w]!==m[I]){if(w!==1||I!==1)do if(w--,I--,0>I||d[w]!==m[I]){var A=`
`+d[w].replace(" at new "," at ");return n.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",n.displayName)),A}while(1<=w&&0<=I);break}}}finally{de=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?W(n):""}function Pe(n){switch(n.tag){case 5:return W(n.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return n=Ne(n.type,!1),n;case 11:return n=Ne(n.type.render,!1),n;case 1:return n=Ne(n.type,!0),n;default:return""}}function De(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case oe:return"Portal";case S:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case st:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case N:return(n._context.displayName||"Context")+".Provider";case O:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _t:return r=n.displayName||null,r!==null?r:De(n.type)||"Memo";case kt:r=n._payload,n=n._init;try{return De(n(r))}catch{}}return null}function Ue(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Te(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ge(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ft(n){var r=Ge(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,m.call(this,w)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Cn(n){n._valueTracker||(n._valueTracker=ft(n))}function $r(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=Ge(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function Qn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gr(n,r){var a=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Hr(n,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Te(r.value!=null?r.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ns(n,r){r=r.checked,r!=null&&pe(n,"checked",r,!1)}function Ps(n,r){Ns(n,r);var a=Te(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?Wr(n,r.type,a):r.hasOwnProperty("defaultValue")&&Wr(n,r.type,Te(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function vi(n,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,a||r===n.value||(n.value=r),n.defaultValue=r}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Wr(n,r,a){(r!=="number"||Qn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Rn=Array.isArray;function Nn(n,r,a,c){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Te(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function bs(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function qr(n,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(t(92));if(Rn(a)){if(1<a.length)throw Error(t(93));a=a[0]}r=a}r==null&&(r=""),a=r}n._wrapperState={initialValue:Te(a)}}function Gr(n,r){var a=Te(r.value),c=Te(r.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),r.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function ae(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function ne(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function re(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?ne(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Je,wt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(r,a,c,d)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Je=Je||document.createElement("div"),Je.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Je.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function lt(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];Object.keys(je).forEach(function(n){pt.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),je[r]=je[n]})});function Ke(n,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||je.hasOwnProperty(n)&&je[n]?(""+r).trim():r+"px"}function gn(n,r){n=n.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Ke(a,r[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var _i=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yr(n,r){if(r){if(_i[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function Ds(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function wi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xi=null,yn=null,Xn=null;function Ei(n){if(n=na(n)){if(typeof xi!="function")throw Error(t(280));var r=n.stateNode;r&&(r=Cl(r),xi(n.stateNode,n.type,r))}}function Yn(n){yn?Xn?Xn.push(n):Xn=[n]:yn=n}function Do(){if(yn){var n=yn,r=Xn;if(Xn=yn=null,Ei(n),r)for(n=0;n<r.length;n++)Ei(r[n])}}function Vs(n,r){return n(r)}function jo(){}var vr=!1;function Vo(n,r,a){if(vr)return n(r,a);vr=!0;try{return Vs(n,r,a)}finally{vr=!1,(yn!==null||Xn!==null)&&(jo(),Do())}}function ct(n,r){var a=n.stateNode;if(a===null)return null;var c=Cl(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,r,typeof a));return a}var Ti=!1;if(p)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){Ti=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{Ti=!1}function Ms(n,r,a,c,d,m,w,I,A){var z=Array.prototype.slice.call(arguments,3);try{r.apply(a,z)}catch(K){this.onError(K)}}var Os=!1,Ii=null,bn=!1,Mo=null,hc={onError:function(n){Os=!0,Ii=n}};function Si(n,r,a,c,d,m,w,I,A){Os=!1,Ii=null,Ms.apply(hc,arguments)}function Za(n,r,a,c,d,m,w,I,A){if(Si.apply(this,arguments),Os){if(Os){var z=Ii;Os=!1,Ii=null}else throw Error(t(198));bn||(bn=!0,Mo=z)}}function Dn(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Ls(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function jn(n){if(Dn(n)!==n)throw Error(t(188))}function el(n){var r=n.alternate;if(!r){if(r=Dn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var a=n,c=r;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return jn(d),n;if(m===c)return jn(d),r;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var w=!1,I=d.child;I;){if(I===a){w=!0,a=d,c=m;break}if(I===c){w=!0,c=d,a=m;break}I=I.sibling}if(!w){for(I=m.child;I;){if(I===a){w=!0,a=m,c=d;break}if(I===c){w=!0,c=m,a=d;break}I=I.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:r}function Oo(n){return n=el(n),n!==null?ki(n):null}function ki(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=ki(n);if(r!==null)return r;n=n.sibling}return null}var Ai=e.unstable_scheduleCallback,Lo=e.unstable_cancelCallback,tl=e.unstable_shouldYield,dc=e.unstable_requestPaint,Xe=e.unstable_now,nl=e.unstable_getCurrentPriorityLevel,Fs=e.unstable_ImmediatePriority,Kr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,Fo=e.unstable_LowPriority,rl=e.unstable_IdlePriority,Us=null,ln=null;function sl(n){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Us,n,void 0,(n.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:ol,Uo=Math.log,il=Math.LN2;function ol(n){return n>>>=0,n===0?32:31-(Uo(n)/il|0)|0}var Ci=64,Ri=4194304;function Qr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zs(n,r){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,w=a&268435455;if(w!==0){var I=w&~d;I!==0?c=Qr(I):(m&=w,m!==0&&(c=Qr(m)))}else w=a&~d,w!==0?c=Qr(w):m!==0&&(c=Qr(m));if(c===0)return 0;if(r!==0&&r!==c&&(r&d)===0&&(d=c&-c,m=r&-r,d>=m||d===16&&(m&4194240)!==0))return r;if((c&4)!==0&&(c|=a&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)a=31-Kt(r),d=1<<a,c|=n[a],r&=~d;return c}function fc(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var w=31-Kt(m),I=1<<w,A=d[w];A===-1?((I&a)===0||(I&c)!==0)&&(d[w]=fc(I,r)):A<=r&&(n.expiredLanes|=I),m&=~I}}function un(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Bs(){var n=Ci;return Ci<<=1,(Ci&4194240)===0&&(Ci=64),n}function Xr(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Yr(n,r,a){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Kt(r),n[r]=a}function Qe(n,r){var a=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Kt(a),m=1<<d;r[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Jr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-Kt(a),d=1<<c;d&r|n[c]&r&&(n[c]|=r),a&=~d}}var Me=0;function Zr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var al,Ni,ll,ul,cl,zo=!1,Jn=[],bt=null,Vn=null,Mn=null,es=new Map,_n=new Map,Zn=[],pc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hl(n,r){switch(n){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":es.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(r.pointerId)}}function Jt(n,r,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},r!==null&&(r=na(r),r!==null&&Ni(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function mc(n,r,a,c,d){switch(r){case"focusin":return bt=Jt(bt,n,r,a,c,d),!0;case"dragenter":return Vn=Jt(Vn,n,r,a,c,d),!0;case"mouseover":return Mn=Jt(Mn,n,r,a,c,d),!0;case"pointerover":var m=d.pointerId;return es.set(m,Jt(es.get(m)||null,n,r,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,_n.set(m,Jt(_n.get(m)||null,n,r,a,c,d)),!0}return!1}function dl(n){var r=Gs(n.target);if(r!==null){var a=Dn(r);if(a!==null){if(r=a.tag,r===13){if(r=Ls(a),r!==null){n.blockedOn=r,cl(n.priority,function(){ll(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wr(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Pi(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);js=c,a.target.dispatchEvent(c),js=null}else return r=na(a),r!==null&&Ni(r),n.blockedOn=a,!1;r.shift()}return!0}function $s(n,r,a){wr(n)&&a.delete(r)}function fl(){zo=!1,bt!==null&&wr(bt)&&(bt=null),Vn!==null&&wr(Vn)&&(Vn=null),Mn!==null&&wr(Mn)&&(Mn=null),es.forEach($s),_n.forEach($s)}function On(n,r){n.blockedOn===r&&(n.blockedOn=null,zo||(zo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fl)))}function Ln(n){function r(d){return On(d,n)}if(0<Jn.length){On(Jn[0],n);for(var a=1;a<Jn.length;a++){var c=Jn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(bt!==null&&On(bt,n),Vn!==null&&On(Vn,n),Mn!==null&&On(Mn,n),es.forEach(r),_n.forEach(r),a=0;a<Zn.length;a++)c=Zn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Zn.length&&(a=Zn[0],a.blockedOn===null);)dl(a),a.blockedOn===null&&Zn.shift()}var xr=me.ReactCurrentBatchConfig,ts=!0;function tt(n,r,a,c){var d=Me,m=xr.transition;xr.transition=null;try{Me=1,Bo(n,r,a,c)}finally{Me=d,xr.transition=m}}function gc(n,r,a,c){var d=Me,m=xr.transition;xr.transition=null;try{Me=4,Bo(n,r,a,c)}finally{Me=d,xr.transition=m}}function Bo(n,r,a,c){if(ts){var d=Pi(n,r,a,c);if(d===null)Ac(n,r,c,Hs,a),hl(n,c);else if(mc(d,n,r,a,c))c.stopPropagation();else if(hl(n,c),r&4&&-1<pc.indexOf(n)){for(;d!==null;){var m=na(d);if(m!==null&&al(m),m=Pi(n,r,a,c),m===null&&Ac(n,r,c,Hs,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else Ac(n,r,c,null,a)}}var Hs=null;function Pi(n,r,a,c){if(Hs=null,n=wi(c),n=Gs(n),n!==null)if(r=Dn(n),r===null)n=null;else if(a=r.tag,a===13){if(n=Ls(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Hs=n,null}function $o(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nl()){case Fs:return 1;case Kr:return 4;case vn:case Fo:return 16;case rl:return 536870912;default:return 16}default:return 16}}var cn=null,bi=null,Zt=null;function Ho(){if(Zt)return Zt;var n,r=bi,a=r.length,c,d="value"in cn?cn.value:cn.textContent,m=d.length;for(n=0;n<a&&r[n]===d[n];n++);var w=a-n;for(c=1;c<=w&&r[a-c]===d[m-c];c++);return Zt=d.slice(n,1<c?1-c:void 0)}function Di(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function er(){return!0}function Wo(){return!1}function Dt(n){function r(a,c,d,m,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?er:Wo,this.isPropagationStopped=Wo,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),r}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Dt(Fn),tr=se({},Fn,{view:0,detail:0}),yc=Dt(tr),Vi,Er,ns,Ws=se({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ns&&(ns&&n.type==="mousemove"?(Vi=n.screenX-ns.screenX,Er=n.screenY-ns.screenY):Er=Vi=0,ns=n),Vi)},movementY:function(n){return"movementY"in n?n.movementY:Er}}),Mi=Dt(Ws),qo=se({},Ws,{dataTransfer:0}),pl=Dt(qo),Oi=se({},tr,{relatedTarget:0}),Li=Dt(Oi),ml=se({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tr=Dt(ml),gl=se({},Fn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),yl=Dt(gl),vl=se({},Fn,{data:0}),Go=Dt(vl),Fi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=_l[n])?!!r[n]:!1}function nr(){return wl}var l=se({},tr,{key:function(n){if(n.key){var r=Fi[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Di(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(n){return n.type==="keypress"?Di(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Di(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),f=Dt(l),v=se({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=Dt(v),L=se({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),B=Dt(L),te=se({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Dt(te),xt=se({},Ws,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Dt(xt),At=[9,13,27,32],mt=p&&"CompositionEvent"in window,wn=null;p&&"documentMode"in document&&(wn=document.documentMode);var hn=p&&"TextEvent"in window&&!wn,qs=p&&(!mt||wn&&8<wn&&11>=wn),Ui=" ",wf=!1;function xf(n,r){switch(n){case"keyup":return At.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var zi=!1;function g0(n,r){switch(n){case"compositionend":return Ef(r);case"keypress":return r.which!==32?null:(wf=!0,Ui);case"textInput":return n=r.data,n===Ui&&wf?null:n;default:return null}}function y0(n,r){if(zi)return n==="compositionend"||!mt&&xf(n,r)?(n=Ho(),Zt=bi=cn=null,zi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qs&&r.locale!=="ko"?null:r.data;default:return null}}var v0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!v0[n.type]:r==="textarea"}function If(n,r,a,c){Yn(c),r=Sl(r,"onChange"),0<r.length&&(a=new ji("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var Ko=null,Qo=null;function _0(n){Bf(n,0)}function xl(n){var r=qi(n);if($r(r))return n}function w0(n,r){if(n==="change")return r}var Sf=!1;if(p){var vc;if(p){var _c="oninput"in document;if(!_c){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),_c=typeof kf.oninput=="function"}vc=_c}else vc=!1;Sf=vc&&(!document.documentMode||9<document.documentMode)}function Af(){Ko&&(Ko.detachEvent("onpropertychange",Cf),Qo=Ko=null)}function Cf(n){if(n.propertyName==="value"&&xl(Qo)){var r=[];If(r,Qo,n,wi(n)),Vo(_0,r)}}function x0(n,r,a){n==="focusin"?(Af(),Ko=r,Qo=a,Ko.attachEvent("onpropertychange",Cf)):n==="focusout"&&Af()}function E0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xl(Qo)}function T0(n,r){if(n==="click")return xl(r)}function I0(n,r){if(n==="input"||n==="change")return xl(r)}function S0(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Un=typeof Object.is=="function"?Object.is:S0;function Xo(n,r){if(Un(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!y.call(r,d)||!Un(n[d],r[d]))return!1}return!0}function Rf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Nf(n,r){var a=Rf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rf(a)}}function Pf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Pf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function bf(){for(var n=window,r=Qn();r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Qn(n.document)}return r}function wc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function k0(n){var r=bf(),a=n.focusedElem,c=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&Pf(a.ownerDocument.documentElement,a)){if(c!==null&&wc(a)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(n,a.value.length);else if(n=(r=a.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=Nf(a,m);var w=Nf(a,c);d&&w&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(r),n.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),n.addRange(r)))}}for(r=[],n=a;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)n=r[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var A0=p&&"documentMode"in document&&11>=document.documentMode,Bi=null,xc=null,Yo=null,Ec=!1;function Df(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ec||Bi==null||Bi!==Qn(c)||(c=Bi,"selectionStart"in c&&wc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yo&&Xo(Yo,c)||(Yo=c,c=Sl(xc,"onSelect"),0<c.length&&(r=new ji("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=Bi)))}function El(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var $i={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},Tc={},jf={};p&&(jf=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Tl(n){if(Tc[n])return Tc[n];if(!$i[n])return n;var r=$i[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in jf)return Tc[n]=r[a];return n}var Vf=Tl("animationend"),Mf=Tl("animationiteration"),Of=Tl("animationstart"),Lf=Tl("transitionend"),Ff=new Map,Uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(n,r){Ff.set(n,r),u(r,[n])}for(var Ic=0;Ic<Uf.length;Ic++){var Sc=Uf[Ic],C0=Sc.toLowerCase(),R0=Sc[0].toUpperCase()+Sc.slice(1);rs(C0,"on"+R0)}rs(Vf,"onAnimationEnd"),rs(Mf,"onAnimationIteration"),rs(Of,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(Lf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function zf(n,r,a){var c=n.type||"unknown-event";n.currentTarget=a,Za(c,r,void 0,n),n.currentTarget=null}function Bf(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var w=c.length-1;0<=w;w--){var I=c[w],A=I.instance,z=I.currentTarget;if(I=I.listener,A!==m&&d.isPropagationStopped())break e;zf(d,I,z),m=A}else for(w=0;w<c.length;w++){if(I=c[w],A=I.instance,z=I.currentTarget,I=I.listener,A!==m&&d.isPropagationStopped())break e;zf(d,I,z),m=A}}}if(bn)throw n=Mo,bn=!1,Mo=null,n}function Ze(n,r){var a=r[Dc];a===void 0&&(a=r[Dc]=new Set);var c=n+"__bubble";a.has(c)||($f(r,n,2,!1),a.add(c))}function kc(n,r,a){var c=0;r&&(c|=4),$f(a,n,c,r)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Zo(n){if(!n[Il]){n[Il]=!0,i.forEach(function(a){a!=="selectionchange"&&(N0.has(a)||kc(a,!1,n),kc(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Il]||(r[Il]=!0,kc("selectionchange",!1,r))}}function $f(n,r,a,c){switch($o(r)){case 1:var d=tt;break;case 4:d=gc;break;default:d=Bo}a=d.bind(null,r,a,n),d=void 0,!Ti||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function Ac(n,r,a,c,d){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var A=w.tag;if((A===3||A===4)&&(A=w.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;w=w.return}for(;I!==null;){if(w=Gs(I),w===null)return;if(A=w.tag,A===5||A===6){c=m=w;continue e}I=I.parentNode}}c=c.return}Vo(function(){var z=m,K=wi(a),Y=[];e:{var G=Ff.get(n);if(G!==void 0){var ie=ji,ue=n;switch(n){case"keypress":if(Di(a)===0)break e;case"keydown":case"keyup":ie=f;break;case"focusin":ue="focus",ie=Li;break;case"focusout":ue="blur",ie=Li;break;case"beforeblur":case"afterblur":ie=Li;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=pl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=B;break;case Vf:case Mf:case Of:ie=Tr;break;case Lf:ie=We;break;case"scroll":ie=yc;break;case"wheel":ie=Le;break;case"copy":case"cut":case"paste":ie=yl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=x}var ce=(r&4)!==0,ht=!ce&&n==="scroll",F=ce?G!==null?G+"Capture":null:G;ce=[];for(var b=z,U;b!==null;){U=b;var Z=U.stateNode;if(U.tag===5&&Z!==null&&(U=Z,F!==null&&(Z=ct(b,F),Z!=null&&ce.push(ea(b,Z,U)))),ht)break;b=b.return}0<ce.length&&(G=new ie(G,ue,null,a,K),Y.push({event:G,listeners:ce}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",G&&a!==js&&(ue=a.relatedTarget||a.fromElement)&&(Gs(ue)||ue[Ir]))break e;if((ie||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,ie?(ue=a.relatedTarget||a.toElement,ie=z,ue=ue?Gs(ue):null,ue!==null&&(ht=Dn(ue),ue!==ht||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ie=null,ue=z),ie!==ue)){if(ce=Mi,Z="onMouseLeave",F="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(ce=x,Z="onPointerLeave",F="onPointerEnter",b="pointer"),ht=ie==null?G:qi(ie),U=ue==null?G:qi(ue),G=new ce(Z,b+"leave",ie,a,K),G.target=ht,G.relatedTarget=U,Z=null,Gs(K)===z&&(ce=new ce(F,b+"enter",ue,a,K),ce.target=U,ce.relatedTarget=ht,Z=ce),ht=Z,ie&&ue)t:{for(ce=ie,F=ue,b=0,U=ce;U;U=Hi(U))b++;for(U=0,Z=F;Z;Z=Hi(Z))U++;for(;0<b-U;)ce=Hi(ce),b--;for(;0<U-b;)F=Hi(F),U--;for(;b--;){if(ce===F||F!==null&&ce===F.alternate)break t;ce=Hi(ce),F=Hi(F)}ce=null}else ce=null;ie!==null&&Hf(Y,G,ie,ce,!1),ue!==null&&ht!==null&&Hf(Y,ht,ue,ce,!0)}}e:{if(G=z?qi(z):window,ie=G.nodeName&&G.nodeName.toLowerCase(),ie==="select"||ie==="input"&&G.type==="file")var fe=w0;else if(Tf(G))if(Sf)fe=I0;else{fe=E0;var we=x0}else(ie=G.nodeName)&&ie.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(fe=T0);if(fe&&(fe=fe(n,z))){If(Y,fe,a,K);break e}we&&we(n,G,z),n==="focusout"&&(we=G._wrapperState)&&we.controlled&&G.type==="number"&&Wr(G,"number",G.value)}switch(we=z?qi(z):window,n){case"focusin":(Tf(we)||we.contentEditable==="true")&&(Bi=we,xc=z,Yo=null);break;case"focusout":Yo=xc=Bi=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,Df(Y,a,K);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":Df(Y,a,K)}var xe;if(mt)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else zi?xf(n,a)&&(Ie="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(qs&&a.locale!=="ko"&&(zi||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&zi&&(xe=Ho()):(cn=K,bi="value"in cn?cn.value:cn.textContent,zi=!0)),we=Sl(z,Ie),0<we.length&&(Ie=new Go(Ie,n,null,a,K),Y.push({event:Ie,listeners:we}),xe?Ie.data=xe:(xe=Ef(a),xe!==null&&(Ie.data=xe)))),(xe=hn?g0(n,a):y0(n,a))&&(z=Sl(z,"onBeforeInput"),0<z.length&&(K=new Go("onBeforeInput","beforeinput",null,a,K),Y.push({event:K,listeners:z}),K.data=xe))}Bf(Y,r)})}function ea(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Sl(n,r){for(var a=r+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=ct(n,a),m!=null&&c.unshift(ea(n,m,d)),m=ct(n,r),m!=null&&c.push(ea(n,m,d))),n=n.return}return c}function Hi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Hf(n,r,a,c,d){for(var m=r._reactName,w=[];a!==null&&a!==c;){var I=a,A=I.alternate,z=I.stateNode;if(A!==null&&A===c)break;I.tag===5&&z!==null&&(I=z,d?(A=ct(a,m),A!=null&&w.unshift(ea(a,A,I))):d||(A=ct(a,m),A!=null&&w.push(ea(a,A,I)))),a=a.return}w.length!==0&&n.push({event:r,listeners:w})}var P0=/\r\n?/g,b0=/\u0000|\uFFFD/g;function Wf(n){return(typeof n=="string"?n:""+n).replace(P0,`
`).replace(b0,"")}function kl(n,r,a){if(r=Wf(r),Wf(n)!==r&&a)throw Error(t(425))}function Al(){}var Cc=null,Rc=null;function Nc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,qf=typeof Promise=="function"?Promise:void 0,j0=typeof queueMicrotask=="function"?queueMicrotask:typeof qf<"u"?function(n){return qf.resolve(null).then(n).catch(V0)}:Pc;function V0(n){setTimeout(function(){throw n})}function bc(n,r){var a=r,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Ln(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Ln(r)}function ss(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Gf(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}var Wi=Math.random().toString(36).slice(2),rr="__reactFiber$"+Wi,ta="__reactProps$"+Wi,Ir="__reactContainer$"+Wi,Dc="__reactEvents$"+Wi,M0="__reactListeners$"+Wi,O0="__reactHandles$"+Wi;function Gs(n){var r=n[rr];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ir]||a[rr]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Gf(n);n!==null;){if(a=n[rr])return a;n=Gf(n)}return r}n=a,a=n.parentNode}return null}function na(n){return n=n[rr]||n[Ir],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function qi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Cl(n){return n[ta]||null}var jc=[],Gi=-1;function is(n){return{current:n}}function et(n){0>Gi||(n.current=jc[Gi],jc[Gi]=null,Gi--)}function Ye(n,r){Gi++,jc[Gi]=n.current,n.current=r}var os={},Ut=is(os),en=is(!1),Ks=os;function Ki(n,r){var a=n.type.contextTypes;if(!a)return os;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=r[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function tn(n){return n=n.childContextTypes,n!=null}function Rl(){et(en),et(Ut)}function Kf(n,r,a){if(Ut.current!==os)throw Error(t(168));Ye(Ut,r),Ye(en,a)}function Qf(n,r,a){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(t(108,Ue(n)||"Unknown",d));return se({},a,c)}function Nl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||os,Ks=Ut.current,Ye(Ut,n),Ye(en,en.current),!0}function Xf(n,r,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Qf(n,r,Ks),c.__reactInternalMemoizedMergedChildContext=n,et(en),et(Ut),Ye(Ut,n)):et(en),Ye(en,a)}var Sr=null,Pl=!1,Vc=!1;function Yf(n){Sr===null?Sr=[n]:Sr.push(n)}function L0(n){Pl=!0,Yf(n)}function as(){if(!Vc&&Sr!==null){Vc=!0;var n=0,r=Me;try{var a=Sr;for(Me=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Sr=null,Pl=!1}catch(d){throw Sr!==null&&(Sr=Sr.slice(n+1)),Ai(Fs,as),d}finally{Me=r,Vc=!1}}return null}var Qi=[],Xi=0,bl=null,Dl=0,xn=[],En=0,Qs=null,kr=1,Ar="";function Xs(n,r){Qi[Xi++]=Dl,Qi[Xi++]=bl,bl=n,Dl=r}function Jf(n,r,a){xn[En++]=kr,xn[En++]=Ar,xn[En++]=Qs,Qs=n;var c=kr;n=Ar;var d=32-Kt(c)-1;c&=~(1<<d),a+=1;var m=32-Kt(r)+d;if(30<m){var w=d-d%5;m=(c&(1<<w)-1).toString(32),c>>=w,d-=w,kr=1<<32-Kt(r)+d|a<<d|c,Ar=m+n}else kr=1<<m|a<<d|c,Ar=n}function Mc(n){n.return!==null&&(Xs(n,1),Jf(n,1,0))}function Oc(n){for(;n===bl;)bl=Qi[--Xi],Qi[Xi]=null,Dl=Qi[--Xi],Qi[Xi]=null;for(;n===Qs;)Qs=xn[--En],xn[En]=null,Ar=xn[--En],xn[En]=null,kr=xn[--En],xn[En]=null}var dn=null,fn=null,nt=!1,zn=null;function Zf(n,r){var a=kn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=n,r=n.deletions,r===null?(n.deletions=[a],n.flags|=16):r.push(a)}function ep(n,r){switch(n.tag){case 5:var a=n.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,dn=n,fn=ss(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,dn=n,fn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Qs!==null?{id:kr,overflow:Ar}:null,n.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=kn(18,null,null,0),a.stateNode=r,a.return=n,n.child=a,dn=n,fn=null,!0):!1;default:return!1}}function Lc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Fc(n){if(nt){var r=fn;if(r){var a=r;if(!ep(n,r)){if(Lc(n))throw Error(t(418));r=ss(a.nextSibling);var c=dn;r&&ep(n,r)?Zf(c,a):(n.flags=n.flags&-4097|2,nt=!1,dn=n)}}else{if(Lc(n))throw Error(t(418));n.flags=n.flags&-4097|2,nt=!1,dn=n}}}function tp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;dn=n}function jl(n){if(n!==dn)return!1;if(!nt)return tp(n),nt=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Nc(n.type,n.memoizedProps)),r&&(r=fn)){if(Lc(n))throw np(),Error(t(418));for(;r;)Zf(n,r),r=ss(r.nextSibling)}if(tp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(r===0){fn=ss(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}n=n.nextSibling}fn=null}}else fn=dn?ss(n.stateNode.nextSibling):null;return!0}function np(){for(var n=fn;n;)n=ss(n.nextSibling)}function Yi(){fn=dn=null,nt=!1}function Uc(n){zn===null?zn=[n]:zn.push(n)}var F0=me.ReactCurrentBatchConfig;function ra(n,r,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(w){var I=d.refs;w===null?delete I[m]:I[m]=w},r._stringRef=m,r)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Vl(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function rp(n){var r=n._init;return r(n._payload)}function sp(n){function r(F,b){if(n){var U=F.deletions;U===null?(F.deletions=[b],F.flags|=16):U.push(b)}}function a(F,b){if(!n)return null;for(;b!==null;)r(F,b),b=b.sibling;return null}function c(F,b){for(F=new Map;b!==null;)b.key!==null?F.set(b.key,b):F.set(b.index,b),b=b.sibling;return F}function d(F,b){return F=ms(F,b),F.index=0,F.sibling=null,F}function m(F,b,U){return F.index=U,n?(U=F.alternate,U!==null?(U=U.index,U<b?(F.flags|=2,b):U):(F.flags|=2,b)):(F.flags|=1048576,b)}function w(F){return n&&F.alternate===null&&(F.flags|=2),F}function I(F,b,U,Z){return b===null||b.tag!==6?(b=Ph(U,F.mode,Z),b.return=F,b):(b=d(b,U),b.return=F,b)}function A(F,b,U,Z){var fe=U.type;return fe===R?K(F,b,U.props.children,Z,U.key):b!==null&&(b.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===kt&&rp(fe)===b.type)?(Z=d(b,U.props),Z.ref=ra(F,b,U),Z.return=F,Z):(Z=iu(U.type,U.key,U.props,null,F.mode,Z),Z.ref=ra(F,b,U),Z.return=F,Z)}function z(F,b,U,Z){return b===null||b.tag!==4||b.stateNode.containerInfo!==U.containerInfo||b.stateNode.implementation!==U.implementation?(b=bh(U,F.mode,Z),b.return=F,b):(b=d(b,U.children||[]),b.return=F,b)}function K(F,b,U,Z,fe){return b===null||b.tag!==7?(b=si(U,F.mode,Z,fe),b.return=F,b):(b=d(b,U),b.return=F,b)}function Y(F,b,U){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ph(""+b,F.mode,U),b.return=F,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _e:return U=iu(b.type,b.key,b.props,null,F.mode,U),U.ref=ra(F,null,b),U.return=F,U;case oe:return b=bh(b,F.mode,U),b.return=F,b;case kt:var Z=b._init;return Y(F,Z(b._payload),U)}if(Rn(b)||ge(b))return b=si(b,F.mode,U,null),b.return=F,b;Vl(F,b)}return null}function G(F,b,U,Z){var fe=b!==null?b.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return fe!==null?null:I(F,b,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _e:return U.key===fe?A(F,b,U,Z):null;case oe:return U.key===fe?z(F,b,U,Z):null;case kt:return fe=U._init,G(F,b,fe(U._payload),Z)}if(Rn(U)||ge(U))return fe!==null?null:K(F,b,U,Z,null);Vl(F,U)}return null}function ie(F,b,U,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(U)||null,I(b,F,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _e:return F=F.get(Z.key===null?U:Z.key)||null,A(b,F,Z,fe);case oe:return F=F.get(Z.key===null?U:Z.key)||null,z(b,F,Z,fe);case kt:var we=Z._init;return ie(F,b,U,we(Z._payload),fe)}if(Rn(Z)||ge(Z))return F=F.get(U)||null,K(b,F,Z,fe,null);Vl(b,Z)}return null}function ue(F,b,U,Z){for(var fe=null,we=null,xe=b,Ie=b=0,Nt=null;xe!==null&&Ie<U.length;Ie++){xe.index>Ie?(Nt=xe,xe=null):Nt=xe.sibling;var Be=G(F,xe,U[Ie],Z);if(Be===null){xe===null&&(xe=Nt);break}n&&xe&&Be.alternate===null&&r(F,xe),b=m(Be,b,Ie),we===null?fe=Be:we.sibling=Be,we=Be,xe=Nt}if(Ie===U.length)return a(F,xe),nt&&Xs(F,Ie),fe;if(xe===null){for(;Ie<U.length;Ie++)xe=Y(F,U[Ie],Z),xe!==null&&(b=m(xe,b,Ie),we===null?fe=xe:we.sibling=xe,we=xe);return nt&&Xs(F,Ie),fe}for(xe=c(F,xe);Ie<U.length;Ie++)Nt=ie(xe,F,Ie,U[Ie],Z),Nt!==null&&(n&&Nt.alternate!==null&&xe.delete(Nt.key===null?Ie:Nt.key),b=m(Nt,b,Ie),we===null?fe=Nt:we.sibling=Nt,we=Nt);return n&&xe.forEach(function(gs){return r(F,gs)}),nt&&Xs(F,Ie),fe}function ce(F,b,U,Z){var fe=ge(U);if(typeof fe!="function")throw Error(t(150));if(U=fe.call(U),U==null)throw Error(t(151));for(var we=fe=null,xe=b,Ie=b=0,Nt=null,Be=U.next();xe!==null&&!Be.done;Ie++,Be=U.next()){xe.index>Ie?(Nt=xe,xe=null):Nt=xe.sibling;var gs=G(F,xe,Be.value,Z);if(gs===null){xe===null&&(xe=Nt);break}n&&xe&&gs.alternate===null&&r(F,xe),b=m(gs,b,Ie),we===null?fe=gs:we.sibling=gs,we=gs,xe=Nt}if(Be.done)return a(F,xe),nt&&Xs(F,Ie),fe;if(xe===null){for(;!Be.done;Ie++,Be=U.next())Be=Y(F,Be.value,Z),Be!==null&&(b=m(Be,b,Ie),we===null?fe=Be:we.sibling=Be,we=Be);return nt&&Xs(F,Ie),fe}for(xe=c(F,xe);!Be.done;Ie++,Be=U.next())Be=ie(xe,F,Ie,Be.value,Z),Be!==null&&(n&&Be.alternate!==null&&xe.delete(Be.key===null?Ie:Be.key),b=m(Be,b,Ie),we===null?fe=Be:we.sibling=Be,we=Be);return n&&xe.forEach(function(v_){return r(F,v_)}),nt&&Xs(F,Ie),fe}function ht(F,b,U,Z){if(typeof U=="object"&&U!==null&&U.type===R&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case _e:e:{for(var fe=U.key,we=b;we!==null;){if(we.key===fe){if(fe=U.type,fe===R){if(we.tag===7){a(F,we.sibling),b=d(we,U.props.children),b.return=F,F=b;break e}}else if(we.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===kt&&rp(fe)===we.type){a(F,we.sibling),b=d(we,U.props),b.ref=ra(F,we,U),b.return=F,F=b;break e}a(F,we);break}else r(F,we);we=we.sibling}U.type===R?(b=si(U.props.children,F.mode,Z,U.key),b.return=F,F=b):(Z=iu(U.type,U.key,U.props,null,F.mode,Z),Z.ref=ra(F,b,U),Z.return=F,F=Z)}return w(F);case oe:e:{for(we=U.key;b!==null;){if(b.key===we)if(b.tag===4&&b.stateNode.containerInfo===U.containerInfo&&b.stateNode.implementation===U.implementation){a(F,b.sibling),b=d(b,U.children||[]),b.return=F,F=b;break e}else{a(F,b);break}else r(F,b);b=b.sibling}b=bh(U,F.mode,Z),b.return=F,F=b}return w(F);case kt:return we=U._init,ht(F,b,we(U._payload),Z)}if(Rn(U))return ue(F,b,U,Z);if(ge(U))return ce(F,b,U,Z);Vl(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,b!==null&&b.tag===6?(a(F,b.sibling),b=d(b,U),b.return=F,F=b):(a(F,b),b=Ph(U,F.mode,Z),b.return=F,F=b),w(F)):a(F,b)}return ht}var Ji=sp(!0),ip=sp(!1),Ml=is(null),Ol=null,Zi=null,zc=null;function Bc(){zc=Zi=Ol=null}function $c(n){var r=Ml.current;et(Ml),n._currentValue=r}function Hc(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function eo(n,r){Ol=n,zc=Zi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(nn=!0),n.firstContext=null)}function Tn(n){var r=n._currentValue;if(zc!==n)if(n={context:n,memoizedValue:r,next:null},Zi===null){if(Ol===null)throw Error(t(308));Zi=n,Ol.dependencies={lanes:0,firstContext:n}}else Zi=Zi.next=n;return r}var Ys=null;function Wc(n){Ys===null?Ys=[n]:Ys.push(n)}function op(n,r,a,c){var d=r.interleaved;return d===null?(a.next=a,Wc(r)):(a.next=d.next,d.next=a),r.interleaved=a,Cr(n,c)}function Cr(n,r){n.lanes|=r;var a=n.alternate;for(a!==null&&(a.lanes|=r),a=n,n=n.return;n!==null;)n.childLanes|=r,a=n.alternate,a!==null&&(a.childLanes|=r),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ls=!1;function qc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ap(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Rr(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function us(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ze&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,Cr(n,a)}return d=c.interleaved,d===null?(r.next=r,Wc(c)):(r.next=d.next,d.next=r),c.interleaved=r,Cr(n,a)}function Ll(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Jr(n,a)}}function lp(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?d=m=r:m=m.next=r}else d=m=r;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}function Fl(n,r,a,c){var d=n.updateQueue;ls=!1;var m=d.firstBaseUpdate,w=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var A=I,z=A.next;A.next=null,w===null?m=z:w.next=z,w=A;var K=n.alternate;K!==null&&(K=K.updateQueue,I=K.lastBaseUpdate,I!==w&&(I===null?K.firstBaseUpdate=z:I.next=z,K.lastBaseUpdate=A))}if(m!==null){var Y=d.baseState;w=0,K=z=A=null,I=m;do{var G=I.lane,ie=I.eventTime;if((c&G)===G){K!==null&&(K=K.next={eventTime:ie,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ue=n,ce=I;switch(G=r,ie=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Y=ue.call(ie,Y,G);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,G=typeof ue=="function"?ue.call(ie,Y,G):ue,G==null)break e;Y=se({},Y,G);break e;case 2:ls=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,G=d.effects,G===null?d.effects=[I]:G.push(I))}else ie={eventTime:ie,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},K===null?(z=K=ie,A=Y):K=K.next=ie,w|=G;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;G=I,I=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(K===null&&(A=Y),d.baseState=A,d.firstBaseUpdate=z,d.lastBaseUpdate=K,r=d.shared.interleaved,r!==null){d=r;do w|=d.lane,d=d.next;while(d!==r)}else m===null&&(d.shared.lanes=0);ei|=w,n.lanes=w,n.memoizedState=Y}}function up(n,r,a){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var sa={},sr=is(sa),ia=is(sa),oa=is(sa);function Js(n){if(n===sa)throw Error(t(174));return n}function Gc(n,r){switch(Ye(oa,r),Ye(ia,n),Ye(sr,sa),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:re(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=re(r,n)}et(sr),Ye(sr,r)}function to(){et(sr),et(ia),et(oa)}function cp(n){Js(oa.current);var r=Js(sr.current),a=re(r,n.type);r!==a&&(Ye(ia,n),Ye(sr,a))}function Kc(n){ia.current===n&&(et(sr),et(ia))}var it=is(0);function Ul(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Qc=[];function Xc(){for(var n=0;n<Qc.length;n++)Qc[n]._workInProgressVersionPrimary=null;Qc.length=0}var zl=me.ReactCurrentDispatcher,Yc=me.ReactCurrentBatchConfig,Zs=0,ot=null,Et=null,Ct=null,Bl=!1,aa=!1,la=0,U0=0;function zt(){throw Error(t(321))}function Jc(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Un(n[a],r[a]))return!1;return!0}function Zc(n,r,a,c,d,m){if(Zs=m,ot=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,zl.current=n===null||n.memoizedState===null?H0:W0,n=a(c,d),aa){m=0;do{if(aa=!1,la=0,25<=m)throw Error(t(301));m+=1,Ct=Et=null,r.updateQueue=null,zl.current=q0,n=a(c,d)}while(aa)}if(zl.current=Wl,r=Et!==null&&Et.next!==null,Zs=0,Ct=Et=ot=null,Bl=!1,r)throw Error(t(300));return n}function eh(){var n=la!==0;return la=0,n}function ir(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ot.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function In(){if(Et===null){var n=ot.alternate;n=n!==null?n.memoizedState:null}else n=Et.next;var r=Ct===null?ot.memoizedState:Ct.next;if(r!==null)Ct=r,Et=n;else{if(n===null)throw Error(t(310));Et=n,n={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ct===null?ot.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function ua(n,r){return typeof r=="function"?r(n):r}function th(n){var r=In(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=Et,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var w=d.next;d.next=m.next,m.next=w}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var I=w=null,A=null,z=m;do{var K=z.lane;if((Zs&K)===K)A!==null&&(A=A.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:n(c,z.action);else{var Y={lane:K,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};A===null?(I=A=Y,w=c):A=A.next=Y,ot.lanes|=K,ei|=K}z=z.next}while(z!==null&&z!==m);A===null?w=c:A.next=I,Un(c,r.memoizedState)||(nn=!0),r.memoizedState=c,r.baseState=w,r.baseQueue=A,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,ot.lanes|=m,ei|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function nh(n){var r=In(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=r.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do m=n(m,w.action),w=w.next;while(w!==d);Un(m,r.memoizedState)||(nn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,c]}function hp(){}function dp(n,r){var a=ot,c=In(),d=r(),m=!Un(c.memoizedState,d);if(m&&(c.memoizedState=d,nn=!0),c=c.queue,rh(mp.bind(null,a,c,n),[n]),c.getSnapshot!==r||m||Ct!==null&&Ct.memoizedState.tag&1){if(a.flags|=2048,ca(9,pp.bind(null,a,c,d,r),void 0,null),Rt===null)throw Error(t(349));(Zs&30)!==0||fp(a,r,d)}return d}function fp(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=ot.updateQueue,r===null?(r={lastEffect:null,stores:null},ot.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function pp(n,r,a,c){r.value=a,r.getSnapshot=c,gp(r)&&yp(n)}function mp(n,r,a){return a(function(){gp(r)&&yp(n)})}function gp(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Un(n,a)}catch{return!0}}function yp(n){var r=Cr(n,1);r!==null&&Wn(r,n,1,-1)}function vp(n){var r=ir();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:n},r.queue=n,n=n.dispatch=$0.bind(null,ot,n),[r.memoizedState,n]}function ca(n,r,a,c){return n={tag:n,create:r,destroy:a,deps:c,next:null},r=ot.updateQueue,r===null?(r={lastEffect:null,stores:null},ot.updateQueue=r,r.lastEffect=n.next=n):(a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n)),n}function _p(){return In().memoizedState}function $l(n,r,a,c){var d=ir();ot.flags|=n,d.memoizedState=ca(1|r,a,void 0,c===void 0?null:c)}function Hl(n,r,a,c){var d=In();c=c===void 0?null:c;var m=void 0;if(Et!==null){var w=Et.memoizedState;if(m=w.destroy,c!==null&&Jc(c,w.deps)){d.memoizedState=ca(r,a,m,c);return}}ot.flags|=n,d.memoizedState=ca(1|r,a,m,c)}function wp(n,r){return $l(8390656,8,n,r)}function rh(n,r){return Hl(2048,8,n,r)}function xp(n,r){return Hl(4,2,n,r)}function Ep(n,r){return Hl(4,4,n,r)}function Tp(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ip(n,r,a){return a=a!=null?a.concat([n]):null,Hl(4,4,Tp.bind(null,r,n),a)}function sh(){}function Sp(n,r){var a=In();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Jc(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function kp(n,r){var a=In();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Jc(r,c[1])?c[0]:(n=n(),a.memoizedState=[n,r],n)}function Ap(n,r,a){return(Zs&21)===0?(n.baseState&&(n.baseState=!1,nn=!0),n.memoizedState=a):(Un(a,r)||(a=Bs(),ot.lanes|=a,ei|=a,n.baseState=!0),r)}function z0(n,r){var a=Me;Me=a!==0&&4>a?a:4,n(!0);var c=Yc.transition;Yc.transition={};try{n(!1),r()}finally{Me=a,Yc.transition=c}}function Cp(){return In().memoizedState}function B0(n,r,a){var c=fs(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Rp(n))Np(r,a);else if(a=op(n,r,a,c),a!==null){var d=Yt();Wn(a,n,c,d),Pp(a,r,c)}}function $0(n,r,a){var c=fs(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rp(n))Np(r,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var w=r.lastRenderedState,I=m(w,a);if(d.hasEagerState=!0,d.eagerState=I,Un(I,w)){var A=r.interleaved;A===null?(d.next=d,Wc(r)):(d.next=A.next,A.next=d),r.interleaved=d;return}}catch{}a=op(n,r,d,c),a!==null&&(d=Yt(),Wn(a,n,c,d),Pp(a,r,c))}}function Rp(n){var r=n.alternate;return n===ot||r!==null&&r===ot}function Np(n,r){aa=Bl=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Pp(n,r,a){if((a&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Jr(n,a)}}var Wl={readContext:Tn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},H0={readContext:Tn,useCallback:function(n,r){return ir().memoizedState=[n,r===void 0?null:r],n},useContext:Tn,useEffect:wp,useImperativeHandle:function(n,r,a){return a=a!=null?a.concat([n]):null,$l(4194308,4,Tp.bind(null,r,n),a)},useLayoutEffect:function(n,r){return $l(4194308,4,n,r)},useInsertionEffect:function(n,r){return $l(4,2,n,r)},useMemo:function(n,r){var a=ir();return r=r===void 0?null:r,n=n(),a.memoizedState=[n,r],n},useReducer:function(n,r,a){var c=ir();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=B0.bind(null,ot,n),[c.memoizedState,n]},useRef:function(n){var r=ir();return n={current:n},r.memoizedState=n},useState:vp,useDebugValue:sh,useDeferredValue:function(n){return ir().memoizedState=n},useTransition:function(){var n=vp(!1),r=n[0];return n=z0.bind(null,n[1]),ir().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,a){var c=ot,d=ir();if(nt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=r(),Rt===null)throw Error(t(349));(Zs&30)!==0||fp(c,r,a)}d.memoizedState=a;var m={value:a,getSnapshot:r};return d.queue=m,wp(mp.bind(null,c,m,n),[n]),c.flags|=2048,ca(9,pp.bind(null,c,m,a,r),void 0,null),a},useId:function(){var n=ir(),r=Rt.identifierPrefix;if(nt){var a=Ar,c=kr;a=(c&~(1<<32-Kt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=la++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=U0++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},W0={readContext:Tn,useCallback:Sp,useContext:Tn,useEffect:rh,useImperativeHandle:Ip,useInsertionEffect:xp,useLayoutEffect:Ep,useMemo:kp,useReducer:th,useRef:_p,useState:function(){return th(ua)},useDebugValue:sh,useDeferredValue:function(n){var r=In();return Ap(r,Et.memoizedState,n)},useTransition:function(){var n=th(ua)[0],r=In().memoizedState;return[n,r]},useMutableSource:hp,useSyncExternalStore:dp,useId:Cp,unstable_isNewReconciler:!1},q0={readContext:Tn,useCallback:Sp,useContext:Tn,useEffect:rh,useImperativeHandle:Ip,useInsertionEffect:xp,useLayoutEffect:Ep,useMemo:kp,useReducer:nh,useRef:_p,useState:function(){return nh(ua)},useDebugValue:sh,useDeferredValue:function(n){var r=In();return Et===null?r.memoizedState=n:Ap(r,Et.memoizedState,n)},useTransition:function(){var n=nh(ua)[0],r=In().memoizedState;return[n,r]},useMutableSource:hp,useSyncExternalStore:dp,useId:Cp,unstable_isNewReconciler:!1};function Bn(n,r){if(n&&n.defaultProps){r=se({},r),n=n.defaultProps;for(var a in n)r[a]===void 0&&(r[a]=n[a]);return r}return r}function ih(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:se({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ql={isMounted:function(n){return(n=n._reactInternals)?Dn(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var c=Yt(),d=fs(n),m=Rr(c,d);m.payload=r,a!=null&&(m.callback=a),r=us(n,m,d),r!==null&&(Wn(r,n,d,c),Ll(r,n,d))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=Yt(),d=fs(n),m=Rr(c,d);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=us(n,m,d),r!==null&&(Wn(r,n,d,c),Ll(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Yt(),c=fs(n),d=Rr(a,c);d.tag=2,r!=null&&(d.callback=r),r=us(n,d,c),r!==null&&(Wn(r,n,c,a),Ll(r,n,c))}};function bp(n,r,a,c,d,m,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,w):r.prototype&&r.prototype.isPureReactComponent?!Xo(a,c)||!Xo(d,m):!0}function Dp(n,r,a){var c=!1,d=os,m=r.contextType;return typeof m=="object"&&m!==null?m=Tn(m):(d=tn(r)?Ks:Ut.current,c=r.contextTypes,m=(c=c!=null)?Ki(n,d):os),r=new r(a,m),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ql,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),r}function jp(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&ql.enqueueReplaceState(r,r.state,null)}function oh(n,r,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},qc(n);var m=r.contextType;typeof m=="object"&&m!==null?d.context=Tn(m):(m=tn(r)?Ks:Ut.current,d.context=Ki(n,m)),d.state=n.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(ih(n,r,m,a),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&ql.enqueueReplaceState(d,d.state,null),Fl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function no(n,r){try{var a="",c=r;do a+=Pe(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:r,stack:d,digest:null}}function ah(n,r,a){return{value:n,source:null,stack:a??null,digest:r??null}}function lh(n,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var G0=typeof WeakMap=="function"?WeakMap:Map;function Vp(n,r,a){a=Rr(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Zl||(Zl=!0,Th=c),lh(n,r)},a}function Mp(n,r,a){a=Rr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;a.payload=function(){return c(d)},a.callback=function(){lh(n,r)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){lh(n,r),typeof c!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),a}function Op(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new G0;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(a)||(d.add(a),n=a_.bind(null,n,r,a),r.then(n,n))}function Lp(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Fp(n,r,a,c,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Rr(-1,1),r.tag=2,us(a,r,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var K0=me.ReactCurrentOwner,nn=!1;function Xt(n,r,a,c){r.child=n===null?ip(r,null,a,c):Ji(r,n.child,a,c)}function Up(n,r,a,c,d){a=a.render;var m=r.ref;return eo(r,d),c=Zc(n,r,a,c,m,d),a=eh(),n!==null&&!nn?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,Nr(n,r,d)):(nt&&a&&Mc(r),r.flags|=1,Xt(n,r,c,d),r.child)}function zp(n,r,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!Nh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=m,Bp(n,r,m,c,d)):(n=iu(a.type,null,c,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,(n.lanes&d)===0){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(w,c)&&n.ref===r.ref)return Nr(n,r,d)}return r.flags|=1,n=ms(m,c),n.ref=r.ref,n.return=r,r.child=n}function Bp(n,r,a,c,d){if(n!==null){var m=n.memoizedProps;if(Xo(m,c)&&n.ref===r.ref)if(nn=!1,r.pendingProps=c=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(nn=!0);else return r.lanes=n.lanes,Nr(n,r,d)}return uh(n,r,a,c,d)}function $p(n,r,a){var c=r.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(so,pn),pn|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Ye(so,pn),pn|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ye(so,pn),pn|=c}else m!==null?(c=m.baseLanes|a,r.memoizedState=null):c=a,Ye(so,pn),pn|=c;return Xt(n,r,d,a),r.child}function Hp(n,r){var a=r.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function uh(n,r,a,c,d){var m=tn(a)?Ks:Ut.current;return m=Ki(r,m),eo(r,d),a=Zc(n,r,a,c,m,d),c=eh(),n!==null&&!nn?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,Nr(n,r,d)):(nt&&c&&Mc(r),r.flags|=1,Xt(n,r,a,d),r.child)}function Wp(n,r,a,c,d){if(tn(a)){var m=!0;Nl(r)}else m=!1;if(eo(r,d),r.stateNode===null)Kl(n,r),Dp(r,a,c),oh(r,a,c,d),c=!0;else if(n===null){var w=r.stateNode,I=r.memoizedProps;w.props=I;var A=w.context,z=a.contextType;typeof z=="object"&&z!==null?z=Tn(z):(z=tn(a)?Ks:Ut.current,z=Ki(r,z));var K=a.getDerivedStateFromProps,Y=typeof K=="function"||typeof w.getSnapshotBeforeUpdate=="function";Y||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==c||A!==z)&&jp(r,w,c,z),ls=!1;var G=r.memoizedState;w.state=G,Fl(r,c,w,d),A=r.memoizedState,I!==c||G!==A||en.current||ls?(typeof K=="function"&&(ih(r,a,K,c),A=r.memoizedState),(I=ls||bp(r,a,I,c,G,A,z))?(Y||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=A),w.props=c,w.state=A,w.context=z,c=I):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{w=r.stateNode,ap(n,r),I=r.memoizedProps,z=r.type===r.elementType?I:Bn(r.type,I),w.props=z,Y=r.pendingProps,G=w.context,A=a.contextType,typeof A=="object"&&A!==null?A=Tn(A):(A=tn(a)?Ks:Ut.current,A=Ki(r,A));var ie=a.getDerivedStateFromProps;(K=typeof ie=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==Y||G!==A)&&jp(r,w,c,A),ls=!1,G=r.memoizedState,w.state=G,Fl(r,c,w,d);var ue=r.memoizedState;I!==Y||G!==ue||en.current||ls?(typeof ie=="function"&&(ih(r,a,ie,c),ue=r.memoizedState),(z=ls||bp(r,a,z,c,G,ue,A)||!1)?(K||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ue,A),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ue,A)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ue),w.props=c,w.state=ue,w.context=A,c=z):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),c=!1)}return ch(n,r,a,c,m,d)}function ch(n,r,a,c,d,m){Hp(n,r);var w=(r.flags&128)!==0;if(!c&&!w)return d&&Xf(r,a,!1),Nr(n,r,m);c=r.stateNode,K0.current=r;var I=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&w?(r.child=Ji(r,n.child,null,m),r.child=Ji(r,null,I,m)):Xt(n,r,I,m),r.memoizedState=c.state,d&&Xf(r,a,!0),r.child}function qp(n){var r=n.stateNode;r.pendingContext?Kf(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Kf(n,r.context,!1),Gc(n,r.containerInfo)}function Gp(n,r,a,c,d){return Yi(),Uc(d),r.flags|=256,Xt(n,r,a,c),r.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function dh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Kp(n,r,a){var c=r.pendingProps,d=it.current,m=!1,w=(r.flags&128)!==0,I;if((I=w)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(m=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ye(it,d&1),n===null)return Fc(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(w=c.children,n=c.fallback,m?(c=r.mode,m=r.child,w={mode:"hidden",children:w},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=ou(w,c,0,null),n=si(n,c,a,null),m.return=r,n.return=r,m.sibling=n,r.child=m,r.child.memoizedState=dh(a),r.memoizedState=hh,n):fh(r,w));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return Q0(n,r,w,c,I,d,a);if(m){m=c.fallback,w=r.mode,d=n.child,I=d.sibling;var A={mode:"hidden",children:c.children};return(w&1)===0&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=A,r.deletions=null):(c=ms(d,A),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?m=ms(I,m):(m=si(m,w,a,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,w=n.child.memoizedState,w=w===null?dh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=n.childLanes&~a,r.memoizedState=hh,c}return m=n.child,n=m.sibling,c=ms(m,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=a),c.return=r,c.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=c,r.memoizedState=null,c}function fh(n,r){return r=ou({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Gl(n,r,a,c){return c!==null&&Uc(c),Ji(r,n.child,null,a),n=fh(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Q0(n,r,a,c,d,m,w){if(a)return r.flags&256?(r.flags&=-257,c=ah(Error(t(422))),Gl(n,r,w,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(m=c.fallback,d=r.mode,c=ou({mode:"visible",children:c.children},d,0,null),m=si(m,d,w,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,(r.mode&1)!==0&&Ji(r,n.child,null,w),r.child.memoizedState=dh(w),r.memoizedState=hh,m);if((r.mode&1)===0)return Gl(n,r,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(t(419)),c=ah(m,c,void 0),Gl(n,r,w,c)}if(I=(w&n.childLanes)!==0,nn||I){if(c=Rt,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|w))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Cr(n,d),Wn(c,n,d,-1))}return Rh(),c=ah(Error(t(421))),Gl(n,r,w,c)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=l_.bind(null,n),d._reactRetry=r,null):(n=m.treeContext,fn=ss(d.nextSibling),dn=r,nt=!0,zn=null,n!==null&&(xn[En++]=kr,xn[En++]=Ar,xn[En++]=Qs,kr=n.id,Ar=n.overflow,Qs=r),r=fh(r,c.children),r.flags|=4096,r)}function Qp(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Hc(n.return,r,a)}function ph(n,r,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Xp(n,r,a){var c=r.pendingProps,d=c.revealOrder,m=c.tail;if(Xt(n,r,c.children,a),c=it.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qp(n,a,r);else if(n.tag===19)Qp(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ye(it,c),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&Ul(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),ph(r,!1,d,a,m);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Ul(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}ph(r,!0,a,null,m);break;case"together":ph(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Kl(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Nr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ei|=r.lanes,(a&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,a=ms(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ms(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function X0(n,r,a){switch(r.tag){case 3:qp(r),Yi();break;case 5:cp(r);break;case 1:tn(r.type)&&Nl(r);break;case 4:Gc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;Ye(Ml,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Ye(it,it.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?Kp(n,r,a):(Ye(it,it.current&1),n=Nr(n,r,a),n!==null?n.sibling:null);Ye(it,it.current&1);break;case 19:if(c=(a&r.childLanes)!==0,(n.flags&128)!==0){if(c)return Xp(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(it,it.current),c)break;return null;case 22:case 23:return r.lanes=0,$p(n,r,a)}return Nr(n,r,a)}var Yp,mh,Jp,Zp;Yp=function(n,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},mh=function(){},Jp=function(n,r,a,c){var d=n.memoizedProps;if(d!==c){n=r.stateNode,Js(sr.current);var m=null;switch(a){case"input":d=gr(n,d),c=gr(n,c),m=[];break;case"select":d=se({},d,{value:void 0}),c=se({},c,{value:void 0}),m=[];break;case"textarea":d=bs(n,d),c=bs(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Al)}yr(a,c);var w;a=null;for(z in d)if(!c.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var I=d[z];for(w in I)I.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?m||(m=[]):(m=m||[]).push(z,null));for(z in c){var A=c[z];if(I=d?.[z],c.hasOwnProperty(z)&&A!==I&&(A!=null||I!=null))if(z==="style")if(I){for(w in I)!I.hasOwnProperty(w)||A&&A.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in A)A.hasOwnProperty(w)&&I[w]!==A[w]&&(a||(a={}),a[w]=A[w])}else a||(m||(m=[]),m.push(z,a)),a=A;else z==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,I=I?I.__html:void 0,A!=null&&I!==A&&(m=m||[]).push(z,A)):z==="children"?typeof A!="string"&&typeof A!="number"||(m=m||[]).push(z,""+A):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(A!=null&&z==="onScroll"&&Ze("scroll",n),m||I===A||(m=[])):(m=m||[]).push(z,A))}a&&(m=m||[]).push("style",a);var z=m;(r.updateQueue=z)&&(r.flags|=4)}},Zp=function(n,r,a,c){a!==c&&(r.flags|=4)};function ha(n,r){if(!nt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Bt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function Y0(n,r,a){var c=r.pendingProps;switch(Oc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(r),null;case 1:return tn(r.type)&&Rl(),Bt(r),null;case 3:return c=r.stateNode,to(),et(en),et(Ut),Xc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(jl(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,zn!==null&&(kh(zn),zn=null))),mh(n,r),Bt(r),null;case 5:Kc(r);var d=Js(oa.current);if(a=r.type,n!==null&&r.stateNode!=null)Jp(n,r,a,c,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return Bt(r),null}if(n=Js(sr.current),jl(r)){c=r.stateNode,a=r.type;var m=r.memoizedProps;switch(c[rr]=r,c[ta]=m,n=(r.mode&1)!==0,a){case"dialog":Ze("cancel",c),Ze("close",c);break;case"iframe":case"object":case"embed":Ze("load",c);break;case"video":case"audio":for(d=0;d<Jo.length;d++)Ze(Jo[d],c);break;case"source":Ze("error",c);break;case"img":case"image":case"link":Ze("error",c),Ze("load",c);break;case"details":Ze("toggle",c);break;case"input":Hr(c,m),Ze("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ze("invalid",c);break;case"textarea":qr(c,m),Ze("invalid",c)}yr(a,m),d=null;for(var w in m)if(m.hasOwnProperty(w)){var I=m[w];w==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&kl(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&kl(c.textContent,I,n),d=["children",""+I]):o.hasOwnProperty(w)&&I!=null&&w==="onScroll"&&Ze("scroll",c)}switch(a){case"input":Cn(c),vi(c,m,!0);break;case"textarea":Cn(c),ae(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Al)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ne(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=w.createElement(a,{is:c.is}):(n=w.createElement(a),a==="select"&&(w=n,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):n=w.createElementNS(n,a),n[rr]=r,n[ta]=c,Yp(n,r,!1,!1),r.stateNode=n;e:{switch(w=Ds(a,c),a){case"dialog":Ze("cancel",n),Ze("close",n),d=c;break;case"iframe":case"object":case"embed":Ze("load",n),d=c;break;case"video":case"audio":for(d=0;d<Jo.length;d++)Ze(Jo[d],n);d=c;break;case"source":Ze("error",n),d=c;break;case"img":case"image":case"link":Ze("error",n),Ze("load",n),d=c;break;case"details":Ze("toggle",n),d=c;break;case"input":Hr(n,c),d=gr(n,c),Ze("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=se({},c,{value:void 0}),Ze("invalid",n);break;case"textarea":qr(n,c),d=bs(n,c),Ze("invalid",n);break;default:d=c}yr(a,d),I=d;for(m in I)if(I.hasOwnProperty(m)){var A=I[m];m==="style"?gn(n,A):m==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&wt(n,A)):m==="children"?typeof A=="string"?(a!=="textarea"||A!=="")&&lt(n,A):typeof A=="number"&&lt(n,""+A):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?A!=null&&m==="onScroll"&&Ze("scroll",n):A!=null&&pe(n,m,A,w))}switch(a){case"input":Cn(n),vi(n,c,!1);break;case"textarea":Cn(n),ae(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Te(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?Nn(n,!!c.multiple,m,!1):c.defaultValue!=null&&Nn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Al)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Bt(r),null;case 6:if(n&&r.stateNode!=null)Zp(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(a=Js(oa.current),Js(sr.current),jl(r)){if(c=r.stateNode,a=r.memoizedProps,c[rr]=r,(m=c.nodeValue!==a)&&(n=dn,n!==null))switch(n.tag){case 3:kl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&kl(c.nodeValue,a,(n.mode&1)!==0)}m&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[rr]=r,r.stateNode=c}return Bt(r),null;case 13:if(et(it),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nt&&fn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)np(),Yi(),r.flags|=98560,m=!1;else if(m=jl(r),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[rr]=r}else Yi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Bt(r),m=!1}else zn!==null&&(kh(zn),zn=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(it.current&1)!==0?Tt===0&&(Tt=3):Rh())),r.updateQueue!==null&&(r.flags|=4),Bt(r),null);case 4:return to(),mh(n,r),n===null&&Zo(r.stateNode.containerInfo),Bt(r),null;case 10:return $c(r.type._context),Bt(r),null;case 17:return tn(r.type)&&Rl(),Bt(r),null;case 19:if(et(it),m=r.memoizedState,m===null)return Bt(r),null;if(c=(r.flags&128)!==0,w=m.rendering,w===null)if(c)ha(m,!1);else{if(Tt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(w=Ul(n),w!==null){for(r.flags|=128,ha(m,!1),c=w.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)m=a,n=c,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,n=w.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ye(it,it.current&1|2),r.child}n=n.sibling}m.tail!==null&&Xe()>io&&(r.flags|=128,c=!0,ha(m,!1),r.lanes=4194304)}else{if(!c)if(n=Ul(w),n!==null){if(r.flags|=128,c=!0,a=n.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),ha(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!nt)return Bt(r),null}else 2*Xe()-m.renderingStartTime>io&&a!==1073741824&&(r.flags|=128,c=!0,ha(m,!1),r.lanes=4194304);m.isBackwards?(w.sibling=r.child,r.child=w):(a=m.last,a!==null?a.sibling=w:r.child=w,m.last=w)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Xe(),r.sibling=null,a=it.current,Ye(it,c?a&1|2:a&1),r):(Bt(r),null);case 22:case 23:return Ch(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(pn&1073741824)!==0&&(Bt(r),r.subtreeFlags&6&&(r.flags|=8192)):Bt(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function J0(n,r){switch(Oc(r),r.tag){case 1:return tn(r.type)&&Rl(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return to(),et(en),et(Ut),Xc(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Kc(r),null;case 13:if(et(it),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Yi()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return et(it),null;case 4:return to(),null;case 10:return $c(r.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var Ql=!1,$t=!1,Z0=typeof WeakSet=="function"?WeakSet:Set,le=null;function ro(n,r){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ut(n,r,c)}else a.current=null}function gh(n,r,a){try{a()}catch(c){ut(n,r,c)}}var em=!1;function e_(n,r){if(Cc=ts,n=bf(),wc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,I=-1,A=-1,z=0,K=0,Y=n,G=null;t:for(;;){for(var ie;Y!==a||d!==0&&Y.nodeType!==3||(I=w+d),Y!==m||c!==0&&Y.nodeType!==3||(A=w+c),Y.nodeType===3&&(w+=Y.nodeValue.length),(ie=Y.firstChild)!==null;)G=Y,Y=ie;for(;;){if(Y===n)break t;if(G===a&&++z===d&&(I=w),G===m&&++K===c&&(A=w),(ie=Y.nextSibling)!==null)break;Y=G,G=Y.parentNode}Y=ie}a=I===-1||A===-1?null:{start:I,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rc={focusedElem:n,selectionRange:a},ts=!1,le=r;le!==null;)if(r=le,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,le=n;else for(;le!==null;){r=le;try{var ue=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,ht=ue.memoizedState,F=r.stateNode,b=F.getSnapshotBeforeUpdate(r.elementType===r.type?ce:Bn(r.type,ce),ht);F.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){ut(r,r.return,Z)}if(n=r.sibling,n!==null){n.return=r.return,le=n;break}le=r.return}return ue=em,em=!1,ue}function da(n,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&gh(r,a,m)}d=d.next}while(d!==c)}}function Xl(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function yh(n){var r=n.ref;if(r!==null){var a=n.stateNode;n.tag,n=a,typeof r=="function"?r(n):r.current=n}}function tm(n){var r=n.alternate;r!==null&&(n.alternate=null,tm(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[rr],delete r[ta],delete r[Dc],delete r[M0],delete r[O0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function nm(n){return n.tag===5||n.tag===3||n.tag===4}function rm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vh(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Al));else if(c!==4&&(n=n.child,n!==null))for(vh(n,r,a),n=n.sibling;n!==null;)vh(n,r,a),n=n.sibling}function _h(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(_h(n,r,a),n=n.sibling;n!==null;)_h(n,r,a),n=n.sibling}var jt=null,$n=!1;function cs(n,r,a){for(a=a.child;a!==null;)sm(n,r,a),a=a.sibling}function sm(n,r,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Us,a)}catch{}switch(a.tag){case 5:$t||ro(a,r);case 6:var c=jt,d=$n;jt=null,cs(n,r,a),jt=c,$n=d,jt!==null&&($n?(n=jt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):jt.removeChild(a.stateNode));break;case 18:jt!==null&&($n?(n=jt,a=a.stateNode,n.nodeType===8?bc(n.parentNode,a):n.nodeType===1&&bc(n,a),Ln(n)):bc(jt,a.stateNode));break;case 4:c=jt,d=$n,jt=a.stateNode.containerInfo,$n=!0,cs(n,r,a),jt=c,$n=d;break;case 0:case 11:case 14:case 15:if(!$t&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&gh(a,r,w),d=d.next}while(d!==c)}cs(n,r,a);break;case 1:if(!$t&&(ro(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){ut(a,r,I)}cs(n,r,a);break;case 21:cs(n,r,a);break;case 22:a.mode&1?($t=(c=$t)||a.memoizedState!==null,cs(n,r,a),$t=c):cs(n,r,a);break;default:cs(n,r,a)}}function im(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Z0),r.forEach(function(c){var d=u_.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Hn(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,w=r,I=w;e:for(;I!==null;){switch(I.tag){case 5:jt=I.stateNode,$n=!1;break e;case 3:jt=I.stateNode.containerInfo,$n=!0;break e;case 4:jt=I.stateNode.containerInfo,$n=!0;break e}I=I.return}if(jt===null)throw Error(t(160));sm(m,w,d),jt=null,$n=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(z){ut(d,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)om(r,n),r=r.sibling}function om(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Hn(r,n),or(n),c&4){try{da(3,n,n.return),Xl(3,n)}catch(ce){ut(n,n.return,ce)}try{da(5,n,n.return)}catch(ce){ut(n,n.return,ce)}}break;case 1:Hn(r,n),or(n),c&512&&a!==null&&ro(a,a.return);break;case 5:if(Hn(r,n),or(n),c&512&&a!==null&&ro(a,a.return),n.flags&32){var d=n.stateNode;try{lt(d,"")}catch(ce){ut(n,n.return,ce)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,w=a!==null?a.memoizedProps:m,I=n.type,A=n.updateQueue;if(n.updateQueue=null,A!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&Ns(d,m),Ds(I,w);var z=Ds(I,m);for(w=0;w<A.length;w+=2){var K=A[w],Y=A[w+1];K==="style"?gn(d,Y):K==="dangerouslySetInnerHTML"?wt(d,Y):K==="children"?lt(d,Y):pe(d,K,Y,z)}switch(I){case"input":Ps(d,m);break;case"textarea":Gr(d,m);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var ie=m.value;ie!=null?Nn(d,!!m.multiple,ie,!1):G!==!!m.multiple&&(m.defaultValue!=null?Nn(d,!!m.multiple,m.defaultValue,!0):Nn(d,!!m.multiple,m.multiple?[]:"",!1))}d[ta]=m}catch(ce){ut(n,n.return,ce)}}break;case 6:if(Hn(r,n),or(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(ce){ut(n,n.return,ce)}}break;case 3:if(Hn(r,n),or(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ln(r.containerInfo)}catch(ce){ut(n,n.return,ce)}break;case 4:Hn(r,n),or(n);break;case 13:Hn(r,n),or(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Eh=Xe())),c&4&&im(n);break;case 22:if(K=a!==null&&a.memoizedState!==null,n.mode&1?($t=(z=$t)||K,Hn(r,n),$t=z):Hn(r,n),or(n),c&8192){if(z=n.memoizedState!==null,(n.stateNode.isHidden=z)&&!K&&(n.mode&1)!==0)for(le=n,K=n.child;K!==null;){for(Y=le=K;le!==null;){switch(G=le,ie=G.child,G.tag){case 0:case 11:case 14:case 15:da(4,G,G.return);break;case 1:ro(G,G.return);var ue=G.stateNode;if(typeof ue.componentWillUnmount=="function"){c=G,a=G.return;try{r=c,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(ce){ut(c,a,ce)}}break;case 5:ro(G,G.return);break;case 22:if(G.memoizedState!==null){um(Y);continue}}ie!==null?(ie.return=G,le=ie):um(Y)}K=K.sibling}e:for(K=null,Y=n;;){if(Y.tag===5){if(K===null){K=Y;try{d=Y.stateNode,z?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=Y.stateNode,A=Y.memoizedProps.style,w=A!=null&&A.hasOwnProperty("display")?A.display:null,I.style.display=Ke("display",w))}catch(ce){ut(n,n.return,ce)}}}else if(Y.tag===6){if(K===null)try{Y.stateNode.nodeValue=z?"":Y.memoizedProps}catch(ce){ut(n,n.return,ce)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===n)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===n)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===n)break e;K===Y&&(K=null),Y=Y.return}K===Y&&(K=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Hn(r,n),or(n),c&4&&im(n);break;case 21:break;default:Hn(r,n),or(n)}}function or(n){var r=n.flags;if(r&2){try{e:{for(var a=n.return;a!==null;){if(nm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(lt(d,""),c.flags&=-33);var m=rm(n);_h(n,m,d);break;case 3:case 4:var w=c.stateNode.containerInfo,I=rm(n);vh(n,I,w);break;default:throw Error(t(161))}}catch(A){ut(n,n.return,A)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function t_(n,r,a){le=n,am(n)}function am(n,r,a){for(var c=(n.mode&1)!==0;le!==null;){var d=le,m=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||Ql;if(!w){var I=d.alternate,A=I!==null&&I.memoizedState!==null||$t;I=Ql;var z=$t;if(Ql=w,($t=A)&&!z)for(le=d;le!==null;)w=le,A=w.child,w.tag===22&&w.memoizedState!==null?cm(d):A!==null?(A.return=w,le=A):cm(d);for(;m!==null;)le=m,am(m),m=m.sibling;le=d,Ql=I,$t=z}lm(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,le=m):lm(n)}}function lm(n){for(;le!==null;){var r=le;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:$t||Xl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!$t)if(a===null)c.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:Bn(r.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&up(r,m,c);break;case 3:var w=r.updateQueue;if(w!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}up(r,w,a)}break;case 5:var I=r.stateNode;if(a===null&&r.flags&4){a=I;var A=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&a.focus();break;case"img":A.src&&(a.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var K=z.memoizedState;if(K!==null){var Y=K.dehydrated;Y!==null&&Ln(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||r.flags&512&&yh(r)}catch(G){ut(r,r.return,G)}}if(r===n){le=null;break}if(a=r.sibling,a!==null){a.return=r.return,le=a;break}le=r.return}}function um(n){for(;le!==null;){var r=le;if(r===n){le=null;break}var a=r.sibling;if(a!==null){a.return=r.return,le=a;break}le=r.return}}function cm(n){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Xl(4,r)}catch(A){ut(r,a,A)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(A){ut(r,d,A)}}var m=r.return;try{yh(r)}catch(A){ut(r,m,A)}break;case 5:var w=r.return;try{yh(r)}catch(A){ut(r,w,A)}}}catch(A){ut(r,r.return,A)}if(r===n){le=null;break}var I=r.sibling;if(I!==null){I.return=r.return,le=I;break}le=r.return}}var n_=Math.ceil,Yl=me.ReactCurrentDispatcher,wh=me.ReactCurrentOwner,Sn=me.ReactCurrentBatchConfig,ze=0,Rt=null,gt=null,Vt=0,pn=0,so=is(0),Tt=0,fa=null,ei=0,Jl=0,xh=0,pa=null,rn=null,Eh=0,io=1/0,Pr=null,Zl=!1,Th=null,hs=null,eu=!1,ds=null,tu=0,ma=0,Ih=null,nu=-1,ru=0;function Yt(){return(ze&6)!==0?Xe():nu!==-1?nu:nu=Xe()}function fs(n){return(n.mode&1)===0?1:(ze&2)!==0&&Vt!==0?Vt&-Vt:F0.transition!==null?(ru===0&&(ru=Bs()),ru):(n=Me,n!==0||(n=window.event,n=n===void 0?16:$o(n.type)),n)}function Wn(n,r,a,c){if(50<ma)throw ma=0,Ih=null,Error(t(185));Yr(n,a,c),((ze&2)===0||n!==Rt)&&(n===Rt&&((ze&2)===0&&(Jl|=a),Tt===4&&ps(n,Vt)),sn(n,c),a===1&&ze===0&&(r.mode&1)===0&&(io=Xe()+500,Pl&&as()))}function sn(n,r){var a=n.callbackNode;_r(n,r);var c=zs(n,n===Rt?Vt:0);if(c===0)a!==null&&Lo(a),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(a!=null&&Lo(a),r===1)n.tag===0?L0(dm.bind(null,n)):Yf(dm.bind(null,n)),j0(function(){(ze&6)===0&&as()}),a=null;else{switch(Zr(c)){case 1:a=Fs;break;case 4:a=Kr;break;case 16:a=vn;break;case 536870912:a=rl;break;default:a=vn}a=wm(a,hm.bind(null,n))}n.callbackPriority=r,n.callbackNode=a}}function hm(n,r){if(nu=-1,ru=0,(ze&6)!==0)throw Error(t(327));var a=n.callbackNode;if(oo()&&n.callbackNode!==a)return null;var c=zs(n,n===Rt?Vt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=su(n,c);else{r=c;var d=ze;ze|=2;var m=pm();(Rt!==n||Vt!==r)&&(Pr=null,io=Xe()+500,ni(n,r));do try{i_();break}catch(I){fm(n,I)}while(!0);Bc(),Yl.current=m,ze=d,gt!==null?r=0:(Rt=null,Vt=0,r=Tt)}if(r!==0){if(r===2&&(d=un(n),d!==0&&(c=d,r=Sh(n,d))),r===1)throw a=fa,ni(n,0),ps(n,c),sn(n,Xe()),a;if(r===6)ps(n,c);else{if(d=n.current.alternate,(c&30)===0&&!r_(d)&&(r=su(n,c),r===2&&(m=un(n),m!==0&&(c=m,r=Sh(n,m))),r===1))throw a=fa,ni(n,0),ps(n,c),sn(n,Xe()),a;switch(n.finishedWork=d,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:ri(n,rn,Pr);break;case 3:if(ps(n,c),(c&130023424)===c&&(r=Eh+500-Xe(),10<r)){if(zs(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Yt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Pc(ri.bind(null,n,rn,Pr),r);break}ri(n,rn,Pr);break;case 4:if(ps(n,c),(c&4194240)===c)break;for(r=n.eventTimes,d=-1;0<c;){var w=31-Kt(c);m=1<<w,w=r[w],w>d&&(d=w),c&=~m}if(c=d,c=Xe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*n_(c/1960))-c,10<c){n.timeoutHandle=Pc(ri.bind(null,n,rn,Pr),c);break}ri(n,rn,Pr);break;case 5:ri(n,rn,Pr);break;default:throw Error(t(329))}}}return sn(n,Xe()),n.callbackNode===a?hm.bind(null,n):null}function Sh(n,r){var a=pa;return n.current.memoizedState.isDehydrated&&(ni(n,r).flags|=256),n=su(n,r),n!==2&&(r=rn,rn=a,r!==null&&kh(r)),n}function kh(n){rn===null?rn=n:rn.push.apply(rn,n)}function r_(n){for(var r=n;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Un(m(),d))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ps(n,r){for(r&=~xh,r&=~Jl,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var a=31-Kt(r),c=1<<a;n[a]=-1,r&=~c}}function dm(n){if((ze&6)!==0)throw Error(t(327));oo();var r=zs(n,0);if((r&1)===0)return sn(n,Xe()),null;var a=su(n,r);if(n.tag!==0&&a===2){var c=un(n);c!==0&&(r=c,a=Sh(n,c))}if(a===1)throw a=fa,ni(n,0),ps(n,r),sn(n,Xe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,ri(n,rn,Pr),sn(n,Xe()),null}function Ah(n,r){var a=ze;ze|=1;try{return n(r)}finally{ze=a,ze===0&&(io=Xe()+500,Pl&&as())}}function ti(n){ds!==null&&ds.tag===0&&(ze&6)===0&&oo();var r=ze;ze|=1;var a=Sn.transition,c=Me;try{if(Sn.transition=null,Me=1,n)return n()}finally{Me=c,Sn.transition=a,ze=r,(ze&6)===0&&as()}}function Ch(){pn=so.current,et(so)}function ni(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,D0(a)),gt!==null)for(a=gt.return;a!==null;){var c=a;switch(Oc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Rl();break;case 3:to(),et(en),et(Ut),Xc();break;case 5:Kc(c);break;case 4:to();break;case 13:et(it);break;case 19:et(it);break;case 10:$c(c.type._context);break;case 22:case 23:Ch()}a=a.return}if(Rt=n,gt=n=ms(n.current,null),Vt=pn=r,Tt=0,fa=null,xh=Jl=ei=0,rn=pa=null,Ys!==null){for(r=0;r<Ys.length;r++)if(a=Ys[r],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var w=m.next;m.next=d,c.next=w}a.pending=c}Ys=null}return n}function fm(n,r){do{var a=gt;try{if(Bc(),zl.current=Wl,Bl){for(var c=ot.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Bl=!1}if(Zs=0,Ct=Et=ot=null,aa=!1,la=0,wh.current=null,a===null||a.return===null){Tt=1,fa=r,gt=null;break}e:{var m=n,w=a.return,I=a,A=r;if(r=Vt,I.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=A,K=I,Y=K.tag;if((K.mode&1)===0&&(Y===0||Y===11||Y===15)){var G=K.alternate;G?(K.updateQueue=G.updateQueue,K.memoizedState=G.memoizedState,K.lanes=G.lanes):(K.updateQueue=null,K.memoizedState=null)}var ie=Lp(w);if(ie!==null){ie.flags&=-257,Fp(ie,w,I,m,r),ie.mode&1&&Op(m,z,r),r=ie,A=z;var ue=r.updateQueue;if(ue===null){var ce=new Set;ce.add(A),r.updateQueue=ce}else ue.add(A);break e}else{if((r&1)===0){Op(m,z,r),Rh();break e}A=Error(t(426))}}else if(nt&&I.mode&1){var ht=Lp(w);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Fp(ht,w,I,m,r),Uc(no(A,I));break e}}m=A=no(A,I),Tt!==4&&(Tt=2),pa===null?pa=[m]:pa.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var F=Vp(m,A,r);lp(m,F);break e;case 1:I=A;var b=m.type,U=m.stateNode;if((m.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(hs===null||!hs.has(U)))){m.flags|=65536,r&=-r,m.lanes|=r;var Z=Mp(m,I,r);lp(m,Z);break e}}m=m.return}while(m!==null)}gm(a)}catch(fe){r=fe,gt===a&&a!==null&&(gt=a=a.return);continue}break}while(!0)}function pm(){var n=Yl.current;return Yl.current=Wl,n===null?Wl:n}function Rh(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Rt===null||(ei&268435455)===0&&(Jl&268435455)===0||ps(Rt,Vt)}function su(n,r){var a=ze;ze|=2;var c=pm();(Rt!==n||Vt!==r)&&(Pr=null,ni(n,r));do try{s_();break}catch(d){fm(n,d)}while(!0);if(Bc(),ze=a,Yl.current=c,gt!==null)throw Error(t(261));return Rt=null,Vt=0,Tt}function s_(){for(;gt!==null;)mm(gt)}function i_(){for(;gt!==null&&!tl();)mm(gt)}function mm(n){var r=_m(n.alternate,n,pn);n.memoizedProps=n.pendingProps,r===null?gm(n):gt=r,wh.current=null}function gm(n){var r=n;do{var a=r.alternate;if(n=r.return,(r.flags&32768)===0){if(a=Y0(a,r,pn),a!==null){gt=a;return}}else{if(a=J0(a,r),a!==null){a.flags&=32767,gt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Tt=6,gt=null;return}}if(r=r.sibling,r!==null){gt=r;return}gt=r=n}while(r!==null);Tt===0&&(Tt=5)}function ri(n,r,a){var c=Me,d=Sn.transition;try{Sn.transition=null,Me=1,o_(n,r,a,c)}finally{Sn.transition=d,Me=c}return null}function o_(n,r,a,c){do oo();while(ds!==null);if((ze&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Qe(n,m),n===Rt&&(gt=Rt=null,Vt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||eu||(eu=!0,wm(vn,function(){return oo(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Sn.transition,Sn.transition=null;var w=Me;Me=1;var I=ze;ze|=4,wh.current=null,e_(n,a),om(a,n),k0(Rc),ts=!!Cc,Rc=Cc=null,n.current=a,t_(a),dc(),ze=I,Me=w,Sn.transition=m}else n.current=a;if(eu&&(eu=!1,ds=n,tu=d),m=n.pendingLanes,m===0&&(hs=null),sl(a.stateNode),sn(n,Xe()),r!==null)for(c=n.onRecoverableError,a=0;a<r.length;a++)d=r[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Zl)throw Zl=!1,n=Th,Th=null,n;return(tu&1)!==0&&n.tag!==0&&oo(),m=n.pendingLanes,(m&1)!==0?n===Ih?ma++:(ma=0,Ih=n):ma=0,as(),null}function oo(){if(ds!==null){var n=Zr(tu),r=Sn.transition,a=Me;try{if(Sn.transition=null,Me=16>n?16:n,ds===null)var c=!1;else{if(n=ds,ds=null,tu=0,(ze&6)!==0)throw Error(t(331));var d=ze;for(ze|=4,le=n.current;le!==null;){var m=le,w=m.child;if((le.flags&16)!==0){var I=m.deletions;if(I!==null){for(var A=0;A<I.length;A++){var z=I[A];for(le=z;le!==null;){var K=le;switch(K.tag){case 0:case 11:case 15:da(8,K,m)}var Y=K.child;if(Y!==null)Y.return=K,le=Y;else for(;le!==null;){K=le;var G=K.sibling,ie=K.return;if(tm(K),K===z){le=null;break}if(G!==null){G.return=ie,le=G;break}le=ie}}}var ue=m.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var ht=ce.sibling;ce.sibling=null,ce=ht}while(ce!==null)}}le=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,le=w;else e:for(;le!==null;){if(m=le,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:da(9,m,m.return)}var F=m.sibling;if(F!==null){F.return=m.return,le=F;break e}le=m.return}}var b=n.current;for(le=b;le!==null;){w=le;var U=w.child;if((w.subtreeFlags&2064)!==0&&U!==null)U.return=w,le=U;else e:for(w=b;le!==null;){if(I=le,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Xl(9,I)}}catch(fe){ut(I,I.return,fe)}if(I===w){le=null;break e}var Z=I.sibling;if(Z!==null){Z.return=I.return,le=Z;break e}le=I.return}}if(ze=d,as(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Us,n)}catch{}c=!0}return c}finally{Me=a,Sn.transition=r}}return!1}function ym(n,r,a){r=no(a,r),r=Vp(n,r,1),n=us(n,r,1),r=Yt(),n!==null&&(Yr(n,1,r),sn(n,r))}function ut(n,r,a){if(n.tag===3)ym(n,n,a);else for(;r!==null;){if(r.tag===3){ym(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hs===null||!hs.has(c))){n=no(a,n),n=Mp(r,n,1),r=us(r,n,1),n=Yt(),r!==null&&(Yr(r,1,n),sn(r,n));break}}r=r.return}}function a_(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),r=Yt(),n.pingedLanes|=n.suspendedLanes&a,Rt===n&&(Vt&a)===a&&(Tt===4||Tt===3&&(Vt&130023424)===Vt&&500>Xe()-Eh?ni(n,0):xh|=a),sn(n,r)}function vm(n,r){r===0&&((n.mode&1)===0?r=1:(r=Ri,Ri<<=1,(Ri&130023424)===0&&(Ri=4194304)));var a=Yt();n=Cr(n,r),n!==null&&(Yr(n,r,a),sn(n,a))}function l_(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),vm(n,a)}function u_(n,r){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),vm(n,a)}var _m;_m=function(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps||en.current)nn=!0;else{if((n.lanes&a)===0&&(r.flags&128)===0)return nn=!1,X0(n,r,a);nn=(n.flags&131072)!==0}else nn=!1,nt&&(r.flags&1048576)!==0&&Jf(r,Dl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Kl(n,r),n=r.pendingProps;var d=Ki(r,Ut.current);eo(r,a),d=Zc(null,r,c,n,d,a);var m=eh();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,tn(c)?(m=!0,Nl(r)):m=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,qc(r),d.updater=ql,r.stateNode=d,d._reactInternals=r,oh(r,c,n,a),r=ch(null,r,c,!0,m,a)):(r.tag=0,nt&&m&&Mc(r),Xt(null,r,d,a),r=r.child),r;case 16:c=r.elementType;e:{switch(Kl(n,r),n=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=h_(c),n=Bn(c,n),d){case 0:r=uh(null,r,c,n,a);break e;case 1:r=Wp(null,r,c,n,a);break e;case 11:r=Up(null,r,c,n,a);break e;case 14:r=zp(null,r,c,Bn(c.type,n),a);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Bn(c,d),uh(n,r,c,d,a);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Bn(c,d),Wp(n,r,c,d,a);case 3:e:{if(qp(r),n===null)throw Error(t(387));c=r.pendingProps,m=r.memoizedState,d=m.element,ap(n,r),Fl(r,c,null,a);var w=r.memoizedState;if(c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){d=no(Error(t(423)),r),r=Gp(n,r,c,a,d);break e}else if(c!==d){d=no(Error(t(424)),r),r=Gp(n,r,c,a,d);break e}else for(fn=ss(r.stateNode.containerInfo.firstChild),dn=r,nt=!0,zn=null,a=ip(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Yi(),c===d){r=Nr(n,r,a);break e}Xt(n,r,c,a)}r=r.child}return r;case 5:return cp(r),n===null&&Fc(r),c=r.type,d=r.pendingProps,m=n!==null?n.memoizedProps:null,w=d.children,Nc(c,d)?w=null:m!==null&&Nc(c,m)&&(r.flags|=32),Hp(n,r),Xt(n,r,w,a),r.child;case 6:return n===null&&Fc(r),null;case 13:return Kp(n,r,a);case 4:return Gc(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Ji(r,null,c,a):Xt(n,r,c,a),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Bn(c,d),Up(n,r,c,d,a);case 7:return Xt(n,r,r.pendingProps,a),r.child;case 8:return Xt(n,r,r.pendingProps.children,a),r.child;case 12:return Xt(n,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,m=r.memoizedProps,w=d.value,Ye(Ml,c._currentValue),c._currentValue=w,m!==null)if(Un(m.value,w)){if(m.children===d.children&&!en.current){r=Nr(n,r,a);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var I=m.dependencies;if(I!==null){w=m.child;for(var A=I.firstContext;A!==null;){if(A.context===c){if(m.tag===1){A=Rr(-1,a&-a),A.tag=2;var z=m.updateQueue;if(z!==null){z=z.shared;var K=z.pending;K===null?A.next=A:(A.next=K.next,K.next=A),z.pending=A}}m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Hc(m.return,a,r),I.lanes|=a;break}A=A.next}}else if(m.tag===10)w=m.type===r.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(t(341));w.lanes|=a,I=w.alternate,I!==null&&(I.lanes|=a),Hc(w,a,r),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===r){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}Xt(n,r,d.children,a),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,eo(r,a),d=Tn(d),c=c(d),r.flags|=1,Xt(n,r,c,a),r.child;case 14:return c=r.type,d=Bn(c,r.pendingProps),d=Bn(c.type,d),zp(n,r,c,d,a);case 15:return Bp(n,r,r.type,r.pendingProps,a);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Bn(c,d),Kl(n,r),r.tag=1,tn(c)?(n=!0,Nl(r)):n=!1,eo(r,a),Dp(r,c,d),oh(r,c,d,a),ch(null,r,c,!0,n,a);case 19:return Xp(n,r,a);case 22:return $p(n,r,a)}throw Error(t(156,r.tag))};function wm(n,r){return Ai(n,r)}function c_(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(n,r,a,c){return new c_(n,r,a,c)}function Nh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function h_(n){if(typeof n=="function")return Nh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===_t)return 14}return 2}function ms(n,r){var a=n.alternate;return a===null?(a=kn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function iu(n,r,a,c,d,m){var w=2;if(c=n,typeof n=="function")Nh(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case R:return si(a.children,d,m,r);case T:w=8,d|=8;break;case S:return n=kn(12,a,r,d|2),n.elementType=S,n.lanes=m,n;case k:return n=kn(13,a,r,d),n.elementType=k,n.lanes=m,n;case st:return n=kn(19,a,r,d),n.elementType=st,n.lanes=m,n;case He:return ou(a,d,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:w=10;break e;case D:w=9;break e;case O:w=11;break e;case _t:w=14;break e;case kt:w=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=kn(w,a,r,d),r.elementType=n,r.type=c,r.lanes=m,r}function si(n,r,a,c){return n=kn(7,n,c,r),n.lanes=a,n}function ou(n,r,a,c){return n=kn(22,n,c,r),n.elementType=He,n.lanes=a,n.stateNode={isHidden:!1},n}function Ph(n,r,a){return n=kn(6,n,null,r),n.lanes=a,n}function bh(n,r,a){return r=kn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function d_(n,r,a,c,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xr(0),this.expirationTimes=Xr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Dh(n,r,a,c,d,m,w,I,A){return n=new d_(n,r,a,I,A),r===1?(r=1,m===!0&&(r|=8)):r=0,m=kn(3,null,null,r),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(m),n}function f_(n,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:c==null?null:""+c,children:n,containerInfo:r,implementation:a}}function xm(n){if(!n)return os;n=n._reactInternals;e:{if(Dn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(tn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(tn(a))return Qf(n,a,r)}return r}function Em(n,r,a,c,d,m,w,I,A){return n=Dh(a,c,!0,n,d,m,w,I,A),n.context=xm(null),a=n.current,c=Yt(),d=fs(a),m=Rr(c,d),m.callback=r??null,us(a,m,d),n.current.lanes=d,Yr(n,d,c),sn(n,c),n}function au(n,r,a,c){var d=r.current,m=Yt(),w=fs(d);return a=xm(a),r.context===null?r.context=a:r.pendingContext=a,r=Rr(m,w),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=us(d,r,w),n!==null&&(Wn(n,d,w,m),Ll(n,d,w)),w}function lu(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function Tm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function jh(n,r){Tm(n,r),(n=n.alternate)&&Tm(n,r)}function p_(){return null}var Im=typeof reportError=="function"?reportError:function(n){console.error(n)};function Vh(n){this._internalRoot=n}uu.prototype.render=Vh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));au(n,r,null,null)},uu.prototype.unmount=Vh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;ti(function(){au(null,n,null,null)}),r[Ir]=null}};function uu(n){this._internalRoot=n}uu.prototype.unstable_scheduleHydration=function(n){if(n){var r=ul();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Zn.length&&r!==0&&r<Zn[a].priority;a++);Zn.splice(a,0,n),a===0&&dl(n)}};function Mh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function cu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Sm(){}function m_(n,r,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var z=lu(w);m.call(z)}}var w=Em(r,c,n,0,null,!1,!1,"",Sm);return n._reactRootContainer=w,n[Ir]=w.current,Zo(n.nodeType===8?n.parentNode:n),ti(),w}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var z=lu(A);I.call(z)}}var A=Dh(n,0,!1,null,null,!1,!1,"",Sm);return n._reactRootContainer=A,n[Ir]=A.current,Zo(n.nodeType===8?n.parentNode:n),ti(function(){au(r,A,a,c)}),A}function hu(n,r,a,c,d){var m=a._reactRootContainer;if(m){var w=m;if(typeof d=="function"){var I=d;d=function(){var A=lu(w);I.call(A)}}au(r,w,n,d)}else w=m_(a,r,n,d,c);return lu(w)}al=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var a=Qr(r.pendingLanes);a!==0&&(Jr(r,a|1),sn(r,Xe()),(ze&6)===0&&(io=Xe()+500,as()))}break;case 13:ti(function(){var c=Cr(n,1);if(c!==null){var d=Yt();Wn(c,n,1,d)}}),jh(n,1)}},Ni=function(n){if(n.tag===13){var r=Cr(n,134217728);if(r!==null){var a=Yt();Wn(r,n,134217728,a)}jh(n,134217728)}},ll=function(n){if(n.tag===13){var r=fs(n),a=Cr(n,r);if(a!==null){var c=Yt();Wn(a,n,r,c)}jh(n,r)}},ul=function(){return Me},cl=function(n,r){var a=Me;try{return Me=n,r()}finally{Me=a}},xi=function(n,r,a){switch(r){case"input":if(Ps(n,a),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var d=Cl(c);if(!d)throw Error(t(90));$r(c),Ps(c,d)}}}break;case"textarea":Gr(n,a);break;case"select":r=a.value,r!=null&&Nn(n,!!a.multiple,r,!1)}},Vs=Ah,jo=ti;var g_={usingClientEntryPoint:!1,Events:[na,qi,Cl,Yn,Do,Ah]},ga={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y_={bundleType:ga.bundleType,version:ga.version,rendererPackageName:ga.rendererPackageName,rendererConfig:ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Oo(n),n===null?null:n.stateNode},findFiberByHostInstance:ga.findFiberByHostInstance||p_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Us=du.inject(y_),ln=du}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g_,on.createPortal=function(n,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mh(r))throw Error(t(200));return f_(n,r,null,a)},on.createRoot=function(n,r){if(!Mh(n))throw Error(t(299));var a=!1,c="",d=Im;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Dh(n,1,!1,null,null,a,!1,c,d),n[Ir]=r.current,Zo(n.nodeType===8?n.parentNode:n),new Vh(r)},on.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Oo(r),n=n===null?null:n.stateNode,n},on.flushSync=function(n){return ti(n)},on.hydrate=function(n,r,a){if(!cu(r))throw Error(t(200));return hu(null,n,r,!0,a)},on.hydrateRoot=function(n,r,a){if(!Mh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",w=Im;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),r=Em(r,null,n,1,a??null,d,!1,m,w),n[Ir]=r.current,Zo(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new uu(r)},on.render=function(n,r,a){if(!cu(r))throw Error(t(200));return hu(null,n,r,!1,a)},on.unmountComponentAtNode=function(n){if(!cu(n))throw Error(t(40));return n._reactRootContainer?(ti(function(){hu(null,null,n,!1,function(){n._reactRootContainer=null,n[Ir]=null})}),!0):!1},on.unstable_batchedUpdates=Ah,on.unstable_renderSubtreeIntoContainer=function(n,r,a,c){if(!cu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return hu(n,r,a,!1,c)},on.version="18.3.1-next-f1338f8080-20240426",on}var Dm;function k_(){if(Dm)return Fh.exports;Dm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fh.exports=S_(),Fh.exports}var jm;function A_(){if(jm)return fu;jm=1;var s=k_();return fu.createRoot=s.createRoot,fu.hydrateRoot=s.hydrateRoot,fu}var C_=A_();const R_=Yg(C_);var Vm={};const Jg=function(s){const e=[];let t=0;for(let i=0;i<s.length;i++){let o=s.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},N_=function(s){const e=[];let t=0,i=0;for(;t<s.length;){const o=s[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[t++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[t++],h=s[t++],p=s[t++],y=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(y>>10)),e[i++]=String.fromCharCode(56320+(y&1023))}else{const u=s[t++],h=s[t++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Zg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,p=h?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,E=u>>2,C=(u&3)<<4|p>>4;let V=(p&15)<<2|_>>6,$=_&63;y||($=64,h||(V=64)),i.push(t[E],t[C],t[V],t[$])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Jg(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):N_(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<s.length;){const u=t[s.charAt(o++)],p=o<s.length?t[s.charAt(o)]:0;++o;const _=o<s.length?t[s.charAt(o)]:64;++o;const C=o<s.length?t[s.charAt(o)]:64;if(++o,u==null||p==null||_==null||C==null)throw new P_;const V=u<<2|p>>4;if(i.push(V),_!==64){const $=p<<4&240|_>>2;if(i.push($),C!==64){const j=_<<6&192|C;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class P_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b_=function(s){const e=Jg(s);return Zg.encodeByteArray(e,!0)},Nu=function(s){return b_(s).replace(/\./g,"")},ey=function(s){try{return Zg.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function D_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const j_=()=>D_().__FIREBASE_DEFAULTS__,V_=()=>{if(typeof process>"u"||typeof Vm>"u")return;const s=Vm.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},M_=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ey(s[1]);return e&&JSON.parse(e)},Qu=()=>{try{return j_()||V_()||M_()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ty=s=>{var e,t;return(t=(e=Qu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},O_=s=>{const e=ty(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},ny=()=>{var s;return(s=Qu())===null||s===void 0?void 0:s.config},ry=s=>{var e;return(e=Qu())===null||e===void 0?void 0:e[`_${s}`]};class L_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function F_(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Nu(JSON.stringify(t)),Nu(JSON.stringify(h)),""].join(".")}function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function z_(){var s;const e=(s=Qu())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B_(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $_(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function H_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W_(){const s=Gt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function q_(){return!z_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G_(){try{return typeof indexedDB=="object"}catch{return!1}}function K_(){return new Promise((s,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),s(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}const Q_="FirebaseError";class Br extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Q_,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ua.prototype.create)}}class Ua{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?X_(u,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Br(o,p,i)}}function X_(s,e){return s.replace(Y_,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Y_=/\{\$([^}]+)}/g;function J_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Pu(s,e){if(s===e)return!0;const t=Object.keys(s),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const u=s[o],h=e[o];if(Mm(u)&&Mm(h)){if(!Pu(u,h))return!1}else if(u!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Mm(s){return s!==null&&typeof s=="object"}function za(s){const e=[];for(const[t,i]of Object.entries(s))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Z_(s,e){const t=new ew(s,e);return t.subscribe.bind(t)}class ew{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");tw(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Bh),o.error===void 0&&(o.error=Bh),o.complete===void 0&&(o.complete=Bh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tw(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Bh(){}function an(s){return s&&s._delegate?s._delegate:s}class hi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ii="[DEFAULT]";class nw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new L_;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sw(e))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ii){return this.instances.has(e)}getOptions(e=ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:rw(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ii){return this.component?this.component.multipleInstances?e:ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rw(s){return s===ii?void 0:s}function sw(s){return s.instantiationMode==="EAGER"}class iw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const ow={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},aw=Oe.INFO,lw={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},uw=(s,e,...t)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),o=lw[e];if(o)console[o](`[${i}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ad{constructor(e){this.name=e,this._logLevel=aw,this._logHandler=uw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ow[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const cw=(s,e)=>e.some(t=>s instanceof t);let Om,Lm;function hw(){return Om||(Om=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dw(){return Lm||(Lm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sy=new WeakMap,ed=new WeakMap,iy=new WeakMap,$h=new WeakMap,Cd=new WeakMap;function fw(s){const e=new Promise((t,i)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{t(Es(s.result)),o()},h=()=>{i(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&sy.set(t,s)}).catch(()=>{}),Cd.set(e,s),e}function pw(s){if(ed.has(s))return;const e=new Promise((t,i)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});ed.set(s,e)}let td={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return ed.get(s);if(e==="objectStoreNames")return s.objectStoreNames||iy.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Es(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function mw(s){td=s(td)}function gw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=s.call(Hh(this),e,...t);return iy.set(i,e.sort?e.sort():[e]),Es(i)}:dw().includes(s)?function(...e){return s.apply(Hh(this),e),Es(sy.get(this))}:function(...e){return Es(s.apply(Hh(this),e))}}function yw(s){return typeof s=="function"?gw(s):(s instanceof IDBTransaction&&pw(s),cw(s,hw())?new Proxy(s,td):s)}function Es(s){if(s instanceof IDBRequest)return fw(s);if($h.has(s))return $h.get(s);const e=yw(s);return e!==s&&($h.set(s,e),Cd.set(e,s)),e}const Hh=s=>Cd.get(s);function vw(s,e,{blocked:t,upgrade:i,blocking:o,terminated:u}={}){const h=indexedDB.open(s,e),p=Es(h);return i&&h.addEventListener("upgradeneeded",y=>{i(Es(h.result),y.oldVersion,y.newVersion,Es(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const _w=["get","getKey","getAll","getAllKeys","count"],ww=["put","add","delete","clear"],Wh=new Map;function Fm(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Wh.get(e))return Wh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=ww.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||_w.includes(t)))return;const u=async function(h,...p){const y=this.transaction(h,o?"readwrite":"readonly");let _=y.store;return i&&(_=_.index(p.shift())),(await Promise.all([_[t](...p),o&&y.done]))[0]};return Wh.set(e,u),u}mw(s=>({...s,get:(e,t,i)=>Fm(e,t)||s.get(e,t,i),has:(e,t)=>!!Fm(e,t)||s.has(e,t)}));class xw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ew(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Ew(s){const e=s.getComponent();return e?.type==="VERSION"}const nd="@firebase/app",Um="0.10.13";const Lr=new Ad("@firebase/app"),Tw="@firebase/app-compat",Iw="@firebase/analytics-compat",Sw="@firebase/analytics",kw="@firebase/app-check-compat",Aw="@firebase/app-check",Cw="@firebase/auth",Rw="@firebase/auth-compat",Nw="@firebase/database",Pw="@firebase/data-connect",bw="@firebase/database-compat",Dw="@firebase/functions",jw="@firebase/functions-compat",Vw="@firebase/installations",Mw="@firebase/installations-compat",Ow="@firebase/messaging",Lw="@firebase/messaging-compat",Fw="@firebase/performance",Uw="@firebase/performance-compat",zw="@firebase/remote-config",Bw="@firebase/remote-config-compat",$w="@firebase/storage",Hw="@firebase/storage-compat",Ww="@firebase/firestore",qw="@firebase/vertexai-preview",Gw="@firebase/firestore-compat",Kw="firebase",Qw="10.14.1";const rd="[DEFAULT]",Xw={[nd]:"fire-core",[Tw]:"fire-core-compat",[Sw]:"fire-analytics",[Iw]:"fire-analytics-compat",[Aw]:"fire-app-check",[kw]:"fire-app-check-compat",[Cw]:"fire-auth",[Rw]:"fire-auth-compat",[Nw]:"fire-rtdb",[Pw]:"fire-data-connect",[bw]:"fire-rtdb-compat",[Dw]:"fire-fn",[jw]:"fire-fn-compat",[Vw]:"fire-iid",[Mw]:"fire-iid-compat",[Ow]:"fire-fcm",[Lw]:"fire-fcm-compat",[Fw]:"fire-perf",[Uw]:"fire-perf-compat",[zw]:"fire-rc",[Bw]:"fire-rc-compat",[$w]:"fire-gcs",[Hw]:"fire-gcs-compat",[Ww]:"fire-fst",[Gw]:"fire-fst-compat",[qw]:"fire-vertex","fire-js":"fire-js",[Kw]:"fire-js-all"};const bu=new Map,Yw=new Map,sd=new Map;function zm(s,e){try{s.container.addComponent(e)}catch(t){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function yo(s){const e=s.name;if(sd.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;sd.set(e,s);for(const t of bu.values())zm(t,s);for(const t of Yw.values())zm(t,s);return!0}function Rd(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function Dr(s){return s.settings!==void 0}const Jw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new Ua("app","Firebase",Jw);class Zw{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}const Ao=Qw;function oy(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:rd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(t||(t=ny()),!t)throw Ts.create("no-options");const u=bu.get(o);if(u){if(Pu(t,u.options)&&Pu(i,u.config))return u;throw Ts.create("duplicate-app",{appName:o})}const h=new iw(o);for(const y of sd.values())h.addComponent(y);const p=new Zw(t,i,h);return bu.set(o,p),p}function ay(s=rd){const e=bu.get(s);if(!e&&s===rd&&ny())return oy();if(!e)throw Ts.create("no-app",{appName:s});return e}function Is(s,e,t){var i;let o=(i=Xw[s])!==null&&i!==void 0?i:s;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(p.join(" "));return}yo(new hi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const ex="firebase-heartbeat-database",tx=1,Na="firebase-heartbeat-store";let qh=null;function ly(){return qh||(qh=vw(ex,tx,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Na)}catch(t){console.warn(t)}}}}).catch(s=>{throw Ts.create("idb-open",{originalErrorMessage:s.message})})),qh}async function nx(s){try{const t=(await ly()).transaction(Na),i=await t.objectStore(Na).get(uy(s));return await t.done,i}catch(e){if(e instanceof Br)Lr.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(t.message)}}}async function Bm(s,e){try{const i=(await ly()).transaction(Na,"readwrite");await i.objectStore(Na).put(e,uy(s)),await i.done}catch(t){if(t instanceof Br)Lr.warn(t.message);else{const i=Ts.create("idb-set",{originalErrorMessage:t?.message});Lr.warn(i.message)}}}function uy(s){return`${s.name}!${s.options.appId}`}const rx=1024,sx=720*60*60*1e3;class ix{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ax(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$m();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const p=new Date(h.date).valueOf();return Date.now()-p<=sx}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Lr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$m(),{heartbeatsToSend:i,unsentEntries:o}=ox(this._heartbeatsCache.heartbeats),u=Nu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Lr.warn(t),""}}}function $m(){return new Date().toISOString().substring(0,10)}function ox(s,e=rx){const t=[];let i=s.slice();for(const o of s){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Hm(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Hm(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class ax{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G_()?K_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Bm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Bm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Hm(s){return Nu(JSON.stringify({version:2,heartbeats:s})).length}function lx(s){yo(new hi("platform-logger",e=>new xw(e),"PRIVATE")),yo(new hi("heartbeat",e=>new ix(e),"PRIVATE")),Is(nd,Um,s),Is(nd,Um,"esm2017"),Is("fire-js","")}lx("");var Wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ui,cy;(function(){var s;function e(R,T){function S(){}S.prototype=T.prototype,R.D=T.prototype,R.prototype=new S,R.prototype.constructor=R,R.C=function(N,D,O){for(var k=Array(arguments.length-2),st=2;st<arguments.length;st++)k[st-2]=arguments[st];return T.prototype[D].apply(N,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,T,S){S||(S=0);var N=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)N[D]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(D=0;16>D;++D)N[D]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=R.g[0],S=R.g[1],D=R.g[2];var O=R.g[3],k=T+(O^S&(D^O))+N[0]+3614090360&4294967295;T=S+(k<<7&4294967295|k>>>25),k=O+(D^T&(S^D))+N[1]+3905402710&4294967295,O=T+(k<<12&4294967295|k>>>20),k=D+(S^O&(T^S))+N[2]+606105819&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(T^D&(O^T))+N[3]+3250441966&4294967295,S=D+(k<<22&4294967295|k>>>10),k=T+(O^S&(D^O))+N[4]+4118548399&4294967295,T=S+(k<<7&4294967295|k>>>25),k=O+(D^T&(S^D))+N[5]+1200080426&4294967295,O=T+(k<<12&4294967295|k>>>20),k=D+(S^O&(T^S))+N[6]+2821735955&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(T^D&(O^T))+N[7]+4249261313&4294967295,S=D+(k<<22&4294967295|k>>>10),k=T+(O^S&(D^O))+N[8]+1770035416&4294967295,T=S+(k<<7&4294967295|k>>>25),k=O+(D^T&(S^D))+N[9]+2336552879&4294967295,O=T+(k<<12&4294967295|k>>>20),k=D+(S^O&(T^S))+N[10]+4294925233&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(T^D&(O^T))+N[11]+2304563134&4294967295,S=D+(k<<22&4294967295|k>>>10),k=T+(O^S&(D^O))+N[12]+1804603682&4294967295,T=S+(k<<7&4294967295|k>>>25),k=O+(D^T&(S^D))+N[13]+4254626195&4294967295,O=T+(k<<12&4294967295|k>>>20),k=D+(S^O&(T^S))+N[14]+2792965006&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(T^D&(O^T))+N[15]+1236535329&4294967295,S=D+(k<<22&4294967295|k>>>10),k=T+(D^O&(S^D))+N[1]+4129170786&4294967295,T=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(T^S))+N[6]+3225465664&4294967295,O=T+(k<<9&4294967295|k>>>23),k=D+(T^S&(O^T))+N[11]+643717713&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^T&(D^O))+N[0]+3921069994&4294967295,S=D+(k<<20&4294967295|k>>>12),k=T+(D^O&(S^D))+N[5]+3593408605&4294967295,T=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(T^S))+N[10]+38016083&4294967295,O=T+(k<<9&4294967295|k>>>23),k=D+(T^S&(O^T))+N[15]+3634488961&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^T&(D^O))+N[4]+3889429448&4294967295,S=D+(k<<20&4294967295|k>>>12),k=T+(D^O&(S^D))+N[9]+568446438&4294967295,T=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(T^S))+N[14]+3275163606&4294967295,O=T+(k<<9&4294967295|k>>>23),k=D+(T^S&(O^T))+N[3]+4107603335&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^T&(D^O))+N[8]+1163531501&4294967295,S=D+(k<<20&4294967295|k>>>12),k=T+(D^O&(S^D))+N[13]+2850285829&4294967295,T=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(T^S))+N[2]+4243563512&4294967295,O=T+(k<<9&4294967295|k>>>23),k=D+(T^S&(O^T))+N[7]+1735328473&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^T&(D^O))+N[12]+2368359562&4294967295,S=D+(k<<20&4294967295|k>>>12),k=T+(S^D^O)+N[5]+4294588738&4294967295,T=S+(k<<4&4294967295|k>>>28),k=O+(T^S^D)+N[8]+2272392833&4294967295,O=T+(k<<11&4294967295|k>>>21),k=D+(O^T^S)+N[11]+1839030562&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^T)+N[14]+4259657740&4294967295,S=D+(k<<23&4294967295|k>>>9),k=T+(S^D^O)+N[1]+2763975236&4294967295,T=S+(k<<4&4294967295|k>>>28),k=O+(T^S^D)+N[4]+1272893353&4294967295,O=T+(k<<11&4294967295|k>>>21),k=D+(O^T^S)+N[7]+4139469664&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^T)+N[10]+3200236656&4294967295,S=D+(k<<23&4294967295|k>>>9),k=T+(S^D^O)+N[13]+681279174&4294967295,T=S+(k<<4&4294967295|k>>>28),k=O+(T^S^D)+N[0]+3936430074&4294967295,O=T+(k<<11&4294967295|k>>>21),k=D+(O^T^S)+N[3]+3572445317&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^T)+N[6]+76029189&4294967295,S=D+(k<<23&4294967295|k>>>9),k=T+(S^D^O)+N[9]+3654602809&4294967295,T=S+(k<<4&4294967295|k>>>28),k=O+(T^S^D)+N[12]+3873151461&4294967295,O=T+(k<<11&4294967295|k>>>21),k=D+(O^T^S)+N[15]+530742520&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^T)+N[2]+3299628645&4294967295,S=D+(k<<23&4294967295|k>>>9),k=T+(D^(S|~O))+N[0]+4096336452&4294967295,T=S+(k<<6&4294967295|k>>>26),k=O+(S^(T|~D))+N[7]+1126891415&4294967295,O=T+(k<<10&4294967295|k>>>22),k=D+(T^(O|~S))+N[14]+2878612391&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~T))+N[5]+4237533241&4294967295,S=D+(k<<21&4294967295|k>>>11),k=T+(D^(S|~O))+N[12]+1700485571&4294967295,T=S+(k<<6&4294967295|k>>>26),k=O+(S^(T|~D))+N[3]+2399980690&4294967295,O=T+(k<<10&4294967295|k>>>22),k=D+(T^(O|~S))+N[10]+4293915773&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~T))+N[1]+2240044497&4294967295,S=D+(k<<21&4294967295|k>>>11),k=T+(D^(S|~O))+N[8]+1873313359&4294967295,T=S+(k<<6&4294967295|k>>>26),k=O+(S^(T|~D))+N[15]+4264355552&4294967295,O=T+(k<<10&4294967295|k>>>22),k=D+(T^(O|~S))+N[6]+2734768916&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~T))+N[13]+1309151649&4294967295,S=D+(k<<21&4294967295|k>>>11),k=T+(D^(S|~O))+N[4]+4149444226&4294967295,T=S+(k<<6&4294967295|k>>>26),k=O+(S^(T|~D))+N[11]+3174756917&4294967295,O=T+(k<<10&4294967295|k>>>22),k=D+(T^(O|~S))+N[2]+718787259&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~T))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+O&4294967295}i.prototype.u=function(R,T){T===void 0&&(T=R.length);for(var S=T-this.blockSize,N=this.B,D=this.h,O=0;O<T;){if(D==0)for(;O<=S;)o(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<T;)if(N[D++]=R.charCodeAt(O++),D==this.blockSize){o(this,N),D=0;break}}else for(;O<T;)if(N[D++]=R[O++],D==this.blockSize){o(this,N),D=0;break}}this.h=D,this.o+=T},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;var S=8*this.o;for(T=R.length-8;T<R.length;++T)R[T]=S&255,S/=256;for(this.u(R),R=Array(16),T=S=0;4>T;++T)for(var N=0;32>N;N+=8)R[S++]=this.g[T]>>>N&255;return R};function u(R,T){var S=p;return Object.prototype.hasOwnProperty.call(S,R)?S[R]:S[R]=T(R)}function h(R,T){this.h=T;for(var S=[],N=!0,D=R.length-1;0<=D;D--){var O=R[D]|0;N&&O==T||(S[D]=O,N=!1)}this.g=S}var p={};function y(R){return-128<=R&&128>R?u(R,function(T){return new h([T|0],0>T?-1:0)}):new h([R|0],0>R?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return C;if(0>R)return P(_(-R));for(var T=[],S=1,N=0;R>=S;N++)T[N]=R/S|0,S*=4294967296;return new h(T,0)}function E(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return P(E(R.substring(1),T));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(T,8)),N=C,D=0;D<R.length;D+=8){var O=Math.min(8,R.length-D),k=parseInt(R.substring(D,D+O),T);8>O?(O=_(Math.pow(T,O)),N=N.j(O).add(_(k))):(N=N.j(S),N=N.add(_(k)))}return N}var C=y(0),V=y(1),$=y(16777216);s=h.prototype,s.m=function(){if(H(this))return-P(this).m();for(var R=0,T=1,S=0;S<this.g.length;S++){var N=this.i(S);R+=(0<=N?N:4294967296+N)*T,T*=4294967296}return R},s.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(j(this))return"0";if(H(this))return"-"+P(this).toString(R);for(var T=_(Math.pow(R,6)),S=this,N="";;){var D=me(S,T).g;S=q(S,D.j(T));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(R);if(S=D,j(S))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},s.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function j(R){if(R.h!=0)return!1;for(var T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function H(R){return R.h==-1}s.l=function(R){return R=q(this,R),H(R)?-1:j(R)?0:1};function P(R){for(var T=R.g.length,S=[],N=0;N<T;N++)S[N]=~R.g[N];return new h(S,~R.h).add(V)}s.abs=function(){return H(this)?P(this):this},s.add=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],N=0,D=0;D<=T;D++){var O=N+(this.i(D)&65535)+(R.i(D)&65535),k=(O>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);N=k>>>16,O&=65535,k&=65535,S[D]=k<<16|O}return new h(S,S[S.length-1]&-2147483648?-1:0)};function q(R,T){return R.add(P(T))}s.j=function(R){if(j(this)||j(R))return C;if(H(this))return H(R)?P(this).j(P(R)):P(P(this).j(R));if(H(R))return P(this.j(P(R)));if(0>this.l($)&&0>R.l($))return _(this.m()*R.m());for(var T=this.g.length+R.g.length,S=[],N=0;N<2*T;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(var D=0;D<R.g.length;D++){var O=this.i(N)>>>16,k=this.i(N)&65535,st=R.i(D)>>>16,_t=R.i(D)&65535;S[2*N+2*D]+=k*_t,J(S,2*N+2*D),S[2*N+2*D+1]+=O*_t,J(S,2*N+2*D+1),S[2*N+2*D+1]+=k*st,J(S,2*N+2*D+1),S[2*N+2*D+2]+=O*st,J(S,2*N+2*D+2)}for(N=0;N<T;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=T;N<2*T;N++)S[N]=0;return new h(S,0)};function J(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function pe(R,T){this.g=R,this.h=T}function me(R,T){if(j(T))throw Error("division by zero");if(j(R))return new pe(C,C);if(H(R))return T=me(P(R),T),new pe(P(T.g),P(T.h));if(H(T))return T=me(R,P(T)),new pe(P(T.g),T.h);if(30<R.g.length){if(H(R)||H(T))throw Error("slowDivide_ only works with positive integers.");for(var S=V,N=T;0>=N.l(R);)S=_e(S),N=_e(N);var D=oe(S,1),O=oe(N,1);for(N=oe(N,2),S=oe(S,2);!j(N);){var k=O.add(N);0>=k.l(R)&&(D=D.add(S),O=k),N=oe(N,1),S=oe(S,1)}return T=q(R,D.j(T)),new pe(D,T)}for(D=C;0<=R.l(T);){for(S=Math.max(1,Math.floor(R.m()/T.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=_(S),k=O.j(T);H(k)||0<k.l(R);)S-=N,O=_(S),k=O.j(T);j(O)&&(O=V),D=D.add(O),R=q(R,k)}return new pe(D,R)}s.A=function(R){return me(this,R).h},s.and=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],N=0;N<T;N++)S[N]=this.i(N)&R.i(N);return new h(S,this.h&R.h)},s.or=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],N=0;N<T;N++)S[N]=this.i(N)|R.i(N);return new h(S,this.h|R.h)},s.xor=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],N=0;N<T;N++)S[N]=this.i(N)^R.i(N);return new h(S,this.h^R.h)};function _e(R){for(var T=R.g.length+1,S=[],N=0;N<T;N++)S[N]=R.i(N)<<1|R.i(N-1)>>>31;return new h(S,R.h)}function oe(R,T){var S=T>>5;T%=32;for(var N=R.g.length-S,D=[],O=0;O<N;O++)D[O]=0<T?R.i(O+S)>>>T|R.i(O+S+1)<<32-T:R.i(O+S);return new h(D,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,cy=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,ui=h}).apply(typeof Wm<"u"?Wm:typeof self<"u"?self:typeof window<"u"?window:{});var pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hy,wa,dy,wu,id,fy,py,my;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,v){return l==Array.prototype||l==Object.prototype||(l[f]=v.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof pu=="object"&&pu];for(var f=0;f<l.length;++f){var v=l[f];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(l,f){if(f)e:{var v=i;l=l.split(".");for(var x=0;x<l.length-1;x++){var L=l[x];if(!(L in v))break e;v=v[L]}l=l[l.length-1],x=v[l],f=f(x),f!=x&&f!=null&&e(v,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var v=0,x=!1,L={next:function(){if(!x&&v<l.length){var B=v++;return{value:f(B,l[B]),done:!1}}return x=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(l){return l||function(){return u(this,function(f,v){return v})}});var h=h||{},p=this||self;function y(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function _(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function E(l,f,v){return l.call.apply(l.bind,arguments)}function C(l,f,v){if(!l)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,x),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function V(l,f,v){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:C,V.apply(null,arguments)}function $(l,f){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function j(l,f){function v(){}v.prototype=f.prototype,l.aa=f.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(x,L,B){for(var te=Array(arguments.length-2),We=2;We<arguments.length;We++)te[We-2]=arguments[We];return f.prototype[L].apply(x,te)}}function H(l){const f=l.length;if(0<f){const v=Array(f);for(let x=0;x<f;x++)v[x]=l[x];return v}return[]}function P(l,f){for(let v=1;v<arguments.length;v++){const x=arguments[v];if(y(x)){const L=l.length||0,B=x.length||0;l.length=L+B;for(let te=0;te<B;te++)l[L+te]=x[te]}else l.push(x)}}class q{constructor(f,v){this.i=f,this.j=v,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function J(l){return/^[\s\xa0]*$/.test(l)}function pe(){var l=p.navigator;return l&&(l=l.userAgent)?l:""}function me(l){return me[" "](l),l}me[" "]=function(){};var _e=pe().indexOf("Gecko")!=-1&&!(pe().toLowerCase().indexOf("webkit")!=-1&&pe().indexOf("Edge")==-1)&&!(pe().indexOf("Trident")!=-1||pe().indexOf("MSIE")!=-1)&&pe().indexOf("Edge")==-1;function oe(l,f,v){for(const x in l)f.call(v,l[x],x,l)}function R(l,f){for(const v in l)f.call(void 0,l[v],v,l)}function T(l){const f={};for(const v in l)f[v]=l[v];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(l,f){let v,x;for(let L=1;L<arguments.length;L++){x=arguments[L];for(v in x)l[v]=x[v];for(let B=0;B<S.length;B++)v=S[B],Object.prototype.hasOwnProperty.call(x,v)&&(l[v]=x[v])}}function D(l){var f=1;l=l.split(":");const v=[];for(;0<f&&l.length;)v.push(l.shift()),f--;return l.length&&v.push(l.join(":")),v}function O(l){p.setTimeout(()=>{throw l},0)}function k(){var l=ge;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class st{constructor(){this.h=this.g=null}add(f,v){const x=_t.get();x.set(f,v),this.h?this.h.next=x:this.g=x,this.h=x}}var _t=new q(()=>new kt,l=>l.reset());class kt{constructor(){this.next=this.g=this.h=null}set(f,v){this.h=f,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let He,ee=!1,ge=new st,se=()=>{const l=p.Promise.resolve(void 0);He=()=>{l.then(M)}};var M=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(v){O(v)}var f=_t;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ee=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};p.addEventListener("test",v,f),p.removeEventListener("test",v,f)}catch{}return l})();function Pe(l,f){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(_e){e:{try{me(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else v=="mouseover"?f=l.fromElement:v=="mouseout"&&(f=l.toElement);this.relatedTarget=f,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:De[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Pe.aa.h.call(this)}}j(Pe,de);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Ge(l,f,v,x,L){this.listener=l,this.proxy=null,this.src=f,this.type=v,this.capture=!!x,this.ha=L,this.key=++Te,this.da=this.fa=!1}function ft(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Cn(l){this.src=l,this.g={},this.h=0}Cn.prototype.add=function(l,f,v,x,L){var B=l.toString();l=this.g[B],l||(l=this.g[B]=[],this.h++);var te=Qn(l,f,x,L);return-1<te?(f=l[te],v||(f.fa=!1)):(f=new Ge(f,this.src,B,!!x,L),f.fa=v,l.push(f)),f};function $r(l,f){var v=f.type;if(v in l.g){var x=l.g[v],L=Array.prototype.indexOf.call(x,f,void 0),B;(B=0<=L)&&Array.prototype.splice.call(x,L,1),B&&(ft(f),l.g[v].length==0&&(delete l.g[v],l.h--))}}function Qn(l,f,v,x){for(var L=0;L<l.length;++L){var B=l[L];if(!B.da&&B.listener==f&&B.capture==!!v&&B.ha==x)return L}return-1}var gr="closure_lm_"+(1e6*Math.random()|0),Hr={};function Ns(l,f,v,x,L){if(Array.isArray(f)){for(var B=0;B<f.length;B++)Ns(l,f[B],v,x,L);return null}return v=ae(v),l&&l[Ue]?l.K(f,v,_(x)?!!x.capture:!1,L):Ps(l,f,v,!1,x,L)}function Ps(l,f,v,x,L,B){if(!f)throw Error("Invalid event type");var te=_(L)?!!L.capture:!!L,We=qr(l);if(We||(l[gr]=We=new Cn(l)),v=We.add(f,v,x,te,B),v.proxy)return v;if(x=vi(),v.proxy=x,x.src=l,x.listener=v,l.addEventListener)Ne||(L=te),L===void 0&&(L=!1),l.addEventListener(f.toString(),x,L);else if(l.attachEvent)l.attachEvent(Nn(f.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vi(){function l(v){return f.call(l.src,l.listener,v)}const f=bs;return l}function Wr(l,f,v,x,L){if(Array.isArray(f))for(var B=0;B<f.length;B++)Wr(l,f[B],v,x,L);else x=_(x)?!!x.capture:!!x,v=ae(v),l&&l[Ue]?(l=l.i,f=String(f).toString(),f in l.g&&(B=l.g[f],v=Qn(B,v,x,L),-1<v&&(ft(B[v]),Array.prototype.splice.call(B,v,1),B.length==0&&(delete l.g[f],l.h--)))):l&&(l=qr(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Qn(f,v,x,L)),(v=-1<l?f[l]:null)&&Rn(v))}function Rn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ue])$r(f.i,l);else{var v=l.type,x=l.proxy;f.removeEventListener?f.removeEventListener(v,x,l.capture):f.detachEvent?f.detachEvent(Nn(v),x):f.addListener&&f.removeListener&&f.removeListener(x),(v=qr(f))?($r(v,l),v.h==0&&(v.src=null,f[gr]=null)):ft(l)}}}function Nn(l){return l in Hr?Hr[l]:Hr[l]="on"+l}function bs(l,f){if(l.da)l=!0;else{f=new Pe(f,this);var v=l.listener,x=l.ha||l.src;l.fa&&Rn(l),l=v.call(x,f)}return l}function qr(l){return l=l[gr],l instanceof Cn?l:null}var Gr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ae(l){return typeof l=="function"?l:(l[Gr]||(l[Gr]=function(f){return l.handleEvent(f)}),l[Gr])}function ne(){W.call(this),this.i=new Cn(this),this.M=this,this.F=null}j(ne,W),ne.prototype[Ue]=!0,ne.prototype.removeEventListener=function(l,f,v,x){Wr(this,l,f,v,x)};function re(l,f){var v,x=l.F;if(x)for(v=[];x;x=x.F)v.push(x);if(l=l.M,x=f.type||f,typeof f=="string")f=new de(f,l);else if(f instanceof de)f.target=f.target||l;else{var L=f;f=new de(x,l),N(f,L)}if(L=!0,v)for(var B=v.length-1;0<=B;B--){var te=f.g=v[B];L=Je(te,x,!0,f)&&L}if(te=f.g=l,L=Je(te,x,!0,f)&&L,L=Je(te,x,!1,f)&&L,v)for(B=0;B<v.length;B++)te=f.g=v[B],L=Je(te,x,!1,f)&&L}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var v=l.g[f],x=0;x<v.length;x++)ft(v[x]);delete l.g[f],l.h--}}this.F=null},ne.prototype.K=function(l,f,v,x){return this.i.add(String(l),f,!1,v,x)},ne.prototype.L=function(l,f,v,x){return this.i.add(String(l),f,!0,v,x)};function Je(l,f,v,x){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,B=0;B<f.length;++B){var te=f[B];if(te&&!te.da&&te.capture==v){var We=te.listener,xt=te.ha||te.src;te.fa&&$r(l.i,te),L=We.call(xt,x)!==!1&&L}}return L&&!x.defaultPrevented}function wt(l,f,v){if(typeof l=="function")v&&(l=V(l,v));else if(l&&typeof l.handleEvent=="function")l=V(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:p.setTimeout(l,f||0)}function lt(l){l.g=wt(()=>{l.g=null,l.i&&(l.i=!1,lt(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class je extends W{constructor(f,v){super(),this.m=f,this.l=v,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pt(l){W.call(this),this.h=l,this.g={}}j(pt,W);var Ke=[];function gn(l){oe(l.g,function(f,v){this.g.hasOwnProperty(v)&&Rn(f)},l),l.g={}}pt.prototype.N=function(){pt.aa.N.call(this),gn(this)},pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _i=p.JSON.stringify,yr=p.JSON.parse,Ds=class{stringify(l){return p.JSON.stringify(l,void 0)}parse(l){return p.JSON.parse(l,void 0)}};function js(){}js.prototype.h=null;function wi(l){return l.h||(l.h=l.i())}function xi(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){de.call(this,"d")}j(Xn,de);function Ei(){de.call(this,"c")}j(Ei,de);var Yn={},Do=null;function Vs(){return Do=Do||new ne}Yn.La="serverreachability";function jo(l){de.call(this,Yn.La,l)}j(jo,de);function vr(l){const f=Vs();re(f,new jo(f))}Yn.STAT_EVENT="statevent";function Vo(l,f){de.call(this,Yn.STAT_EVENT,l),this.stat=f}j(Vo,de);function ct(l){const f=Vs();re(f,new Vo(f,l))}Yn.Ma="timingevent";function Ti(l,f){de.call(this,Yn.Ma,l),this.size=f}j(Ti,de);function Pn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){l()},f)}function Ms(){this.g=!0}Ms.prototype.xa=function(){this.g=!1};function Os(l,f,v,x,L,B){l.info(function(){if(l.g)if(B)for(var te="",We=B.split("&"),xt=0;xt<We.length;xt++){var Le=We[xt].split("=");if(1<Le.length){var At=Le[0];Le=Le[1];var mt=At.split("_");te=2<=mt.length&&mt[1]=="type"?te+(At+"="+Le+"&"):te+(At+"=redacted&")}}else te=null;else te=B;return"XMLHTTP REQ ("+x+") [attempt "+L+"]: "+f+`
`+v+`
`+te})}function Ii(l,f,v,x,L,B,te){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+L+"]: "+f+`
`+v+`
`+B+" "+te})}function bn(l,f,v,x){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+hc(l,v)+(x?" "+x:"")})}function Mo(l,f){l.info(function(){return"TIMEOUT: "+f})}Ms.prototype.info=function(){};function hc(l,f){if(!l.g)return f;if(!f)return null;try{var v=JSON.parse(f);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var x=v[l];if(!(2>x.length)){var L=x[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return _i(v)}catch{return f}}var Si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Za={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function Ls(){}j(Ls,js),Ls.prototype.g=function(){return new XMLHttpRequest},Ls.prototype.i=function(){return{}},Dn=new Ls;function jn(l,f,v,x){this.j=l,this.i=f,this.l=v,this.R=x||1,this.U=new pt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new el}function el(){this.i=null,this.g="",this.h=!1}var Oo={},ki={};function Ai(l,f,v){l.L=1,l.v=Jr(un(f)),l.m=v,l.P=!0,Lo(l,null)}function Lo(l,f){l.F=Date.now(),Xe(l),l.A=un(l.v);var v=l.A,x=l.R;Array.isArray(x)||(x=[String(x)]),es(v.i,"t",x),l.C=0,v=l.j.J,l.h=new el,l.g=vl(l.j,v?f:null,!l.m),0<l.O&&(l.M=new je(V(l.Y,l,l.g),l.O)),f=l.U,v=l.g,x=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ke[0]=L.toString()),L=Ke);for(var B=0;B<L.length;B++){var te=Ns(v,L[B],x||f.handleEvent,!1,f.h||f);if(!te)break;f.g[te.key]=te}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),vr(),Os(l.i,l.u,l.A,l.l,l.R,l.m)}jn.prototype.ca=function(l){l=l.target;const f=this.M;f&&Zt(l)==3?f.j():this.Y(l)},jn.prototype.Y=function(l){try{if(l==this.g)e:{const mt=Zt(this.g);var f=this.g.Ba();const wn=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||Ho(this.g)))){this.J||mt!=4||f==7||(f==8||0>=wn?vr(3):vr(2)),Fs(this);var v=this.g.Z();this.X=v;t:if(tl(this)){var x=Ho(this.g);l="";var L=x.length,B=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Kr(this);var te="";break t}this.h.i=new p.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(x[f],{stream:!(B&&f==L-1)});x.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,Ii(this.i,this.u,this.A,this.l,this.R,mt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var We,xt=this.g;if((We=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(We)){var Le=We;break t}}Le=null}if(v=Le)bn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fo(this,v);else{this.o=!1,this.s=3,ct(12),vn(this),Kr(this);break e}}if(this.P){v=!0;let hn;for(;!this.J&&this.C<te.length;)if(hn=dc(this,te),hn==ki){mt==4&&(this.s=4,ct(14),v=!1),bn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Oo){this.s=4,ct(15),bn(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else bn(this.i,this.l,hn,null),Fo(this,hn);if(tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||te.length!=0||this.h.h||(this.s=1,ct(16),v=!1),this.o=this.o&&v,!v)bn(this.i,this.l,te,"[Invalid Chunked Response]"),vn(this),Kr(this);else if(0<te.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),qo(At),At.M=!0,ct(11))}}else bn(this.i,this.l,te,null),Fo(this,te);mt==4&&vn(this),this.o&&!this.J&&(mt==4?Li(this.j,this):(this.o=!1,Xe(this)))}else Di(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),vn(this),Kr(this)}}}catch{}};function tl(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function dc(l,f){var v=l.C,x=f.indexOf(`
`,v);return x==-1?ki:(v=Number(f.substring(v,x)),isNaN(v)?Oo:(x+=1,x+v>f.length?ki:(f=f.slice(x,x+v),l.C=x+v,f)))}jn.prototype.cancel=function(){this.J=!0,vn(this)};function Xe(l){l.S=Date.now()+l.I,nl(l,l.I)}function nl(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Pn(V(l.ba,l),f)}function Fs(l){l.B&&(p.clearTimeout(l.B),l.B=null)}jn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Mo(this.i,this.A),this.L!=2&&(vr(),ct(17)),vn(this),this.s=2,Kr(this)):nl(this,this.S-l)};function Kr(l){l.j.G==0||l.J||Li(l.j,l)}function vn(l){Fs(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,gn(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Fo(l,f){try{var v=l.j;if(v.G!=0&&(v.g==l||Kt(v.h,l))){if(!l.K&&Kt(v.h,l)&&v.G==3){try{var x=v.Da.g.parse(f)}catch{x=null}if(Array.isArray(x)&&x.length==3){var L=x;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)Oi(v),Fn(v);else break e;Mi(v),ct(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=Pn(V(v.Za,v),6e3));if(1>=sl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Tr(v,11)}else if((l.K||v.g==l)&&Oi(v),!J(f))for(L=v.Da.g.parse(f),f=0;f<L.length;f++){let Le=L[f];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const At=Le[3];At!=null&&(v.la=At,v.j.info("VER="+v.la));const mt=Le[4];mt!=null&&(v.Aa=mt,v.j.info("SVER="+v.Aa));const wn=Le[5];wn!=null&&typeof wn=="number"&&0<wn&&(x=1.5*wn,v.L=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const hn=l.g;if(hn){const qs=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var B=x.h;B.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Uo(B,B.h),B.h=null))}if(x.D){const Ui=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ui&&(x.ya=Ui,Qe(x.I,x.D,Ui))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),x=v;var te=l;if(x.qa=yl(x,x.J?x.ia:null,x.W),te.K){il(x.h,te);var We=te,xt=x.L;xt&&(We.I=xt),We.B&&(Fs(We),Xe(We)),x.g=te}else Ws(x);0<v.i.length&&tr(v)}else Le[0]!="stop"&&Le[0]!="close"||Tr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Tr(v,7):Dt(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}vr(4)}catch{}}var rl=class{constructor(l,f){this.g=l,this.map=f}};function Us(l){this.l=l||10,p.PerformanceNavigationTiming?(l=p.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function sl(l){return l.h?1:l.g?l.g.size:0}function Kt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Uo(l,f){l.g?l.g.add(f):l.h=f}function il(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Us.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ol(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const v of l.g.values())f=f.concat(v.D);return f}return H(l.i)}function Ci(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var f=[],v=l.length,x=0;x<v;x++)f.push(l[x]);return f}f=[],v=0;for(x in l)f[v++]=l[x];return f}function Ri(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var f=[];l=l.length;for(var v=0;v<l;v++)f.push(v);return f}f=[],v=0;for(const x in l)f[v++]=x;return f}}}function Qr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var v=Ri(l),x=Ci(l),L=x.length,B=0;B<L;B++)f.call(void 0,x[B],v&&v[B],l)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fc(l,f){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var x=l[v].indexOf("="),L=null;if(0<=x){var B=l[v].substring(0,x);L=l[v].substring(x+1)}else B=l[v];f(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function _r(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof _r){this.h=l.h,Bs(this,l.j),this.o=l.o,this.g=l.g,Xr(this,l.s),this.l=l.l;var f=l.i,v=new Jn;v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),Yr(this,v),this.m=l.m}else l&&(f=String(l).match(zs))?(this.h=!1,Bs(this,f[1]||"",!0),this.o=Me(f[2]||""),this.g=Me(f[3]||"",!0),Xr(this,f[4]),this.l=Me(f[5]||"",!0),Yr(this,f[6]||"",!0),this.m=Me(f[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}_r.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Zr(f,Ni,!0),":");var v=this.g;return(v||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Zr(f,Ni,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(Zr(v,v.charAt(0)=="/"?ul:ll,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",Zr(v,zo)),l.join("")};function un(l){return new _r(l)}function Bs(l,f,v){l.j=v?Me(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Xr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Yr(l,f,v){f instanceof Jn?(l.i=f,Zn(l.i,l.h)):(v||(f=Zr(f,cl)),l.i=new Jn(f,l.h))}function Qe(l,f,v){l.i.set(f,v)}function Jr(l){return Qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Me(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Zr(l,f,v){return typeof l=="string"?(l=encodeURI(l).replace(f,al),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function al(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ni=/[#\/\?@]/g,ll=/[#\?:]/g,ul=/[#\?]/g,cl=/[#\?@]/g,zo=/#/g;function Jn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function bt(l){l.g||(l.g=new Map,l.h=0,l.i&&fc(l.i,function(f,v){l.add(decodeURIComponent(f.replace(/\+/g," ")),v)}))}s=Jn.prototype,s.add=function(l,f){bt(this),this.i=null,l=_n(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(f),this.h+=1,this};function Vn(l,f){bt(l),f=_n(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Mn(l,f){return bt(l),f=_n(l,f),l.g.has(f)}s.forEach=function(l,f){bt(this),this.g.forEach(function(v,x){v.forEach(function(L){l.call(f,L,x,this)},this)},this)},s.na=function(){bt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),v=[];for(let x=0;x<f.length;x++){const L=l[x];for(let B=0;B<L.length;B++)v.push(f[x])}return v},s.V=function(l){bt(this);let f=[];if(typeof l=="string")Mn(this,l)&&(f=f.concat(this.g.get(_n(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)f=f.concat(l[v])}return f},s.set=function(l,f){return bt(this),this.i=null,l=_n(this,l),Mn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},s.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function es(l,f,v){Vn(l,f),0<v.length&&(l.i=null,l.g.set(_n(l,f),H(v)),l.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var v=0;v<f.length;v++){var x=f[v];const B=encodeURIComponent(String(x)),te=this.V(x);for(x=0;x<te.length;x++){var L=B;te[x]!==""&&(L+="="+encodeURIComponent(String(te[x]))),l.push(L)}}return this.i=l.join("&")};function _n(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Zn(l,f){f&&!l.j&&(bt(l),l.i=null,l.g.forEach(function(v,x){var L=x.toLowerCase();x!=L&&(Vn(this,x),es(this,L,v))},l)),l.j=f}function pc(l,f){const v=new Ms;if(p.Image){const x=new Image;x.onload=$(Jt,v,"TestLoadImage: loaded",!0,f,x),x.onerror=$(Jt,v,"TestLoadImage: error",!1,f,x),x.onabort=$(Jt,v,"TestLoadImage: abort",!1,f,x),x.ontimeout=$(Jt,v,"TestLoadImage: timeout",!1,f,x),p.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else f(!1)}function hl(l,f){const v=new Ms,x=new AbortController,L=setTimeout(()=>{x.abort(),Jt(v,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:x.signal}).then(B=>{clearTimeout(L),B.ok?Jt(v,"TestPingServer: ok",!0,f):Jt(v,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Jt(v,"TestPingServer: error",!1,f)})}function Jt(l,f,v,x,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),x(v)}catch{}}function mc(){this.g=new Ds}function dl(l,f,v){const x=v||"";try{Qr(l,function(L,B){let te=L;_(L)&&(te=_i(L)),f.push(x+B+"="+encodeURIComponent(te))})}catch(L){throw f.push(x+"type="+encodeURIComponent("_badmap")),L}}function wr(l){this.l=l.Ub||null,this.j=l.eb||!1}j(wr,js),wr.prototype.g=function(){return new $s(this.l,this.j)},wr.prototype.i=(function(l){return function(){return l}})({});function $s(l,f){ne.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j($s,ne),s=$s.prototype,s.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Ln(this)},s.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||p).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,On(this)),this.readyState=0},s.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function fl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}s.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?On(this):Ln(this),this.readyState==3&&fl(this)}},s.Ra=function(l){this.g&&(this.response=this.responseText=l,On(this))},s.Qa=function(l){this.g&&(this.response=l,On(this))},s.ga=function(){this.g&&On(this)};function On(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ln(l)}s.setRequestHeader=function(l,f){this.u.append(l,f)},s.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var v=f.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=f.next();return l.join(`\r
`)};function Ln(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function xr(l){let f="";return oe(l,function(v,x){f+=x,f+=":",f+=v,f+=`\r
`}),f}function ts(l,f,v){e:{for(x in v){var x=!1;break e}x=!0}x||(v=xr(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):Qe(l,f,v))}function tt(l){ne.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(tt,ne);var gc=/^https?$/i,Bo=["POST","PUT"];s=tt.prototype,s.Ha=function(l){this.J=l},s.ea=function(l,f,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?wi(this.o):wi(Dn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(B){Hs(this,B);return}if(l=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var L in x)v.set(L,x[L]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const B of x.keys())v.set(B,x.get(B));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=p.FormData&&l instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Bo,f,void 0))||x||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bi(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){Hs(this,B)}};function Hs(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Pi(l),cn(l)}function Pi(l){l.A||(l.A=!0,re(l,"complete"),re(l,"error"))}s.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,re(this,"complete"),re(this,"abort"),cn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),tt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?$o(this):this.bb())},s.bb=function(){$o(this)};function $o(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Zt(l)!=4||l.Z()!=2)){if(l.u&&Zt(l)==4)wt(l.Ea,0,l);else if(re(l,"readystatechange"),Zt(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var v;if(!(v=f)){var x;if(x=te===0){var L=String(l.D).match(zs)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),x=!gc.test(L?L.toLowerCase():"")}v=x}if(v)re(l,"complete"),re(l,"success");else{l.m=6;try{var B=2<Zt(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",Pi(l)}}finally{cn(l)}}}}function cn(l,f){if(l.g){bi(l);const v=l.g,x=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||re(l,"ready");try{v.onreadystatechange=x}catch{}}}function bi(l){l.I&&(p.clearTimeout(l.I),l.I=null)}s.isActive=function(){return!!this.g};function Zt(l){return l.g?l.g.readyState:0}s.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),yr(f)}};function Ho(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(l){const f={};l=(l.g&&2<=Zt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(J(l[x]))continue;var v=D(l[x]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=f[L]||[];f[L]=B,B.push(v)}R(f,function(x){return x.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(l,f,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||f}function Wo(l){this.Aa=0,this.i=[],this.j=new Ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,l),this.cb=er("retryDelaySeedMs",1e4,l),this.Wa=er("forwardChannelMaxRetries",2,l),this.wa=er("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Us(l&&l.concurrentRequestLimit),this.Da=new mc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Wo.prototype,s.la=8,s.G=1,s.connect=function(l,f,v,x){ct(0),this.W=l,this.H=f||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.I=yl(this,null,this.W),tr(this)};function Dt(l){if(ji(l),l.G==3){var f=l.U++,v=un(l.I);if(Qe(v,"SID",l.K),Qe(v,"RID",f),Qe(v,"TYPE","terminate"),Er(l,v),f=new jn(l,l.j,f),f.L=2,f.v=Jr(un(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(f.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=f.v,v=!0),v||(f.g=vl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Xe(f)}gl(l)}function Fn(l){l.g&&(qo(l),l.g.cancel(),l.g=null)}function ji(l){Fn(l),l.u&&(p.clearTimeout(l.u),l.u=null),Oi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&p.clearTimeout(l.s),l.s=null)}function tr(l){if(!ln(l.h)&&!l.s){l.s=!0;var f=l.Ga;He||se(),ee||(He(),ee=!0),ge.add(f,l),l.B=0}}function yc(l,f){return sl(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Pn(V(l.Ga,l,f),ml(l,l.B)),l.B++,!0)}s.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new jn(this,this.j,l);let B=this.o;if(this.S&&(B?(B=T(B),N(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var f=0,v=0;v<this.i.length;v++){t:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(f+=x,4096<f){f=v;break e}if(f===4096||v===this.i.length-1){f=v+1;break e}}f=1e3}else f=1e3;f=ns(this,L,f),v=un(this.I),Qe(v,"RID",l),Qe(v,"CVER",22),this.D&&Qe(v,"X-HTTP-Session-Id",this.D),Er(this,v),B&&(this.O?f="headers="+encodeURIComponent(String(xr(B)))+"&"+f:this.m&&ts(v,this.m,B)),Uo(this.h,L),this.Ua&&Qe(v,"TYPE","init"),this.P?(Qe(v,"$req",f),Qe(v,"SID","null"),L.T=!0,Ai(L,v,null)):Ai(L,v,f),this.G=2}}else this.G==3&&(l?Vi(this,l):this.i.length==0||ln(this.h)||Vi(this))};function Vi(l,f){var v;f?v=f.l:v=l.U++;const x=un(l.I);Qe(x,"SID",l.K),Qe(x,"RID",v),Qe(x,"AID",l.T),Er(l,x),l.m&&l.o&&ts(x,l.m,l.o),v=new jn(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),f&&(l.i=f.D.concat(l.i)),f=ns(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Uo(l.h,v),Ai(v,x,f)}function Er(l,f){l.H&&oe(l.H,function(v,x){Qe(f,x,v)}),l.l&&Qr({},function(v,x){Qe(f,x,v)})}function ns(l,f,v){v=Math.min(l.i.length,v);var x=l.l?V(l.l.Na,l.l,l):null;e:{var L=l.i;let B=-1;for(;;){const te=["count="+v];B==-1?0<v?(B=L[0].g,te.push("ofs="+B)):B=0:te.push("ofs="+B);let We=!0;for(let xt=0;xt<v;xt++){let Le=L[xt].g;const At=L[xt].map;if(Le-=B,0>Le)B=Math.max(0,L[xt].g-100),We=!1;else try{dl(At,te,"req"+Le+"_")}catch{x&&x(At)}}if(We){x=te.join("&");break e}}}return l=l.i.splice(0,v),f.D=l,x}function Ws(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;He||se(),ee||(He(),ee=!0),ge.add(f,l),l.v=0}}function Mi(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Pn(V(l.Fa,l),ml(l,l.v)),l.v++,!0)}s.Fa=function(){if(this.u=null,pl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Pn(V(this.ab,this),l)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Fn(this),pl(this))};function qo(l){l.A!=null&&(p.clearTimeout(l.A),l.A=null)}function pl(l){l.g=new jn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=un(l.qa);Qe(f,"RID","rpc"),Qe(f,"SID",l.K),Qe(f,"AID",l.T),Qe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Qe(f,"TO",l.ja),Qe(f,"TYPE","xmlhttp"),Er(l,f),l.m&&l.o&&ts(f,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=Jr(un(f)),v.m=null,v.P=!0,Lo(v,l)}s.Za=function(){this.C!=null&&(this.C=null,Fn(this),Mi(this),ct(19))};function Oi(l){l.C!=null&&(p.clearTimeout(l.C),l.C=null)}function Li(l,f){var v=null;if(l.g==f){Oi(l),qo(l),l.g=null;var x=2}else if(Kt(l.h,f))v=f.D,il(l.h,f),x=1;else return;if(l.G!=0){if(f.o)if(x==1){v=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;x=Vs(),re(x,new Ti(x,v)),tr(l)}else Ws(l);else if(L=f.s,L==3||L==0&&0<f.X||!(x==1&&yc(l,f)||x==2&&Mi(l)))switch(v&&0<v.length&&(f=l.h,f.i=f.i.concat(v)),L){case 1:Tr(l,5);break;case 4:Tr(l,10);break;case 3:Tr(l,6);break;default:Tr(l,2)}}}function ml(l,f){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*f}function Tr(l,f){if(l.j.info("Error code "+f),f==2){var v=V(l.fb,l),x=l.Xa;const L=!x;x=new _r(x||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Bs(x,"https"),Jr(x),L?pc(x.toString(),v):hl(x.toString(),v)}else ct(2);l.G=0,l.l&&l.l.sa(f),gl(l),ji(l)}s.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function gl(l){if(l.G=0,l.ka=[],l.l){const f=ol(l.h);(f.length!=0||l.i.length!=0)&&(P(l.ka,f),P(l.ka,l.i),l.h.i.length=0,H(l.i),l.i.length=0),l.l.ra()}}function yl(l,f,v){var x=v instanceof _r?un(v):new _r(v);if(x.g!="")f&&(x.g=f+"."+x.g),Xr(x,x.s);else{var L=p.location;x=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var B=new _r(null);x&&Bs(B,x),f&&(B.g=f),L&&Xr(B,L),v&&(B.l=v),x=B}return v=l.D,f=l.ya,v&&f&&Qe(x,v,f),Qe(x,"VER",l.la),Er(l,x),x}function vl(l,f,v){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new tt(new wr({eb:v})):new tt(l.pa),f.Ha(l.J),f}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Go(){}s=Go.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Fi(){}Fi.prototype.g=function(l,f){return new Qt(l,f)};function Qt(l,f){ne.call(this),this.g=new Wo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!J(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!J(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new nr(this)}j(Qt,ne),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Dt(this.g)},Qt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=_i(l),l=v);f.i.push(new rl(f.Ya++,l)),f.G==3&&tr(f)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,Qt.aa.N.call(this)};function _l(l){Xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const v in f){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}j(_l,Xn);function wl(){Ei.call(this),this.status=1}j(wl,Ei);function nr(l){this.g=l}j(nr,Go),nr.prototype.ua=function(){re(this.g,"a")},nr.prototype.ta=function(l){re(this.g,new _l(l))},nr.prototype.sa=function(l){re(this.g,new wl)},nr.prototype.ra=function(){re(this.g,"b")},Fi.prototype.createWebChannel=Fi.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,my=function(){return new Fi},py=function(){return Vs()},fy=Yn,id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,wu=Si,Za.COMPLETE="complete",dy=Za,xi.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",ne.prototype.listen=ne.prototype.K,wa=xi,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,hy=tt}).apply(typeof pu<"u"?pu:typeof self<"u"?self:typeof window<"u"?window:{});const qm="@firebase/firestore";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Co="10.14.0";const di=new Ad("@firebase/firestore");function va(){return di.logLevel}function he(s,...e){if(di.logLevel<=Oe.DEBUG){const t=e.map(Nd);di.debug(`Firestore (${Co}): ${s}`,...t)}}function Fr(s,...e){if(di.logLevel<=Oe.ERROR){const t=e.map(Nd);di.error(`Firestore (${Co}): ${s}`,...t)}}function vo(s,...e){if(di.logLevel<=Oe.WARN){const t=e.map(Nd);di.warn(`Firestore (${Co}): ${s}`,...t)}}function Nd(s){if(typeof s=="string")return s;try{return(function(t){return JSON.stringify(t)})(s)}catch{return s}}function ke(s="Unexpected state"){const e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+s;throw Fr(e),new Error(e)}function qe(s,e){s||ke()}function Re(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ss{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class gy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ux{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Wt.UNAUTHENTICATED)))}shutdown(){}}class cx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hx{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let i=this.i;const o=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let u=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ss,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ss)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qe(typeof i.accessToken=="string"),new gy(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Wt(e)}}class dx{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fx{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new dx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class px{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(this.o===void 0);const i=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(qe(typeof t.token=="string"),this.R=t.token,new px(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<s;i++)t[i]=Math.floor(256*Math.random());return t}class yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=gx(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<t&&(i+=e.charAt(o[u]%e.length))}return i}}function $e(s,e){return s<e?-1:s>e?1:0}function _o(s,e,t){return s.length===e.length&&s.every(((i,o)=>t(i,e[o])))}class St{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ve(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new St(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new St(0,0))}static max(){return new Ce(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pa{constructor(e,t,i){t===void 0?t=0:t>e.length&&ke(),i===void 0?i=e.length-t:i>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Pa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rt extends Pa{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const yx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends Pa{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return yx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const u=()=>{if(i.length===0)throw new ve(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ve(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ve(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(u(),o++)}if(u(),h)throw new ve(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(rt.fromString(e))}static fromName(e){return new Ee(rt.fromString(e).popFirst(5))}static empty(){return new Ee(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new rt(e.slice()))}}function vx(s,e){const t=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(i===1e9?new St(t+1,0):new St(t,i));return new As(o,Ee.empty(),e)}function _x(s){return new As(s.readTime,s.key,-1)}class As{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new As(Ce.min(),Ee.empty(),-1)}static max(){return new As(Ce.max(),Ee.empty(),-1)}}function wx(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(s.documentKey,e.documentKey),t!==0?t:$e(s.largestBatchId,e.largestBatchId))}const xx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ba(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==xx)throw s;he("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,i)=>{t(e)}))}static reject(e){return new Q(((t,i)=>{i(e)}))}static waitFor(e){return new Q(((t,i)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&t()}),(y=>i(y)))})),h=!0,u===o&&t()}))}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next((o=>o?Q.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,u)=>{i.push(t.call(this,o,u))})),this.waitFor(i)}static mapArray(e,t){return new Q(((i,o)=>{const u=e.length,h=new Array(u);let p=0;for(let y=0;y<u;y++){const _=y;t(e[_]).next((E=>{h[_]=E,++p,p===u&&i(h)}),(E=>o(E)))}}))}static doWhile(e,t){return new Q(((i,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):i()};u()}))}}function Tx(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $a(s){return s.name==="IndexedDbTransactionError"}class Pd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pd.oe=-1;function Xu(s){return s==null}function Du(s){return s===0&&1/s==-1/0}function Ix(s){return typeof s=="number"&&Number.isInteger(s)&&!Du(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function Gm(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Ro(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function vy(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class at{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mu(this.root,e,this.comparator,!0)}}class mu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,t,i,o,u){this.key=e,this.value=t,this.color=i??Mt.RED,this.left=o??Mt.EMPTY,this.right=u??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,u){return new Mt(e??this.key,t??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,i),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Mt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,i,o,u){return this}insert(e,t,i){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Km(this.data.getIterator())}getIteratorFrom(e){return new Km(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class Km{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Lt(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class _y extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _y("Invalid base64 string: "+u):u}})(e);return new Ft(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const Sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(s){if(qe(!!s),typeof s=="string"){let e=0;const t=Sx.exec(s);if(qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(s.seconds),nanos:dt(s.nanos)}}function dt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fi(s){return typeof s=="string"?Ft.fromBase64String(s):Ft.fromUint8Array(s)}function bd(s){var e,t;return((t=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dd(s){const e=s.mapValue.fields.__previous_value__;return bd(e)?Dd(e):e}function ba(s){const e=Cs(s.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}class kx{constructor(e,t,i,o,u,h,p,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_}}class Da{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Da("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Da&&e.projectId===this.projectId&&e.database===this.database}}const gu={mapValue:{}};function pi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?bd(s)?4:Cx(s)?9007199254740991:Ax(s)?10:11:ke()}function fr(s,e){if(s===e)return!0;const t=pi(s);if(t!==pi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ba(s).isEqual(ba(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Cs(o.timestampValue),p=Cs(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return fi(o.bytesValue).isEqual(fi(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=dt(o.doubleValue),p=dt(u.doubleValue);return h===p?Du(h)===Du(p):isNaN(h)&&isNaN(p)}return!1})(s,e);case 9:return _o(s.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Gm(h)!==Gm(p))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(p[y]===void 0||!fr(h[y],p[y])))return!1;return!0})(s,e);default:return ke()}}function ja(s,e){return(s.values||[]).find((t=>fr(t,e)))!==void 0}function wo(s,e){if(s===e)return 0;const t=pi(s),i=pi(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(s.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=dt(u.integerValue||u.doubleValue),y=dt(h.integerValue||h.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return Qm(s.timestampValue,e.timestampValue);case 4:return Qm(ba(s),ba(e));case 5:return $e(s.stringValue,e.stringValue);case 6:return(function(u,h){const p=fi(u),y=fi(h);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),y=h.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=$e(p[_],y[_]);if(E!==0)return E}return $e(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=$e(dt(u.latitude),dt(h.latitude));return p!==0?p:$e(dt(u.longitude),dt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Xm(s.arrayValue,e.arrayValue);case 10:return(function(u,h){var p,y,_,E;const C=u.fields||{},V=h.fields||{},$=(p=C.value)===null||p===void 0?void 0:p.arrayValue,j=(y=V.value)===null||y===void 0?void 0:y.arrayValue,H=$e(((_=$?.values)===null||_===void 0?void 0:_.length)||0,((E=j?.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:Xm($,j)})(s.mapValue,e.mapValue);case 11:return(function(u,h){if(u===gu.mapValue&&h===gu.mapValue)return 0;if(u===gu.mapValue)return 1;if(h===gu.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),_=h.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let C=0;C<y.length&&C<E.length;++C){const V=$e(y[C],E[C]);if(V!==0)return V;const $=wo(p[y[C]],_[E[C]]);if($!==0)return $}return $e(y.length,E.length)})(s.mapValue,e.mapValue);default:throw ke()}}function Qm(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return $e(s,e);const t=Cs(s),i=Cs(e),o=$e(t.seconds,i.seconds);return o!==0?o:$e(t.nanos,i.nanos)}function Xm(s,e){const t=s.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const u=wo(t[o],i[o]);if(u)return u}return $e(t.length,i.length)}function xo(s){return od(s)}function od(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const i=Cs(t);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return fi(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return Ee.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let i="[",o=!0;for(const u of t.values||[])o?o=!1:i+=",",i+=od(u);return i+"]"})(s.arrayValue):"mapValue"in s?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of i)u?u=!1:o+=",",o+=`${h}:${od(t.fields[h])}`;return o+"}"})(s.mapValue):ke()}function ad(s){return!!s&&"integerValue"in s}function jd(s){return!!s&&"arrayValue"in s}function Ym(s){return!!s&&"nullValue"in s}function Jm(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function xu(s){return!!s&&"mapValue"in s}function Ax(s){var e,t;return((t=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ia(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ro(s.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Ia(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ia(s.arrayValue.values[t]);return e}return Object.assign({},s)}function Cx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ia(t)}setAll(e){let t=Ot.emptyPath(),i={},o=[];e.forEach(((h,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,i,o),i={},o=[],t=p.popLast()}h?i[p.lastSegment()]=Ia(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,i,o)}delete(e){const t=this.field(e.popLast());xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ro(t,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new An(Ia(this.value))}}function wy(s){const e=[];return Ro(s.fields,((t,i)=>{const o=new Ot([t]);if(xu(i)){const u=wy(i.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Gn(e)}class qt{constructor(e,t,i,o,u,h,p){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new qt(e,0,Ce.min(),Ce.min(),Ce.min(),An.empty(),0)}static newFoundDocument(e,t,i,o){return new qt(e,1,t,Ce.min(),i,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Ce.min(),Ce.min(),An.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ce.min(),Ce.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ju{constructor(e,t){this.position=e,this.inclusive=t}}function Zm(s,e,t){let i=0;for(let o=0;o<s.position.length;o++){const u=e[o],h=s.position[o];if(u.field.isKeyField()?i=Ee.comparator(Ee.fromName(h.referenceValue),t.key):i=wo(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function eg(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!fr(s.position[t],e.position[t]))return!1;return!0}class Vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class xy{}class It extends xy{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Px(e,t,i):t==="array-contains"?new jx(e,i):t==="in"?new Vx(e,i):t==="not-in"?new Mx(e,i):t==="array-contains-any"?new Ox(e,i):new It(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new bx(e,i):new Dx(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(wo(t,this.value)):t!==null&&pi(this.value)===pi(t)&&this.matchesComparison(wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends xy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new pr(e,t)}matches(e){return Ey(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ey(s){return s.op==="and"}function Ty(s){return Nx(s)&&Ey(s)}function Nx(s){for(const e of s.filters)if(e instanceof pr)return!1;return!0}function ld(s){if(s instanceof It)return s.field.canonicalString()+s.op.toString()+xo(s.value);if(Ty(s))return s.filters.map((e=>ld(e))).join(",");{const e=s.filters.map((t=>ld(t))).join(",");return`${s.op}(${e})`}}function Iy(s,e){return s instanceof It?(function(i,o){return o instanceof It&&i.op===o.op&&i.field.isEqual(o.field)&&fr(i.value,o.value)})(s,e):s instanceof pr?(function(i,o){return o instanceof pr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,h,p)=>u&&Iy(h,o.filters[p])),!0):!1})(s,e):void ke()}function Sy(s){return s instanceof It?(function(t){return`${t.field.canonicalString()} ${t.op} ${xo(t.value)}`})(s):s instanceof pr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Sy).join(" ,")+"}"})(s):"Filter"}class Px extends It{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class bx extends It{constructor(e,t){super(e,"in",t),this.keys=ky("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Dx extends It{constructor(e,t){super(e,"not-in",t),this.keys=ky("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ky(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>Ee.fromName(i.referenceValue)))}class jx extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jd(t)&&ja(t.arrayValue,this.value)}}class Vx extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ja(this.value.arrayValue,t)}}class Mx extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ja(this.value.arrayValue,t)}}class Ox extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>ja(this.value.arrayValue,i)))}}class Lx{constructor(e,t=null,i=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.ue=null}}function tg(s,e=null,t=[],i=[],o=null,u=null,h=null){return new Lx(s,e,t,i,o,u,h)}function Vd(s){const e=Re(s);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>ld(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Xu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>xo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>xo(i))).join(",")),e.ue=t}return e.ue}function Md(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!Rx(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!Iy(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!eg(s.startAt,e.startAt)&&eg(s.endAt,e.endAt)}function ud(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Yu{constructor(e,t=null,i=[],o=[],u=null,h="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Fx(s,e,t,i,o,u,h,p){return new Yu(s,e,t,i,o,u,h,p)}function Od(s){return new Yu(s)}function ng(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Ux(s){return s.collectionGroup!==null}function Sa(s){const e=Re(s);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Lt(Ot.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Vu(u,i))})),t.has(Ot.keyField().canonicalString())||e.ce.push(new Vu(Ot.keyField(),i))}return e.ce}function ur(s){const e=Re(s);return e.le||(e.le=zx(e,Sa(s))),e.le}function zx(s,e){if(s.limitType==="F")return tg(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Vu(o.field,u)}));const t=s.endAt?new ju(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new ju(s.startAt.position,s.startAt.inclusive):null;return tg(s.path,s.collectionGroup,e,s.filters,s.limit,t,i)}}function cd(s,e,t){return new Yu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Ju(s,e){return Md(ur(s),ur(e))&&s.limitType===e.limitType}function Ay(s){return`${Vd(ur(s))}|lt:${s.limitType}`}function lo(s){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>Sy(o))).join(", ")}]`),Xu(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>xo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>xo(o))).join(",")),`Target(${i})`})(ur(s))}; limitType=${s.limitType})`}function Zu(s,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Ee.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(s,e)&&(function(i,o){for(const u of Sa(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(i,o){return!(i.startAt&&!(function(h,p,y){const _=Zm(h,p,y);return h.inclusive?_<=0:_<0})(i.startAt,Sa(i),o)||i.endAt&&!(function(h,p,y){const _=Zm(h,p,y);return h.inclusive?_>=0:_>0})(i.endAt,Sa(i),o))})(s,e)}function Bx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Cy(s){return(e,t)=>{let i=!1;for(const o of Sa(s)){const u=$x(o,e,t);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function $x(s,e,t){const i=s.field.isKeyField()?Ee.comparator(e.key,t.key):(function(u,h,p){const y=h.data.field(u),_=p.data.field(u);return y!==null&&_!==null?wo(y,_):ke()})(s.field,e,t);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return ke()}}class No{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,((t,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return vy(this.inner)}size(){return this.innerSize}}const Hx=new at(Ee.comparator);function Ur(){return Hx}const Ry=new at(Ee.comparator);function xa(...s){let e=Ry;for(const t of s)e=e.insert(t.key,t);return e}function Ny(s){let e=Ry;return s.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ai(){return ka()}function Py(){return ka()}function ka(){return new No((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Wx=new at(Ee.comparator),qx=new Lt(Ee.comparator);function Ve(...s){let e=qx;for(const t of s)e=e.add(t);return e}const Gx=new Lt($e);function Kx(){return Gx}function Ld(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(e)?"-0":e}}function by(s){return{integerValue:""+s}}function Qx(s,e){return Ix(e)?by(e):Ld(s,e)}class ec{constructor(){this._=void 0}}function Xx(s,e,t){return s instanceof Mu?(function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bd(u)&&(u=Dd(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}})(t,e):s instanceof Va?jy(s,e):s instanceof Ma?Vy(s,e):(function(o,u){const h=Dy(o,u),p=rg(h)+rg(o.Pe);return ad(h)&&ad(o.Pe)?by(p):Ld(o.serializer,p)})(s,e)}function Yx(s,e,t){return s instanceof Va?jy(s,e):s instanceof Ma?Vy(s,e):t}function Dy(s,e){return s instanceof Ou?(function(i){return ad(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class Mu extends ec{}class Va extends ec{constructor(e){super(),this.elements=e}}function jy(s,e){const t=My(e);for(const i of s.elements)t.some((o=>fr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Ma extends ec{constructor(e){super(),this.elements=e}}function Vy(s,e){let t=My(e);for(const i of s.elements)t=t.filter((o=>!fr(o,i)));return{arrayValue:{values:t}}}class Ou extends ec{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function rg(s){return dt(s.integerValue||s.doubleValue)}function My(s){return jd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Jx(s,e){return s.field.isEqual(e.field)&&(function(i,o){return i instanceof Va&&o instanceof Va||i instanceof Ma&&o instanceof Ma?_o(i.elements,o.elements,fr):i instanceof Ou&&o instanceof Ou?fr(i.Pe,o.Pe):i instanceof Mu&&o instanceof Mu})(s.transform,e.transform)}class Zx{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class tc{}function Oy(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Fd(s.key,cr.none()):new Ha(s.key,s.data,cr.none());{const t=s.data,i=An.empty();let o=new Lt(Ot.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),o=o.add(u)}return new gi(s.key,i,new Gn(o.toArray()),cr.none())}}function e1(s,e,t){s instanceof Ha?(function(o,u,h){const p=o.value.clone(),y=ig(o.fieldTransforms,u,h.transformResults);p.setAll(y),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(s,e,t):s instanceof gi?(function(o,u,h){if(!Eu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=ig(o.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(Ly(o)),y.setAll(p),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(s,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Aa(s,e,t,i){return s instanceof Ha?(function(u,h,p,y){if(!Eu(u.precondition,h))return p;const _=u.value.clone(),E=og(u.fieldTransforms,y,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(s,e,t,i):s instanceof gi?(function(u,h,p,y){if(!Eu(u.precondition,h))return p;const _=og(u.fieldTransforms,y,h),E=h.data;return E.setAll(Ly(u)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((C=>C.field)))})(s,e,t,i):(function(u,h,p){return Eu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(s,e,t)}function t1(s,e){let t=null;for(const i of s.fieldTransforms){const o=e.data.field(i.field),u=Dy(i.transform,o||null);u!=null&&(t===null&&(t=An.empty()),t.set(i.field,u))}return t||null}function sg(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&_o(i,o,((u,h)=>Jx(u,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ha extends tc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gi extends tc{constructor(e,t,i,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ly(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=s.data.field(t);e.set(t,i)}})),e}function ig(s,e,t){const i=new Map;qe(s.length===t.length);for(let o=0;o<t.length;o++){const u=s[o],h=u.transform,p=e.data.field(u.field);i.set(u.field,Yx(h,p,t[o]))}return i}function og(s,e,t){const i=new Map;for(const o of s){const u=o.transform,h=t.data.field(o.field);i.set(o.field,Xx(u,h,e))}return i}class Fd extends tc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n1 extends tc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class r1{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&e1(u,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Aa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Aa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Py();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=t.has(o.key)?null:p;const y=Oy(h,p);y!==null&&i.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Ce.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((t,i)=>sg(t,i)))&&_o(this.baseMutations,e.baseMutations,((t,i)=>sg(t,i)))}}class Ud{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){qe(e.mutations.length===i.length);let o=(function(){return Wx})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,i[h].version);return new Ud(e,t,i,o)}}class s1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class i1{constructor(e,t){this.count=e,this.unchangedNames=t}}var vt,Fe;function o1(s){switch(s){default:return ke();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function Fy(s){if(s===void 0)return Fr("GRPC error has no .code"),X.UNKNOWN;switch(s){case vt.OK:return X.OK;case vt.CANCELLED:return X.CANCELLED;case vt.UNKNOWN:return X.UNKNOWN;case vt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case vt.INTERNAL:return X.INTERNAL;case vt.UNAVAILABLE:return X.UNAVAILABLE;case vt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case vt.NOT_FOUND:return X.NOT_FOUND;case vt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case vt.ABORTED:return X.ABORTED;case vt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case vt.DATA_LOSS:return X.DATA_LOSS;default:return ke()}}(Fe=vt||(vt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function a1(){return new TextEncoder}const l1=new ui([4294967295,4294967295],0);function ag(s){const e=a1().encode(s),t=new cy;return t.update(e),new Uint8Array(t.digest())}function lg(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ui([t,i],0),new ui([o,u],0)]}class zd{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ea(`Invalid padding: ${t}`);if(i<0)throw new Ea(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ea(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ea(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ui.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(ui.fromNumber(i)));return o.compare(l1)===1&&(o=new ui([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=ag(e),[i,o]=lg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(i,o,u);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new zd(u,o,t);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.Ie===0)return;const t=ag(e),[i,o]=lg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(i,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nc{constructor(e,t,i,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Wa.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new nc(Ce.min(),o,new at($e),Ur(),Ve())}}class Wa{constructor(e,t,i,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Wa(i,t,Ve(),Ve(),Ve())}}class Tu{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Uy{constructor(e,t){this.targetId=e,this.me=t}}class zy{constructor(e,t,i=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class ug{constructor(){this.fe=0,this.ge=hg(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),t=Ve(),i=Ve();return this.ge.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:ke()}})),new Wa(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=hg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class u1{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ur(),this.qe=cg(),this.Qe=new at($e)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ke()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const u=o.target;if(ud(u))if(i===0){const h=new Ee(u.path);this.Ue(t,h,qt.newNoDocument(h,Ce.min()))}else qe(i===1);else{const h=this.Ye(t);if(h!==i){const p=this.Ze(e),y=p?this.Xe(p,e,h):1;if(y!==0){this.je(t);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,_)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=t;let h,p;try{h=fi(i).toUint8Array()}catch(y){if(y instanceof _y)return vo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new zd(h,o,u)}catch(y){return vo(y instanceof Ea?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.Ie===0?null:p}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((u=>{const h=this.Le.tt(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.Ue(t,u,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((u,h)=>{const p=this.Je(h);if(p){if(u.current&&ud(p.target)){const y=new Ee(p.target.path);this.ke.get(y)!==null||this.it(h,y)||this.Ue(h,y,qt.newNoDocument(y,e))}u.be&&(t.set(h,u.ve()),u.Ce())}}));let i=Ve();this.qe.forEach(((u,h)=>{let p=!0;h.forEachWhile((y=>{const _=this.Je(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.ke.forEach(((u,h)=>h.setReadTime(e)));const o=new nc(e,t,this.Qe,this.ke,i);return this.ke=Ur(),this.qe=cg(),this.Qe=new at($e),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ug,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Lt($e),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ug),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function cg(){return new at(Ee.comparator)}function hg(){return new at(Ee.comparator)}const c1={asc:"ASCENDING",desc:"DESCENDING"},h1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d1={and:"AND",or:"OR"};class f1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hd(s,e){return s.useProto3Json||Xu(e)?e:{value:e}}function Lu(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function By(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function p1(s,e){return Lu(s,e.toTimestamp())}function hr(s){return qe(!!s),Ce.fromTimestamp((function(t){const i=Cs(t);return new St(i.seconds,i.nanos)})(s))}function Bd(s,e){return dd(s,e).canonicalString()}function dd(s,e){const t=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?t:t.child(e)}function $y(s){const e=rt.fromString(s);return qe(Ky(e)),e}function fd(s,e){return Bd(s.databaseId,e.path)}function Gh(s,e){const t=$y(e);if(t.get(1)!==s.databaseId.projectId)throw new ve(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new ve(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Ee(Wy(t))}function Hy(s,e){return Bd(s.databaseId,e)}function m1(s){const e=$y(s);return e.length===4?rt.emptyPath():Wy(e)}function pd(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Wy(s){return qe(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function dg(s,e,t){return{name:fd(s,e),fields:t.value.mapValue.fields}}function g1(s,e){let t;if("targetChange"in e){e.targetChange;const i=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ke()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(_,E){return _.useProto3Json?(qe(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):(qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(_){const E=_.code===void 0?X.UNKNOWN:Fy(_.code);return new ve(E,_.message||"")})(h);t=new zy(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Gh(s,i.document.name),u=hr(i.document.updateTime),h=i.document.createTime?hr(i.document.createTime):Ce.min(),p=new An({mapValue:{fields:i.document.fields}}),y=qt.newFoundDocument(o,u,h,p),_=i.targetIds||[],E=i.removedTargetIds||[];t=new Tu(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Gh(s,i.document),u=i.readTime?hr(i.readTime):Ce.min(),h=qt.newNoDocument(o,u),p=i.removedTargetIds||[];t=new Tu([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Gh(s,i.document),u=i.removedTargetIds||[];t=new Tu([],u,o,null)}else{if(!("filter"in e))return ke();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,h=new i1(o,u),p=i.targetId;t=new Uy(p,h)}}return t}function y1(s,e){let t;if(e instanceof Ha)t={update:dg(s,e.key,e.value)};else if(e instanceof Fd)t={delete:fd(s,e.key)};else if(e instanceof gi)t={update:dg(s,e.key,e.data),updateMask:k1(e.fieldMask)};else{if(!(e instanceof n1))return ke();t={verify:fd(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(u,h){const p=h.transform;if(p instanceof Mu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Va)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ma)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ou)return{fieldPath:h.field.canonicalString(),increment:p.Pe};throw ke()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:p1(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ke()})(s,e.precondition)),t}function v1(s,e){return s&&s.length>0?(qe(e!==void 0),s.map((t=>(function(o,u){let h=o.updateTime?hr(o.updateTime):hr(u);return h.isEqual(Ce.min())&&(h=hr(u)),new Zx(h,o.transformResults||[])})(t,e)))):[]}function _1(s,e){return{documents:[Hy(s,e.path)]}}function w1(s,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Hy(s,o);const u=(function(_){if(_.length!==0)return Gy(pr.create(_,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(_){if(_.length!==0)return _.map((E=>(function(V){return{field:uo(V.field),direction:T1(V.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=hd(s,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{_t:t,parent:o}}function x1(s){let e=m1(s.parent);const t=s.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){qe(i===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=(function(C){const V=qy(C);return V instanceof pr&&Ty(V)?V.getFilters():[V]})(t.where));let h=[];t.orderBy&&(h=(function(C){return C.map((V=>(function(j){return new Vu(co(j.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(V)))})(t.orderBy));let p=null;t.limit&&(p=(function(C){let V;return V=typeof C=="object"?C.value:C,Xu(V)?null:V})(t.limit));let y=null;t.startAt&&(y=(function(C){const V=!!C.before,$=C.values||[];return new ju($,V)})(t.startAt));let _=null;return t.endAt&&(_=(function(C){const V=!C.before,$=C.values||[];return new ju($,V)})(t.endAt)),Fx(e,o,h,u,p,"F",y,_)}function E1(s,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qy(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=co(t.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=co(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(t.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(t.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ke()}})(s):s.fieldFilter!==void 0?(function(t){return It.create(co(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return pr.create(t.compositeFilter.filters.map((i=>qy(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke()}})(t.compositeFilter.op))})(s):ke()}function T1(s){return c1[s]}function I1(s){return h1[s]}function S1(s){return d1[s]}function uo(s){return{fieldPath:s.canonicalString()}}function co(s){return Ot.fromServerFormat(s.fieldPath)}function Gy(s){return s instanceof It?(function(t){if(t.op==="=="){if(Jm(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NAN"}};if(Ym(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jm(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NAN"}};if(Ym(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(t.field),op:I1(t.op),value:t.value}}})(s):s instanceof pr?(function(t){const i=t.getFilters().map((o=>Gy(o)));return i.length===1?i[0]:{compositeFilter:{op:S1(t.op),filters:i}}})(s):ke()}function k1(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Ky(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class xs{constructor(e,t,i,o,u=Ce.min(),h=Ce.min(),p=Ft.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class A1{constructor(e){this.ct=e}}function C1(s){const e=x1({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?cd(e,e.limit,"L"):e}class R1{constructor(){this.un=new N1}addToCollectionParentIndex(e,t){return this.un.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(As.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class N1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Lt(rt.comparator),u=!o.has(i);return this.index[t]=o.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}class Eo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Eo(0)}static kn(){return new Eo(-1)}}class P1{constructor(){this.changes=new No((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class D1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Aa(i.mutation,o,Gn.empty(),St.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ve()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ve()){const o=ai();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((u=>{let h=xa();return u.forEach(((p,y)=>{h=h.insert(p,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=ai();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ve())))}populateOverlays(e,t,i){const o=[];return i.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{t.set(h,p)}))}))}computeViews(e,t,i,o){let u=Ur();const h=ka(),p=(function(){return ka()})();return t.forEach(((y,_)=>{const E=i.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof gi)?u=u.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),Aa(E.mutation,_,E.mutation.getFieldMask(),St.now())):h.set(_.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((_,E)=>h.set(_,E))),t.forEach(((_,E)=>{var C;return p.set(_,new b1(E,(C=h.get(_))!==null&&C!==void 0?C:null))})),p)))}recalculateAndSaveOverlays(e,t){const i=ka();let o=new at(((h,p)=>h-p)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const p of h)p.keys().forEach((y=>{const _=t.get(y);if(_===null)return;let E=i.get(y)||Gn.empty();E=p.applyToLocalView(_,E),i.set(y,E);const C=(o.get(p.batchId)||Ve()).add(y);o=o.insert(p.batchId,C)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,C=Py();E.forEach((V=>{if(!u.has(V)){const $=Oy(t.get(V),i.get(V));$!==null&&C.set(V,$),u=u.add(V)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,C))}return Q.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return Ee.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ux(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-u.size):Q.resolve(ai());let p=-1,y=u;return h.next((_=>Q.forEach(_,((E,C)=>(p<C.largestBatchId&&(p=C.largestBatchId),u.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next((V=>{y=y.insert(E,V)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,y,_,Ve()))).next((E=>({batchId:p,changes:Ny(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((i=>{let o=xa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const u=t.collectionGroup;let h=xa();return this.indexManager.getCollectionParents(e,u).next((p=>Q.forEach(p,(y=>{const _=(function(C,V){return new Yu(V,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(t,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next((E=>{E.forEach(((C,V)=>{h=h.insert(C,V)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,o)))).next((h=>{u.forEach(((y,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,qt.newInvalidDocument(E)))}));let p=xa();return h.forEach(((y,_)=>{const E=u.get(y);E!==void 0&&Aa(E.mutation,_,Gn.empty(),St.now()),Zu(t,_)&&(p=p.insert(y,_))})),p}))}}class j1{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:hr(o.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:C1(o.bundledQuery),readTime:hr(o.readTime)}})(t)),Q.resolve()}}class V1{constructor(){this.overlays=new at(Ee.comparator),this.Ir=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ai();return Q.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,u)=>{this.ht(e,t,u)})),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=ai(),u=t.length+1,h=new Ee(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>i&&o.set(y.getKey(),y)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let u=new at(((_,E)=>_-E));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let E=u.get(_.largestBatchId);E===null&&(E=ai(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=ai(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return Q.resolve(p)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new s1(t,i));let u=this.Ir.get(t);u===void 0&&(u=Ve(),this.Ir.set(t,u)),this.Ir.set(t,u.add(i.key))}}class M1{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}class $d{constructor(){this.Tr=new Lt(Pt.Er),this.dr=new Lt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new Ee(new rt([])),i=new Pt(t,e),o=new Pt(t,e+1),u=[];return this.dr.forEachInRange([i,o],(h=>{this.Vr(h),u.push(h.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ee(new rt([])),i=new Pt(t,e),o=new Pt(t,e+1);let u=Ve();return this.dr.forEachInRange([i,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new Pt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ee.comparator(e.key,t.key)||$e(e.wr,t.wr)}static Ar(e,t){return $e(e.wr,t.wr)||Ee.comparator(e.key,t.key)}}class O1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Lt(Pt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new r1(u,t,i,o);this.mutationQueue.push(h);for(const p of o)this.br=this.br.add(new Pt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),u=o<0?0:o;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([i,o],(h=>{const p=this.Dr(h.wr);u.push(p)})),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt($e);return t.forEach((o=>{const u=new Pt(o,0),h=new Pt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],(p=>{i=i.add(p.wr)}))})),Q.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let u=i;Ee.isDocumentKey(u)||(u=u.child(""));const h=new Pt(new Ee(u),0);let p=new Lt($e);return this.br.forEachWhile((y=>{const _=y.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.wr)),!0)}),h),Q.resolve(this.Cr(p))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return Q.forEach(t.mutations,(o=>{const u=new Pt(o.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new Pt(t,0),o=this.br.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class L1{constructor(e){this.Mr=e,this.docs=(function(){return new at(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),u=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let i=Ur();return t.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():qt.newInvalidDocument(o))})),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let u=Ur();const h=t.path,p=new Ee(h.child("")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||wx(_x(E),i)<=0||(o.has(E.key)||Zu(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(e,t,i,o){ke()}Or(e,t){return Q.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new F1(this)}getSize(e){return Q.resolve(this.size)}}class F1 extends P1{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),Q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class U1{constructor(e){this.persistence=e,this.Nr=new No((t=>Vd(t)),Md),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $d,this.targetCount=0,this.kr=Eo.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Eo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Kn(t),Q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const u=[];return this.Nr.forEach(((h,p)=>{p.sequenceNumber<=t&&i.get(p.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Q.waitFor(u).next((()=>o))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),Q.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.Br.containsKey(t))}}class z1{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Pd(0),this.Kr=!1,this.Kr=!0,this.$r=new M1,this.referenceDelegate=e(this),this.Ur=new U1(this),this.indexManager=new R1,this.remoteDocumentCache=(function(o){return new L1(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new A1(t),this.Gr=new j1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new V1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new O1(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const o=new B1(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((u=>this.referenceDelegate.jr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Hr(e,t){return Q.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class B1 extends Ex{constructor(e){super(),this.currentSequenceNumber=e}}class Hd{constructor(e){this.persistence=e,this.Jr=new $d,this.Yr=null}static Zr(e){return new Hd(e)}get Xr(){if(this.Yr)return this.Yr;throw ke()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.Xr.add(u.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,(i=>{const o=Ee.fromPath(i);return this.ei(e,o).next((u=>{u||t.removeEntry(o,Ce.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Q.or([()=>Q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Wd{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Wd(e,t.fromCache,i,o)}}class $1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class H1{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return q_()?8:Tx(Gt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const u={result:null};return this.Yi(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.Zi(e,t,o,i).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new $1;return this.Xi(e,t,h).next((p=>{if(u.result=p,this.zi)return this.es(e,t,h,p.size)}))})).next((()=>u.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(va()<=Oe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(va()<=Oe.DEBUG&&he("QueryEngine","Query:",lo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(va()<=Oe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(t))):Q.resolve())}Yi(e,t){if(ng(t))return Q.resolve(null);let i=ur(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=cd(t,null,"F"),i=ur(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const h=Ve(...u);return this.Ji.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((y=>{const _=this.ts(t,p);return this.ns(t,_,h,y.readTime)?this.Yi(e,cd(t,null,"F")):this.rs(e,_,t,y)}))))})))))}Zi(e,t,i,o){return ng(t)||o.isEqual(Ce.min())?Q.resolve(null):this.Ji.getDocuments(e,i).next((u=>{const h=this.ts(t,u);return this.ns(t,h,i,o)?Q.resolve(null):(va()<=Oe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(t)),this.rs(e,h,t,vx(o,-1)).next((p=>p)))}))}ts(e,t){let i=new Lt(Cy(e));return t.forEach(((o,u)=>{Zu(e,u)&&(i=i.add(u))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,t,i){return va()<=Oe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",lo(t)),this.Ji.getDocumentsMatchingQuery(e,t,As.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}class W1{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new at($e),this._s=new No((u=>Vd(u)),Md),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D1(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function q1(s,e,t,i){return new W1(s,e,t,i)}async function Qy(s,e){const t=Re(s);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((u=>{const h=[],p=[];let y=Ve();for(const _ of o){h.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of u){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return t.localDocuments.getDocuments(i,y).next((_=>({hs:_,removedBatchIds:h,addedBatchIds:p})))}))}))}function G1(s,e){const t=Re(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const C=_.batch,V=C.keys();let $=Q.resolve();return V.forEach((j=>{$=$.next((()=>E.getEntry(y,j))).next((H=>{const P=_.docVersions.get(j);qe(P!==null),H.version.compareTo(P)<0&&(C.applyToRemoteDocument(H,_),H.isValidDocument()&&(H.setReadTime(_.commitVersion),E.addEntry(H)))}))})),$.next((()=>p.mutationQueue.removeMutationBatch(y,C)))})(t,i,e,u).next((()=>u.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let y=Ve();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function Xy(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function K1(s,e){const t=Re(s),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const p=[];e.targetChanges.forEach(((E,C)=>{const V=o.get(C);if(!V)return;p.push(t.Ur.removeMatchingKeys(u,E.removedDocuments,C).next((()=>t.Ur.addMatchingKeys(u,E.addedDocuments,C))));let $=V.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?$=$.withResumeToken(Ft.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(E.resumeToken,i)),o=o.insert(C,$),(function(H,P,q){return H.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(V,$,E)&&p.push(t.Ur.updateTargetData(u,$))}));let y=Ur(),_=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(Q1(u,h,e.documentUpdates).next((E=>{y=E.Ps,_=E.Is}))),!i.isEqual(Ce.min())){const E=t.Ur.getLastRemoteSnapshotVersion(u).next((C=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(E)}return Q.waitFor(p).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(t.os=o,u)))}function Q1(s,e,t){let i=Ve(),o=Ve();return t.forEach((u=>i=i.add(u))),e.getEntries(s,i).next((u=>{let h=Ur();return t.forEach(((p,y)=>{const _=u.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Ce.min())?(e.removeEntry(p,y.readTime),h=h.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),h=h.insert(p,y)):he("LocalStore","Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Ps:h,Is:o}}))}function X1(s,e){const t=Re(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Y1(s,e){const t=Re(s);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((u=>u?(o=u,Q.resolve(o)):t.Ur.allocateTargetId(i).next((h=>(o=new xs(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function md(s,e,t){const i=Re(s),o=i.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!$a(h))throw h;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function fg(s,e,t){const i=Re(s);let o=Ce.min(),u=Ve();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,_,E){const C=Re(y),V=C._s.get(E);return V!==void 0?Q.resolve(C.os.get(V)):C.Ur.getTargetData(_,E)})(i,h,ur(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(h,p.targetId).next((y=>{u=y}))})).next((()=>i.ss.getDocumentsMatchingQuery(h,e,t?o:Ce.min(),t?u:Ve()))).next((p=>(J1(i,Bx(e),p),{documents:p,Ts:u})))))}function J1(s,e,t){let i=s.us.get(e)||Ce.min();t.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),s.us.set(e,i)}class pg{constructor(){this.activeTargetIds=Kx()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z1{constructor(){this.so=new pg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new pg,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eE{_o(e){}shutdown(){}}class mg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yu=null;function Kh(){return yu===null?yu=(function(){return 268435456+Math.round(2147483648*Math.random())})():yu++,"0x"+yu.toString(16)}const tE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nE{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ht="WebChannelConnection";class rE extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(t,i,o,u,h){const p=Kh(),y=this.xo(t,i.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${p}:`,y,o);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,u,h),this.No(t,y,_,o).then((E=>(he("RestConnection",`Received RPC '${t}' ${p}: `,E),E)),(E=>{throw vo("RestConnection",`RPC '${t}' ${p} failed with error: `,E,"url: ",y,"request:",o),E}))}Lo(t,i,o,u,h,p){return this.Mo(t,i,o,u,h)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>t[h]=u)),o&&o.headers.forEach(((u,h)=>t[h]=u))}xo(t,i){const o=tE[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const u=Kh();return new Promise(((h,p)=>{const y=new hy;y.setWithCredentials(!0),y.listenOnce(dy.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case wu.NO_ERROR:const E=y.getResponseJson();he(Ht,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case wu.TIMEOUT:he(Ht,`RPC '${e}' ${u} timed out`),p(new ve(X.DEADLINE_EXCEEDED,"Request time out"));break;case wu.HTTP_ERROR:const C=y.getStatus();if(he(Ht,`RPC '${e}' ${u} failed with status:`,C,"response text:",y.getResponseText()),C>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const $=V?.error;if($&&$.status&&$.message){const j=(function(P){const q=P.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(q)>=0?q:X.UNKNOWN})($.status);p(new ve(j,$.message))}else p(new ve(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ve(X.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{he(Ht,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);he(Ht,`RPC '${e}' ${u} sending request:`,o),y.send(t,"POST",_,i,15)}))}Bo(e,t,i){const o=Kh(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=my(),p=py(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,t,i),y.encodeInitMessageHeaders=!0;const E=u.join("");he(Ht,`Creating RPC '${e}' stream ${o}: ${E}`,y);const C=h.createWebChannel(E,y);let V=!1,$=!1;const j=new nE({Io:P=>{$?he(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(V||(he(Ht,`Opening RPC '${e}' stream ${o} transport.`),C.open(),V=!0),he(Ht,`RPC '${e}' stream ${o} sending:`,P),C.send(P))},To:()=>C.close()}),H=(P,q,J)=>{P.listen(q,(pe=>{try{J(pe)}catch(me){setTimeout((()=>{throw me}),0)}}))};return H(C,wa.EventType.OPEN,(()=>{$||(he(Ht,`RPC '${e}' stream ${o} transport opened.`),j.yo())})),H(C,wa.EventType.CLOSE,(()=>{$||($=!0,he(Ht,`RPC '${e}' stream ${o} transport closed`),j.So())})),H(C,wa.EventType.ERROR,(P=>{$||($=!0,vo(Ht,`RPC '${e}' stream ${o} transport errored:`,P),j.So(new ve(X.UNAVAILABLE,"The operation could not be completed")))})),H(C,wa.EventType.MESSAGE,(P=>{var q;if(!$){const J=P.data[0];qe(!!J);const pe=J,me=pe.error||((q=pe[0])===null||q===void 0?void 0:q.error);if(me){he(Ht,`RPC '${e}' stream ${o} received error:`,me);const _e=me.status;let oe=(function(S){const N=vt[S];if(N!==void 0)return Fy(N)})(_e),R=me.message;oe===void 0&&(oe=X.INTERNAL,R="Unknown error status: "+_e+" with message "+me.message),$=!0,j.So(new ve(oe,R)),C.close()}else he(Ht,`RPC '${e}' stream ${o} received:`,J),j.bo(J)}})),H(p,fy.STAT_EVENT,(P=>{P.stat===id.PROXY?he(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===id.NOPROXY&&he(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.wo()}),0),j}}function Qh(){return typeof document<"u"?document:null}function rc(s){return new f1(s,!0)}class Yy{constructor(e,t,i=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Jy{constructor(e,t,i,o,u,h,p,y){this.ui=e,this.Ho=i,this.Jo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Yy(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new ve(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sE extends Jy{constructor(e,t,i,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=g1(this.serializer,e),i=(function(u){if(!("targetChange"in u))return Ce.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?hr(h.readTime):Ce.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=pd(this.serializer),t.addTarget=(function(u,h){let p;const y=h.target;if(p=ud(y)?{documents:_1(u,y)}:{query:w1(u,y)._t},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=By(u,h.resumeToken);const _=hd(u,h.expectedCount);_!==null&&(p.expectedCount=_)}else if(h.snapshotVersion.compareTo(Ce.min())>0){p.readTime=Lu(u,h.snapshotVersion.toTimestamp());const _=hd(u,h.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const i=E1(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=pd(this.serializer),t.removeTarget=e,this.a_(t)}}class iE extends Jy{constructor(e,t,i,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=v1(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=pd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>y1(this.serializer,i)))};this.a_(t)}}class oE extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ve(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Mo(e,dd(t,i),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(X.UNKNOWN,u.toString())}))}Lo(e,t,i,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Lo(e,dd(t,i),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(X.UNKNOWN,h.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class aE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fr(t),this.D_=!1):he("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class lE{constructor(e,t,i,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((h=>{i.enqueueAndForget((async()=>{yi(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await(async function(y){const _=Re(y);_.L_.add(4),await qa(_),_.q_.set("Unknown"),_.L_.delete(4),await sc(_)})(this))}))})),this.q_=new aE(i,o)}}async function sc(s){if(yi(s))for(const e of s.B_)await e(!0)}async function qa(s){for(const e of s.B_)await e(!1)}function Zy(s,e){const t=Re(s);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Qd(t)?Kd(t):Po(t).r_()&&Gd(t,e))}function qd(s,e){const t=Re(s),i=Po(t);t.N_.delete(e),i.r_()&&ev(t,e),t.N_.size===0&&(i.r_()?i.o_():yi(t)&&t.q_.set("Unknown"))}function Gd(s,e){if(s.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Po(s).A_(e)}function ev(s,e){s.Q_.xe(e),Po(s).R_(e)}function Kd(s){s.Q_=new u1({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.N_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),Po(s).start(),s.q_.v_()}function Qd(s){return yi(s)&&!Po(s).n_()&&s.N_.size>0}function yi(s){return Re(s).L_.size===0}function tv(s){s.Q_=void 0}async function uE(s){s.q_.set("Online")}async function cE(s){s.N_.forEach(((e,t)=>{Gd(s,e)}))}async function hE(s,e){tv(s),Qd(s)?(s.q_.M_(e),Kd(s)):s.q_.set("Unknown")}async function dE(s,e,t){if(s.q_.set("Online"),e instanceof zy&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.N_.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.N_.delete(p),o.Q_.removeTarget(p))})(s,e)}catch(i){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Fu(s,i)}else if(e instanceof Tu?s.Q_.Ke(e):e instanceof Uy?s.Q_.He(e):s.Q_.We(e),!t.isEqual(Ce.min()))try{const i=await Xy(s.localStore);t.compareTo(i)>=0&&await(function(u,h){const p=u.Q_.rt(h);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.N_.get(_);E&&u.N_.set(_,E.withResumeToken(y.resumeToken,h))}})),p.targetMismatches.forEach(((y,_)=>{const E=u.N_.get(y);if(!E)return;u.N_.set(y,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),ev(u,y);const C=new xs(E.target,y,_,E.sequenceNumber);Gd(u,C)})),u.remoteSyncer.applyRemoteEvent(p)})(s,t)}catch(i){he("RemoteStore","Failed to raise snapshot:",i),await Fu(s,i)}}async function Fu(s,e,t){if(!$a(e))throw e;s.L_.add(1),await qa(s),s.q_.set("Offline"),t||(t=()=>Xy(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),s.L_.delete(1),await sc(s)}))}function nv(s,e){return e().catch((t=>Fu(s,t,e)))}async function ic(s){const e=Re(s),t=Rs(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fE(e);)try{const o=await X1(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,pE(e,o)}catch(o){await Fu(e,o)}rv(e)&&sv(e)}function fE(s){return yi(s)&&s.O_.length<10}function pE(s,e){s.O_.push(e);const t=Rs(s);t.r_()&&t.V_&&t.m_(e.mutations)}function rv(s){return yi(s)&&!Rs(s).n_()&&s.O_.length>0}function sv(s){Rs(s).start()}async function mE(s){Rs(s).p_()}async function gE(s){const e=Rs(s);for(const t of s.O_)e.m_(t.mutations)}async function yE(s,e,t){const i=s.O_.shift(),o=Ud.from(i,e,t);await nv(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await ic(s)}async function vE(s,e){e&&Rs(s).V_&&await(async function(i,o){if((function(h){return o1(h)&&h!==X.ABORTED})(o.code)){const u=i.O_.shift();Rs(i).s_(),await nv(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ic(i)}})(s,e),rv(s)&&sv(s)}async function gg(s,e){const t=Re(s);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const i=yi(t);t.L_.add(3),await qa(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await sc(t)}async function _E(s,e){const t=Re(s);e?(t.L_.delete(2),await sc(t)):e||(t.L_.add(2),await qa(t),t.q_.set("Unknown"))}function Po(s){return s.K_||(s.K_=(function(t,i,o){const u=Re(t);return u.w_(),new sE(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Eo:uE.bind(null,s),Ro:cE.bind(null,s),mo:hE.bind(null,s),d_:dE.bind(null,s)}),s.B_.push((async e=>{e?(s.K_.s_(),Qd(s)?Kd(s):s.q_.set("Unknown")):(await s.K_.stop(),tv(s))}))),s.K_}function Rs(s){return s.U_||(s.U_=(function(t,i,o){const u=Re(t);return u.w_(),new iE(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mE.bind(null,s),mo:vE.bind(null,s),f_:gE.bind(null,s),g_:yE.bind(null,s)}),s.B_.push((async e=>{e?(s.U_.s_(),await ic(s)):(await s.U_.stop(),s.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}class Xd{constructor(e,t,i,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,u){const h=Date.now()+i,p=new Xd(e,t,h,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(s,e){if(Fr("AsyncQueue",`${e}: ${s}`),$a(s))return new ve(X.UNAVAILABLE,`${e}: ${s}`);throw s}class ho{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=xa(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ho;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class yg{constructor(){this.W_=new at(Ee.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ke():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class To{constructor(e,t,i,o,u,h,p,y,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,u){const h=[];return t.forEach((p=>{h.push({type:0,doc:p})})),new To(e,t,ho.emptySet(t),h,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class wE{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class xE{constructor(){this.queries=vg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=Re(t),u=o.queries;o.queries=vg(),u.forEach(((h,p)=>{for(const y of p.j_)y.onError(i)}))})(this,new ve(X.ABORTED,"Firestore shutting down"))}}function vg(){return new No((s=>Ay(s)),Ju)}async function iv(s,e){const t=Re(s);let i=3;const o=e.query;let u=t.queries.get(o);u?!u.H_()&&e.J_()&&(i=2):(u=new wE,i=e.J_()?0:1);try{switch(i){case 0:u.z_=await t.onListen(o,!0);break;case 1:u.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=Yd(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&Jd(t)}async function ov(s,e){const t=Re(s),i=e.query;let o=3;const u=t.queries.get(i);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function EE(s,e){const t=Re(s);let i=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const p of h.j_)p.X_(o)&&(i=!0);h.z_=o}}i&&Jd(t)}function TE(s,e,t){const i=Re(s),o=i.queries.get(e);if(o)for(const u of o.j_)u.onError(t);i.queries.delete(e)}function Jd(s){s.Y_.forEach((e=>{e.next()}))}var gd,_g;(_g=gd||(gd={})).ea="default",_g.Cache="cache";class av{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new To(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gd.Cache}}class lv{constructor(e){this.key=e}}class uv{constructor(e){this.key=e}}class IE{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=Cy(e),this.Ra=new ho(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new yg,o=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,C)=>{const V=o.get(E),$=Zu(this.query,C)?C:null,j=!!V&&this.mutatedKeys.has(V.key),H=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let P=!1;V&&$?V.data.isEqual($.data)?j!==H&&(i.track({type:3,doc:$}),P=!0):this.ga(V,$)||(i.track({type:2,doc:$}),P=!0,(y&&this.Aa($,y)>0||_&&this.Aa($,_)<0)&&(p=!0)):!V&&$?(i.track({type:0,doc:$}),P=!0):V&&!$&&(i.track({type:1,doc:V}),P=!0,(y||_)&&(p=!0)),P&&($?(h=h.add($),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),i.track({type:1,doc:E})}return{Ra:h,fa:i,ns:p,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(((E,C)=>(function($,j){const H=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return H($)-H(j)})(E.type,C.type)||this.Aa(E.doc,C.doc))),this.pa(i),o=o!=null&&o;const p=t&&!o?this.ya():[],y=this.da.size===0&&this.current&&!o?1:0,_=y!==this.Ea;return this.Ea=y,h.length!==0||_?{snapshot:new To(this.query,e.Ra,u,h,e.mutatedKeys,y===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:p}:{wa:p}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new uv(i))})),this.da.forEach((i=>{e.has(i)||t.push(new lv(i))})),t}ba(e){this.Ta=e.Ts,this.da=Ve();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return To.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class SE{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class kE{constructor(e){this.key=e,this.va=!1}}class AE{constructor(e,t,i,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new No((p=>Ay(p)),Ju),this.Ma=new Map,this.xa=new Set,this.Oa=new at(Ee.comparator),this.Na=new Map,this.La=new $d,this.Ba={},this.ka=new Map,this.qa=Eo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function CE(s,e,t=!0){const i=mv(s);let o;const u=i.Fa.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await cv(i,e,t,!0),o}async function RE(s,e){const t=mv(s);await cv(t,e,!0,!1)}async function cv(s,e,t,i){const o=await Y1(s.localStore,ur(e)),u=o.targetId,h=s.sharedClientState.addLocalQueryTarget(u,t);let p;return i&&(p=await NE(s,e,u,h==="current",o.resumeToken)),s.isPrimaryClient&&t&&Zy(s.remoteStore,o),p}async function NE(s,e,t,i,o){s.Ka=(C,V,$)=>(async function(H,P,q,J){let pe=P.view.ma(q);pe.ns&&(pe=await fg(H.localStore,P.query,!1).then((({documents:R})=>P.view.ma(R,pe))));const me=J&&J.targetChanges.get(P.targetId),_e=J&&J.targetMismatches.get(P.targetId)!=null,oe=P.view.applyChanges(pe,H.isPrimaryClient,me,_e);return xg(H,P.targetId,oe.wa),oe.snapshot})(s,C,V,$);const u=await fg(s.localStore,e,!0),h=new IE(e,u.Ts),p=h.ma(u.documents),y=Wa.createSynthesizedTargetChangeForCurrentChange(t,i&&s.onlineState!=="Offline",o),_=h.applyChanges(p,s.isPrimaryClient,y);xg(s,t,_.wa);const E=new SE(e,t,h);return s.Fa.set(e,E),s.Ma.has(t)?s.Ma.get(t).push(e):s.Ma.set(t,[e]),_.snapshot}async function PE(s,e,t){const i=Re(s),o=i.Fa.get(e),u=i.Ma.get(o.targetId);if(u.length>1)return i.Ma.set(o.targetId,u.filter((h=>!Ju(h,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await md(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&qd(i.remoteStore,o.targetId),yd(i,o.targetId)})).catch(Ba)):(yd(i,o.targetId),await md(i.localStore,o.targetId,!0))}async function bE(s,e){const t=Re(s),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),qd(t.remoteStore,i.targetId))}async function DE(s,e,t){const i=UE(s);try{const o=await(function(h,p){const y=Re(h),_=St.now(),E=p.reduce((($,j)=>$.add(j.key)),Ve());let C,V;return y.persistence.runTransaction("Locally write mutations","readwrite",($=>{let j=Ur(),H=Ve();return y.cs.getEntries($,E).next((P=>{j=P,j.forEach(((q,J)=>{J.isValidDocument()||(H=H.add(q))}))})).next((()=>y.localDocuments.getOverlayedDocuments($,j))).next((P=>{C=P;const q=[];for(const J of p){const pe=t1(J,C.get(J.key).overlayedDocument);pe!=null&&q.push(new gi(J.key,pe,wy(pe.value.mapValue),cr.exists(!0)))}return y.mutationQueue.addMutationBatch($,_,q,p)})).next((P=>{V=P;const q=P.applyToLocalDocumentSet(C,H);return y.documentOverlayCache.saveOverlays($,P.batchId,q)}))})).then((()=>({batchId:V.batchId,changes:Ny(C)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,p,y){let _=h.Ba[h.currentUser.toKey()];_||(_=new at($e)),_=_.insert(p,y),h.Ba[h.currentUser.toKey()]=_})(i,o.batchId,t),await Ga(i,o.changes),await ic(i.remoteStore)}catch(o){const u=Yd(o,"Failed to persist write");t.reject(u)}}async function hv(s,e){const t=Re(s);try{const i=await K1(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Na.get(u);h&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?qe(h.va):o.removedDocuments.size>0&&(qe(h.va),h.va=!1))})),await Ga(t,i,e)}catch(i){await Ba(i)}}function wg(s,e,t){const i=Re(s);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((u,h)=>{const p=h.view.Z_(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const y=Re(h);y.onlineState=p;let _=!1;y.queries.forEach(((E,C)=>{for(const V of C.j_)V.Z_(p)&&(_=!0)})),_&&Jd(y)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jE(s,e,t){const i=Re(s);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),u=o&&o.key;if(u){let h=new at(Ee.comparator);h=h.insert(u,qt.newNoDocument(u,Ce.min()));const p=Ve().add(u),y=new nc(Ce.min(),new Map,new at($e),h,p);await hv(i,y),i.Oa=i.Oa.remove(u),i.Na.delete(e),Zd(i)}else await md(i.localStore,e,!1).then((()=>yd(i,e,t))).catch(Ba)}async function VE(s,e){const t=Re(s),i=e.batch.batchId;try{const o=await G1(t.localStore,e);fv(t,i,null),dv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ga(t,o)}catch(o){await Ba(o)}}async function ME(s,e,t){const i=Re(s);try{const o=await(function(h,p){const y=Re(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((C=>(qe(C!==null),E=C.keys(),y.mutationQueue.removeMutationBatch(_,C)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(i.localStore,e);fv(i,e,t),dv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ga(i,o)}catch(o){await Ba(o)}}function dv(s,e){(s.ka.get(e)||[]).forEach((t=>{t.resolve()})),s.ka.delete(e)}function fv(s,e,t){const i=Re(s);let o=i.Ba[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function yd(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Ma.get(e))s.Fa.delete(i),t&&s.Ca.$a(i,t);s.Ma.delete(e),s.isPrimaryClient&&s.La.gr(e).forEach((i=>{s.La.containsKey(i)||pv(s,i)}))}function pv(s,e){s.xa.delete(e.path.canonicalString());const t=s.Oa.get(e);t!==null&&(qd(s.remoteStore,t),s.Oa=s.Oa.remove(e),s.Na.delete(t),Zd(s))}function xg(s,e,t){for(const i of t)i instanceof lv?(s.La.addReference(i.key,e),OE(s,i)):i instanceof uv?(he("SyncEngine","Document no longer in limbo: "+i.key),s.La.removeReference(i.key,e),s.La.containsKey(i.key)||pv(s,i.key)):ke()}function OE(s,e){const t=e.key,i=t.path.canonicalString();s.Oa.get(t)||s.xa.has(i)||(he("SyncEngine","New document in limbo: "+t),s.xa.add(i),Zd(s))}function Zd(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const e=s.xa.values().next().value;s.xa.delete(e);const t=new Ee(rt.fromString(e)),i=s.qa.next();s.Na.set(i,new kE(t)),s.Oa=s.Oa.insert(t,i),Zy(s.remoteStore,new xs(ur(Od(t.path)),i,"TargetPurposeLimboResolution",Pd.oe))}}async function Ga(s,e,t){const i=Re(s),o=[],u=[],h=[];i.Fa.isEmpty()||(i.Fa.forEach(((p,y)=>{h.push(i.Ka(y,e,t).then((_=>{var E;if((_||t)&&i.isPrimaryClient){const C=_?!_.fromCache:(E=t?.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(y.targetId,C?"current":"not-current")}if(_){o.push(_);const C=Wd.Wi(y.targetId,_);u.push(C)}})))})),await Promise.all(h),i.Ca.d_(o),await(async function(y,_){const E=Re(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>Q.forEach(_,(V=>Q.forEach(V.$i,($=>E.persistence.referenceDelegate.addReference(C,V.targetId,$))).next((()=>Q.forEach(V.Ui,($=>E.persistence.referenceDelegate.removeReference(C,V.targetId,$)))))))))}catch(C){if(!$a(C))throw C;he("LocalStore","Failed to update sequence numbers: "+C)}for(const C of _){const V=C.targetId;if(!C.fromCache){const $=E.os.get(V),j=$.snapshotVersion,H=$.withLastLimboFreeSnapshotVersion(j);E.os=E.os.insert(V,H)}}})(i.localStore,u))}async function LE(s,e){const t=Re(s);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const i=await Qy(t.localStore,e);t.currentUser=e,(function(u,h){u.ka.forEach((p=>{p.forEach((y=>{y.reject(new ve(X.CANCELLED,h))}))})),u.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ga(t,i.hs)}}function FE(s,e){const t=Re(s),i=t.Na.get(e);if(i&&i.va)return Ve().add(i.key);{let o=Ve();const u=t.Ma.get(e);if(!u)return o;for(const h of u){const p=t.Fa.get(h);o=o.unionWith(p.view.Va)}return o}}function mv(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=hv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jE.bind(null,e),e.Ca.d_=EE.bind(null,e.eventManager),e.Ca.$a=TE.bind(null,e.eventManager),e}function UE(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ME.bind(null,e),e}class Uu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return q1(this.persistence,new H1,e.initialUser,this.serializer)}Ga(e){return new z1(Hd.Zr,this.serializer)}Wa(e){return new Z1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uu.provider={build:()=>new Uu};class vd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wg(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LE.bind(null,this.syncEngine),await _E(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xE})()}createDatastore(e){const t=rc(e.databaseInfo.databaseId),i=(function(u){return new rE(u)})(e.databaseInfo);return(function(u,h,p,y){return new oE(u,h,p,y)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,u,h,p){return new lE(i,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>wg(this.syncEngine,t,0)),(function(){return mg.D()?new mg:new eE})())}createSyncEngine(e,t){return(function(o,u,h,p,y,_,E){const C=new AE(o,u,h,p,y,_);return E&&(C.Qa=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const u=Re(o);he("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await qa(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vd.provider={build:()=>new vd};class gv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class zE{constructor(e,t,i,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async h=>{he("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(he("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Yd(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Xh(s,e){s.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let i=t.initialUser;s.setCredentialChangeListener((async o=>{i.isEqual(o)||(await Qy(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Eg(s,e){s.asyncQueue.verifyOperationInProgress();const t=await BE(s);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((i=>gg(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,o)=>gg(e.remoteStore,o))),s._onlineComponents=e}async function BE(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xh(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;vo("Error using user provided cache. Falling back to memory cache: "+t),await Xh(s,new Uu)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Xh(s,new Uu);return s._offlineComponents}async function yv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await Eg(s,s._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await Eg(s,new vd))),s._onlineComponents}function $E(s){return yv(s).then((e=>e.syncEngine))}async function _d(s){const e=await yv(s),t=e.eventManager;return t.onListen=CE.bind(null,e.syncEngine),t.onUnlisten=PE.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RE.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bE.bind(null,e.syncEngine),t}function HE(s,e,t={}){const i=new Ss;return s.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,y,_){const E=new gv({next:V=>{E.Za(),h.enqueueAndForget((()=>ov(u,C))),V.fromCache&&y.source==="server"?_.reject(new ve(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),C=new av(p,E,{includeMetadataChanges:!0,_a:!0});return iv(u,C)})(await _d(s),s.asyncQueue,e,t,i))),i.promise}function vv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Tg=new Map;function _v(s,e,t){if(!t)throw new ve(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function WE(s,e,t,i){if(e===!0&&i===!0)throw new ve(X.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Ig(s){if(!Ee.isDocumentKey(s))throw new ve(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Sg(s){if(Ee.isDocumentKey(s))throw new ve(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ef(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ke()}function Or(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ve(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ef(s);throw new ve(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}class kg{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vv((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new ux;switch(i.type){case"firstParty":return new fx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Tg.get(t);i&&(he("ComponentProvider","Removing Datastore"),Tg.delete(t),i.terminate())})(this),Promise.resolve()}}function qE(s,e,t,i={}){var o;const u=(s=Or(s,oc))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),i.mockUserToken){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=Wt.MOCK_USER;else{p=F_(i.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ve(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Wt(_)}s._authCredentials=new cx(new gy(p,y))}}class Ka{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ka(this.firestore,e,this._query)}}class mn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class ks extends Ka{constructor(e,t,i){super(e,t,Od(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Ee(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function Ag(s,e,...t){if(s=an(s),_v("collection","path",e),s instanceof oc){const i=rt.fromString(e,...t);return Sg(i),new ks(s,null,i)}{if(!(s instanceof mn||s instanceof ks))throw new ve(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(rt.fromString(e,...t));return Sg(i),new ks(s.firestore,null,i)}}function qn(s,e,...t){if(s=an(s),arguments.length===1&&(e=yy.newId()),_v("doc","path",e),s instanceof oc){const i=rt.fromString(e,...t);return Ig(i),new mn(s,null,new Ee(i))}{if(!(s instanceof mn||s instanceof ks))throw new ve(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(rt.fromString(e,...t));return Ig(i),new mn(s.firestore,s instanceof ks?s.converter:null,new Ee(i))}}class Cg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Yy(this,"async_queue_retry"),this.Vu=()=>{const i=Qh();i&&he("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=Qh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Qh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ss;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$a(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(h){let p=h.message||"";return h.stack&&(p=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),p})(i);throw Fr("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Xd.createAndSchedule(this,e,t,i,(u=>this.yu(u)));return this.Tu.push(o),o}fu(){this.Eu&&ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Rg(s){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of i)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Io extends oc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Cg,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cg(e),this._firestoreClient=void 0,await e}}}function GE(s,e){const t=typeof s=="object"?s:ay(),i=typeof s=="string"?s:"(default)",o=Rd(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=O_("firestore");u&&qE(o,...u)}return o}function tf(s){if(s._terminated)throw new ve(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||KE(s),s._firestoreClient}function KE(s){var e,t,i;const o=s._freezeSettings(),u=(function(p,y,_,E){return new kx(p,y,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,vv(E.experimentalLongPollingOptions),E.useFetchStreams)})(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new zE(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&(function(p){const y=p?._online.build();return{_offline:p?._offline.build(y),_online:y}})(s._componentsProvider))}class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(Ft.fromBase64String(e))}catch(t){throw new ve(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new So(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wv{constructor(e){this._methodName=e}}class rf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}class sf{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}}const QE=/^__.*__$/;class XE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new gi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ha(e,this.data,t,this.fieldTransforms)}}function xv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class of{constructor(e,t,i,o,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(xv(this.Cu)&&QE.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class YE{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||rc(e)}Qu(e,t,i,o=!1){return new of({Cu:e,methodName:t,qu:i,path:Ot.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JE(s){const e=s._freezeSettings(),t=rc(s._databaseId);return new YE(s._databaseId,!!e.ignoreUndefinedProperties,t)}function ZE(s,e,t,i,o,u={}){const h=s.Qu(u.merge||u.mergeFields?2:0,e,t,o);Sv("Data must be an object, but it was:",h,i);const p=Tv(i,h);let y,_;if(u.merge)y=new Gn(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const C of u.mergeFields){const V=eT(e,C,t);if(!h.contains(V))throw new ve(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);nT(E,V)||E.push(V)}y=new Gn(E),_=h.fieldTransforms.filter((C=>y.covers(C.field)))}else y=null,_=h.fieldTransforms;return new XE(new An(p),y,_)}function Ev(s,e){if(Iv(s=an(s)))return Sv("Unsupported field value:",e,s),Tv(s,e);if(s instanceof wv)return(function(i,o){if(!xv(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const u=[];let h=0;for(const p of i){let y=Ev(p,o.Lu(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}})(s,e)}return(function(i,o){if((i=an(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Qx(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=St.fromDate(i);return{timestampValue:Lu(o.serializer,u)}}if(i instanceof St){const u=new St(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lu(o.serializer,u)}}if(i instanceof rf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof So)return{bytesValue:By(o.serializer,i._byteString)};if(i instanceof mn){const u=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bd(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof sf)return(function(h,p){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Bu("VectorValues must only contain numeric values.");return Ld(p.serializer,y)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${ef(i)}`)})(s,e)}function Tv(s,e){const t={};return vy(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(s,((i,o)=>{const u=Ev(o,e.Mu(i));u!=null&&(t[i]=u)})),{mapValue:{fields:t}}}function Iv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof St||s instanceof rf||s instanceof So||s instanceof mn||s instanceof wv||s instanceof sf)}function Sv(s,e,t){if(!Iv(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=ef(t);throw i==="an object"?e.Bu(s+" a custom object"):e.Bu(s+" "+i)}}function eT(s,e,t){if((e=an(e))instanceof nf)return e._internalPath;if(typeof e=="string")return kv(s,e);throw zu("Field path arguments must be of type string or ",s,!1,void 0,t)}const tT=new RegExp("[~\\*/\\[\\]]");function kv(s,e,t){if(e.search(tT)>=0)throw zu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new nf(...e.split("."))._internalPath}catch{throw zu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function zu(s,e,t,i,o){const u=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${i}`),h&&(y+=` in document ${o}`),y+=")"),new ve(X.INVALID_ARGUMENT,p+s+y)}function nT(s,e){return s.some((t=>t.isEqual(e)))}class Av{constructor(e,t,i,o,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rT extends Av{data(){return super.data()}}function Cv(s,e){return typeof e=="string"?kv(s,e):e instanceof nf?e._internalPath:e._delegate._internalPath}function Rv(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ve(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sT{convertValue(e,t="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ro(e,((o,u)=>{i[o]=this.convertValue(u,t)})),i}convertVectorValue(e){var t,i,o;const u=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((h=>dt(h.doubleValue)));return new sf(u)}convertGeoPoint(e){return new rf(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Dd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ba(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);qe(Ky(i));const o=new Da(i.get(1),i.get(3)),u=new Ee(i.popFirst(5));return o.isEqual(t)||Fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function iT(s,e,t){let i;return i=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,i}class Ta{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nv extends Av{constructor(e,t,i,o,u,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Cv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Iu extends Nv{data(e={}){return super.data(e)}}class Pv{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ta(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Iu(this._firestore,this._userDataWriter,i.key,i,new Ta(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const y=new Iu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ta(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new Iu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ta(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),E=h.indexOf(p.doc.key)),{type:oT(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oT(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}class af extends sT{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,t)}}function aT(s){s=Or(s,Ka);const e=Or(s.firestore,Io),t=tf(e),i=new af(e);return Rv(s._query),HE(t,s._query).then((o=>new Pv(e,i,s,o)))}function _a(s,e,t){s=Or(s,mn);const i=Or(s.firestore,Io),o=iT(s.converter,e,t);return bv(i,[ZE(JE(i),"setDoc",s._key,o,s.converter!==null,t).toMutation(s._key,cr.none())])}function lT(s){return bv(Or(s.firestore,Io),[new Fd(s._key,cr.none())])}function ao(s,...e){var t,i,o;s=an(s);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||Rg(e[h])||(u=e[h],h++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Rg(e[h])){const C=e[h];e[h]=(t=C.next)===null||t===void 0?void 0:t.bind(C),e[h+1]=(i=C.error)===null||i===void 0?void 0:i.bind(C),e[h+2]=(o=C.complete)===null||o===void 0?void 0:o.bind(C)}let y,_,E;if(s instanceof mn)_=Or(s.firestore,Io),E=Od(s._key.path),y={next:C=>{e[h]&&e[h](uT(_,s,C))},error:e[h+1],complete:e[h+2]};else{const C=Or(s,Ka);_=Or(C.firestore,Io),E=C._query;const V=new af(_);y={next:$=>{e[h]&&e[h](new Pv(_,V,C,$))},error:e[h+1],complete:e[h+2]},Rv(s._query)}return(function(V,$,j,H){const P=new gv(H),q=new av($,P,j);return V.asyncQueue.enqueueAndForget((async()=>iv(await _d(V),q))),()=>{P.Za(),V.asyncQueue.enqueueAndForget((async()=>ov(await _d(V),q)))}})(tf(_),E,p,y)}function bv(s,e){return(function(i,o){const u=new Ss;return i.asyncQueue.enqueueAndForget((async()=>DE(await $E(i),o,u))),u.promise})(tf(s),e)}function uT(s,e,t){const i=t.docs.get(e._key),o=new af(s);return new Nv(s,o,e._key,i,new Ta(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Co=o})(Ao),yo(new hi("firestore",((i,{instanceIdentifier:o,options:u})=>{const h=i.getProvider("app").getImmediate(),p=new Io(new hx(i.getProvider("auth-internal")),new mx(i.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ve(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(_.options.projectId,E)})(h,o),h);return u=Object.assign({useFetchStreams:t},u),p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Is(qm,"4.7.3",e),Is(qm,"4.7.3","esm2017")})();var cT="firebase",hT="10.14.1";Is(cT,hT,"app");function lf(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(t[i[o]]=s[i[o]]);return t}function Dv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dT=Dv,jv=new Ua("auth","Firebase",Dv());const Bu=new Ad("@firebase/auth");function fT(s,...e){Bu.logLevel<=Oe.WARN&&Bu.warn(`Auth (${Ao}): ${s}`,...e)}function Su(s,...e){Bu.logLevel<=Oe.ERROR&&Bu.error(`Auth (${Ao}): ${s}`,...e)}function mr(s,...e){throw cf(s,...e)}function Kn(s,...e){return cf(s,...e)}function uf(s,e,t){const i=Object.assign(Object.assign({},dT()),{[e]:t});return new Ua("auth","Firebase",i).create(e,{appName:s.name})}function ci(s){return uf(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pT(s,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&mr(s,"argument-error"),uf(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cf(s,...e){if(typeof s!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return jv.create(s,...e)}function Se(s,e,...t){if(!s)throw cf(e,...t)}function jr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Su(e),new Error(e)}function zr(s,e){s||jr(e)}function wd(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function mT(){return Ng()==="http:"||Ng()==="https:"}function Ng(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}function gT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mT()||$_()||"connection"in navigator)?navigator.onLine:!0}function yT(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Qa{constructor(e,t){this.shortDelay=e,this.longDelay=t,zr(t>e,"Short delay should be less than long delay!"),this.isMobile=U_()||H_()}get(){return gT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hf(s,e){zr(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Vv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _T=new Qa(3e4,6e4);function df(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function bo(s,e,t,i,o={}){return Mv(s,o,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const p=za(Object.assign({key:s.config.apiKey},h)).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:y},u);return B_()||(_.referrerPolicy="no-referrer"),Vv.fetch()(Ov(s,s.config.apiHost,t,p),_)})}async function Mv(s,e,t){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},vT),e);try{const o=new xT(s),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw vu(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw vu(s,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw vu(s,"email-already-in-use",h);if(y==="USER_DISABLED")throw vu(s,"user-disabled",h);const E=i[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw uf(s,E,_);mr(s,E)}}catch(o){if(o instanceof Br)throw o;mr(s,"network-request-failed",{message:String(o)})}}async function wT(s,e,t,i,o={}){const u=await bo(s,e,t,i,o);return"mfaPendingCredential"in u&&mr(s,"multi-factor-auth-required",{_serverResponse:u}),u}function Ov(s,e,t,i){const o=`${e}${t}?${i}`;return s.config.emulator?hf(s.config,o):`${s.config.apiScheme}://${o}`}class xT{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Kn(this.auth,"network-request-failed")),_T.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vu(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Kn(s,e,i);return o.customData._tokenResponse=t,o}async function ET(s,e){return bo(s,"POST","/v1/accounts:delete",e)}async function Lv(s,e){return bo(s,"POST","/v1/accounts:lookup",e)}function Ca(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TT(s,e=!1){const t=an(s),i=await t.getIdToken(e),o=ff(i);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:i,authTime:Ca(Yh(o.auth_time)),issuedAtTime:Ca(Yh(o.iat)),expirationTime:Ca(Yh(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Yh(s){return Number(s)*1e3}function ff(s){const[e,t,i]=s.split(".");if(e===void 0||t===void 0||i===void 0)return Su("JWT malformed, contained fewer than 3 sections"),null;try{const o=ey(t);return o?JSON.parse(o):(Su("Failed to decode base64 JWT payload"),null)}catch(o){return Su("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Pg(s){const e=ff(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Oa(s,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Br&&IT(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function IT({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class ST{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ca(this.lastLoginAt),this.creationTime=Ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $u(s){var e;const t=s.auth,i=await s.getIdToken(),o=await Oa(s,Lv(t,{idToken:i}));Se(o?.users.length,t,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Fv(u.providerUserInfo):[],p=AT(s.providerData,h),y=s.isAnonymous,_=!(s.email&&u.passwordHash)&&!p?.length,E=y?_:!1,C={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new xd(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(s,C)}async function kT(s){const e=an(s);await $u(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AT(s,e){return[...s.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Fv(s){return s.map(e=>{var{providerId:t}=e,i=lf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function CT(s,e){const t=await Mv(s,{},async()=>{const i=za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=Ov(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",Vv.fetch()(h,{method:"POST",headers:p,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RT(s,e){return bo(s,"POST","/v2/accounts:revokeToken",df(s,e))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Pg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:u}=await CT(e,t);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:u}=t,h=new fo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return jr("not implemented")}}function ys(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Vr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,u=lf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ST(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new xd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Oa(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TT(this,e)}reload(){return kT(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await $u(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await Oa(this,ET(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,u,h,p,y,_,E;const C=(i=t.displayName)!==null&&i!==void 0?i:void 0,V=(o=t.email)!==null&&o!==void 0?o:void 0,$=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,j=(h=t.photoURL)!==null&&h!==void 0?h:void 0,H=(p=t.tenantId)!==null&&p!==void 0?p:void 0,P=(y=t._redirectEventId)!==null&&y!==void 0?y:void 0,q=(_=t.createdAt)!==null&&_!==void 0?_:void 0,J=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:pe,emailVerified:me,isAnonymous:_e,providerData:oe,stsTokenManager:R}=t;Se(pe&&R,e,"internal-error");const T=fo.fromJSON(this.name,R);Se(typeof pe=="string",e,"internal-error"),ys(C,e.name),ys(V,e.name),Se(typeof me=="boolean",e,"internal-error"),Se(typeof _e=="boolean",e,"internal-error"),ys($,e.name),ys(j,e.name),ys(H,e.name),ys(P,e.name),ys(q,e.name),ys(J,e.name);const S=new Vr({uid:pe,auth:e,email:V,emailVerified:me,displayName:C,isAnonymous:_e,photoURL:j,phoneNumber:$,tenantId:H,stsTokenManager:T,createdAt:q,lastLoginAt:J});return oe&&Array.isArray(oe)&&(S.providerData=oe.map(N=>Object.assign({},N))),P&&(S._redirectEventId=P),S}static async _fromIdTokenResponse(e,t,i=!1){const o=new fo;o.updateFromServerResponse(t);const u=new Vr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await $u(u),u}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Fv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,p=new fo;p.updateFromIdToken(i);const y=new Vr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,_),y}}const bg=new Map;function Mr(s){zr(s instanceof Function,"Expected a class definition");let e=bg.get(s);return e?(zr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,bg.set(s,e),e)}class Uv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Uv.type="NONE";const Dg=Uv;function ku(s,e,t){return`firebase:${s}:${e}:${t}`}class po{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=ku(this.userKey,o.apiKey,u),this.fullPersistenceKey=ku("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new po(Mr(Dg),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Mr(Dg);const h=ku(i,e.config.apiKey,e.name);let p=null;for(const _ of t)try{const E=await _._get(h);if(E){const C=Vr._fromJSON(e,E);_!==u&&(p=C),u=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new po(u,e,i):(u=y[0],p&&await u._set(h,p.toJSON()),await Promise.all(t.map(async _=>{if(_!==u)try{await _._remove(h)}catch{}})),new po(u,e,i))}}function jg(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qv(e))return"Blackberry";if(Gv(e))return"Webos";if(Bv(e))return"Safari";if((e.includes("chrome/")||$v(e))&&!e.includes("edge/"))return"Chrome";if(Wv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(t);if(i?.length===2)return i[1]}return"Other"}function zv(s=Gt()){return/firefox\//i.test(s)}function Bv(s=Gt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $v(s=Gt()){return/crios\//i.test(s)}function Hv(s=Gt()){return/iemobile/i.test(s)}function Wv(s=Gt()){return/android/i.test(s)}function qv(s=Gt()){return/blackberry/i.test(s)}function Gv(s=Gt()){return/webos/i.test(s)}function pf(s=Gt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function NT(s=Gt()){var e;return pf(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PT(){return W_()&&document.documentMode===10}function Kv(s=Gt()){return pf(s)||Wv(s)||Gv(s)||qv(s)||/windows phone/i.test(s)||Hv(s)}function Qv(s,e=[]){let t;switch(s){case"Browser":t=jg(Gt());break;case"Worker":t=`${jg(Gt())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ao}/${i}`}class bT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,p)=>{try{const y=e(u);h(y)}catch(y){p(y)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function DT(s,e={}){return bo(s,"GET","/v2/passwordPolicy",df(s,e))}const jT=6;class VT{constructor(e){var t,i,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:jT,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,u,h,p;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(t=y.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),y.isValid&&(y.isValid=(i=y.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(o=y.containsLowercaseLetter)!==null&&o!==void 0?o:!0),y.isValid&&(y.isValid=(u=y.containsUppercaseLetter)!==null&&u!==void 0?u:!0),y.isValid&&(y.isValid=(h=y.containsNumericCharacter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(p=y.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),y}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class MT{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vg(this),this.idTokenSubscription=new Vg(this),this.beforeStateQueue=new bT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lv(this,{idToken:e}),i=await Vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Dr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o?._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===p)&&y?.user&&(o=y.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $u(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(ci(this));const t=e?an(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DT(this),t=new VT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ua("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await RT(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[Mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,i,o);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&fT(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ac(s){return an(s)}class Vg{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z_(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OT(s){mf=s}function LT(s){return mf.loadJS(s)}function FT(){return mf.gapiScript}function UT(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function zT(s,e){const t=Rd(s,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Pu(u,e??{}))return o;mr(o,"already-initialized")}return t.initialize({options:e})}function BT(s,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Mr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}function $T(s,e,t){const i=ac(s);Se(i._canInitEmulator,i,"emulator-config-failed"),Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=Xv(e),{host:h,port:p}=HT(e),y=p===null?"":`:${p}`;i.config.emulator={url:`${u}//${h}${y}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),WT()}function Xv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function HT(s){const e=Xv(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:Mg(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:Mg(h)}}}function Mg(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function WT(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Yv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,t){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function mo(s,e){return wT(s,"POST","/v1/accounts:signInWithIdp",df(s,e))}const qT="http://localhost";class mi extends Yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,u=lf(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new mi(i,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return mo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,mo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mo(e,t)}buildRequest(){const e={requestUri:qT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=za(t)}return e}}class gf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xa extends gf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vs extends Xa{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";class br extends Xa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mi._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return br.credential(t,i)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";class _s extends Xa{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";class ws extends Xa{constructor(){super("twitter.com")}static credential(e,t){return mi._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ws.credential(t,i)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const u=await Vr._fromIdTokenResponse(e,i,o),h=Og(i);return new ko({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Og(i);return new ko({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Og(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Hu extends Br{constructor(e,t,i,o){var u;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Hu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Hu(e,t,i,o)}}function Jv(s,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hu._fromErrorAndOperation(s,u,e,i):u})}async function GT(s,e,t=!1){const i=await Oa(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return ko._forOperation(s,"link",i)}async function KT(s,e,t=!1){const{auth:i}=s;if(Dr(i.app))return Promise.reject(ci(i));const o="reauthenticate";try{const u=await Oa(s,Jv(i,o,e,s),t);Se(u.idToken,i,"internal-error");const h=ff(u.idToken);Se(h,i,"internal-error");const{sub:p}=h;return Se(s.uid===p,i,"user-mismatch"),ko._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&mr(i,"user-mismatch"),u}}async function QT(s,e,t=!1){if(Dr(s.app))return Promise.reject(ci(s));const i="signIn",o=await Jv(s,i,e),u=await ko._fromIdTokenResponse(s,i,o);return t||await s._updateCurrentUser(u.user),u}function XT(s,e,t,i){return an(s).onIdTokenChanged(e,t,i)}function YT(s,e,t){return an(s).beforeAuthStateChanged(e,t)}function JT(s,e,t,i){return an(s).onAuthStateChanged(e,t,i)}function Au(s){return an(s).signOut()}const Wu="__sak";class Zv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ZT=1e3,eI=10;class e0 extends Zv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,y)=>{this.notifyListeners(h,y)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);PT()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eI):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ZT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}e0.type="LOCAL";const tI=e0;class t0 extends Zv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}t0.type="SESSION";const n0=t0;function nI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class lc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new lc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async _=>_(t.origin,u)),y=await nI(p);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lc.receivers=[];function yf(s="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return s+t}class rI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,y)=>{const _=yf("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(C){const V=C;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(V.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function dr(){return window}function sI(s){dr().location.href=s}function r0(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function iI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oI(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function aI(){return r0()?self:null}const s0="firebaseLocalStorageDb",lI=1,qu="firebaseLocalStorage",i0="fbase_key";class Ya{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uc(s,e){return s.transaction([qu],e?"readwrite":"readonly").objectStore(qu)}function uI(){const s=indexedDB.deleteDatabase(s0);return new Ya(s).toPromise()}function Ed(){const s=indexedDB.open(s0,lI);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(qu,{keyPath:i0})}catch(o){t(o)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(qu)?e(i):(i.close(),await uI(),e(await Ed()))})})}async function Lg(s,e,t){const i=uc(s,!0).put({[i0]:e,value:t});return new Ya(i).toPromise()}async function cI(s,e){const t=uc(s,!1).get(e),i=await new Ya(t).toPromise();return i===void 0?null:i.value}function Fg(s,e){const t=uc(s,!0).delete(e);return new Ya(t).toPromise()}const hI=800,dI=3;class o0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ed(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>dI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lc._getInstance(aI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iI(),!this.activeServiceWorker)return;this.sender=new rI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ed();return await Lg(e,Wu,"1"),await Fg(e,Wu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lg(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>cI(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Fg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=uc(o,!1).getAll();return new Ya(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o0.type="LOCAL";const fI=o0;new Qa(3e4,6e4);function a0(s,e){return e?Mr(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class vf extends Yv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pI(s){return QT(s.auth,new vf(s),s.bypassAuthState)}function mI(s){const{auth:e,user:t}=s;return Se(t,e,"internal-error"),KT(t,new vf(s),s.bypassAuthState)}async function gI(s){const{auth:e,user:t}=s;return Se(t,e,"internal-error"),GT(t,new vf(s),s.bypassAuthState)}class l0{constructor(e,t,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pI;case"linkViaPopup":case"linkViaRedirect":return gI;case"reauthViaPopup":case"reauthViaRedirect":return mI;default:mr(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yI=new Qa(2e3,1e4);async function vI(s,e,t){if(Dr(s.app))return Promise.reject(Kn(s,"operation-not-supported-in-this-environment"));const i=ac(s);pT(s,e,gf);const o=a0(i,t);return new li(i,"signInViaPopup",e,o).executeNotNull()}class li extends l0{constructor(e,t,i,o,u){super(e,t,o,u),this.provider=i,this.authWindow=null,this.pollId=null,li.currentPopupAction&&li.currentPopupAction.cancel(),li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=yf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yI.get())};e()}}li.currentPopupAction=null;const _I="pendingRedirect",Cu=new Map;class wI extends l0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Cu.get(this.auth._key());if(!e){try{const i=await xI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Cu.set(this.auth._key(),e)}return this.bypassAuthState||Cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xI(s,e){const t=II(e),i=TI(s);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function EI(s,e){Cu.set(s._key(),e)}function TI(s){return Mr(s._redirectPersistence)}function II(s){return ku(_I,s.config.apiKey,s.name)}async function SI(s,e,t=!1){if(Dr(s.app))return Promise.reject(ci(s));const i=ac(s),o=a0(i,e),h=await new wI(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const kI=600*1e3;class AI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!u0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Kn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ug(e))}saveEventToCache(e){this.cachedEventUids.add(Ug(e)),this.lastProcessedEventTime=Date.now()}}function Ug(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function u0({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function CI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u0(s);default:return!1}}async function RI(s,e={}){return bo(s,"GET","/v1/projects",e)}const NI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PI=/^https?/;async function bI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await RI(s);for(const t of e)try{if(DI(t))return}catch{}mr(s,"unauthorized-domain")}function DI(s){const e=wd(),{protocol:t,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&i===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!PI.test(t))return!1;if(NI.test(s))return i===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const jI=new Qa(3e4,6e4);function zg(){const s=dr().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function VI(s){return new Promise((e,t)=>{var i,o,u;function h(){zg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zg(),t(Kn(s,"network-request-failed"))},timeout:jI.get()})}if(!((o=(i=dr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=dr().gapi)===null||u===void 0)&&u.load)h();else{const p=UT("iframefcb");return dr()[p]=()=>{gapi.load?h():t(Kn(s,"network-request-failed"))},LT(`${FT()}?onload=${p}`).catch(y=>t(y))}}).catch(e=>{throw Ru=null,e})}let Ru=null;function MI(s){return Ru=Ru||VI(s),Ru}const OI=new Qa(5e3,15e3),LI="__/auth/iframe",FI="emulator/auth/iframe",UI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BI(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?hf(e,FI):`https://${s.config.authDomain}/${LI}`,i={apiKey:e.apiKey,appName:s.name,v:Ao},o=zI.get(s.config.apiHost);o&&(i.eid=o);const u=s._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${za(i).slice(1)}`}async function $I(s){const e=await MI(s),t=dr().gapi;return Se(t,s,"internal-error"),e.open({where:document.body,url:BI(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UI,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const h=Kn(s,"network-request-failed"),p=dr().setTimeout(()=>{u(h)},OI.get());function y(){dr().clearTimeout(p),o(i)}i.ping(y).then(y,()=>{u(h)})}))}const HI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WI=500,qI=600,GI="_blank",KI="http://localhost";class Bg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QI(s,e,t,i=WI,o=qI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const y=Object.assign(Object.assign({},HI),{width:i.toString(),height:o.toString(),top:u,left:h}),_=Gt().toLowerCase();t&&(p=$v(_)?GI:t),zv(_)&&(e=e||KI,y.scrollbars="yes");const E=Object.entries(y).reduce((V,[$,j])=>`${V}${$}=${j},`,"");if(NT(_)&&p!=="_self")return XI(e||"",p),new Bg(null);const C=window.open(e||"",p,E);Se(C,s,"popup-blocked");try{C.focus()}catch{}return new Bg(C)}function XI(s,e){const t=document.createElement("a");t.href=s,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const YI="__/auth/handler",JI="emulator/auth/handler",ZI=encodeURIComponent("fac");async function $g(s,e,t,i,o,u){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:i,v:Ao,eventId:o};if(e instanceof gf){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",J_(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,C]of Object.entries({}))h[E]=C}if(e instanceof Xa){const E=e.getScopes().filter(C=>C!=="");E.length>0&&(h.scopes=E.join(","))}s.tenantId&&(h.tid=s.tenantId);const p=h;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await s._getAppCheckToken(),_=y?`#${ZI}=${encodeURIComponent(y)}`:"";return`${eS(s)}?${za(p).slice(1)}${_}`}function eS({config:s}){return s.emulator?hf(s,JI):`https://${s.authDomain}/${YI}`}const Jh="webStorageSupport";class tS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n0,this._completeRedirectFn=SI,this._overrideRedirectResult=EI}async _openPopup(e,t,i,o){var u;zr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await $g(e,t,i,wd(),o);return QI(e,h,yf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const u=await $g(e,t,i,wd(),o);return sI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(zr(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await $I(e),i=new AI(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jh,{type:Jh},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[Jh];h!==void 0&&t(!!h),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Kv()||Bv()||pf()}}const nS=tS;var Hg="@firebase/auth",Wg="1.7.9";class rS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sS(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iS(s){yo(new hi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const y={apiKey:h,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qv(s)},_=new MT(i,o,u,y);return BT(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),yo(new hi("auth-internal",e=>{const t=ac(e.getProvider("auth").getImmediate());return(i=>new rS(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(Hg,Wg,sS(s)),Is(Hg,Wg,"esm2017")}const oS=300,aS=ry("authIdTokenMaxAge")||oS;let qg=null;const lS=s=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>aS)return;const o=t?.token;qg!==o&&(qg=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uS(s=ay()){const e=Rd(s,"auth");if(e.isInitialized())return e.getImmediate();const t=zT(s,{popupRedirectResolver:nS,persistence:[fI,tI,n0]}),i=ry("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=lS(u.toString());YT(t,h,()=>h(t.currentUser)),XT(t,p=>h(p))}}const o=ty("auth");return o&&$T(t,`http://${o}`),t}function cS(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}OT({loadJS(s){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=o=>{const u=Kn("internal-error");u.customData=o,t(u)},i.type="text/javascript",i.charset="UTF-8",cS().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iS("Browser");const hS={apiKey:"AIzaSyBW5v_7kGitttrnCBQwYVPG9TiSPXdNaNc",authDomain:"guam-5eaff.firebaseapp.com",projectId:"guam-5eaff",storageBucket:"guam-5eaff.firebasestorage.app",messagingSenderId:"94280815489",appId:"1:94280815489:web:669d6fc05c097397bb8e80",measurementId:"G-0NNCC31G7E"};let Zh,yt,lr;try{Zh=oy(hS),yt=GE(Zh),lr=uS(Zh)}catch(s){console.error("Firebase init error",s)}var dS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ae=(s,e)=>{const t=ye.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:p="",children:y,..._},E)=>ye.createElement("svg",{ref:E,...dS,width:o,height:o,stroke:i,strokeWidth:h?Number(u)*24/Number(o):u,className:["lucide",`lucide-${fS(s)}`,p].join(" "),..._},[...e.map(([C,V])=>ye.createElement(C,V)),...Array.isArray(y)?y:[y]]));return t.displayName=`${s}`,t};const pS=Ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const mS=Ae("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);const Gg=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const c0=Ae("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);const h0=Ae("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const Kg=Ae("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);const gS=Ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const Gu=Ae("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);const d0=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const yS=Ae("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const vS=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const _S=Ae("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);const wS=Ae("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const xS=Ae("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const ES=Ae("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const TS=Ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const IS=Ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const SS=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const kS=Ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);const Qg=Ae("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);const AS=Ae("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]);const CS=Ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const RS=Ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const NS=Ae("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Ku=Ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const PS=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const bS=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Td=Ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const DS=Ae("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const f0=Ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const La=Ae("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);const p0=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Xg=Ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);const jS=Ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const VS=Ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const MS=Ae("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Fa=Ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const cc=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const OS=Ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Id=Ae("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const Ja=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const LS=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const FS=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ra=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const US=Ae("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);const _f=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zS=({currentTab:s,onTabChange:e,title:t,subtitle:i,coverImage:o,onOpenMembers:u})=>{const h=p=>`w-[42px] h-[42px] rounded-full flex items-center justify-center transition-all duration-300 ${s===p?"bg-guam-teal text-white scale-110 shadow-lg shadow-guam-teal/40":"text-slate-400"}`;return g.jsxs("div",{className:"relative h-[260px] bg-white rounded-b-[40px] shadow-lg overflow-hidden z-10",children:[g.jsxs("div",{className:"w-full h-full relative",children:[g.jsx("img",{src:o,alt:t,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-guam-teal/20 to-transparent"}),g.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 flex justify-between items-start",children:[g.jsxs("div",{className:"text-white drop-shadow-md mt-6",children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t}),g.jsx("p",{className:"text-sm font-medium opacity-90 tracking-widest uppercase",children:i})]}),g.jsx("button",{onClick:u,className:"bg-white/20 backdrop-blur-md text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors mt-6 border border-white/30",children:g.jsx(Ra,{size:20})})]})]}),g.jsxs("div",{className:"absolute bottom-5 right-5 z-30 flex gap-2.5 bg-white/90 backdrop-blur-md p-2 rounded-full shadow-sm",children:[g.jsx("button",{onClick:()=>e("itinerary"),className:h("itinerary"),children:g.jsx(Gu,{size:20})}),g.jsx("button",{onClick:()=>e("info"),className:h("info"),children:g.jsx(RS,{size:20})}),g.jsx("button",{onClick:()=>e("shopping"),className:h("shopping"),children:g.jsx(Fa,{size:20})}),g.jsx("button",{onClick:()=>e("planning"),className:h("planning"),children:g.jsx(yS,{size:20})}),g.jsx("button",{onClick:()=>e("expenses"),className:h("expenses"),children:g.jsx(SS,{size:20})})]})]})},Sd=32.5,go={title:"Guam Vacation",subtitle:"Feb 07 - Feb 11, 2026",coverImage:"https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?q=80&w=2069&auto=format&fit=crop"},BS=[{date:"2/07",weekday:"SAT",hasCar:!1},{date:"2/08",weekday:"SUN",hasCar:!0},{date:"2/09",weekday:"MON",hasCar:!0},{date:"2/10",weekday:"TUE",hasCar:!0},{date:"2/11",weekday:"WED",hasCar:!1}],$S=[{condition:"sunny",temp:"29"},{condition:"cloudy",temp:"28"},{condition:"rain",temp:"27"},{condition:"sunny",temp:"30"},{condition:"sunny",temp:"29"}],oi=[],ar={itinerary:[[{id:101,name:"",category:"transport",startTime:"16:50",address:"Antonio B. Won Pat International Airport",note:"",transportType:"flight",travelTime:""},{id:102,name:"Bayview Hotel Check-in",category:"accommodation",startTime:"17:30",address:"Bayview Hotel Guam",note:"",transportType:"transport",travelTime:"15m"},{id:103,name:" ()",category:"sightseeing",startTime:"18:00",address:"Plaza de Espaa",note:"",hours:"Open 24H",price:"Free",transportType:"transport",travelTime:"10m"},{id:104,name:"",category:"sightseeing",startTime:"18:40",address:"Paseo de Susana Park",note:"",transportType:"walk",travelTime:"5m"},{id:105,name:": Agana Shopping Center",category:"food",startTime:"19:30",address:"Agana Shopping Center",note:" BBQ  Chamorro ",hours:"10:00-20:00",price:"~$30",transportType:"transport",travelTime:"5m"}],[{id:201,name:" & ",category:"transport",startTime:"09:00",address:"Nippon Rent-A-Car",note:"",transportType:"car",travelTime:""},{id:202,name:"",category:"sightseeing",startTime:"10:00",address:"Fish Eye Marine Park",note:"",hours:"08:00-17:00",price:"$16",transportType:"car",travelTime:"20m"},{id:203,name:"Umatac ",category:"sightseeing",startTime:"11:30",address:"Umatac Bay Park",note:"",price:"Free",transportType:"car",travelTime:"30m"},{id:204,name:"Inarajan ",category:"sightseeing",startTime:"13:00",address:"Inarajan Natural Pool",note:"",price:"Free",transportType:"car",travelTime:"20m"},{id:206,name:" Two Lovers Point",category:"sightseeing",startTime:"15:30",address:"Two Lovers Point",note:"",hours:"07:00-19:00",price:"$3",transportType:"car",travelTime:"45m"},{id:207,name:"Crowne Plaza Check-in",category:"accommodation",startTime:"17:00",address:"Crowne Plaza Resort Guam",note:" + ",transportType:"car",travelTime:"15m"}],[{id:301,name:": Crowne Plaza",category:"accommodation",startTime:"10:30",address:"Crowne Plaza Resort Guam",note:"",transportType:"transport",travelTime:""},{id:302,name:"Hoshino Resorts Check-in",category:"accommodation",startTime:"11:00",address:"Hoshino Resorts RISONARE Guam",note:"Check-in ",transportType:"transport",travelTime:"10m"},{id:303,name:"",category:"ticket",startTime:"11:30",address:"Hoshino Resorts RISONARE Guam",note:"SUP",price:"Free for guests",transportType:"walk",travelTime:"0m"},{id:306,name:": Hoshino / Tumon",category:"food",startTime:"18:30",address:"Hoshino Resorts RISONARE Guam",note:" + ",transportType:"walk",travelTime:"0m"}],[{id:402,name:"Guam Plaza Check-in",category:"accommodation",startTime:"10:30",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:404,name:"Plaza Spa ",category:"ticket",startTime:"12:30",address:"Guam Plaza Resort",note:"",price:"~$80",transportType:"walk",travelTime:"5m"},{id:405,name:"DFS / Micronesia Mall",category:"shopping",startTime:"14:30",address:"T Galleria by DFS",note:"",hours:"10:00-20:00",transportType:"transport",travelTime:"10m"},{id:406,name:": Hard Rock Cafe",category:"food",startTime:"19:00",address:"Hard Rock Cafe Guam",note:"",hours:"11:00-22:00",price:"~$40",transportType:"walk",travelTime:"5m"}],[{id:501,name:" & ",category:"transport",startTime:"05:00",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:503,name:"",category:"transport",startTime:"07:30",address:"Guam Airport",note:"",transportType:"flight",travelTime:"4h30m"},{id:504,name:"",category:"transport",startTime:"10:00",address:"Taoyuan Airport",note:"",transportType:"flight",travelTime:""}]],shopping:[{id:1,name:"Banana Boat  (SPF110)",note:"ABC Store "},{id:2,name:"Godiva ",note:"Macy's "},{id:3,name:"Guam  (6)",note:""}],expenses:[{id:1,name:" (TPE-GUM)",amount:650,category:"transport",date:"01/15",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:650}]},{id:2,name:"Bayview Hotel ",amount:150,category:"accommodation",date:"01/20",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:150}]}],planning:[{id:1,title:" (>6)",category:"documents",completed:!0,assignedTo:"All"},{id:2,title:"",category:"documents",completed:!1,assignedTo:"All"},{id:3,title:"/",category:"documents",completed:!1,assignedTo:"All"},{id:4,title:"/",category:"luggage",completed:!1,assignedTo:"All"},{id:5,title:"/Gopro",category:"luggage",completed:!1,assignedTo:"All"},{id:6,title:"",category:"todo",completed:!0,assignedTo:"All"}],flights:[{id:"outbound",airline:"China Airlines",flightNumber:"CI 026",departureCode:"TPE",departureCity:"Taipei",departureTime:"11:00",arrivalCode:"GUM",arrivalCity:"Guam",arrivalTime:"16:50",date:"2026/02/07",duration:"3h 50m",baggage:"23kg",aircraft:"A321neo",price:"NT$18,500",purchaseDate:"2025/11/14"},{id:"inbound",airline:"China Airlines",flightNumber:"CI 025",departureCode:"GUM",departureCity:"Guam",departureTime:"07:30",arrivalCode:"TPE",arrivalCity:"Taipei",arrivalTime:"10:00",date:"2026/02/11",duration:"4h 30m",baggage:"23kg",aircraft:"A321neo",price:"Same Ticket",purchaseDate:"2025/11/14"}]},HS=({members:s,onLogin:e})=>{const[t,i]=ye.useState(""),[o,u]=ye.useState(!1),h=async()=>{if(!lr){i("Firebase Auth  firebaseConfig.ts");return}u(!0),i("");const p=new br;try{const E=((await vI(lr,p)).user.email||"").toLowerCase();console.log("Google Login Success:",E);const V=[...s,...oi].find($=>$.email?.toLowerCase()===E);V?(console.log("Whitelist Match:",V.name),e(V)):(console.warn("Whitelist Fail:",E),await Au(lr),i(` Email (${E}) `))}catch(y){console.error("Login Error:",y),i(": "+y.message)}finally{u(!1)}};return g.jsxs("div",{className:"min-h-screen bg-guam-sand flex flex-col items-center justify-center relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx("img",{src:go.coverImage,alt:"background",className:"w-full h-full object-cover opacity-80"}),g.jsx("div",{className:"absolute inset-0 bg-guam-navy/40 backdrop-blur-sm"})]}),g.jsxs("div",{className:"relative z-10 w-full max-w-md p-8 animate-fade-in flex flex-col items-center",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-8 rounded-[3rem] shadow-2xl w-full text-center",children:[g.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-md tracking-tight",children:go.title}),g.jsx("p",{className:"text-white/80 font-medium tracking-widest uppercase mb-8",children:go.subtitle}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 text-white/80 text-sm leading-relaxed border border-white/5 mb-4",children:[g.jsxs("p",{className:"flex items-center justify-center gap-2 mb-2 font-bold text-white",children:[g.jsx(MS,{size:18,className:"text-guam-teal"}),"Private Access"]})," Google  Email "]}),g.jsx("button",{onClick:h,disabled:o,className:"w-full py-4 bg-white text-slate-700 rounded-2xl font-bold text-lg shadow-lg hover:bg-slate-50 hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3 disabled:opacity-70 disabled:cursor-not-allowed group",children:o?g.jsx(Ku,{className:"animate-spin text-guam-navy"}):g.jsxs(g.Fragment,{children:[g.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-5 h-5"}),g.jsx("span",{children:"Google "})]})}),t&&g.jsxs("div",{className:"flex items-start gap-2 text-left bg-red-500/90 backdrop-blur text-white p-4 rounded-2xl border border-red-400/50 shadow-lg mt-4",children:[g.jsx(pS,{size:20,className:"shrink-0 mt-0.5"}),g.jsx("p",{className:"text-sm font-medium leading-relaxed",children:t})]})]})]}),g.jsx("p",{className:"text-white/40 text-xs mt-8 font-medium",children:"Protected by Google Firebase"})]})]})},WS=({dates:s,weather:e,items:t,selectedDateIndex:i,onDateSelect:o,onEdit:u})=>{const[h,p]=ye.useState([]),y=j=>{h.includes(j)?p(h.filter(H=>H!==j)):p([...h,j])},_=j=>{switch(j){case"rain":return g.jsx(_S,{className:"text-guam-ocean"});case"cloudy":return g.jsx(wS,{className:"text-slate-400"});default:return g.jsx(OS,{className:"text-guam-sun"})}},E=j=>{switch(j){case"car":return g.jsx(Gu,{size:14});case"flight":return g.jsx(La,{size:14});case"walk":return g.jsx(Qg,{size:14});default:return g.jsx(Kg,{size:14})}},C=j=>{switch(j){case"food":return g.jsx(US,{size:20});case"shopping":return g.jsx(Fa,{size:20});case"accommodation":return g.jsx(c0,{size:20});case"ticket":return g.jsx(Id,{size:20});case"transport":return g.jsx(Kg,{size:20});default:return g.jsx(gS,{size:20})}},V=j=>{switch(j){case"sightseeing":return"bg-guam-teal";case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"accommodation":return"bg-indigo-500";case"transport":return"bg-slate-500";case"ticket":return"bg-guam-sun";default:return"bg-guam-teal"}},$=j=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(j+" Guam")}`,"_blank")};return g.jsxs("div",{className:"animate-fade-in pb-24",children:[g.jsx("div",{className:"flex overflow-x-auto hide-scrollbar space-x-3 pb-4 mb-2 px-1 sticky top-0 z-20 bg-guam-sand/95 backdrop-blur-sm pt-4 -mx-4 px-4 border-b border-guam-teal/10",children:s.map((j,H)=>g.jsxs("div",{onClick:()=>o(H),className:`flex-shrink-0 w-[58px] h-[70px] rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all duration-300 border-2 shadow-sm ${i===H?"bg-guam-teal text-white border-guam-teal shadow-lg scale-105":"bg-white text-slate-400 border-white hover:bg-white/60"}`,children:[g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:j.weekday}),g.jsx("span",{className:"text-sm font-bold",children:j.date})]},H))}),g.jsxs("div",{className:"mb-6 bg-gradient-to-r from-guam-teal/10 to-transparent border border-guam-teal/20 rounded-3xl p-4 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center text-guam-teal space-x-3",children:[g.jsx("div",{className:"text-4xl drop-shadow-sm",children:_(e[i].condition)}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-baseline",children:[g.jsx("span",{className:"text-2xl font-bold",children:e[i].temp}),g.jsx("span",{className:"text-xs ml-1",children:"C"})]}),g.jsx("span",{className:"text-xs font-medium block text-slate-500 capitalize",children:e[i].condition})]})]}),g.jsx("div",{className:"text-right text-xs",children:s[i].hasCar?g.jsxs("span",{className:"inline-flex items-center bg-guam-navy/10 text-guam-navy px-3 py-1.5 rounded-full font-bold",children:[g.jsx(Gu,{size:12,className:"mr-1.5"})," "]}):g.jsxs("span",{className:"inline-flex items-center bg-slate-100 text-slate-500 px-3 py-1.5 rounded-full",children:[g.jsx(Qg,{size:12,className:"mr-1.5"})," /"]})})]}),g.jsxs("div",{className:"space-y-6",children:[t.map((j,H)=>g.jsxs("div",{className:"relative group",children:[H>0&&g.jsxs("div",{className:"pl-8 pb-3 flex items-center text-xs text-slate-400 relative",children:[g.jsx("div",{className:"h-full w-0.5 bg-guam-teal/20 absolute left-[27px] -top-6 bottom-0"}),g.jsxs("div",{className:"ml-2 flex items-center bg-white/50 px-2 py-0.5 rounded-full backdrop-blur-sm",children:[g.jsx("span",{className:"mr-1.5 text-guam-teal",children:E(j.transportType)}),g.jsx("span",{className:"font-medium",children:j.travelTime||""})]})]}),g.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-[2rem] p-5 shadow-[0_8px_20px_-6px_rgba(13,148,136,0.1)] border border-white/60 relative overflow-hidden flex items-start",children:[g.jsxs("div",{className:"mr-4 flex flex-col items-center min-w-[50px]",children:[g.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shadow-md mb-1.5 ${V(j.category)}`,children:C(j.category)}),j.startTime&&g.jsx("span",{className:"text-xs font-bold text-guam-navy tracking-tight",children:j.startTime})]}),g.jsxs("div",{className:"flex-1 min-w-0 pr-8",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-800 leading-tight mb-1 truncate",children:j.name}),g.jsxs("div",{className:"text-xs text-slate-500 space-y-1 mb-2",children:[j.hours&&g.jsxs("p",{className:"flex items-center",children:[g.jsx(vS,{size:12,className:"mr-1.5 text-guam-teal"})," ",j.hours]}),j.price&&g.jsxs("p",{className:"flex items-center",children:[g.jsx(Id,{size:12,className:"mr-1.5 text-guam-teal"})," ",j.price]}),j.address&&g.jsxs("p",{className:"flex items-center truncate",children:[g.jsx(Td,{size:12,className:"mr-1.5 text-guam-teal"})," ",j.address]})]}),j.note&&g.jsxs("div",{className:"bg-guam-sand/60 p-2.5 rounded-xl border border-guam-teal/10",children:[g.jsx("div",{className:`text-xs text-slate-600 leading-relaxed overflow-hidden transition-all ${h.includes(j.id)?"max-h-96":"max-h-10 line-clamp-2"}`,children:j.note}),j.note.length>40&&g.jsx("button",{onClick:P=>{P.stopPropagation(),y(j.id)},className:"text-[10px] text-guam-teal font-bold mt-1 flex items-center",children:h.includes(j.id)?"":"..."})]})]}),g.jsxs("div",{className:"absolute top-4 right-3 flex flex-col gap-2",children:[g.jsx("button",{onClick:()=>$(j.address||j.name),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-teal hover:text-white transition-all shadow-sm",children:g.jsx(Td,{size:14})}),g.jsx("button",{onClick:()=>u(j),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-navy hover:text-white transition-all shadow-sm",children:g.jsx(cc,{size:14})})]})]})]},j.id)),t.length===0&&g.jsx("div",{className:"text-center py-20 opacity-40",children:g.jsx("p",{className:"text-sm font-medium",children:""})})]})]})},qS=({flights:s,onFlightClick:e})=>{const[t,i]=ye.useState("100"),o=Math.round((parseFloat(t)||0)*Sd),u=h=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(h+" Guam")}`,"_blank")};return g.jsxs("div",{className:"space-y-6 animate-fade-in pb-24",children:[g.jsxs("div",{className:"bg-gradient-to-br from-guam-navy to-guam-teal rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-10 -mt-10 blur-2xl"}),g.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center relative z-10",children:[g.jsx(ES,{className:"mr-2",size:20}),"  (USD)"]}),g.jsxs("div",{className:"flex items-center justify-between gap-4 relative z-10",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"USD ()"}),g.jsx("input",{type:"number",value:t,onChange:h=>i(h.target.value),className:"w-full bg-white/20 border border-white/30 rounded-xl px-3 py-2 text-white placeholder-white/50 focus:outline-none text-xl font-bold"})]}),g.jsx(mS,{className:"text-white/50 mt-4",size:20}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"TWD ()"}),g.jsx("div",{className:"w-full bg-white/10 rounded-xl px-3 py-2 text-white text-xl font-bold border border-transparent",children:o.toLocaleString()})]})]}),g.jsxs("p",{className:"text-[10px] text-cyan-200 mt-3 text-right opacity-70",children:[": ",Sd]})]}),g.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[g.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[g.jsx(La,{className:"text-guam-coral mr-2",size:20})," "]}),g.jsx("div",{className:"space-y-4",children:s&&s.length>0?s.map(h=>g.jsxs("div",{onClick:()=>e&&e(h),className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50 hover:bg-slate-100 transition-colors cursor-pointer group relative",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("span",{className:`${h.id==="outbound"?"bg-guam-navy":"bg-guam-teal"} text-white text-[10px] px-2 py-0.5 rounded`,children:[h.id==="outbound"?"":""," (",h.date.split("/")[1],"/",h.date.split("/")[2],")"]}),g.jsx("span",{className:"text-xs font-bold text-slate-400 group-hover:text-guam-navy transition-colors",children:h.flightNumber})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("span",{className:"block text-xl font-bold text-slate-700",children:h.departureTime}),g.jsx("span",{className:"text-xs text-slate-400",children:h.departureCode})]}),g.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[g.jsx("span",{className:"text-[10px] text-slate-400",children:h.duration}),g.jsx("div",{className:"w-full h-px bg-slate-300 relative my-1",children:g.jsx(La,{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-slate-300 bg-slate-50 group-hover:text-guam-coral transition-colors",size:12})})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("span",{className:"block text-xl font-bold text-slate-700",children:h.arrivalTime}),g.jsx("span",{className:"text-xs text-slate-400",children:h.arrivalCode})]})]})]},h.id)):g.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"..."})})]}),g.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[g.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[g.jsx(AS,{className:"text-guam-teal mr-2",size:20})," "]}),g.jsx("div",{className:"space-y-4",children:[{date:"2/7 (Sat)",name:"Bayview Hotel Guam",cn:""},{date:"2/8 (Sun)",name:"Crowne Plaza Resort",cn:""},{date:"2/9 (Mon)",name:"Hoshino Resorts RISONARE",cn:""},{date:"2/10 (Tue)",name:"Guam Plaza Resort",cn:"Spa"}].map((h,p)=>g.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-3 last:border-0",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-[10px] bg-slate-100 px-2 py-0.5 rounded text-slate-500 font-bold",children:h.date}),g.jsx("h4",{className:"font-bold text-slate-700 text-sm mt-1",children:h.name}),g.jsx("p",{className:"text-xs text-slate-400",children:h.cn})]}),g.jsx("button",{onClick:()=>u(h.name),className:"w-8 h-8 rounded-full bg-slate-50 text-guam-teal flex items-center justify-center hover:bg-guam-teal hover:text-white transition-colors",children:g.jsx(Td,{size:14})})]},p))})]})]})},GS=({items:s,onRemove:e,onAddClick:t,onEdit:i})=>g.jsxs("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-6 px-1",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-guam-navy/10 flex items-center justify-center text-guam-navy",children:g.jsx(Fa,{size:20})}),g.jsx("h2",{className:"text-xl font-bold text-slate-800 tracking-tight",children:""})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.map(o=>g.jsxs("div",{className:"bg-white rounded-2xl p-3 shadow-sm border border-slate-100 flex flex-col relative group min-h-[140px] justify-between overflow-hidden",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-guam-teal/10 flex items-center justify-center text-guam-teal shadow-sm border border-white",children:g.jsx(Fa,{size:16})}),g.jsxs("div",{className:"flex gap-1 bg-white/80 rounded-full p-0.5 backdrop-blur-sm shadow-sm",children:[g.jsx("button",{onClick:()=>i(o),className:"text-slate-400 hover:text-guam-navy transition-colors p-1",children:g.jsx(cc,{size:14})}),g.jsx("button",{onClick:()=>e(o.id),className:"text-slate-400 hover:text-red-400 transition-colors p-1",children:g.jsx(_f,{size:14})})]})]}),o.imageUrl&&g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-cover opacity-20 group-hover:opacity-30 transition-opacity"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-white/80 to-transparent"})]}),g.jsxs("div",{className:"relative z-10",children:[o.imageUrl&&g.jsx("div",{className:"mb-2 w-16 h-16 rounded-lg overflow-hidden border border-slate-100 shadow-sm mx-auto",children:g.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-cover"})}),g.jsx("p",{className:"font-bold text-sm text-slate-800 mb-1 leading-snug",children:o.name}),g.jsx("p",{className:"text-xs text-slate-500 font-medium break-words leading-relaxed",children:o.note||""})]})]},o.id)),g.jsxs("div",{onClick:t,className:"bg-white/40 border-2 border-dashed border-slate-300/50 rounded-2xl p-4 flex flex-col items-center justify-center cursor-pointer min-h-[140px] hover:bg-white/80 transition-all hover:border-guam-teal/50 group",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center mb-2 group-hover:bg-guam-teal group-hover:text-white transition-colors",children:g.jsx(p0,{size:20,className:"text-slate-300 group-hover:text-white"})}),g.jsx("span",{className:"text-xs text-slate-400 font-bold group-hover:text-guam-teal transition-colors",children:""})]})]})]}),KS=({expenses:s,onRemove:e,onEdit:t,members:i=[]})=>{const[o,u]=ye.useState("list"),h=s.reduce((P,q)=>P+q.amount,0),p=Math.round(h*Sd),y=P=>i.find(q=>q.id===P)?.name||"Unknown",_=P=>i.find(q=>q.id===P)?.avatarUrl,E=P=>{switch(P){case"food":return g.jsx(xS,{size:14});case"shopping":return g.jsx(Fa,{size:14});case"transport":return g.jsx(Gu,{size:14});case"accommodation":return g.jsx(c0,{size:14});case"other":return g.jsx(DS,{size:14});default:return g.jsx(Id,{size:14})}},C=P=>{switch(P){case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"transport":return"bg-slate-500";case"accommodation":return"bg-indigo-500";case"other":return"bg-slate-400";default:return"bg-guam-sun"}},$=(()=>{const P={};return i.forEach(q=>{P[q.id]={paid:0,share:0,net:0}}),s.forEach(q=>{P[q.payerId]||(P[q.payerId]={paid:0,share:0,net:0}),P[q.payerId].paid+=q.amount,q.splits&&q.splits.length>0?q.splits.forEach(J=>{P[J.memberId]||(P[J.memberId]={paid:0,share:0,net:0}),P[J.memberId].share+=J.amount}):P[q.payerId].share+=q.amount}),Object.keys(P).forEach(q=>{P[q].net=P[q].paid-P[q].share}),P})(),H=(()=>{let P=[],q=[];Object.keys($).forEach(_e=>{const oe=$[_e].net;Math.abs(oe)<.01||(oe<0?P.push({id:_e,amount:-oe}):q.push({id:_e,amount:oe}))}),P.sort((_e,oe)=>oe.amount-_e.amount),q.sort((_e,oe)=>oe.amount-_e.amount);const J=[];let pe=0,me=0;for(;pe<P.length&&me<q.length;){const _e=P[pe],oe=q[me],R=Math.min(_e.amount,oe.amount);R>0&&J.push({fromId:_e.id,toId:oe.id,amount:parseFloat(R.toFixed(2))}),_e.amount-=R,oe.amount-=R,_e.amount<.01&&pe++,oe.amount<.01&&me++}return J})();return g.jsxs("div",{className:"animate-fade-in pb-24",children:[g.jsxs("div",{className:"flex bg-white rounded-2xl p-1 mb-6 shadow-sm border border-slate-100",children:[g.jsxs("button",{onClick:()=>u("list"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="list"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(Xg,{size:16,className:"mr-2"})," "]}),g.jsxs("button",{onClick:()=>u("settlement"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="settlement"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(Ra,{size:16,className:"mr-2"})," "]})]}),o==="list"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"bg-guam-navy rounded-[2.5rem] p-8 mb-6 relative overflow-hidden text-white shadow-xl shadow-guam-navy/20",children:[g.jsx("div",{className:"absolute -right-12 -top-12 bg-guam-teal/30 w-56 h-56 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute -left-10 bottom-0 bg-guam-coral/20 w-40 h-40 rounded-full blur-2xl"}),g.jsx("p",{className:"text-xs text-cyan-100/80 mb-1 relative z-10 font-medium tracking-wider",children:"TOTAL SPENT (USD)"}),g.jsxs("h2",{className:"text-5xl font-bold relative z-10 tracking-tight mb-2",children:["$",h.toLocaleString()]}),g.jsxs("p",{className:"text-sm text-right opacity-70 relative z-10",children:[" NT$ ",p.toLocaleString()]})]}),g.jsxs("div",{className:"bg-white rounded-t-[2.5rem] min-h-[400px] p-6 shadow-[0_-5px_30px_rgba(0,0,0,0.03)] -mx-4 px-8 pt-8 border-t border-slate-50",children:[g.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center text-sm tracking-wide",children:[g.jsx(Xg,{className:"text-guam-teal mr-2",size:16})," RECENT ACTIVITY"]}),g.jsxs("div",{className:"space-y-6",children:[s.map(P=>g.jsxs("div",{className:"flex items-center justify-between group",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white mr-4 shadow-sm ${C(P.category)}`,children:E(P.category)}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-700 text-sm",children:P.name}),g.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-medium flex items-center gap-2",children:[g.jsxs("span",{children:[P.date,"  ",P.payment]}),g.jsxs("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-bold",children:[y(P.payerId)," "]})]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"font-bold text-slate-800",children:["$",P.amount]}),g.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsxs("button",{onClick:()=>t(P),className:"text-[10px] text-guam-navy flex items-center",children:[g.jsx(cc,{size:10,className:"mr-1"})," "]}),g.jsxs("button",{onClick:()=>e(P.id),className:"text-[10px] text-red-300 flex items-center",children:[g.jsx(Ja,{size:10,className:"mr-1"})," "]})]})]})]},P.id)),s.length===0&&g.jsx("p",{className:"text-center text-slate-300 text-sm py-8",children:""})]})]})]}):g.jsxs("div",{className:"space-y-6",children:[H.length>0&&g.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-[0_5px_20px_rgba(13,148,136,0.1)] border border-guam-teal/20",children:[g.jsxs("h3",{className:"font-bold text-guam-teal mb-4 flex items-center text-sm tracking-wide",children:[g.jsx(VS,{size:16,className:"mr-2"}),"  (Transfer Guide)"]}),g.jsx("div",{className:"space-y-3",children:H.map((P,q)=>g.jsxs("div",{className:"flex items-center justify-between bg-guam-sand/50 p-4 rounded-2xl border border-guam-teal/10 relative overflow-hidden",children:[g.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-guam-teal/5 z-0 pointer-events-none",children:g.jsx(Gg,{size:60})}),g.jsx("div",{className:"flex items-center z-10",children:g.jsxs("div",{className:"text-center mr-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-slate-100 overflow-hidden shadow-sm mx-auto mb-1",children:_(P.fromId)?g.jsx("img",{src:_(P.fromId),className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:y(P.fromId)[0]})}),g.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:y(P.fromId)})]})}),g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center z-10 px-2",children:[g.jsx("p",{className:"text-[10px] text-slate-400 font-bold mb-1",children:"PAYS"}),g.jsx("div",{className:"bg-white px-3 py-1 rounded-full shadow-sm border border-guam-teal/20",children:g.jsxs("span",{className:"font-bold text-guam-teal text-lg",children:["$",P.amount]})}),g.jsx(Gg,{size:14,className:"text-guam-teal/50 mt-1"})]}),g.jsx("div",{className:"flex items-center z-10",children:g.jsxs("div",{className:"text-center ml-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-guam-teal overflow-hidden shadow-sm mx-auto mb-1",children:_(P.toId)?g.jsx("img",{src:_(P.toId),className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:y(P.toId)[0]})}),g.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:y(P.toId)})]})})]},q))})]}),g.jsxs("div",{className:"px-2",children:[g.jsx("h3",{className:"font-bold text-slate-400 mb-3 flex items-center text-xs tracking-wide uppercase px-2",children:" (Net Balance)"}),g.jsx("div",{className:"space-y-4",children:i.map(P=>{const q=$[P.id]||{paid:0,share:0,net:0},J=q.net>=0;return g.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100 relative overflow-hidden opacity-90",children:[g.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${J?"bg-guam-teal":"bg-guam-coral"}`}),g.jsxs("div",{className:"flex justify-between items-start mb-4 pl-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 mr-3 overflow-hidden border border-white shadow-sm",children:P.avatarUrl?g.jsx("img",{src:P.avatarUrl,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs font-bold",children:P.name[0]})}),g.jsx("span",{className:"font-bold text-slate-800 text-lg",children:P.name})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider mb-0.5",children:J?" (Receive)":" (Pay)"}),g.jsxs("p",{className:`text-xl font-bold ${J?"text-guam-teal":"text-guam-coral"}`,children:["$",Math.abs(q.net).toLocaleString()]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-2",children:[g.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[g.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[g.jsx(TS,{size:10,className:"mr-1"})," "]}),g.jsxs("p",{className:"font-bold text-slate-700",children:["$",q.paid.toLocaleString()]})]}),g.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[g.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[g.jsx(Ra,{size:10,className:"mr-1"})," "]}),g.jsxs("p",{className:"font-bold text-slate-700",children:["$",q.share.toLocaleString()]})]})]})]},P.id)})})]}),s.length===0&&g.jsxs("div",{className:"text-center py-10 opacity-50",children:[g.jsx(Ra,{size:40,className:"mx-auto text-slate-300 mb-2"}),g.jsx("p",{className:"text-sm text-slate-400",children:""})]})]})]})},QS=({items:s,onToggle:e,onRemove:t,onEdit:i})=>{const[o,u]=ye.useState("todo"),h=_=>{switch(_){case"Mom":return"bg-red-50 text-red-500 border-red-100";case"Sister1":return"bg-blue-50 text-blue-500 border-blue-100";case"Sister2":return"bg-green-50 text-green-500 border-green-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},p=[{key:"todo",label:"",icon:g.jsx(NS,{size:18})},{key:"luggage",label:"",icon:g.jsx(h0,{size:18})},{key:"documents",label:"",icon:g.jsx(kS,{size:18})}],y=s.filter(_=>_.category===o);return g.jsxs("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:[g.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl shadow-sm mb-6 border border-slate-100 sticky top-0 z-10 mx-1",children:p.map(_=>g.jsxs("button",{onClick:()=>u(_.key),className:`flex-1 flex items-center justify-center py-3 text-sm font-bold rounded-xl transition-all ${o===_.key?"bg-guam-teal text-white shadow-md scale-100":"text-slate-400 hover:bg-slate-50 scale-95"}`,children:[g.jsx("span",{className:"mr-2 opacity-90",children:_.icon}),_.label]},_.key))}),g.jsx("div",{className:"space-y-4",children:y.map(_=>g.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.03)] border border-white flex items-center group transition-all hover:shadow-lg hover:-translate-y-0.5",children:[g.jsxs("label",{className:"flex items-center flex-1 cursor-pointer checkbox-wrapper select-none",children:[g.jsx("input",{type:"checkbox",checked:_.completed,onChange:()=>e(_.id),className:"hidden"}),g.jsx("div",{className:`w-7 h-7 rounded-xl border-2 mr-4 flex items-center justify-center transition-all duration-300 ${_.completed?"bg-guam-teal border-guam-teal rotate-6 scale-110":"border-slate-200 bg-slate-50 group-hover:border-guam-teal/50"}`,children:g.jsx(d0,{size:16,className:"text-white hidden",strokeWidth:4})}),g.jsx("span",{className:`text-base font-bold transition-colors ${_.completed?"text-slate-300 line-through decoration-2 decoration-slate-200":"text-slate-700"}`,children:_.title})]}),g.jsxs("div",{className:"flex items-center pl-3",children:[g.jsx("span",{className:`text-[10px] px-3 py-1.5 rounded-full border font-bold whitespace-nowrap tracking-wide uppercase ${h(_.assignedTo)}`,children:_.assignedTo}),g.jsxs("div",{className:"flex gap-2 ml-3",children:[g.jsx("button",{onClick:()=>i(_),className:"w-9 h-9 rounded-full bg-slate-50 text-slate-400 flex items-center justify-center transition-all hover:bg-guam-navy hover:text-white shadow-sm active:scale-90",children:g.jsx(cc,{size:16})}),g.jsx("button",{onClick:()=>t(_.id),className:"w-9 h-9 rounded-full bg-red-50 text-red-400 flex items-center justify-center transition-all hover:bg-red-500 hover:text-white shadow-sm active:scale-90",children:g.jsx(Ja,{size:16})})]})]})]},_.id))}),y.length===0&&g.jsxs("div",{className:"text-center py-24 flex flex-col items-center justify-center opacity-50",children:[g.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-4 text-slate-300 shadow-sm",children:p.find(_=>_.key===o)?.icon}),g.jsxs("p",{className:"text-base font-bold text-slate-500",children:["",p.find(_=>_.key===o)?.label]}),g.jsx("p",{className:"text-sm text-slate-400 mt-1",children:""})]})]})},XS=({isOpen:s,onClose:e,onSave:t,onDelete:i,initialData:o})=>{const[u,h]=ye.useState({category:"sightseeing",transportType:"car"});return ye.useEffect(()=>{h(o?{...o}:{category:"sightseeing",transportType:"car",name:"",address:"",price:"",hours:"",note:"",startTime:""})},[o,s]),s?g.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[g.jsx("h3",{className:"font-bold text-lg mb-6 text-center text-slate-800",children:o?"":""}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("select",{value:u.category,onChange:p=>h({...u,category:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",children:[g.jsx("option",{value:"sightseeing",children:""}),g.jsx("option",{value:"food",children:""}),g.jsx("option",{value:"shopping",children:""}),g.jsx("option",{value:"transport",children:""}),g.jsx("option",{value:"accommodation",children:""}),g.jsx("option",{value:"ticket",children:"/"}),g.jsx("option",{value:"other",children:""})]}),g.jsx("input",{placeholder:" (09:00)",value:u.startTime||"",onChange:p=>h({...u,startTime:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal text-center placeholder-slate-400"})]}),g.jsx("input",{placeholder:"",value:u.name||"",onChange:p=>h({...u,name:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal font-bold placeholder-slate-400"}),g.jsx("input",{placeholder:"",value:u.address||"",onChange:p=>h({...u,address:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("input",{placeholder:"",value:u.price||"",onChange:p=>h({...u,price:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"}),g.jsx("input",{placeholder:"",value:u.hours||"",onChange:p=>h({...u,hours:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"})]}),g.jsx("textarea",{placeholder:"",rows:3,value:u.note||"",onChange:p=>h({...u,note:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"})]}),g.jsxs("div",{className:"flex space-x-3 mt-8",children:[g.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),o&&g.jsx("button",{onClick:()=>{i(o.id),e()},className:"w-12 bg-red-50 text-red-400 rounded-xl flex items-center justify-center",children:g.jsx(Ja,{size:18})}),g.jsx("button",{onClick:()=>{t(u),e()},className:"flex-[2] py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},YS=({isOpen:s,onClose:e,onSave:t,initialData:i})=>{const[o,u]=ye.useState(""),[h,p]=ye.useState(""),[y,_]=ye.useState(void 0),[E,C]=ye.useState(!1),V=ye.useRef(null);ye.useEffect(()=>{s&&(i?(u(i.name),p(i.note||""),_(i.imageUrl)):(u(""),p(""),_(void 0)))},[s,i]);const $=j=>{const H=j.target.files?.[0];if(!H)return;C(!0);const P=new FileReader;P.onload=q=>{const J=new Image;J.onload=()=>{const pe=document.createElement("canvas"),me=300;let _e=J.width,oe=J.height;_e>oe?_e>me&&(oe*=me/_e,_e=me):oe>me&&(_e*=me/oe,oe=me),pe.width=_e,pe.height=oe;const R=pe.getContext("2d");if(R){R.drawImage(J,0,0,_e,oe);const T=pe.toDataURL("image/jpeg",.6);_(T)}C(!1)},J.src=q.target?.result},P.readAsDataURL(H)};return s?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[g.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:i?"":""}),g.jsxs("div",{className:"mb-4 flex justify-center",children:[g.jsx("input",{type:"file",ref:V,onChange:$,accept:"image/*",className:"hidden"}),y?g.jsxs("div",{className:"relative w-32 h-32 rounded-2xl overflow-hidden border border-slate-200 group",children:[g.jsx("img",{src:y,alt:"Product",className:"w-full h-full object-cover"}),g.jsxs("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity gap-2",children:[g.jsx("button",{onClick:()=>V.current?.click(),className:"p-1.5 bg-white/20 rounded-full text-white hover:bg-white/40",children:g.jsx(f0,{size:16})}),g.jsx("button",{onClick:()=>_(void 0),className:"p-1.5 bg-red-500/50 rounded-full text-white hover:bg-red-500/80",children:g.jsx(Ja,{size:16})})]})]}):g.jsxs("button",{onClick:()=>V.current?.click(),className:"w-32 h-32 rounded-2xl border-2 border-dashed border-slate-300 bg-slate-50 flex flex-col items-center justify-center text-slate-400 hover:border-guam-teal hover:text-guam-teal hover:bg-guam-teal/5 transition-all",disabled:E,children:[E?g.jsx(Ku,{size:24,className:"animate-spin mb-2"}):g.jsx(CS,{size:32,className:"mb-2"}),g.jsx("span",{className:"text-xs font-bold",children:E?"":""})]})]}),g.jsx("input",{placeholder:" (ex: Banana Boat SPF110)",value:o,onChange:j=>u(j.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),g.jsx("textarea",{rows:3,placeholder:" (ex: ABC Store , )",value:h,onChange:j=>p(j.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-6 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),g.jsxs("div",{className:"flex space-x-3",children:[g.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),g.jsx("button",{onClick:()=>{t({name:o,note:h,imageUrl:y}),e(),u(""),p(""),_(void 0)},disabled:!o.trim()||E,className:"flex-1 py-3 rounded-xl bg-guam-navy text-white font-bold text-sm shadow-lg shadow-guam-navy/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:E?g.jsx(Ku,{size:16,className:"animate-spin"}):i?"":""})]})]})}):null},JS=({isOpen:s,onClose:e,onSave:t,members:i,initialData:o})=>{const[u,h]=ye.useState({category:"food",payment:"Cash",amount:0}),[p,y]=ye.useState([]);ye.useEffect(()=>{if(s)if(o){h(o);const j=o.splits||[];y(i.map(H=>{const P=j.find(q=>q.memberId===H.id);return{id:H.id,amount:P?P.amount:0,checked:!!P}}))}else h({category:"food",payment:"Cash",amount:0,payerId:i[0]?.id}),y(i.map(j=>({id:j.id,amount:0,checked:!0})))},[s,i,o]);const _=(j,H)=>{const q=H.filter(J=>J.checked).length;if(q>0&&j>0){const J=parseFloat((j/q).toFixed(2)),pe=parseFloat((j-J*(q-1)).toFixed(2));let me=0;return H.map(_e=>_e.checked?(me++,{..._e,amount:me===q?pe:J}):{..._e,amount:0})}else return H.map(J=>({...J,amount:0}))},E=j=>{const H=parseFloat(j)||0;h(P=>({...P,amount:H})),y(P=>_(H,P))},C=j=>{const H=p.map(P=>P.id===j?{...P,checked:!P.checked}:P);y(_(u.amount||0,H))},V=(j,H)=>{y(P=>P.map(q=>q.id===j?{...q,amount:H}:q))},$=()=>{const j=p.reduce((q,J)=>q+(J.checked?J.amount:0),0),H=u.amount||0;if(Math.abs(j-H)>.05){alert(` (${j})  (${H})`);return}const P=p.filter(q=>q.checked).map(q=>({memberId:q.id,amount:q.amount}));t({...u,splits:P}),e(),h({category:"food",payment:"Cash",payerId:i[0]?.id,amount:0})};return s?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in overflow-y-auto",children:g.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl my-auto",children:[g.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:o?"":" (USD)"}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[g.jsxs("select",{value:u.category,onChange:j=>h({...u,category:j.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[g.jsx("option",{value:"food",children:""}),g.jsx("option",{value:"shopping",children:""}),g.jsx("option",{value:"transport",children:""}),g.jsx("option",{value:"ticket",children:""}),g.jsx("option",{value:"accommodation",children:""}),g.jsx("option",{value:"other",children:""})]}),g.jsx("select",{value:u.payerId||i[0]?.id,onChange:j=>h({...u,payerId:j.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:i.map(j=>g.jsxs("option",{value:j.id,children:[": ",j.name]},j.id))})]}),g.jsxs("div",{className:"flex bg-slate-50 rounded-xl p-1 mb-3",children:[g.jsx("button",{onClick:()=>h({...u,payment:"Cash"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${u.payment==="Cash"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""}),g.jsx("button",{onClick:()=>h({...u,payment:"Card"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${u.payment==="Card"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""})]}),g.jsx("input",{placeholder:"",value:u.name||"",onChange:j=>h({...u,name:j.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"}),g.jsxs("div",{className:"relative mb-5",children:[g.jsx("span",{className:"absolute left-4 top-4 text-slate-400 font-bold",children:"$"}),g.jsx("input",{type:"number",placeholder:"0.00",value:u.amount||"",onChange:j=>E(j.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 pl-8 text-lg font-bold outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"})]}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("p",{className:"text-xs font-bold text-slate-400 mb-2 flex items-center",children:[g.jsx(Ra,{size:12,className:"mr-1"}),"  ()"]}),g.jsx("div",{className:"space-y-2 bg-slate-50 p-3 rounded-2xl max-h-[150px] overflow-y-auto",children:p.map(j=>{const H=i.find(P=>P.id===j.id);return g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{onClick:()=>C(j.id),className:`w-5 h-5 rounded-md border flex items-center justify-center mr-2 cursor-pointer transition-colors ${j.checked?"bg-guam-teal border-guam-teal":"border-slate-300 bg-white"}`,children:j.checked&&g.jsx(d0,{size:12,className:"text-white"})}),g.jsx("span",{className:`text-sm ${j.checked?"text-slate-700":"text-slate-400"}`,children:H?.name})]}),g.jsxs("div",{className:"relative w-24",children:[g.jsx("span",{className:`absolute left-2 top-1.5 text-xs ${j.checked?"text-slate-500":"text-slate-300"}`,children:"$"}),g.jsx("input",{type:"number",disabled:!j.checked,value:j.amount,onChange:P=>V(j.id,parseFloat(P.target.value)),className:`w-full rounded-lg py-1 pl-4 pr-2 text-right text-sm outline-none border ${j.checked?"bg-white border-slate-200 focus:border-guam-teal text-slate-800":"bg-transparent border-transparent text-slate-300"}`})]})]},j.id)})})]}),g.jsxs("div",{className:"flex space-x-3",children:[g.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),g.jsx("button",{onClick:$,className:"flex-1 py-3 rounded-xl bg-guam-coral text-white font-bold text-sm shadow-lg shadow-guam-coral/30",children:""})]})]})}):null},ZS=({isOpen:s,onClose:e,onSave:t,members:i,initialData:o})=>{const[u,h]=ye.useState({category:"todo",assignedTo:"All",completed:!1});return ye.useEffect(()=>{s&&h(o?{...o}:{category:"todo",assignedTo:"All",completed:!1,title:""})},[s,o]),s?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[g.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:o?"":""}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[g.jsxs("select",{value:u.category,onChange:p=>h({...u,category:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[g.jsx("option",{value:"todo",children:""}),g.jsx("option",{value:"luggage",children:""}),g.jsx("option",{value:"documents",children:""})]}),g.jsxs("select",{value:u.assignedTo,onChange:p=>h({...u,assignedTo:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[g.jsx("option",{value:"All",children:" (All)"}),i.map(p=>g.jsx("option",{value:p.name,children:p.name},p.id))]})]}),g.jsx("input",{placeholder:"",value:u.title||"",onChange:p=>h({...u,title:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-6 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),g.jsxs("div",{className:"flex space-x-3",children:[g.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),g.jsx("button",{onClick:()=>{t(u),e(),h({category:"todo",assignedTo:"All",completed:!1})},className:"flex-1 py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:o?"":""})]})]})}):null},ek=({isOpen:s,onClose:e,flight:t,onSave:i})=>{const[o,u]=ye.useState(!1),[h,p]=ye.useState(null);if(ye.useEffect(()=>{s&&t&&(p({...t}),u(!1))},[s,t]),!s||!h)return null;const y=()=>{h&&(i(h),u(!1))};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in overflow-y-auto",children:g.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-sm shadow-2xl relative overflow-hidden my-auto",children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-20 w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 hover:text-slate-600",children:g.jsx(_f,{size:16})}),o?g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:"font-bold text-lg mb-6 text-center text-slate-800",children:""}),g.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:" & "}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{value:h.airline,onChange:_=>p({...h,airline:_.target.value}),className:"flex-1 bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",placeholder:"Airline"}),g.jsx("input",{value:h.flightNumber,onChange:_=>p({...h,flightNumber:_.target.value}),className:"w-24 bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal font-bold",placeholder:"NO."})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:" (//)"}),g.jsx("input",{value:h.departureCode,onChange:_=>p({...h,departureCode:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2 font-bold uppercase"}),g.jsx("input",{value:h.departureCity,onChange:_=>p({...h,departureCity:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2"}),g.jsx("input",{type:"time",value:h.departureTime,onChange:_=>p({...h,departureTime:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:" (//)"}),g.jsx("input",{value:h.arrivalCode,onChange:_=>p({...h,arrivalCode:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2 font-bold uppercase"}),g.jsx("input",{value:h.arrivalCity,onChange:_=>p({...h,arrivalCity:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2"}),g.jsx("input",{type:"time",value:h.arrivalTime,onChange:_=>p({...h,arrivalTime:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:""}),g.jsx("input",{type:"date",value:h.date.replace(/\//g,"-"),onChange:_=>p({...h,date:_.target.value.replace(/-/g,"/")}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:""}),g.jsx("input",{value:h.duration,onChange:_=>p({...h,duration:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",placeholder:"ex: 3h 50m"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("input",{value:h.baggage,onChange:_=>p({...h,baggage:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:" (ex: 23kg)"}),g.jsx("input",{value:h.aircraft,onChange:_=>p({...h,aircraft:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:" (ex: A321)"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("input",{value:h.price,onChange:_=>p({...h,price:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:""}),g.jsx("input",{value:h.purchaseDate,onChange:_=>p({...h,purchaseDate:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:""})]})]}),g.jsxs("div",{className:"flex gap-3 mt-6",children:[g.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),g.jsxs("button",{onClick:y,className:"flex-1 py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30 flex items-center justify-center",children:[g.jsx(jS,{size:16,className:"mr-2"})," "]})]})]}):g.jsxs("div",{className:"p-0",children:[g.jsxs("div",{className:"bg-blue-50/50 p-6 pb-8 text-center relative",children:[g.jsx("h3",{className:"text-slate-400 font-bold text-sm uppercase tracking-widest",children:h.airline}),g.jsx("h2",{className:"text-4xl font-black text-slate-700 mt-2 tracking-wide",children:h.flightNumber.replace(/\s/g," ")}),g.jsx("div",{className:"absolute top-4 right-6 bg-white px-2 py-1 rounded text-[10px] font-bold text-slate-400 shadow-sm border border-slate-100",children:""})]}),g.jsx("div",{className:"px-8 -mt-6 relative z-10",children:g.jsx("div",{className:"bg-white rounded-[2rem] shadow-xl p-6 border border-slate-100",children:g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsxs("div",{className:"text-left",children:[g.jsx("h1",{className:"text-4xl font-black text-slate-700",children:h.departureCode}),g.jsx("p",{className:"text-2xl font-bold text-slate-700 mt-1",children:h.departureTime}),g.jsx("span",{className:`inline-block px-3 py-0.5 rounded-full text-xs font-bold mt-2 text-white ${h.departureCode==="TPE"||h.departureCode==="KHH"?"bg-guam-teal":"bg-guam-sun"}`,children:h.departureCity})]}),g.jsxs("div",{className:"flex flex-col items-center justify-center px-2",children:[g.jsx("span",{className:"text-[10px] text-slate-300 font-bold mb-1",children:h.duration}),g.jsx(La,{className:"text-blue-500 rotate-90 mb-1",size:24}),g.jsx("div",{className:"w-16 border-b-2 border-dashed border-slate-200 mb-1"}),g.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:h.date})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("h1",{className:"text-4xl font-black text-slate-700",children:h.arrivalCode}),g.jsx("p",{className:"text-2xl font-bold text-slate-700 mt-1",children:h.arrivalTime}),g.jsx("span",{className:`inline-block px-3 py-0.5 rounded-full text-xs font-bold mt-2 text-white ${h.arrivalCode==="GUM"?"bg-guam-sun":"bg-guam-teal"}`,children:h.arrivalCity})]})]})})}),g.jsxs("div",{className:"px-8 mt-6 pb-8 space-y-4",children:[g.jsxs("div",{className:"flex border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[g.jsxs("div",{className:"flex-1 border-r border-slate-200 pr-4",children:[g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"BAGGAGE"}),g.jsxs("p",{className:"font-bold text-slate-700 flex items-center",children:[g.jsx(h0,{size:16,className:"text-guam-teal mr-2"})," ",h.baggage]})]}),g.jsxs("div",{className:"flex-1 pl-4 text-right",children:[g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"AIRCRAFT"}),g.jsxs("p",{className:"font-bold text-slate-700 flex items-center justify-end",children:[g.jsx(La,{size:16,className:"text-guam-sun mr-2"})," ",h.aircraft]})]})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"flex-1 border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"PRICE"}),g.jsx("p",{className:"font-bold text-slate-700 text-lg",children:h.price}),g.jsx("p",{className:"text-[10px] text-slate-400",children:""})]}),g.jsxs("div",{className:"flex-1 border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"PURCHASED"}),g.jsx("p",{className:"font-bold text-slate-700 text-lg",children:h.purchaseDate}),g.jsx("p",{className:"text-[10px] text-slate-400",children:"via "})]})]}),g.jsxs("button",{onClick:()=>u(!0),className:"w-full py-4 border border-slate-200 text-slate-500 rounded-2xl font-bold flex items-center justify-center hover:bg-slate-50 transition-colors mt-4",children:[g.jsx(f0,{size:16,className:"mr-2"})," "]})]})]})]})})},tk=({isOpen:s,onClose:e,members:t,onAddMember:i,onRemoveMember:o,currentUser:u,onLogout:h,onSyncDB:p})=>{const[y,_]=ye.useState(""),[E,C]=ye.useState(""),[V,$]=ye.useState(!1),[j,H]=ye.useState(null);if(!s)return null;const P=J=>{const pe=J.target.files?.[0];if(!pe)return;$(!0);const me=new FileReader;me.onload=_e=>{const oe=new Image;oe.onload=()=>{const R=document.createElement("canvas"),T=200;let S=oe.width,N=oe.height;S>N?S>T&&(N*=T/S,S=T):N>T&&(S*=T/N,N=T),R.width=S,R.height=N;const D=R.getContext("2d");if(D){D.drawImage(oe,0,0,S,N);const O=R.toDataURL("image/jpeg",.7);H(O)}$(!1)},oe.src=_e.target?.result},me.readAsDataURL(pe)},q=()=>{if(!y.trim()||!E.trim())return;const J={id:Date.now().toString(),name:y,email:E.trim(),role:"Member"};j&&(J.avatarUrl=j),i(J),_(""),C(""),H(null)};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[g.jsx("h3",{className:"font-bold text-lg text-slate-800",children:""}),g.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:g.jsx(_f,{size:24})})]}),g.jsxs("div",{className:"space-y-3 mb-6 overflow-y-auto pr-2 flex-1 min-h-0",children:[t.map(J=>g.jsxs("div",{className:`flex items-center justify-between p-2 rounded-xl border ${J.id===u?.id?"bg-guam-teal/5 border-guam-teal/30":"bg-slate-50 border-slate-100"}`,children:[g.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[g.jsx("div",{className:"w-10 h-10 shrink-0 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center border-2 border-white shadow-sm",children:J.avatarUrl?g.jsx("img",{src:J.avatarUrl,alt:J.name,className:"w-full h-full object-cover"}):g.jsx(FS,{size:20,className:"text-slate-400"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"font-bold text-slate-700 block truncate",children:J.name}),J.id===u?.id&&g.jsx("span",{className:"ml-2 text-[10px] bg-guam-teal text-white px-1.5 py-0.5 rounded-full font-bold leading-none",children:"YOU"})]}),g.jsxs("span",{className:"text-[10px] text-slate-400 block truncate flex items-center",children:[g.jsx(bS,{size:10,className:"mr-1 inline"})," ",J.email||"No Email"]})]})]}),J.id!==u?.id&&g.jsx("button",{onClick:()=>o(J.id),className:"w-8 h-8 flex items-center justify-center text-slate-300 hover:text-red-400 transition-colors shrink-0",children:g.jsx(Ja,{size:16})})]},J.id)),t.length===0&&g.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:""})]}),g.jsxs("div",{className:"border-t border-slate-100 pt-4 shrink-0",children:[g.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase tracking-wide",children:" ()"}),g.jsxs("div",{className:"flex gap-3 mb-3",children:[g.jsxs("div",{className:"relative shrink-0",children:[g.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:P}),g.jsx("label",{htmlFor:"avatar-upload",className:"w-12 h-12 rounded-full bg-slate-50 border border-dashed border-slate-300 flex items-center justify-center cursor-pointer hover:border-guam-teal hover:bg-guam-teal/5 transition-all overflow-hidden",children:V?g.jsx(Ku,{size:20,className:"animate-spin text-guam-teal"}):j?g.jsx("img",{src:j,className:"w-full h-full object-cover"}):g.jsx(LS,{size:18,className:"text-slate-400"})})]}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx("input",{type:"text",placeholder:"...",value:y,onChange:J=>_(J.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl px-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"}),g.jsx("input",{type:"email",placeholder:"Google Email ()",value:E,onChange:J=>C(J.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl px-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"})]})]}),g.jsx("button",{onClick:q,disabled:!y.trim()||!E.trim()||V,className:"w-full py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30 disabled:opacity-50 disabled:cursor-not-allowed mb-2",children:""}),u?.role==="Admin"&&p&&g.jsxs("button",{onClick:p,className:"w-full py-2 rounded-xl bg-slate-100 text-slate-500 font-bold text-xs flex items-center justify-center hover:bg-slate-200 transition-colors mb-2",children:[g.jsx(IS,{size:14,className:"mr-2"})," /"]}),g.jsxs("button",{onClick:()=>{e(),h()},className:"w-full py-3 rounded-xl border border-red-100 bg-red-50 text-red-500 font-bold text-sm flex items-center justify-center hover:bg-red-100 transition-colors",children:[g.jsx(PS,{size:16,className:"mr-2"}),"  (",u?.name,")"]})]}),!1]})})},nk=s=>s.reduce((e,t,i)=>(e[i.toString()]=t,e),{}),rk=s=>Array.isArray(s)?s:Object.keys(s).sort((t,i)=>parseInt(t)-parseInt(i)).map(t=>s[t]),_u=s=>Object.entries(s).reduce((e,[t,i])=>(i!==void 0&&(e[t]=i),e),{}),sk=()=>{const[s,e]=ye.useState(null),[t,i]=ye.useState(!1),[o,u]=ye.useState("itinerary"),[h,p]=ye.useState(0),[y,_]=ye.useState(ar.itinerary),[E,C]=ye.useState(ar.shopping),[V,$]=ye.useState(ar.expenses),[j,H]=ye.useState(ar.planning||[]),[P,q]=ye.useState(oi),[J,pe]=ye.useState(ar.flights||[]),[me,_e]=ye.useState($S),[oe,R]=ye.useState(!1),[T,S]=ye.useState(!1),[N,D]=ye.useState(!1),[O,k]=ye.useState(!1),[st,_t]=ye.useState(!1),[kt,He]=ye.useState(!1),[ee,ge]=ye.useState(null),[se,M]=ye.useState(null),[W,de]=ye.useState(null),[Ne,Pe]=ye.useState(null),[De,Ue]=ye.useState(null),Te=async(ae,ne)=>{if(yt&&s)try{let re=ne;if(ae==="itinerary"&&Array.isArray(ne)&&(re=nk(ne)),JSON.stringify({data:re}).length>1e6)throw new Error(" (1MB)");await _a(qn(yt,"trip_data",ae),{data:re})}catch(re){console.error(`Error saving ${ae}`,re),alert(` (${ae}): ${re.message}`)}else console.warn("Skipping save: No DB or User")};ye.useEffect(()=>{(async()=>{try{const re=await(await fetch("https://api.open-meteo.com/v1/forecast?latitude=13.4443&longitude=144.7937&daily=weather_code,temperature_2m_max&timezone=Pacific%2FGuam&forecast_days=5")).json();if(re.daily&&re.daily.time){const Je=re.daily.time.map((wt,lt)=>{const je=re.daily.weather_code[lt],pt=Math.round(re.daily.temperature_2m_max[lt]).toString();let Ke="sunny";return je>3&&je<50&&(Ke="cloudy"),je>=50&&(Ke="rain"),{condition:Ke,temp:pt}});Je.length===5&&_e(Je)}}catch(ne){console.error("Failed to fetch real-time weather, utilizing static fallback.",ne)}})()},[]),ye.useEffect(()=>{const ae=setTimeout(()=>{t||(console.warn("Auth timeout - forcing UI render"),i(!0))},3e3);if(!lr)return i(!0),()=>clearTimeout(ae);const ne=JT(lr,async re=>{if(re){if(re.isAnonymous||!re.email){await Au(lr),e(null),i(!0);return}const Je=(re.email||"").toLowerCase();console.log("Auth State Changed: Logged in as",Je);const wt=oi.find(je=>je.email?.toLowerCase()===Je);if(wt){console.log("Fast Match Found:",wt.name),e({id:wt.id,name:wt.name,email:re.email,avatarUrl:wt.avatarUrl||re.photoURL||void 0,role:wt.role||"Member"}),i(!0);return}let lt;if(yt)try{const je=await aT(Ag(yt,"users"));je.empty||(lt=je.docs.map(Ke=>({id:Ke.id,...Ke.data()})).find(Ke=>Ke.email?.toLowerCase()===Je))}catch(je){console.error("Auth check: DB fetch failed",je)}lt?e({id:lt.id,name:lt.name,email:re.email,avatarUrl:lt.avatarUrl||re.photoURL||void 0,role:lt.role||"Member"}):(console.warn(`User ${Je} not in whitelist (Local or DB). Signing out.`),await Au(lr),e(null))}else e(null);i(!0)});return()=>{ne(),clearTimeout(ae)}},[]),ye.useEffect(()=>{if(!yt||!s)return;const ae=ao(Ag(yt,"users"),je=>{if(je.empty)console.log("Users collection empty. Attempting to seed..."),oi.length>0&&oi.forEach(pt=>{const Ke=_u(pt);_a(qn(yt,"users",pt.id),Ke).catch(gn=>{console.error("Seeding failed",gn),s.role})});else{const pt=je.docs.map(Ke=>({id:Ke.id,...Ke.data()}));q(pt),oi.forEach(Ke=>{const gn=pt.find(yr=>yr.id===Ke.id);if(!gn||Ke.email&&gn.email!==Ke.email||Ke.name!==gn.name||Ke.role!==gn.role){console.log(`Auto-repairing user ${Ke.id} in Firestore...`);const yr=_u(Ke);_a(qn(yt,"users",Ke.id),yr,{merge:!0}).catch(Ds=>console.warn("Auto-repair failed (likely permission):",Ds))}})}}),ne=ao(qn(yt,"trip_data","itinerary"),je=>{if(je.exists()){const pt=je.data().data;_(Array.isArray(pt)?pt:rk(pt))}else Te("itinerary",ar.itinerary)}),re=ao(qn(yt,"trip_data","shopping"),je=>{je.exists()?C(je.data().data):Te("shopping",ar.shopping)}),Je=ao(qn(yt,"trip_data","expenses"),je=>{je.exists()?$(je.data().data):Te("expenses",ar.expenses)}),wt=ao(qn(yt,"trip_data","planning"),je=>{je.exists()?H(je.data().data):Te("planning",ar.planning)}),lt=ao(qn(yt,"trip_data","flights"),je=>{je.exists()?pe(je.data().data):Te("flights",ar.flights)});return()=>{ae(),ne(),re(),Je(),wt(),lt()}},[s?.id]);const Ge=ae=>{e(ae),localStorage.setItem("trip_user_id",ae.id)},ft=async()=>{lr&&await Au(lr),e(null),localStorage.removeItem("trip_user_id")},Cn=()=>{o==="itinerary"?(ge(null),R(!0)):o==="shopping"?(de(null),S(!0)):o==="expenses"?(M(null),D(!0)):o==="planning"&&(Pe(null),k(!0))},$r=ae=>{const ne=[...y],re=[...ne[h]];if(ee){const Je=re.findIndex(wt=>wt.id===ee.id);Je!==-1&&(re[Je]={...ee,...ae})}else{const Je={...ae,id:Date.now()};re.push(Je),re.sort((wt,lt)=>wt.startTime>lt.startTime?1:-1)}ne[h]=re,_(ne),Te("itinerary",ne),ge(null)},Qn=ae=>{const ne=[...y];ne[h]=ne[h].filter(re=>re.id!==ae),_(ne),Te("itinerary",ne)},gr=ae=>{let ne;W?(ne=E.map(re=>re.id===W.id?{...re,...ae}:re),de(null)):ne=[...E,{...ae,id:Date.now()}],C(ne),Te("shopping",ne)},Hr=ae=>{const ne=E.filter(re=>re.id!==ae);C(ne),Te("shopping",ne)},Ns=ae=>{let ne;se?(ne=V.map(re=>re.id===se.id?{...re,...ae}:re),M(null)):ne=[{...ae,id:Date.now(),date:new Date().toLocaleDateString("en-US",{month:"numeric",day:"numeric"})},...V],$(ne),Te("expenses",ne)},Ps=ae=>{const ne=V.filter(re=>re.id!==ae);$(ne),Te("expenses",ne)},vi=ae=>{let ne;Ne?(ne=j.map(re=>re.id===Ne.id?{...re,...ae}:re),Pe(null)):ne=[...j,{...ae,id:Date.now()}],H(ne),Te("planning",ne)},Wr=ae=>{const ne=j.map(re=>re.id===ae?{...re,completed:!re.completed}:re);H(ne),Te("planning",ne)},Rn=ae=>{const ne=j.filter(re=>re.id!==ae);H(ne),Te("planning",ne)},Nn=ae=>{const ne=J.map(re=>re.id===ae.id?ae:re);pe(ne),Te("flights",ne)},bs=async ae=>{if(yt)try{const ne=_u(ae);await _a(qn(yt,"users",ae.id),ne)}catch(ne){console.error("Error adding member to DB",ne),alert("")}else console.warn("Database not initialized, member only added locally");q([...P,ae])},qr=async ae=>{if(yt)try{await lT(qn(yt,"users",ae))}catch(ne){console.error("Error deleting member from DB",ne)}q(P.filter(ne=>ne.id!==ae))},Gr=async()=>{if(!(!yt||!s)&&confirm(` 'users' 
( Google )`))try{for(const ae of oi){const ne=_u(ae);await _a(qn(yt,"users",ae.id),ne,{merge:!0})}alert(" Firebase Console  users ")}catch(ae){console.error("Sync Error:",ae),alert(": "+ae.message+`

Google `)}};return t?s?g.jsxs("div",{className:"app-container max-w-[480px] mx-auto min-h-screen bg-guam-sand relative shadow-[0_0_40px_rgba(13,148,136,0.1)]",children:[g.jsx(zS,{currentTab:o,onTabChange:u,title:go.title,subtitle:go.subtitle,coverImage:go.coverImage,onOpenMembers:()=>_t(!0)}),g.jsxs("main",{className:"px-4 pt-6 relative z-0",children:[o==="itinerary"&&g.jsx(WS,{dates:BS,weather:me,items:y[h],selectedDateIndex:h,onDateSelect:p,onEdit:ae=>{ge(ae),R(!0)}}),o==="info"&&g.jsx(qS,{flights:J,onFlightClick:ae=>{Ue(ae),He(!0)}}),o==="shopping"&&g.jsx(GS,{items:E,onRemove:Hr,onAddClick:()=>S(!0),onEdit:ae=>{de(ae),S(!0)}}),o==="planning"&&g.jsx(QS,{items:j,onToggle:Wr,onRemove:Rn,onEdit:ae=>{Pe(ae),k(!0)}}),o==="expenses"&&g.jsx(KS,{expenses:V,onRemove:Ps,onEdit:ae=>{M(ae),D(!0)},members:P})]}),o!=="info"&&g.jsx("button",{onClick:Cn,className:"fixed bottom-24 right-6 w-14 h-14 bg-guam-coral text-white rounded-full shadow-[0_4px_20px_rgba(251,113,133,0.6)] text-xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all z-40",children:g.jsx(p0,{size:24})}),g.jsx(XS,{isOpen:oe,onClose:()=>R(!1),onSave:$r,initialData:ee,onDelete:Qn}),g.jsx(YS,{isOpen:T,onClose:()=>S(!1),onSave:gr,initialData:W}),g.jsx(JS,{isOpen:N,onClose:()=>D(!1),onSave:Ns,members:P,initialData:se}),g.jsx(ZS,{isOpen:O,onClose:()=>k(!1),onSave:vi,members:P,initialData:Ne}),g.jsx(tk,{isOpen:st,onClose:()=>_t(!1),members:P,onAddMember:bs,onRemoveMember:qr,currentUser:s,onLogout:ft,onSyncDB:Gr}),g.jsx(ek,{isOpen:kt,onClose:()=>He(!1),flight:De,onSave:Nn})]}):g.jsx(HS,{members:P,onLogin:Ge}):g.jsx("div",{className:"min-h-screen bg-guam-sand flex items-center justify-center",children:g.jsxs("div",{className:"animate-pulse text-guam-teal flex flex-col items-center",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-guam-teal border-t-transparent rounded-full animate-spin mb-2"}),"Loading..."]})})},m0=document.getElementById("root");if(!m0)throw new Error("Could not find root element to mount to");const ik=R_.createRoot(m0);ik.render(g.jsx(E_.StrictMode,{children:g.jsx(sk,{})}));
