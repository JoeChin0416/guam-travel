(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Sv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Id={exports:{}},yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function Mb(){if(j0)return yo;j0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return yo.Fragment=e,yo.jsx=i,yo.jsxs=i,yo}var L0;function Ob(){return L0||(L0=1,Id.exports=Mb()),Id.exports}var T=Ob(),Dd={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function Vb(){if(U0)return Se;U0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,L={};function Y(O,J,se){this.props=O,this.context=J,this.refs=L,this.updater=se||G}Y.prototype.isReactComponent={},Y.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},Y.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=Y.prototype;function ae(O,J,se){this.props=O,this.context=J,this.refs=L,this.updater=se||G}var De=ae.prototype=new ne;De.constructor=ae,K(De,Y.prototype),De.isPureReactComponent=!0;var Ee=Array.isArray;function he(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,J,se){var re=se.ref;return{$$typeof:s,type:O,key:J,ref:re!==void 0?re:null,props:se}}function V(O,J){return R(O.type,J,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return J[se]})}var x=/\/+/g;function et(O,J){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):J.toString(36)}function dt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(he,he):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,J,se,re,ve){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(we){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case s:case e:ke=!0;break;case b:return ke=O._init,Q(ke(O._payload),J,se,re,ve)}}if(ke)return ve=ve(O),ke=re===""?"."+et(O,0):re,Ee(ve)?(se="",ke!=null&&(se=ke.replace(x,"$&/")+"/"),Q(ve,J,se,"",function(zi){return zi})):ve!=null&&(D(ve)&&(ve=V(ve,se+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(x,"$&/")+"/")+ke)),J.push(ve)),1;ke=0;var _t=re===""?".":re+":";if(Ee(O))for(var rt=0;rt<O.length;rt++)re=O[rt],we=_t+et(re,rt),ke+=Q(re,J,se,we,ve);else if(rt=H(O),typeof rt=="function")for(O=rt.call(O),rt=0;!(re=O.next()).done;)re=re.value,we=_t+et(re,rt++),ke+=Q(re,J,se,we,ve);else if(we==="object"){if(typeof O.then=="function")return Q(dt(O),J,se,re,ve);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ie(O,J,se){if(O==null)return O;var re=[],ve=0;return Q(O,re,"","",function(we){return J.call(se,we,ve++)}),re}function fe(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var Be=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qe={map:ie,forEach:function(O,J,se){ie(O,function(){J.apply(this,arguments)},se)},count:function(O){var J=0;return ie(O,function(){J++}),J},toArray:function(O){return ie(O,function(J){return J})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=A,Se.Children=Qe,Se.Component=Y,Se.Fragment=i,Se.Profiler=o,Se.PureComponent=ae,Se.StrictMode=a,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,J,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=K({},O.props),ve=O.key;if(J!=null)for(we in J.key!==void 0&&(ve=""+J.key),J)!w.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(re[we]=J[we]);var we=arguments.length-2;if(we===1)re.children=se;else if(1<we){for(var ke=Array(we),_t=0;_t<we;_t++)ke[_t]=arguments[_t+2];re.children=ke}return R(O.type,ve,re)},Se.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Se.createElement=function(O,J,se){var re,ve={},we=null;if(J!=null)for(re in J.key!==void 0&&(we=""+J.key),J)w.call(J,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=J[re]);var ke=arguments.length-2;if(ke===1)ve.children=se;else if(1<ke){for(var _t=Array(ke),rt=0;rt<ke;rt++)_t[rt]=arguments[rt+2];ve.children=_t}if(O&&O.defaultProps)for(re in ke=O.defaultProps,ke)ve[re]===void 0&&(ve[re]=ke[re]);return R(O,we,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:p,render:O}},Se.isValidElement=D,Se.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:fe}},Se.memo=function(O,J){return{$$typeof:_,type:O,compare:J===void 0?null:J}},Se.startTransition=function(O){var J=C.T,se={};C.T=se;try{var re=O(),ve=C.S;ve!==null&&ve(se,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(he,Be)}catch(we){Be(we)}finally{J!==null&&se.types!==null&&(J.types=se.types),C.T=J}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(O){return C.H.use(O)},Se.useActionState=function(O,J,se){return C.H.useActionState(O,J,se)},Se.useCallback=function(O,J){return C.H.useCallback(O,J)},Se.useContext=function(O){return C.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,J){return C.H.useDeferredValue(O,J)},Se.useEffect=function(O,J){return C.H.useEffect(O,J)},Se.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(O,J,se){return C.H.useImperativeHandle(O,J,se)},Se.useInsertionEffect=function(O,J){return C.H.useInsertionEffect(O,J)},Se.useLayoutEffect=function(O,J){return C.H.useLayoutEffect(O,J)},Se.useMemo=function(O,J){return C.H.useMemo(O,J)},Se.useOptimistic=function(O,J){return C.H.useOptimistic(O,J)},Se.useReducer=function(O,J,se){return C.H.useReducer(O,J,se)},Se.useRef=function(O){return C.H.useRef(O)},Se.useState=function(O){return C.H.useState(O)},Se.useSyncExternalStore=function(O,J,se){return C.H.useSyncExternalStore(O,J,se)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.3",Se}var z0;function wm(){return z0||(z0=1,Dd.exports=Vb()),Dd.exports}var Re=wm();const kb=Sv(Re);var Md={exports:{}},_o={},Od={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function jb(){return P0||(P0=1,(function(s){function e(Q,ie){var fe=Q.length;Q.push(ie);e:for(;0<fe;){var Be=fe-1>>>1,Qe=Q[Be];if(0<o(Qe,ie))Q[Be]=ie,Q[fe]=Qe,fe=Be;else break e}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var ie=Q[0],fe=Q.pop();if(fe!==ie){Q[0]=fe;e:for(var Be=0,Qe=Q.length,O=Qe>>>1;Be<O;){var J=2*(Be+1)-1,se=Q[J],re=J+1,ve=Q[re];if(0>o(se,fe))re<Qe&&0>o(ve,se)?(Q[Be]=ve,Q[re]=fe,Be=re):(Q[Be]=se,Q[J]=fe,Be=J);else if(re<Qe&&0>o(ve,fe))Q[Be]=ve,Q[re]=fe,Be=re;else break e}}return ie}function o(Q,ie){var fe=Q.sortIndex-ie.sortIndex;return fe!==0?fe:Q.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,A=null,I=3,H=!1,G=!1,K=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function De(Q){for(var ie=i(_);ie!==null;){if(ie.callback===null)a(_);else if(ie.startTime<=Q)a(_),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=i(_)}}function Ee(Q){if(K=!1,De(Q),!G)if(i(y)!==null)G=!0,he||(he=!0,k());else{var ie=i(_);ie!==null&&dt(Ee,ie.startTime-Q)}}var he=!1,C=-1,w=5,R=-1;function V(){return L?!0:!(s.unstable_now()-R<w)}function D(){if(L=!1,he){var Q=s.unstable_now();R=Q;var ie=!0;try{e:{G=!1,K&&(K=!1,ne(C),C=-1),H=!0;var fe=I;try{t:{for(De(Q),A=i(y);A!==null&&!(A.expirationTime>Q&&V());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,I=A.priorityLevel;var Qe=Be(A.expirationTime<=Q);if(Q=s.unstable_now(),typeof Qe=="function"){A.callback=Qe,De(Q),ie=!0;break t}A===i(y)&&a(y),De(Q)}else a(y);A=i(y)}if(A!==null)ie=!0;else{var O=i(_);O!==null&&dt(Ee,O.startTime-Q),ie=!1}}break e}finally{A=null,I=fe,H=!1}ie=void 0}}finally{ie?k():he=!1}}}var k;if(typeof ae=="function")k=function(){ae(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,et=x.port2;x.port1.onmessage=D,k=function(){et.postMessage(null)}}else k=function(){Y(D,0)};function dt(Q,ie){C=Y(function(){Q(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(Q){switch(I){case 1:case 2:case 3:var ie=3;break;default:ie=I}var fe=I;I=ie;try{return Q()}finally{I=fe}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=I;I=Q;try{return ie()}finally{I=fe}},s.unstable_scheduleCallback=function(Q,ie,fe){var Be=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Be+fe:Be):fe=Be,Q){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=fe+Qe,Q={id:b++,callback:ie,priorityLevel:Q,startTime:fe,expirationTime:Qe,sortIndex:-1},fe>Be?(Q.sortIndex=fe,e(_,Q),i(y)===null&&Q===i(_)&&(K?(ne(C),C=-1):K=!0,dt(Ee,fe-Be))):(Q.sortIndex=Qe,e(y,Q),G||H||(G=!0,he||(he=!0,k()))),Q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(Q){var ie=I;return function(){var fe=I;I=ie;try{return Q.apply(this,arguments)}finally{I=fe}}}})(Vd)),Vd}var B0;function Lb(){return B0||(B0=1,Od.exports=jb()),Od.exports}var kd={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function Ub(){if(q0)return tn;q0=1;var s=wm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},tn.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},tn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},tn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},tn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:H}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:I,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},tn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},tn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},tn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},tn.requestFormReset=function(y){a.d.r(y)},tn.unstable_batchedUpdates=function(y,_){return y(_)},tn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var H0;function zb(){if(H0)return kd.exports;H0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=Ub(),kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function Pb(){if(G0)return _o;G0=1;var s=Lb(),e=wm(),i=zb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,l=f;break}if(E===l){g=!0,l=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,l=h;break}if(E===l){g=!0,l=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case Y:return"Profiler";case L:return"StrictMode";case Ee:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ae:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case De:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:et(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return et(t(n))}catch{}}return null}var dt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Be=[],Qe=-1;function O(t){return{current:t}}function J(t){0>Qe||(t.current=Be[Qe],Be[Qe]=null,Qe--)}function se(t,n){Qe++,Be[Qe]=t.current,t.current=n}var re=O(null),ve=O(null),we=O(null),ke=O(null);function _t(t,n){switch(se(we,n),se(ve,t),se(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?a0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=a0(n),t=r0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(re),se(re,t)}function rt(){J(re),J(ve),J(we)}function zi(t){t.memoizedState!==null&&se(ke,t);var n=re.current,r=r0(n,t.type);n!==r&&(se(ve,t),se(re,r))}function ye(t){ve.current===t&&(J(re),J(ve)),ke.current===t&&(J(ke),fo._currentValue=fe)}var de,xe;function wt(t){if(de===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);de=n&&n[1]||"",xe=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+t+xe}var cn=!1;function Xe(t,n){if(!t||cn)return"";cn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var B=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){B=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){B=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),P=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===P.length)for(l=N.length-1,h=P.length-1;1<=l&&0<=h&&N[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==P[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{cn=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?wt(r):""}function vt(t,n){switch(t.tag){case 26:case 27:case 5:return wt(t.type);case 16:return wt("Lazy");case 13:return t.child!==n&&n!==null?wt("Suspense Fallback"):wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return Xe(t.type,!1);case 11:return Xe(t.type.render,!1);case 1:return Xe(t.type,!0);case 31:return wt("Activity");default:return""}}function hn(t){try{var n="",r=null;do n+=vt(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mt=Object.prototype.hasOwnProperty,jt=s.unstable_scheduleCallback,ms=s.unstable_cancelCallback,Dh=s.unstable_shouldYield,Zo=s.unstable_requestPaint,ln=s.unstable_now,fa=s.unstable_getCurrentPriorityLevel,pl=s.unstable_ImmediatePriority,gl=s.unstable_UserBlockingPriority,ps=s.unstable_NormalPriority,Mh=s.unstable_LowPriority,Wo=s.unstable_IdlePriority,eu=s.log,tu=s.unstable_setDisableYieldValue,Fn=null,Qt=null;function In(t){if(typeof eu=="function"&&tu(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Fn,t)}catch{}}var Tt=Math.clz32?Math.clz32:iu,nu=Math.log,nr=Math.LN2;function iu(t){return t>>>=0,t===0?32:31-(nu(t)/nr|0)|0}var oi=256,da=262144,xt=4194304;function ui(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ui(l):(g&=E,g!==0?h=ui(g):r||(r=E&~t,r!==0&&(h=ui(r))))):(E=l&~f,E!==0?h=ui(E):g!==0?h=ui(g):r||(r=l&~t,r!==0&&(h=ui(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function hi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ma(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(r=g&~r;0<r;){var X=31-Tt(r),Z=1<<X;E[X]=0,N[X]=-1;var B=P[X];if(B!==null)for(P[X]=null,X=0;X<B.length;X++){var F=B[X];F!==null&&(F.lane&=-536870913)}r&=~Z}l!==0&&pa(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function pa(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Tt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function yl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Tt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function _l(t,n){var r=n&-n;return r=(r&42)!==0?1:ga(r),(r&(t.suspendedLanes|n))!==0?0:r}function ga(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:N0(t.type))}function Kn(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var Yn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Yn,Bt="__reactProps$"+Yn,fi="__reactContainer$"+Yn,ir="__reactEvents$"+Yn,kh="__reactListeners$"+Yn,ru="__reactHandles$"+Yn,lu="__reactResources$"+Yn,di="__reactMarker$"+Yn;function sr(t){delete t[Rt],delete t[Bt],delete t[ir],delete t[kh],delete t[ru]}function mi(t){var n=t[Rt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[fi]||r[Rt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=d0(t);t!==null;){if(r=t[Rt])return r;t=d0(t)}return n}t=r,r=t.parentNode}return null}function Dn(t){if(t=t[Rt]||t[fi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function En(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function pi(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ct(t){t[di]=!0}var vl=new Set,Tl={};function gi(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(Tl[t]=n,t=0;t<n.length;t++)vl.add(n[t])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bl={},Sl={};function ou(t){return mt.call(Sl,t)?!0:mt.call(bl,t)?!1:El.test(t)?Sl[t]=!0:(bl[t]=!0,!1)}function ar(t,n,r){if(ou(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Nt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Al(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Je(t){if(!t._valueTracker){var n=gs(t)?"checked":"value";t._valueTracker=Al(t,n,""+t[n])}}function ya(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=gs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _a=/[\n"\\]/g;function fn(t){return t.replace(_a,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rr(t,n,r,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qt(n)):t.value!==""+qt(n)&&(t.value=""+qt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?wl(t,g,qt(n)):r!=null?wl(t,g,qt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+qt(E):t.removeAttribute("name")}function uu(t,n,r,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Je(t);return}r=r!=null?""+qt(r):"",n=n!=null?""+qt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Je(t)}function wl(t,n,r){n==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ys(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+qt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function cu(t,n,r){if(n!=null&&(n=""+qt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+qt(r):""}function _s(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(dt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=qt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Je(t)}function dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Rl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&xl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&xl(t,f,n[f])}function lr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(t){return vs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Cl=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ts=null,vi=null;function va(t){var n=Dn(t);if(n&&(t=n.stateNode)){var r=t[Bt]||null;e:switch(t=n.stateNode,n.type){case"input":if(rr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Bt]||null;if(!h)throw Error(a(90));rr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&ya(l)}break e;case"textarea":cu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ys(t,!!r.multiple,n,!1)}}}var ur=!1;function Es(t,n,r){if(ur)return t(n,r);ur=!0;try{var l=t(n);return l}finally{if(ur=!1,(Ts!==null||vi!==null)&&(ac(),Ts&&(n=Ts,t=vi,vi=Ts=null,va(n),t)))for(n=0;n<t.length;n++)va(t[n])}}function $n(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Bt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=!1;if(On)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Ta=!1}var Ti=null,Nl=null,Ea=null;function Il(){if(Ea)return Ea;var t,n=Nl,r=n.length,l,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return Ea=h.slice(t,1<l?1-l:void 0)}function ba(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Jn(){return!1}function Kt(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:Jn,this.isPropagationStopped=Jn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Kt(qi),bs=A({},qi,{view:0,detail:0}),Dl=Kt(bs),Ss,cr,bi,hr=A({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(Ss=t.screenX-bi.screenX,cr=t.screenY-bi.screenY):cr=Ss=0,bi=t),Ss)},movementY:function(t){return"movementY"in t?t.movementY:cr}}),Ml=Kt(hr),Sa=A({},hr,{dataTransfer:0}),du=Kt(Sa),mu=A({},bs,{relatedTarget:0}),Aa=Kt(mu),Ol=A({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Kt(Ol),fr=A({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gu=Kt(fr),yu=A({},qi,{data:0}),Si=Kt(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function As(){return Eu}var on=A({},bs,{key:function(t){if(t.key){var n=_u[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ba(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(t){return t.type==="keypress"?ba(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ba(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bu=Kt(on),Su=A({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Kt(Su),u=A({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),m=Kt(u),v=A({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Kt(v),U=A({},hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Kt(U),te=A({},qi,{newState:0,oldState:0}),Ce=Kt(te),Et=[9,13,27,32],Ke=On&&"CompositionEvent"in window,ht=null;On&&"documentMode"in document&&(ht=document.documentMode);var Vn=On&&"TextEvent"in window&&!ht,Ai=On&&(!Ke||ht&&8<ht&&11>=ht),Zn=" ",Wn=!1;function wa(t,n){switch(t){case"keyup":return Et.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mr=!1;function nE(t,n){switch(t){case"compositionend":return dr(n);case"keypress":return n.which!==32?null:(Wn=!0,Zn);case"textInput":return t=n.data,t===Zn&&Wn?null:t;default:return null}}function iE(t,n){if(mr)return t==="compositionend"||!Ke&&wa(t,n)?(t=Il(),Ea=Nl=Ti=null,mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var sE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!sE[t.type]:n==="textarea"}function yp(t,n,r,l){Ts?vi?vi.push(l):vi=[l]:Ts=l,n=fc(n,"onChange"),0<n.length&&(r=new Ei("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Vl=null,kl=null;function aE(t){Wy(t,0)}function Au(t){var n=En(t);if(ya(n))return t}function _p(t,n){if(t==="change")return n}var vp=!1;if(On){var jh;if(On){var Lh="oninput"in document;if(!Lh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Lh=typeof Tp.oninput=="function"}jh=Lh}else jh=!1;vp=jh&&(!document.documentMode||9<document.documentMode)}function Ep(){Vl&&(Vl.detachEvent("onpropertychange",bp),kl=Vl=null)}function bp(t){if(t.propertyName==="value"&&Au(kl)){var n=[];yp(n,kl,t,Mn(t)),Es(aE,n)}}function rE(t,n,r){t==="focusin"?(Ep(),Vl=n,kl=r,Vl.attachEvent("onpropertychange",bp)):t==="focusout"&&Ep()}function lE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(kl)}function oE(t,n){if(t==="click")return Au(n)}function uE(t,n){if(t==="input"||t==="change")return Au(n)}function cE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Sn=typeof Object.is=="function"?Object.is:cE;function jl(t,n){if(Sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!mt.call(n,h)||!Sn(t[h],n[h]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ap(t,n){var r=Sp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sp(r)}}function wp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_i(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=_i(t.document)}return n}function Uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var hE=On&&"documentMode"in document&&11>=document.documentMode,pr=null,zh=null,Ll=null,Ph=!1;function Rp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ph||pr==null||pr!==_i(l)||(l=pr,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ll&&jl(Ll,l)||(Ll=l,l=fc(zh,"onSelect"),0<l.length&&(n=new Ei("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=pr)))}function xa(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var gr={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},Bh={},Cp={};On&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Ra(t){if(Bh[t])return Bh[t];if(!gr[t])return t;var n=gr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Cp)return Bh[t]=n[r];return t}var Np=Ra("animationend"),Ip=Ra("animationiteration"),Dp=Ra("animationstart"),fE=Ra("transitionrun"),dE=Ra("transitionstart"),mE=Ra("transitioncancel"),Mp=Ra("transitionend"),Op=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function ei(t,n){Op.set(t,n),gi(n,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],yr=0,Hh=0;function xu(){for(var t=yr,n=Hh=yr=0;n<t;){var r=kn[n];kn[n++]=null;var l=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Vp(r,h,f)}}function Ru(t,n,r,l){kn[yr++]=t,kn[yr++]=n,kn[yr++]=r,kn[yr++]=l,Hh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gh(t,n,r,l){return Ru(t,n,r,l),Cu(t)}function Ca(t,n){return Ru(t,null,null,n),Cu(t)}function Vp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Tt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Cu(t){if(50<ao)throw ao=0,ed=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var _r={};function pE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,n,r,l){return new pE(t,n,r,l)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,n){var r=t.alternate;return r===null?(r=An(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function kp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Fh(t)&&(g=1);else if(typeof t=="string")g=Tb(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=An(31,r,n,h),t.elementType=R,t.lanes=f,t;case K:return Na(r.children,h,f,n);case L:g=8,h|=24;break;case Y:return t=An(12,r,n,h|2),t.elementType=Y,t.lanes=f,t;case Ee:return t=An(13,r,n,h),t.elementType=Ee,t.lanes=f,t;case he:return t=An(19,r,n,h),t.elementType=he,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:g=10;break e;case ne:g=9;break e;case De:g=11;break e;case C:g=14;break e;case w:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=An(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Na(t,n,r,l){return t=An(7,t,l,n),t.lanes=r,t}function Qh(t,n,r){return t=An(6,t,null,n),t.lanes=r,t}function jp(t){var n=An(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,r){return n=An(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Lp=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var r=Lp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:hn(n)},Lp.set(t,n),n)}return{value:t,source:n,stack:hn(n)}}var vr=[],Tr=0,Iu=null,Ul=0,Ln=[],Un=0,ws=null,wi=1,xi="";function Fi(t,n){vr[Tr++]=Ul,vr[Tr++]=Iu,Iu=t,Ul=n}function Up(t,n,r){Ln[Un++]=wi,Ln[Un++]=xi,Ln[Un++]=ws,ws=t;var l=wi;t=xi;var h=32-Tt(l)-1;l&=~(1<<h),r+=1;var f=32-Tt(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,wi=1<<32-Tt(n)+h|r<<h|l,xi=f+t}else wi=1<<f|r<<h|l,xi=t}function Yh(t){t.return!==null&&(Fi(t,1),Up(t,1,0))}function Xh(t){for(;t===Iu;)Iu=vr[--Tr],vr[Tr]=null,Ul=vr[--Tr],vr[Tr]=null;for(;t===ws;)ws=Ln[--Un],Ln[Un]=null,xi=Ln[--Un],Ln[Un]=null,wi=Ln[--Un],Ln[Un]=null}function zp(t,n){Ln[Un++]=wi,Ln[Un++]=xi,Ln[Un++]=ws,wi=n.id,xi=n.overflow,ws=t}var Yt=null,lt=null,qe=!1,xs=null,zn=!1,$h=Error(a(519));function Rs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(jn(n,t)),$h}function Pp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Rt]=t,n[Bt]=l,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(r=0;r<lo.length;r++)Ve(lo[r],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),uu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),_s(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||i0(n.textContent,r)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||Rs(t,!0)}function Bp(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Yt=Yt.return}}function Er(t){if(t!==Yt)return!1;if(!qe)return Bp(t),qe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||pd(t.type,t.memoizedProps)),r=!r),r&&lt&&Rs(t),Bp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));lt=f0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));lt=f0(t)}else n===27?(n=lt,Bs(t.type)?(t=Td,Td=null,lt=t):lt=n):lt=Yt?Bn(t.stateNode.nextSibling):null;return!0}function Ia(){lt=Yt=null,qe=!1}function Jh(){var t=xs;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),xs=null),t}function zl(t){xs===null?xs=[t]:xs.push(t)}var Zh=O(null),Da=null,Qi=null;function Cs(t,n,r){se(Zh,n._currentValue),n._currentValue=r}function Ki(t){t._currentValue=Zh.current,J(Zh)}function Wh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ef(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Wh(f.return,r,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Wh(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function br(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Sn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fo):t=[fo])}h=h.return}t!==null&&ef(n,t,r,l),n.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ma(t){Da=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return qp(Da,t)}function Mu(t,n){return Da===null&&Ma(t),qp(t,n)}function qp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Qi===null){if(t===null)throw Error(a(308));Qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Qi=Qi.next=n;return r}var gE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},yE=s.unstable_scheduleCallback,_E=s.unstable_NormalPriority,It={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new gE,data:new Map,refCount:0}}function Pl(t){t.refCount--,t.refCount===0&&yE(_E,function(){t.controller.abort()})}var Bl=null,nf=0,Sr=0,Ar=null;function vE(t,n){if(Bl===null){var r=Bl=[];nf=0,Sr=rd(),Ar={status:"pending",value:void 0,then:function(l){r.push(l)}}}return nf++,n.then(Hp,Hp),n}function Hp(){if(--nf===0&&Bl!==null){Ar!==null&&(Ar.status="fulfilled");var t=Bl;Bl=null,Sr=0,Ar=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function TE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Gp=Q.S;Q.S=function(t,n){Ry=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vE(t,n),Gp!==null&&Gp(t,n)};var Oa=O(null);function sf(){var t=Oa.current;return t!==null?t:at.pooledCache}function Ou(t,n){n===null?se(Oa,Oa.current):se(Oa,n.pool)}function Fp(){var t=sf();return t===null?null:{parent:It._currentValue,pool:t}}var wr=Error(a(460)),af=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function Qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Xn,Xn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xp(t),t;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xp(t),t}throw ka=n,wr}}function Va(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ka=r,wr):r}}var ka=null;function Yp(){if(ka===null)throw Error(a(459));var t=ka;return ka=null,t}function Xp(t){if(t===wr||t===Vu)throw Error(a(483))}var xr=null,ql=0;function ju(t){var n=ql;return ql+=1,xr===null&&(xr=[]),Kp(xr,t,n)}function Hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Lu(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $p(t){function n(j,M){if(t){var z=j.deletions;z===null?(j.deletions=[M],j.flags|=16):z.push(M)}}function r(j,M){if(!t)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Gi(j,M),j.index=0,j.sibling=null,j}function f(j,M,z){return j.index=z,t?(z=j.alternate,z!==null?(z=z.index,z<M?(j.flags|=67108866,M):z):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,M,z,$){return M===null||M.tag!==6?(M=Qh(z,j.mode,$),M.return=j,M):(M=h(M,z),M.return=j,M)}function N(j,M,z,$){var me=z.type;return me===K?X(j,M,z.props.children,$,z.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Va(me)===M.type)?(M=h(M,z.props),Hl(M,z),M.return=j,M):(M=Nu(z.type,z.key,z.props,null,j.mode,$),Hl(M,z),M.return=j,M)}function P(j,M,z,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Kh(z,j.mode,$),M.return=j,M):(M=h(M,z.children||[]),M.return=j,M)}function X(j,M,z,$,me){return M===null||M.tag!==7?(M=Na(z,j.mode,$,me),M.return=j,M):(M=h(M,z),M.return=j,M)}function Z(j,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qh(""+M,j.mode,z),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case H:return z=Nu(M.type,M.key,M.props,null,j.mode,z),Hl(z,M),z.return=j,z;case G:return M=Kh(M,j.mode,z),M.return=j,M;case w:return M=Va(M),Z(j,M,z)}if(dt(M)||k(M))return M=Na(M,j.mode,z,null),M.return=j,M;if(typeof M.then=="function")return Z(j,ju(M),z);if(M.$$typeof===ae)return Z(j,Mu(j,M),z);Lu(j,M)}return null}function B(j,M,z,$){var me=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:E(j,M,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case H:return z.key===me?N(j,M,z,$):null;case G:return z.key===me?P(j,M,z,$):null;case w:return z=Va(z),B(j,M,z,$)}if(dt(z)||k(z))return me!==null?null:X(j,M,z,$,null);if(typeof z.then=="function")return B(j,M,ju(z),$);if(z.$$typeof===ae)return B(j,M,Mu(j,z),$);Lu(j,z)}return null}function F(j,M,z,$,me){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return j=j.get(z)||null,E(M,j,""+$,me);if(typeof $=="object"&&$!==null){switch($.$$typeof){case H:return j=j.get($.key===null?z:$.key)||null,N(M,j,$,me);case G:return j=j.get($.key===null?z:$.key)||null,P(M,j,$,me);case w:return $=Va($),F(j,M,z,$,me)}if(dt($)||k($))return j=j.get(z)||null,X(M,j,$,me,null);if(typeof $.then=="function")return F(j,M,z,ju($),me);if($.$$typeof===ae)return F(j,M,z,Mu(M,$),me);Lu(M,$)}return null}function oe(j,M,z,$){for(var me=null,Ge=null,ue=M,Me=M=0,Le=null;ue!==null&&Me<z.length;Me++){ue.index>Me?(Le=ue,ue=null):Le=ue.sibling;var Fe=B(j,ue,z[Me],$);if(Fe===null){ue===null&&(ue=Le);break}t&&ue&&Fe.alternate===null&&n(j,ue),M=f(Fe,M,Me),Ge===null?me=Fe:Ge.sibling=Fe,Ge=Fe,ue=Le}if(Me===z.length)return r(j,ue),qe&&Fi(j,Me),me;if(ue===null){for(;Me<z.length;Me++)ue=Z(j,z[Me],$),ue!==null&&(M=f(ue,M,Me),Ge===null?me=ue:Ge.sibling=ue,Ge=ue);return qe&&Fi(j,Me),me}for(ue=l(ue);Me<z.length;Me++)Le=F(ue,j,Me,z[Me],$),Le!==null&&(t&&Le.alternate!==null&&ue.delete(Le.key===null?Me:Le.key),M=f(Le,M,Me),Ge===null?me=Le:Ge.sibling=Le,Ge=Le);return t&&ue.forEach(function(Qs){return n(j,Qs)}),qe&&Fi(j,Me),me}function ge(j,M,z,$){if(z==null)throw Error(a(151));for(var me=null,Ge=null,ue=M,Me=M=0,Le=null,Fe=z.next();ue!==null&&!Fe.done;Me++,Fe=z.next()){ue.index>Me?(Le=ue,ue=null):Le=ue.sibling;var Qs=B(j,ue,Fe.value,$);if(Qs===null){ue===null&&(ue=Le);break}t&&ue&&Qs.alternate===null&&n(j,ue),M=f(Qs,M,Me),Ge===null?me=Qs:Ge.sibling=Qs,Ge=Qs,ue=Le}if(Fe.done)return r(j,ue),qe&&Fi(j,Me),me;if(ue===null){for(;!Fe.done;Me++,Fe=z.next())Fe=Z(j,Fe.value,$),Fe!==null&&(M=f(Fe,M,Me),Ge===null?me=Fe:Ge.sibling=Fe,Ge=Fe);return qe&&Fi(j,Me),me}for(ue=l(ue);!Fe.done;Me++,Fe=z.next())Fe=F(ue,j,Me,Fe.value,$),Fe!==null&&(t&&Fe.alternate!==null&&ue.delete(Fe.key===null?Me:Fe.key),M=f(Fe,M,Me),Ge===null?me=Fe:Ge.sibling=Fe,Ge=Fe);return t&&ue.forEach(function(Db){return n(j,Db)}),qe&&Fi(j,Me),me}function st(j,M,z,$){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case H:e:{for(var me=z.key;M!==null;){if(M.key===me){if(me=z.type,me===K){if(M.tag===7){r(j,M.sibling),$=h(M,z.props.children),$.return=j,j=$;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Va(me)===M.type){r(j,M.sibling),$=h(M,z.props),Hl($,z),$.return=j,j=$;break e}r(j,M);break}else n(j,M);M=M.sibling}z.type===K?($=Na(z.props.children,j.mode,$,z.key),$.return=j,j=$):($=Nu(z.type,z.key,z.props,null,j.mode,$),Hl($,z),$.return=j,j=$)}return g(j);case G:e:{for(me=z.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){r(j,M.sibling),$=h(M,z.children||[]),$.return=j,j=$;break e}else{r(j,M);break}else n(j,M);M=M.sibling}$=Kh(z,j.mode,$),$.return=j,j=$}return g(j);case w:return z=Va(z),st(j,M,z,$)}if(dt(z))return oe(j,M,z,$);if(k(z)){if(me=k(z),typeof me!="function")throw Error(a(150));return z=me.call(z),ge(j,M,z,$)}if(typeof z.then=="function")return st(j,M,ju(z),$);if(z.$$typeof===ae)return st(j,M,Mu(j,z),$);Lu(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(r(j,M.sibling),$=h(M,z),$.return=j,j=$):(r(j,M),$=Qh(z,j.mode,$),$.return=j,j=$),g(j)):r(j,M)}return function(j,M,z,$){try{ql=0;var me=st(j,M,z,$);return xr=null,me}catch(ue){if(ue===wr||ue===Vu)throw ue;var Ge=An(29,ue,null,j.mode);return Ge.lanes=$,Ge.return=j,Ge}finally{}}}var ja=$p(!0),Jp=$p(!1),Ns=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(t),Vp(t,null,r),n}return Ru(t,l,n,r),Cu(t)}function Gl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,yl(t,r)}}function of(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var uf=!1;function Fl(){if(uf){var t=Ar;if(t!==null)throw t}}function Ql(t,n,r,l){uf=!1;var h=t.updateQueue;Ns=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,P=N.next;N.next=null,g===null?f=P:g.next=P,g=N;var X=t.alternate;X!==null&&(X=X.updateQueue,E=X.lastBaseUpdate,E!==g&&(E===null?X.firstBaseUpdate=P:E.next=P,X.lastBaseUpdate=N))}if(f!==null){var Z=h.baseState;g=0,X=P=N=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(je&B)===B:(l&B)===B){B!==0&&B===Sr&&(uf=!0),X!==null&&(X=X.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,ge=E;B=n;var st=r;switch(ge.tag){case 1:if(oe=ge.payload,typeof oe=="function"){Z=oe.call(st,Z,B);break e}Z=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ge.payload,B=typeof oe=="function"?oe.call(st,Z,B):oe,B==null)break e;Z=A({},Z,B);break e;case 2:Ns=!0}}B=E.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},X===null?(P=X=F,N=Z):X=X.next=F,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=P,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),js|=g,t.lanes=g,t.memoizedState=Z}}function Zp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Wp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Zp(r[t],n)}var Rr=O(null),Uu=O(0);function eg(t,n){t=ns,se(Uu,t),se(Rr,n),ns=t|n.baseLanes}function cf(){se(Uu,ns),se(Rr,Rr.current)}function hf(){ns=Uu.current,J(Rr),J(Uu)}var wn=O(null),Pn=null;function Ms(t){var n=t.alternate;se(bt,bt.current&1),se(wn,t),Pn===null&&(n===null||Rr.current!==null||n.memoizedState!==null)&&(Pn=t)}function ff(t){se(bt,bt.current),se(wn,t),Pn===null&&(Pn=t)}function tg(t){t.tag===22?(se(bt,bt.current),se(wn,t),Pn===null&&(Pn=t)):Os()}function Os(){se(bt,bt.current),se(wn,wn.current)}function xn(t){J(wn),Pn===t&&(Pn=null),J(bt)}var bt=O(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||_d(r)||vd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Ne=null,nt=null,Dt=null,Pu=!1,Cr=!1,La=!1,Bu=0,Kl=0,Nr=null,EE=0;function gt(){throw Error(a(321))}function df(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Sn(t[r],n[r]))return!1;return!0}function mf(t,n,r,l,h,f){return Yi=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?Ug:Nf,La=!1,f=r(l,h),La=!1,Cr&&(f=ig(n,r,l,h)),ng(t),f}function ng(t){Q.H=$l;var n=nt!==null&&nt.next!==null;if(Yi=0,Dt=nt=Ne=null,Pu=!1,Kl=0,Nr=null,n)throw Error(a(300));t===null||Mt||(t=t.dependencies,t!==null&&Du(t)&&(Mt=!0))}function ig(t,n,r,l){Ne=t;var h=0;do{if(Cr&&(Nr=null),Kl=0,Cr=!1,25<=h)throw Error(a(301));if(h+=1,Dt=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=zg,f=n(r,l)}while(Cr);return f}function bE(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?Yl(n):n,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ne.flags|=1024),n}function pf(){var t=Bu!==0;return Bu=0,t}function gf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function yf(t){if(Pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pu=!1}Yi=0,Dt=nt=Ne=null,Cr=!1,Kl=Bu=0,Nr=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ne.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function St(){if(nt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var n=Dt===null?Ne.memoizedState:Dt.next;if(n!==null)Dt=n,nt=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Dt===null?Ne.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(t){var n=Kl;return Kl+=1,Nr===null&&(Nr=[]),t=Kp(Nr,t,n),n=Ne,(Dt===null?n.memoizedState:Dt.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Ug:Nf),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yl(t);if(t.$$typeof===ae)return Xt(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Xi(t,n){return typeof n=="function"?n(t):n}function Gu(t){var n=St();return vf(n,nt,t)}function vf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,N=null,P=n,X=!1;do{var Z=P.lane&-536870913;if(Z!==P.lane?(je&Z)===Z:(Yi&Z)===Z){var B=P.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Z===Sr&&(X=!0);else if((Yi&B)===B){P=P.next,B===Sr&&(X=!0);continue}else Z={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=Z,g=f):N=N.next=Z,Ne.lanes|=B,js|=B;Z=P.action,La&&r(f,Z),f=P.hasEagerState?P.eagerState:r(f,Z)}else B={lane:Z,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=B,g=f):N=N.next=B,Ne.lanes|=Z,js|=Z;P=P.next}while(P!==null&&P!==n);if(N===null?g=f:N.next=E,!Sn(f,t.memoizedState)&&(Mt=!0,X&&(r=Ar,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var n=St(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Sn(f,n.memoizedState)||(Mt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function sg(t,n,r){var l=Ne,h=St(),f=qe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Sn((nt||h).memoizedState,r);if(g&&(h.memoizedState=r,Mt=!0),h=h.queue,Sf(lg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,Ir(9,{destroy:void 0},rg.bind(null,l,h,r,n),null),at===null)throw Error(a(349));f||(Yi&127)!==0||ag(l,n,r)}return r}function ag(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=qu(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function rg(t,n,r,l){n.value=r,n.getSnapshot=l,og(n)&&ug(t)}function lg(t,n,r){return r(function(){og(n)&&ug(t)})}function og(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Sn(t,r)}catch{return!0}}function ug(t){var n=Ca(t,2);n!==null&&_n(n,t,2)}function Ef(t){var n=un();if(typeof t=="function"){var r=t;if(t=r(),La){In(!0);try{r()}finally{In(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},n}function cg(t,n,r,l){return t.baseState=r,vf(t,nt,typeof l=="function"?l:Xi)}function SE(t,n,r,l,h){if(Ku(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,hg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function hg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var E=r(h,l),N=Q.S;N!==null&&N(g,E),fg(t,n,E)}catch(P){bf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=r(h,l),fg(t,n,f)}catch(P){bf(t,n,P)}}function fg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){dg(t,n,l)},function(l){return bf(t,n,l)}):dg(t,n,r)}function dg(t,n,r){n.status="fulfilled",n.value=r,mg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,hg(t,r)))}function bf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,mg(n),n=n.next;while(n!==l)}t.action=null}function mg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pg(t,n){return n}function gg(t,n){if(qe){var r=at.formState;if(r!==null){e:{var l=Ne;if(qe){if(lt){t:{for(var h=lt,f=zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){lt=Bn(h.nextSibling),l=h.data==="F!";break e}}Rs(l)}l=!1}l&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},r.queue=l,r=kg.bind(null,Ne,l),l.dispatch=r,l=Ef(!1),f=Cf.bind(null,Ne,!1,l.queue),l=un(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=SE.bind(null,Ne,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function yg(t){var n=St();return _g(n,nt,t)}function _g(t,n,r){if(n=vf(t,n,pg)[0],t=Gu(Xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Yl(n)}catch(g){throw g===wr?Vu:g}else l=n;n=St();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Ir(9,{destroy:void 0},AE.bind(null,h,r),null)),[l,f,t]}function AE(t,n){t.action=n}function vg(t){var n=St(),r=nt;if(r!==null)return _g(n,r,t);St(),n=n.memoizedState,r=St();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ir(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=qu(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Tg(){return St().memoizedState}function Fu(t,n,r,l){var h=un();Ne.flags|=t,h.memoizedState=Ir(1|n,{destroy:void 0},r,l===void 0?null:l)}function Qu(t,n,r,l){var h=St();l=l===void 0?null:l;var f=h.memoizedState.inst;nt!==null&&l!==null&&df(l,nt.memoizedState.deps)?h.memoizedState=Ir(n,f,r,l):(Ne.flags|=t,h.memoizedState=Ir(1|n,f,r,l))}function Eg(t,n){Fu(8390656,8,t,n)}function Sf(t,n){Qu(2048,8,t,n)}function wE(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=qu(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function bg(t){var n=St().memoizedState;return wE({ref:n,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Sg(t,n){return Qu(4,2,t,n)}function Ag(t,n){return Qu(4,4,t,n)}function wg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,r){r=r!=null?r.concat([t]):null,Qu(4,4,wg.bind(null,n,t),r)}function Af(){}function Rg(t,n){var r=St();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&df(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Cg(t,n){var r=St();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=t(),La){In(!0);try{t()}finally{In(!1)}}return r.memoizedState=[l,n],l}function wf(t,n,r){return r===void 0||(Yi&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ny(),Ne.lanes|=t,js|=t,r)}function Ng(t,n,r,l){return Sn(r,n)?r:Rr.current!==null?(t=wf(t,r,l),Sn(t,n)||(Mt=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(je&261930)===0?(Mt=!0,t.memoizedState=r):(t=Ny(),Ne.lanes|=t,js|=t,n)}function Ig(t,n,r,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var g=Q.T,E={};Q.T=E,Cf(t,!1,n,r);try{var N=h(),P=Q.S;if(P!==null&&P(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=TE(N,l);Xl(t,n,X,Nn(t))}else Xl(t,n,l,Nn(t))}catch(Z){Xl(t,n,{then:function(){},status:"rejected",reason:Z},Nn())}finally{ie.p=f,g!==null&&E.types!==null&&(g.types=E.types),Q.T=g}}function xE(){}function xf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Dg(t).queue;Ig(t,h,n,fe,r===null?xE:function(){return Mg(t),r(l)})}function Dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:fe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mg(t){var n=Dg(t);n.next===null&&(n=t.alternate.memoizedState),Xl(t,n.next.queue,{},Nn())}function Rf(){return Xt(fo)}function Og(){return St().memoizedState}function Vg(){return St().memoizedState}function RE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Nn();t=Is(r);var l=Ds(n,t,r);l!==null&&(_n(l,n,r),Gl(l,n,r)),n={cache:tf()},t.payload=n;return}n=n.return}}function CE(t,n,r){var l=Nn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(t)?jg(n,r):(r=Gh(t,n,r,l),r!==null&&(_n(r,t,l),Lg(r,n,l)))}function kg(t,n,r){var l=Nn();Xl(t,n,r,l)}function Xl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))jg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,Sn(E,g))return Ru(t,n,h,0),at===null&&xu(),!1}catch{}finally{}if(r=Gh(t,n,h,l),r!==null)return _n(r,t,l),Lg(r,n,l),!0}return!1}function Cf(t,n,r,l){if(l={lane:2,revertLane:rd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(n)throw Error(a(479))}else n=Gh(t,r,l,2),n!==null&&_n(n,t,2)}function Ku(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function jg(t,n){Cr=Pu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Lg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,yl(t,r)}}var $l={readContext:Xt,use:Hu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};$l.useEffectEvent=gt;var Ug={readContext:Xt,use:Hu,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:Xt,useEffect:Eg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fu(4194308,4,wg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fu(4194308,4,t,n)},useInsertionEffect:function(t,n){Fu(4,2,t,n)},useMemo:function(t,n){var r=un();n=n===void 0?null:n;var l=t();if(La){In(!0);try{t()}finally{In(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=un();if(r!==void 0){var h=r(n);if(La){In(!0);try{r(n)}finally{In(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=CE.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=Ef(t);var n=t.queue,r=kg.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Af,useDeferredValue:function(t,n){var r=un();return wf(r,t,n)},useTransition:function(){var t=Ef(!1);return t=Ig.bind(null,Ne,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ne,h=un();if(qe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),at===null)throw Error(a(349));(je&127)!==0||ag(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Eg(lg.bind(null,l,f,t),[t]),l.flags|=2048,Ir(9,{destroy:void 0},rg.bind(null,l,f,r,n),null),r},useId:function(){var t=un(),n=at.identifierPrefix;if(qe){var r=xi,l=wi;r=(l&~(1<<32-Tt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=EE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:gg,useActionState:gg,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Cf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return un().memoizedState=RE.bind(null,Ne)},useEffectEvent:function(t){var n=un(),r={impl:t};return n.memoizedState=r,function(){if((Ye&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Nf={readContext:Xt,use:Hu,useCallback:Rg,useContext:Xt,useEffect:Sf,useImperativeHandle:xg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Cg,useReducer:Gu,useRef:Tg,useState:function(){return Gu(Xi)},useDebugValue:Af,useDeferredValue:function(t,n){var r=St();return Ng(r,nt.memoizedState,t,n)},useTransition:function(){var t=Gu(Xi)[0],n=St().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:sg,useId:Og,useHostTransitionStatus:Rf,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var r=St();return cg(r,nt,t,n)},useMemoCache:_f,useCacheRefresh:Vg};Nf.useEffectEvent=bg;var zg={readContext:Xt,use:Hu,useCallback:Rg,useContext:Xt,useEffect:Sf,useImperativeHandle:xg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Cg,useReducer:Tf,useRef:Tg,useState:function(){return Tf(Xi)},useDebugValue:Af,useDeferredValue:function(t,n){var r=St();return nt===null?wf(r,t,n):Ng(r,nt.memoizedState,t,n)},useTransition:function(){var t=Tf(Xi)[0],n=St().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:sg,useId:Og,useHostTransitionStatus:Rf,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var r=St();return nt!==null?cg(r,nt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Vg};zg.useEffectEvent=bg;function If(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Df={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Nn(),h=Is(l);h.payload=n,r!=null&&(h.callback=r),n=Ds(t,h,l),n!==null&&(_n(n,t,l),Gl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Nn(),h=Is(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ds(t,h,l),n!==null&&(_n(n,t,l),Gl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Nn(),l=Is(r);l.tag=2,n!=null&&(l.callback=n),n=Ds(t,l,r),n!==null&&(_n(n,t,r),Gl(n,t,r))}};function Pg(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!jl(r,l)||!jl(h,f):!0}function Bg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function Ua(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function qg(t){wu(t)}function Hg(t){console.error(t)}function Gg(t){wu(t)}function Yu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(t,n,r){return r=Is(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(t,n)},r}function Qg(t){return t=Is(t),t.tag=3,t}function Kg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Fg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Fg(n,r,l),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function NE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&br(n,r,h,!0),r=wn.current,r!==null){switch(r.tag){case 31:case 13:return Pn===null?rc():r.alternate===null&&yt===0&&(yt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),id(t,l,h)),!1;case 22:return r.flags|=65536,l===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),id(t,l,h)),!1}throw Error(a(435,r.tag))}return id(t,l,h),rc(),!1}if(qe)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(t=Error(a(422),{cause:l}),zl(jn(t,r)))):(l!==$h&&(n=Error(a(423),{cause:l}),zl(jn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,r),h=Mf(t.stateNode,l,h),of(t,h),yt!==4&&(yt=2)),!1;var f=Error(a(520),{cause:l});if(f=jn(f,r),so===null?so=[f]:so.push(f),yt!==4&&(yt=2),n===null)return!0;l=jn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Mf(r.stateNode,l,t),of(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ls===null||!Ls.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Qg(h),Kg(h,t,r,l),of(r,h),!1}r=r.return}while(r!==null);return!1}var Of=Error(a(461)),Mt=!1;function $t(t,n,r,l){n.child=t===null?Jp(n,null,r,l):ja(n,t.child,r,l)}function Yg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Ma(n),l=mf(t,n,r,g,f,h),E=pf(),t!==null&&!Mt?(gf(t,n,h),$i(t,n,h)):(qe&&E&&Yh(n),n.flags|=1,$t(t,n,l,h),n.child)}function Xg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,$g(t,n,f,l,h)):(t=Nu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:jl,r(g,l)&&t.ref===n.ref)return $i(t,n,h)}return n.flags|=1,t=Gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function $g(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(jl(f,l)&&t.ref===n.ref)if(Mt=!1,n.pendingProps=l=f,Bf(t,h))(t.flags&131072)!==0&&(Mt=!0);else return n.lanes=t.lanes,$i(t,n,h)}return Vf(t,n,r,l,h)}function Jg(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Zg(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?eg(n,f):cf(),tg(n);else return l=n.lanes=536870912,Zg(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Ou(n,f.cachePool),eg(n,f),Os(),n.memoizedState=null):(t!==null&&Ou(n,null),cf(),Os());return $t(t,n,h,r),n.child}function Jl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zg(t,n,r,l,h){var f=sf();return f=f===null?null:{parent:It._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Ou(n,null),cf(),tg(n),t!==null&&br(t,n,l,!0),n.childLanes=h,null}function Xu(t,n){return n=Ju({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Wg(t,n,r){return ja(n,t.child,null,r),t=Xu(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function IE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=Xu(n,l),n.lanes=536870912,Jl(null,t);if(ff(n),(t=lt)?(t=h0(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:wi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},r=jp(t),r.return=n,n.child=r,Yt=n,lt=null)):t=null,t===null)throw Rs(n);return n.lanes=536870912,null}return Xu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Wg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Mt||br(t,n,r,!1),h=(r&t.childLanes)!==0,Mt||h){if(l=at,l!==null&&(g=_l(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ca(t,g),_n(l,t,g),Of;rc(),n=Wg(t,n,r)}else t=f.treeContext,lt=Bn(g.nextSibling),Yt=n,qe=!0,xs=null,zn=!1,t!==null&&zp(n,t),n=Xu(n,l),n.flags|=4096;return n}return t=Gi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function $u(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Vf(t,n,r,l,h){return Ma(n),r=mf(t,n,r,l,void 0,h),l=pf(),t!==null&&!Mt?(gf(t,n,h),$i(t,n,h)):(qe&&l&&Yh(n),n.flags|=1,$t(t,n,r,h),n.child)}function ey(t,n,r,l,h,f){return Ma(n),n.updateQueue=null,r=ig(n,l,r,h),ng(t),l=pf(),t!==null&&!Mt?(gf(t,n,f),$i(t,n,f)):(qe&&l&&Yh(n),n.flags|=1,$t(t,n,r,f),n.child)}function ty(t,n,r,l,h){if(Ma(n),n.stateNode===null){var f=_r,g=r.contextType;typeof g=="object"&&g!==null&&(f=Xt(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Xt(g):_r,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(If(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Ql(n,l,f,h),Fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Ua(r,E);f.props=N;var P=f.context,X=r.contextType;g=_r,typeof X=="object"&&X!==null&&(g=Xt(X));var Z=r.getDerivedStateFromProps;X=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Bg(n,f,l,g),Ns=!1;var B=n.memoizedState;f.state=B,Ql(n,l,f,h),Fl(),P=n.memoizedState,E||B!==P||Ns?(typeof Z=="function"&&(If(n,r,Z,l),P=n.memoizedState),(N=Ns||Pg(n,r,N,l,B,P,g))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(t,n),g=n.memoizedProps,X=Ua(r,g),f.props=X,Z=n.pendingProps,B=f.context,P=r.contextType,N=_r,typeof P=="object"&&P!==null&&(N=Xt(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||B!==N)&&Bg(n,f,l,N),Ns=!1,B=n.memoizedState,f.state=B,Ql(n,l,f,h),Fl();var F=n.memoizedState;g!==Z||B!==F||Ns||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof E=="function"&&(If(n,r,E,l),F=n.memoizedState),(X=Ns||Pg(n,r,X,l,B,F,N)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=N,l=X):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ja(n,t.child,null,h),n.child=ja(n,null,r,h)):$t(t,n,r,h),n.memoizedState=f.state,t=n.child):t=$i(t,n,h),t}function ny(t,n,r,l){return Ia(),n.flags|=256,$t(t,n,r,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:Fp()}}function Lf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function iy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(h?Ms(n):Os(),(t=lt)?(t=h0(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:wi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},r=jp(t),r.return=n,n.child=r,Yt=n,lt=null)):t=null,t===null)throw Rs(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Os(),h=n.mode,E=Ju({mode:"hidden",children:E},h),l=Na(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=jf(r),l.childLanes=Lf(t,g,r),n.memoizedState=kf,Jl(null,l)):(Ms(n),Uf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(Ms(n),n.flags&=-257,n=zf(t,n,r)):n.memoizedState!==null?(Os(),n.child=t.child,n.flags|=128,n=null):(Os(),E=l.fallback,h=n.mode,l=Ju({mode:"visible",children:l.children},h),E=Na(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ja(n,t.child,null,r),l=n.child,l.memoizedState=jf(r),l.childLanes=Lf(t,g,r),n.memoizedState=kf,n=Jl(null,l));else if(Ms(n),vd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,zl({value:l,source:null,stack:null}),n=zf(t,n,r)}else if(Mt||br(t,n,r,!1),g=(r&t.childLanes)!==0,Mt||g){if(g=at,g!==null&&(l=_l(g,r),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ca(t,l),_n(g,t,l),Of;_d(E)||rc(),n=zf(t,n,r)}else _d(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,lt=Bn(E.nextSibling),Yt=n,qe=!0,xs=null,zn=!1,t!==null&&zp(n,t),n=Uf(n,l.children),n.flags|=4096);return n}return h?(Os(),E=l.fallback,h=n.mode,N=t.child,P=N.sibling,l=Gi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,P!==null?E=Gi(P,E):(E=Na(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Jl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=jf(r):(h=E.cachePool,h!==null?(N=It._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Fp(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Lf(t,g,r),n.memoizedState=kf,Jl(t.child,l)):(Ms(n),r=t.child,t=r.sibling,r=Gi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Uf(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=An(22,t,null,n),t.lanes=0,t}function zf(t,n,r){return ja(n,t.child,null,r),t=Uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wh(t.return,n,r)}function Pf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ay(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=bt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,se(bt,g),$t(t,n,l,r),l=qe?Ul:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,r,n);else if(t.tag===19)sy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&zu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Pf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Pf(n,!0,r,null,f,l);break;case"together":Pf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function $i(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),js|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(br(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Gi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Gi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function DE(t,n,r){switch(n.tag){case 3:_t(n,n.stateNode.containerInfo),Cs(n,It,t.memoizedState.cache),Ia();break;case 27:case 5:zi(n);break;case 4:_t(n,n.stateNode.containerInfo);break;case 10:Cs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ms(n),n.flags|=128,null):(r&n.child.childLanes)!==0?iy(t,n,r):(Ms(n),t=$i(t,n,r),t!==null?t.sibling:null);Ms(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(br(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ay(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(bt,bt.current),l)break;return null;case 22:return n.lanes=0,Jg(t,n,r,n.pendingProps);case 24:Cs(n,It,t.memoizedState.cache)}return $i(t,n,r)}function ry(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Mt=!0;else{if(!Bf(t,r)&&(n.flags&128)===0)return Mt=!1,DE(t,n,r);Mt=(t.flags&131072)!==0}else Mt=!1,qe&&(n.flags&1048576)!==0&&Up(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Va(n.elementType),n.type=t,typeof t=="function")Fh(t)?(l=Ua(t,l),n.tag=1,n=ty(null,n,t,l,r)):(n.tag=0,n=Vf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===De){n.tag=11,n=Yg(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=Xg(null,n,t,l,r);break e}}throw n=et(t)||t,Error(a(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Ua(l,n.pendingProps),ty(t,n,l,h,r);case 3:e:{if(_t(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(t,n),Ql(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Cs(n,It,l),l!==f.cache&&ef(n,[It],r,!0),Fl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(t,n,l,r);break e}else if(l!==h){h=jn(Error(a(424)),n),zl(h),n=ny(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Bn(t.firstChild),Yt=n,qe=!0,xs=null,zn=!0,r=Jp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ia(),l===h){n=$i(t,n,r);break e}$t(t,n,l,r)}n=n.child}return n;case 26:return $u(t,n),t===null?(r=y0(n.type,null,n.pendingProps,null))?n.memoizedState=r:qe||(r=n.type,t=n.pendingProps,l=dc(we.current).createElement(r),l[Rt]=n,l[Bt]=t,Jt(l,r,t),Ct(l),n.stateNode=l):n.memoizedState=y0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&qe&&(l=n.stateNode=m0(n.type,n.pendingProps,we.current),Yt=n,zn=!0,h=lt,Bs(n.type)?(Td=h,lt=Bn(l.firstChild)):lt=h),$t(t,n,n.pendingProps.children,r),$u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((h=l=lt)&&(l=lb(l,n.type,n.pendingProps,zn),l!==null?(n.stateNode=l,Yt=n,lt=Bn(l.firstChild),zn=!1,h=!0):h=!1),h||Rs(n)),zi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,pd(h,f)?l=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,bE,null,null,r),fo._currentValue=h),$u(t,n),$t(t,n,l,r),n.child;case 6:return t===null&&qe&&((t=r=lt)&&(r=ob(r,n.pendingProps,zn),r!==null?(n.stateNode=r,Yt=n,lt=null,t=!0):t=!1),t||Rs(n)),null;case 13:return iy(t,n,r);case 4:return _t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ja(n,null,l,r):$t(t,n,l,r),n.child;case 11:return Yg(t,n,n.type,n.pendingProps,r);case 7:return $t(t,n,n.pendingProps,r),n.child;case 8:return $t(t,n,n.pendingProps.children,r),n.child;case 12:return $t(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Cs(n,n.type,l.value),$t(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ma(n),h=Xt(h),l=l(h),n.flags|=1,$t(t,n,l,r),n.child;case 14:return Xg(t,n,n.type,n.pendingProps,r);case 15:return $g(t,n,n.type,n.pendingProps,r);case 19:return ay(t,n,r);case 31:return IE(t,n,r);case 22:return Jg(t,n,r,n.pendingProps);case 24:return Ma(n),l=Xt(It),t===null?(h=sf(),h===null&&(h=at,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},rf(n),Cs(n,It,h)):((t.lanes&r)!==0&&(lf(t,n),Ql(n,null,null,r),Fl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Cs(n,It,l)):(l=f.cache,Cs(n,It,l),l!==h.cache&&ef(n,[It],r,!0))),$t(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ji(t){t.flags|=4}function qf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Oy())t.flags|=8192;else throw ka=ku,af}else t.flags&=-16777217}function ly(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b0(n))if(Oy())t.flags|=8192;else throw ka=ku,af}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?su():536870912,t.lanes|=n,Vr|=n)}function Zl(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function ME(t,n,r){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(n),null;case 1:return ot(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ki(It),rt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Er(n)?Ji(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),ot(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ji(n),f!==null?(ot(n),ly(n,f)):(ot(n),qf(n,h,null,l,r))):f?f!==t.memoizedState?(Ji(n),ot(n),ly(n,f)):(ot(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(n),ot(n),qf(n,h,t,l,r)),null;case 27:if(ye(n),r=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ot(n),null}t=re.current,Er(n)?Pp(n):(t=m0(h,l,r),n.stateNode=t,Ji(n))}return ot(n),null;case 5:if(ye(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ot(n),null}if(f=re.current,Er(n))Pp(n);else{var g=dc(we.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Rt]=n,f[Bt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Jt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(n)}}return ot(n),qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=we.current,Er(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Rt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||i0(t.nodeValue,r)),t||Rs(n,!0)}else t=dc(t).createTextNode(l),t[Rt]=n,n.stateNode=t}return ot(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Er(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Rt]=n}else Ia(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),t=!1}else r=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ot(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Er(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Rt]=n}else Ia(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),ot(n),null);case 4:return rt(),t===null&&cd(n.stateNode.containerInfo),ot(n),null;case 10:return Ki(n.type),ot(n),null;case 19:if(J(bt),l=n.memoizedState,l===null)return ot(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Zl(l,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,Zl(l,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)kp(r,t),r=r.sibling;return se(bt,bt.current&1|2),qe&&Fi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&ln()>ic&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return ot(n),null}else 2*ln()-l.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ln(),t.sibling=null,r=bt.current,se(bt,h?r&1|2:r&1),qe&&Fi(n,l.treeForkCount),t):(ot(n),null);case 22:case 23:return xn(n),hf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ot(n),n.subtreeFlags&6&&(n.flags|=8192)):ot(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&J(Oa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ki(It),ot(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function OE(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ki(It),rt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ye(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Ia()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ia()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(bt),null;case 4:return rt(),null;case 10:return Ki(n.type),null;case 22:case 23:return xn(n),hf(),t!==null&&J(Oa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ki(It),null;case 25:return null;default:return null}}function oy(t,n){switch(Xh(n),n.tag){case 3:Ki(It),rt();break;case 26:case 27:case 5:ye(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:J(bt);break;case 10:Ki(n.type);break;case 22:case 23:xn(n),hf(),t!==null&&J(Oa);break;case 24:Ki(It)}}function Wl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(E){We(n,n.return,E)}}function Vs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var N=r,P=E;try{P()}catch(X){We(h,N,X)}}}l=l.next}while(l!==f)}}catch(X){We(n,n.return,X)}}function uy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Wp(n,r)}catch(l){We(t,t.return,l)}}}function cy(t,n,r){r.props=Ua(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){We(t,n,l)}}function eo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){We(t,n,h)}}function Ri(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){We(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){We(t,n,h)}else r.current=null}function hy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){We(t,t.return,h)}}function Hf(t,n,r){try{var l=t.stateNode;tb(l,t.type,r,n),l[Bt]=n}catch(h){We(t,t.return,h)}}function fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Bs(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Bs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Xn));else if(l!==4&&(l===27&&Bs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,r),t=t.sibling;t!==null;)Ff(t,n,r),t=t.sibling}function Wu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Bs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Wu(t,n,r),t=t.sibling;t!==null;)Wu(t,n,r),t=t.sibling}function dy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,l,r),n[Rt]=t,n[Bt]=r}catch(f){We(t,t.return,f)}}var Zi=!1,Ot=!1,Qf=!1,my=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function VE(t,n){if(t=t.containerInfo,dd=Tc,t=xp(t),Uh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,N=-1,P=0,X=0,Z=t,B=null;t:for(;;){for(var F;Z!==r||h!==0&&Z.nodeType!==3||(E=g+h),Z!==f||l!==0&&Z.nodeType!==3||(N=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(F=Z.firstChild)!==null;)B=Z,Z=F;for(;;){if(Z===t)break t;if(B===r&&++P===h&&(E=g),B===f&&++X===l&&(N=g),(F=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=F}r=E===-1||N===-1?null:{start:E,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:t,selectionRange:r},Tc=!1,Ht=n;Ht!==null;)if(n=Ht,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ht=t;else for(;Ht!==null;){switch(n=Ht,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var oe=Ua(r.type,h);t=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){We(r,r.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)yd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ht=t;break}Ht=n.return}}function py(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:es(t,r),l&4&&Wl(5,r);break;case 1:if(es(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){We(r,r.return,g)}else{var h=Ua(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){We(r,r.return,g)}}l&64&&uy(r),l&512&&eo(r,r.return);break;case 3:if(es(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Wp(t,n)}catch(g){We(r,r.return,g)}}break;case 27:n===null&&l&4&&dy(r);case 26:case 5:es(t,r),n===null&&l&4&&hy(r),l&512&&eo(r,r.return);break;case 12:es(t,r);break;case 31:es(t,r),l&4&&_y(t,r);break;case 13:es(t,r),l&4&&vy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=HE.bind(null,r),ub(t,r))));break;case 22:if(l=r.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||Ot,h=Zi;var f=Ot;Zi=l,(Ot=n)&&!f?ts(t,r,(r.subtreeFlags&8772)!==0):es(t,r),Zi=h,Ot=f}break;case 30:break;default:es(t,r)}}function gy(t){var n=t.alternate;n!==null&&(t.alternate=null,gy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&sr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,mn=!1;function Wi(t,n,r){for(r=r.child;r!==null;)yy(t,n,r),r=r.sibling}function yy(t,n,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Fn,r)}catch{}switch(r.tag){case 26:Ot||Ri(r,n),Wi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ot||Ri(r,n);var l=ft,h=mn;Bs(r.type)&&(ft=r.stateNode,mn=!1),Wi(t,n,r),uo(r.stateNode),ft=l,mn=h;break;case 5:Ot||Ri(r,n);case 6:if(l=ft,h=mn,ft=null,Wi(t,n,r),ft=l,mn=h,ft!==null)if(mn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(r.stateNode)}catch(f){We(r,n,f)}else try{ft.removeChild(r.stateNode)}catch(f){We(r,n,f)}break;case 18:ft!==null&&(mn?(t=ft,u0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),qr(t)):u0(ft,r.stateNode));break;case 4:l=ft,h=mn,ft=r.stateNode.containerInfo,mn=!0,Wi(t,n,r),ft=l,mn=h;break;case 0:case 11:case 14:case 15:Vs(2,r,n),Ot||Vs(4,r,n),Wi(t,n,r);break;case 1:Ot||(Ri(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&cy(r,n,l)),Wi(t,n,r);break;case 21:Wi(t,n,r);break;case 22:Ot=(l=Ot)||r.memoizedState!==null,Wi(t,n,r),Ot=l;break;default:Wi(t,n,r)}}function _y(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qr(t)}catch(r){We(n,n.return,r)}}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qr(t)}catch(r){We(n,n.return,r)}}function kE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new my),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new my),n;default:throw Error(a(435,t.tag))}}function ec(t,n){var r=kE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=GE.bind(null,t,l);l.then(h,h)}})}function pn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Bs(E.type)){ft=E.stateNode,mn=!1;break e}break;case 5:ft=E.stateNode,mn=!1;break e;case 3:case 4:ft=E.stateNode.containerInfo,mn=!0;break e}E=E.return}if(ft===null)throw Error(a(160));yy(f,g,h),ft=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,t),n=n.sibling}var ti=null;function Ty(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(n,t),gn(t),l&4&&(Vs(3,t,t.return),Wl(3,t),Vs(5,t,t.return));break;case 1:pn(n,t),gn(t),l&512&&(Ot||r===null||Ri(r,r.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ti;if(pn(n,t),gn(t),l&512&&(Ot||r===null||Ri(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,l,r),f[Rt]=t,Ct(f),l=f;break e;case"link":var g=T0("link","href",h).get(l+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),Jt(f,l,r),h.head.appendChild(f);break;case"meta":if(g=T0("meta","content",h).get(l+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(l),Jt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Rt]=t,Ct(f),l=f}t.stateNode=l}else E0(h,t.type,t.stateNode);else t.stateNode=v0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?E0(h,t.type,t.stateNode):v0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,r.memoizedProps)}break;case 27:pn(n,t),gn(t),l&512&&(Ot||r===null||Ri(r,r.return)),r!==null&&l&4&&Hf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(pn(n,t),gn(t),l&512&&(Ot||r===null||Ri(r,r.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(oe){We(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(pn(n,t),gn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(oe){We(t,t.return,oe)}}break;case 3:if(gc=null,h=ti,ti=mc(n.containerInfo),pn(n,t),ti=h,gn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{qr(n.containerInfo)}catch(oe){We(t,t.return,oe)}Qf&&(Qf=!1,Ey(t));break;case 4:l=ti,ti=mc(t.stateNode.containerInfo),pn(n,t),gn(t),ti=l;break;case 12:pn(n,t),gn(t);break;case 31:pn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ec(t,l)));break;case 13:pn(n,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ec(t,l)));break;case 22:h=t.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,P=Zi,X=Ot;if(Zi=P||h,Ot=X||N,pn(n,t),Ot=X,Zi=P,gn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||Zi||Ot||za(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var Z=N.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){We(N,N.return,oe)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(oe){We(N,N.return,oe)}}}else if(n.tag===18){if(r===null){N=n;try{var F=N.stateNode;h?c0(F,!0):c0(N.stateNode,!1)}catch(oe){We(N,N.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ec(t,r))));break;case 19:pn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ec(t,l)));break;case 30:break;case 21:break;default:pn(n,t),gn(t)}}function gn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(fy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Gf(t);Wu(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(dn(g,""),r.flags&=-33);var E=Gf(t);Wu(t,E,g);break;case 3:case 4:var N=r.stateNode.containerInfo,P=Gf(t);Ff(t,P,N);break;default:throw Error(a(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ey(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function es(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(t,n.alternate,n),n=n.sibling}function za(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Vs(4,n,n.return),za(n);break;case 1:Ri(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&cy(n,n.return,r),za(n);break;case 27:uo(n.stateNode);case 26:case 5:Ri(n,n.return),za(n);break;case 22:n.memoizedState===null&&za(n);break;case 30:za(n);break;default:za(n)}t=t.sibling}}function ts(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,r),Wl(4,f);break;case 1:if(ts(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){We(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Zp(N[h],E)}catch(P){We(l,l.return,P)}}r&&g&64&&uy(f),eo(f,f.return);break;case 27:dy(f);case 26:case 5:ts(h,f,r),r&&l===null&&g&4&&hy(f),eo(f,f.return);break;case 12:ts(h,f,r);break;case 31:ts(h,f,r),r&&g&4&&_y(h,f);break;case 13:ts(h,f,r),r&&g&4&&vy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,r),eo(f,f.return);break;case 30:break;default:ts(h,f,r)}n=n.sibling}}function Kf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Pl(r))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Pl(t))}function ni(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)by(t,n,r,l),n=n.sibling}function by(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n,r,l),h&2048&&Wl(9,n);break;case 1:ni(t,n,r,l);break;case 3:ni(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Pl(t)));break;case 12:if(h&2048){ni(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(n,n.return,N)}}else ni(t,n,r,l);break;case 31:ni(t,n,r,l);break;case 13:ni(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ni(t,n,r,l):to(t,n):f._visibility&2?ni(t,n,r,l):(f._visibility|=2,Dr(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:ni(t,n,r,l),h&2048&&Yf(n.alternate,n);break;default:ni(t,n,r,l)}}function Dr(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,N=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Dr(f,g,E,N,h),Wl(8,g);break;case 23:break;case 22:var X=g.stateNode;g.memoizedState!==null?X._visibility&2?Dr(f,g,E,N,h):to(f,g):(X._visibility|=2,Dr(f,g,E,N,h)),h&&P&2048&&Kf(g.alternate,g);break;case 24:Dr(f,g,E,N,h),h&&P&2048&&Yf(g.alternate,g);break;default:Dr(f,g,E,N,h)}n=n.sibling}}function to(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:to(r,l),h&2048&&Kf(l.alternate,l);break;case 24:to(r,l),h&2048&&Yf(l.alternate,l);break;default:to(r,l)}n=n.sibling}}var no=8192;function Mr(t,n,r){if(t.subtreeFlags&no)for(t=t.child;t!==null;)Sy(t,n,r),t=t.sibling}function Sy(t,n,r){switch(t.tag){case 26:Mr(t,n,r),t.flags&no&&t.memoizedState!==null&&Eb(r,ti,t.memoizedState,t.memoizedProps);break;case 5:Mr(t,n,r);break;case 3:case 4:var l=ti;ti=mc(t.stateNode.containerInfo),Mr(t,n,r),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=no,no=16777216,Mr(t,n,r),no=l):Mr(t,n,r));break;default:Mr(t,n,r)}}function Ay(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function io(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ht=l,xy(l,t)}Ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wy(t),t=t.sibling}function wy(t){switch(t.tag){case 0:case 11:case 15:io(t),t.flags&2048&&Vs(9,t,t.return);break;case 3:io(t);break;case 12:io(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,tc(t)):io(t);break;default:io(t)}}function tc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ht=l,xy(l,t)}Ay(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Vs(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}t=t.sibling}}function xy(t,n){for(;Ht!==null;){var r=Ht;switch(r.tag){case 0:case 11:case 15:Vs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ht=l;else e:for(r=t;Ht!==null;){l=Ht;var h=l.sibling,f=l.return;if(gy(l),l===r){Ht=null;break e}if(h!==null){h.return=f,Ht=h;break e}Ht=f}}}var jE={getCacheForType:function(t){var n=Xt(It),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Xt(It).controller.signal}},LE=typeof WeakMap=="function"?WeakMap:Map,Ye=0,at=null,Oe=null,je=0,Ze=0,Rn=null,ks=!1,Or=!1,Xf=!1,ns=0,yt=0,js=0,Pa=0,$f=0,Cn=0,Vr=0,so=null,yn=null,Jf=!1,nc=0,Ry=0,ic=1/0,sc=null,Ls=null,Lt=0,Us=null,kr=null,is=0,Zf=0,Wf=null,Cy=null,ao=0,ed=null;function Nn(){return(Ye&2)!==0&&je!==0?je&-je:Q.T!==null?rd():au()}function Ny(){if(Cn===0)if((je&536870912)===0||qe){var t=da;da<<=1,(da&3932160)===0&&(da=262144),Cn=t}else Cn=536870912;return t=wn.current,t!==null&&(t.flags|=32),Cn}function _n(t,n,r){(t===at&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(jr(t,0),zs(t,je,Cn,!1)),ma(t,r),((Ye&2)===0||t!==at)&&(t===at&&((Ye&2)===0&&(Pa|=r),yt===4&&zs(t,je,Cn,!1)),Ci(t))}function Iy(t,n,r){if((Ye&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Qn(t,n),h=l?PE(t,n):nd(t,n,!0),f=l;do{if(h===0){Or&&!l&&zs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!UE(r)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=so;var N=E.current.memoizedState.isDehydrated;if(N&&(jr(E,g).flags|=256),g=nd(E,g,!1),g!==2){if(Xf&&!N){E.errorRecoveryDisabledLanes|=f,Pa|=f,h=4;break e}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){jr(t,0),zs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:zs(l,n,Cn,!ks);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-ln(),10<h)){if(zs(l,n,Cn,!ks),ci(l,0,!0)!==0)break e;is=n,l.timeoutHandle=l0(Dy.bind(null,l,r,yn,sc,Jf,n,Cn,Pa,Vr,ks,f,"Throttled",-0,0),h);break e}Dy(l,r,yn,sc,Jf,n,Cn,Pa,Vr,ks,f,null,-0,0)}}break}while(!0);Ci(t)}function Dy(t,n,r,l,h,f,g,E,N,P,X,Z,B,F){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},Sy(n,f,Z);var oe=(f&62914560)===f?nc-ln():(f&4194048)===f?Ry-ln():0;if(oe=bb(Z,oe),oe!==null){is=f,t.cancelPendingCommit=oe(zy.bind(null,t,n,f,r,l,h,g,E,N,X,Z,null,B,F)),zs(t,f,g,!P);return}}zy(t,n,f,r,l,h,g,E,N)}function UE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zs(t,n,r,l){n&=~$f,n&=~Pa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Tt(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&pa(t,r,n)}function ac(){return(Ye&6)===0?(ro(0),!1):!0}function td(){if(Oe!==null){if(Ze===0)var t=Oe.return;else t=Oe,Qi=Da=null,yf(t),xr=null,ql=0,t=Oe;for(;t!==null;)oy(t.alternate,t),t=t.return;Oe=null}}function jr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),is=0,td(),at=t,Oe=r=Gi(t.current,null),je=n,Ze=0,Rn=null,ks=!1,Or=Qn(t,n),Xf=!1,Vr=Cn=$f=Pa=js=yt=0,yn=so=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Tt(l),f=1<<h;n|=t[h],l&=~f}return ns=n,xu(),r}function My(t,n){Ne=null,Q.H=$l,n===wr||n===Vu?(n=Yp(),Ze=3):n===af?(n=Yp(),Ze=4):Ze=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Oe===null&&(yt=1,Yu(t,jn(n,t.current)))}function Oy(){var t=wn.current;return t===null?!0:(je&4194048)===je?Pn===null:(je&62914560)===je||(je&536870912)!==0?t===Pn:!1}function Vy(){var t=Q.H;return Q.H=$l,t===null?$l:t}function ky(){var t=Q.A;return Q.A=jE,t}function rc(){yt=4,ks||(je&4194048)!==je&&wn.current!==null||(Or=!0),(js&134217727)===0&&(Pa&134217727)===0||at===null||zs(at,je,Cn,!1)}function nd(t,n,r){var l=Ye;Ye|=2;var h=Vy(),f=ky();(at!==t||je!==n)&&(sc=null,jr(t,n)),n=!1;var g=yt;e:do try{if(Ze!==0&&Oe!==null){var E=Oe,N=Rn;switch(Ze){case 8:td(),g=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var P=Ze;if(Ze=0,Rn=null,Lr(t,E,N,P),r&&Or){g=0;break e}break;default:P=Ze,Ze=0,Rn=null,Lr(t,E,N,P)}}zE(),g=yt;break}catch(X){My(t,X)}while(!0);return n&&t.shellSuspendCounter++,Qi=Da=null,Ye=l,Q.H=h,Q.A=f,Oe===null&&(at=null,je=0,xu()),g}function zE(){for(;Oe!==null;)jy(Oe)}function PE(t,n){var r=Ye;Ye|=2;var l=Vy(),h=ky();at!==t||je!==n?(sc=null,ic=ln()+500,jr(t,n)):Or=Qn(t,n);e:do try{if(Ze!==0&&Oe!==null){n=Oe;var f=Rn;t:switch(Ze){case 1:Ze=0,Rn=null,Lr(t,n,f,1);break;case 2:case 9:if(Qp(f)){Ze=0,Rn=null,Ly(n);break}n=function(){Ze!==2&&Ze!==9||at!==t||(Ze=7),Ci(t)},f.then(n,n);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Qp(f)?(Ze=0,Rn=null,Ly(n)):(Ze=0,Rn=null,Lr(t,n,f,7));break;case 5:var g=null;switch(Oe.tag){case 26:g=Oe.memoizedState;case 5:case 27:var E=Oe;if(g?b0(g):E.stateNode.complete){Ze=0,Rn=null;var N=E.sibling;if(N!==null)Oe=N;else{var P=E.return;P!==null?(Oe=P,lc(P)):Oe=null}break t}}Ze=0,Rn=null,Lr(t,n,f,5);break;case 6:Ze=0,Rn=null,Lr(t,n,f,6);break;case 8:td(),yt=6;break e;default:throw Error(a(462))}}BE();break}catch(X){My(t,X)}while(!0);return Qi=Da=null,Q.H=l,Q.A=h,Ye=r,Oe!==null?0:(at=null,je=0,xu(),yt)}function BE(){for(;Oe!==null&&!Dh();)jy(Oe)}function jy(t){var n=ry(t.alternate,t,ns);t.memoizedProps=t.pendingProps,n===null?lc(t):Oe=n}function Ly(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ey(r,n,n.pendingProps,n.type,void 0,je);break;case 11:n=ey(r,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:yf(n);default:oy(r,n),n=Oe=kp(n,ns),n=ry(r,n,ns)}t.memoizedProps=t.pendingProps,n===null?lc(t):Oe=n}function Lr(t,n,r,l){Qi=Da=null,yf(n),xr=null,ql=0;var h=n.return;try{if(NE(t,h,n,r,je)){yt=1,Yu(t,jn(r,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;yt=1,Yu(t,jn(r,t.current)),Oe=null;return}n.flags&32768?(qe||l===1?t=!0:Or||(je&536870912)!==0?t=!1:(ks=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uy(n,t)):lc(n)}function lc(t){var n=t;do{if((n.flags&32768)!==0){Uy(n,ks);return}t=n.return;var r=ME(n.alternate,n,ns);if(r!==null){Oe=r;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);yt===0&&(yt=5)}function Uy(t,n){do{var r=OE(t.alternate,t);if(r!==null){r.flags&=32767,Oe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=r}while(t!==null);yt=6,Oe=null}function zy(t,n,r,l,h,f,g,E,N){t.cancelPendingCommit=null;do oc();while(Lt!==0);if((Ye&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(t,r,f,g,E,N),t===at&&(Oe=at=null,je=0),kr=n,Us=t,is=r,Zf=f,Wf=h,Cy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FE(ps,function(){return Gy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ie.p,ie.p=2,g=Ye,Ye|=4;try{VE(t,n,r)}finally{Ye=g,ie.p=h,Q.T=l}}Lt=1,Py(),By(),qy()}}function Py(){if(Lt===1){Lt=0;var t=Us,n=kr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null;var l=ie.p;ie.p=2;var h=Ye;Ye|=4;try{Ty(n,t);var f=md,g=xp(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&wp(E.ownerDocument.documentElement,E)){if(N!==null&&Uh(E)){var P=N.start,X=N.end;if(X===void 0&&(X=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(X,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var F=B.getSelection(),oe=E.textContent.length,ge=Math.min(N.start,oe),st=N.end===void 0?ge:Math.min(N.end,oe);!F.extend&&ge>st&&(g=st,st=ge,ge=g);var j=Ap(E,ge),M=Ap(E,st);if(j&&M&&(F.rangeCount!==1||F.anchorNode!==j.node||F.anchorOffset!==j.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(j.node,j.offset),F.removeAllRanges(),ge>st?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for(Z=[],F=E;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var $=Z[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Tc=!!dd,md=dd=null}finally{Ye=h,ie.p=l,Q.T=r}}t.current=n,Lt=2}}function By(){if(Lt===2){Lt=0;var t=Us,n=kr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Q.T,Q.T=null;var l=ie.p;ie.p=2;var h=Ye;Ye|=4;try{py(t,n.alternate,n)}finally{Ye=h,ie.p=l,Q.T=r}}Lt=3}}function qy(){if(Lt===4||Lt===3){Lt=0,Zo();var t=Us,n=kr,r=is,l=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,kr=Us=null,Hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ls=null),Pi(r),n=n.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,h=ie.p,ie.p=2,Q.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,ie.p=h}}(is&3)!==0&&oc(),Ci(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ed?ao++:(ao=0,ed=t):ao=0,ro(0)}}function Hy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Pl(n)))}function oc(){return Py(),By(),qy(),Gy()}function Gy(){if(Lt!==5)return!1;var t=Us,n=Zf;Zf=0;var r=Pi(is),l=Q.T,h=ie.p;try{ie.p=32>r?32:r,Q.T=null,r=Wf,Wf=null;var f=Us,g=is;if(Lt=0,kr=Us=null,is=0,(Ye&6)!==0)throw Error(a(331));var E=Ye;if(Ye|=4,wy(f.current),by(f,f.current,g,r),Ye=E,ro(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{ie.p=h,Q.T=l,Hy(t,n)}}function Fy(t,n,r){n=jn(r,n),n=Mf(t.stateNode,n,2),t=Ds(t,n,2),t!==null&&(ma(t,2),Ci(t))}function We(t,n,r){if(t.tag===3)Fy(t,t,r);else for(;n!==null;){if(n.tag===3){Fy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ls===null||!Ls.has(l))){t=jn(r,t),r=Qg(2),l=Ds(n,r,2),l!==null&&(Kg(r,l,n,t),ma(l,2),Ci(l));break}}n=n.return}}function id(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new LE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Xf=!0,h.add(r),t=qE.bind(null,t,n,r),n.then(t,t))}function qE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,at===t&&(je&r)===r&&(yt===4||yt===3&&(je&62914560)===je&&300>ln()-nc?(Ye&2)===0&&jr(t,0):$f|=r,Vr===je&&(Vr=0)),Ci(t)}function Qy(t,n){n===0&&(n=su()),t=Ca(t,n),t!==null&&(ma(t,n),Ci(t))}function HE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Qy(t,r)}function GE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Qy(t,r)}function FE(t,n){return jt(t,n)}var uc=null,Ur=null,sd=!1,cc=!1,ad=!1,Ps=0;function Ci(t){t!==Ur&&t.next===null&&(Ur===null?uc=Ur=t:Ur=Ur.next=t),cc=!0,sd||(sd=!0,KE())}function ro(t,n){if(!ad&&cc){ad=!0;do for(var r=!1,l=uc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Tt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,$y(l,f))}else f=je,f=ci(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Qn(l,f)||(r=!0,$y(l,f));l=l.next}while(r);ad=!1}}function QE(){Ky()}function Ky(){cc=sd=!1;var t=0;Ps!==0&&ib()&&(t=Ps);for(var n=ln(),r=null,l=uc;l!==null;){var h=l.next,f=Yy(l,n);f===0?(l.next=null,r===null?uc=h:r.next=h,h===null&&(Ur=r)):(r=l,(t!==0||(f&3)!==0)&&(cc=!0)),l=h}Lt!==0&&Lt!==5||ro(t),Ps!==0&&(Ps=0)}function Yy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Tt(f),E=1<<g,N=h[g];N===-1?((E&r)===0||(E&l)!==0)&&(h[g]=Oh(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=at,r=je,r=ci(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ms(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Qn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ms(l),Pi(r)){case 2:case 8:r=gl;break;case 32:r=ps;break;case 268435456:r=Wo;break;default:r=ps}return l=Xy.bind(null,t),r=jt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ms(l),t.callbackPriority=2,t.callbackNode=null,2}function Xy(t,n){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(oc()&&t.callbackNode!==r)return null;var l=je;return l=ci(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iy(t,l,n),Yy(t,ln()),t.callbackNode!=null&&t.callbackNode===r?Xy.bind(null,t):null)}function $y(t,n){if(oc())return null;Iy(t,n,!0)}function KE(){ab(function(){(Ye&6)!==0?jt(pl,QE):Ky()})}function rd(){if(Ps===0){var t=Sr;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Ps=t}return Ps}function Jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:or(""+t)}function Zy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function YE(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Jy((h[Bt]||null).action),g=l.submitter;g&&(n=(n=g[Bt]||null)?Jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ei("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var N=g?Zy(h,g):new FormData(h);xf(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?Zy(h,g):new FormData(h),xf(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var ld=0;ld<qh.length;ld++){var od=qh[ld],XE=od.toLowerCase(),$E=od[0].toUpperCase()+od.slice(1);ei(XE,"on"+$E)}ei(Np,"onAnimationEnd"),ei(Ip,"onAnimationIteration"),ei(Dp,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(fE,"onTransitionRun"),ei(dE,"onTransitionStart"),ei(mE,"onTransitionCancel"),ei(Mp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function Wy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],N=E.instance,P=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(X){wu(X)}h.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(E=l[g],N=E.instance,P=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(X){wu(X)}h.currentTarget=null,f=N}}}}function Ve(t,n){var r=n[ir];r===void 0&&(r=n[ir]=new Set);var l=t+"__bubble";r.has(l)||(e0(n,t,2,!1),r.add(l))}function ud(t,n,r){var l=0;n&&(l|=4),e0(r,t,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[hc]){t[hc]=!0,vl.forEach(function(r){r!=="selectionchange"&&(JE.has(r)||ud(r,!1,t),ud(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[hc]||(n[hc]=!0,ud("selectionchange",!1,n))}}function e0(t,n,r,l){switch(N0(n)){case 2:var h=wb;break;case 8:h=xb;break;default:h=wd}r=h.bind(null,n,r,t),h=void 0,!Ta||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function hd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=mi(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue e}E=E.parentNode}}l=l.return}Es(function(){var P=f,X=Mn(r),Z=[];e:{var B=Op.get(t);if(B!==void 0){var F=Ei,oe=t;switch(t){case"keypress":if(ba(r)===0)break e;case"keydown":case"keyup":F=bu;break;case"focusin":oe="focus",F=Aa;break;case"focusout":oe="blur",F=Aa;break;case"beforeblur":case"afterblur":F=Aa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Np:case Ip:case Dp:F=pu;break;case Mp:F=S;break;case"scroll":case"scrollend":F=Dl;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Hi;break;case"toggle":case"beforetoggle":F=Ce}var ge=(n&4)!==0,st=!ge&&(t==="scroll"||t==="scrollend"),j=ge?B!==null?B+"Capture":null:B;ge=[];for(var M=P,z;M!==null;){var $=M;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||j===null||($=$n(M,j),$!=null&&ge.push(oo(M,$,z))),st)break;M=M.return}0<ge.length&&(B=new F(B,oe,null,r,X),Z.push({event:B,listeners:ge}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&r!==Cl&&(oe=r.relatedTarget||r.fromElement)&&(mi(oe)||oe[fi]))break e;if((F||B)&&(B=X.window===X?X:(B=X.ownerDocument)?B.defaultView||B.parentWindow:window,F?(oe=r.relatedTarget||r.toElement,F=P,oe=oe?mi(oe):null,oe!==null&&(st=c(oe),ge=oe.tag,oe!==st||ge!==5&&ge!==27&&ge!==6)&&(oe=null)):(F=null,oe=P),F!==oe)){if(ge=Ml,$="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Hi,$="onPointerLeave",j="onPointerEnter",M="pointer"),st=F==null?B:En(F),z=oe==null?B:En(oe),B=new ge($,M+"leave",F,r,X),B.target=st,B.relatedTarget=z,$=null,mi(X)===P&&(ge=new ge(j,M+"enter",oe,r,X),ge.target=z,ge.relatedTarget=st,$=ge),st=$,F&&oe)t:{for(ge=ZE,j=F,M=oe,z=0,$=j;$;$=ge($))z++;$=0;for(var me=M;me;me=ge(me))$++;for(;0<z-$;)j=ge(j),z--;for(;0<$-z;)M=ge(M),$--;for(;z--;){if(j===M||M!==null&&j===M.alternate){ge=j;break t}j=ge(j),M=ge(M)}ge=null}else ge=null;F!==null&&t0(Z,B,F,ge,!1),oe!==null&&st!==null&&t0(Z,st,oe,ge,!0)}}e:{if(B=P?En(P):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Ge=_p;else if(gp(B))if(vp)Ge=uE;else{Ge=lE;var ue=rE}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&lr(P.elementType)&&(Ge=_p):Ge=oE;if(Ge&&(Ge=Ge(t,P))){yp(Z,Ge,r,X);break e}ue&&ue(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&wl(B,"number",B.value)}switch(ue=P?En(P):window,t){case"focusin":(gp(ue)||ue.contentEditable==="true")&&(pr=ue,zh=P,Ll=null);break;case"focusout":Ll=zh=pr=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Rp(Z,r,X);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":Rp(Z,r,X)}var Me;if(Ke)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else mr?wa(t,r)&&(Le="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Le="onCompositionStart");Le&&(Ai&&r.locale!=="ko"&&(mr||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&mr&&(Me=Il()):(Ti=X,Nl="value"in Ti?Ti.value:Ti.textContent,mr=!0)),ue=fc(P,Le),0<ue.length&&(Le=new Si(Le,t,null,r,X),Z.push({event:Le,listeners:ue}),Me?Le.data=Me:(Me=dr(r),Me!==null&&(Le.data=Me)))),(Me=Vn?nE(t,r):iE(t,r))&&(Le=fc(P,"onBeforeInput"),0<Le.length&&(ue=new Si("onBeforeInput","beforeinput",null,r,X),Z.push({event:ue,listeners:Le}),ue.data=Me)),YE(Z,t,P,r,X)}Wy(Z,n)})}function oo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function fc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(t,r),h!=null&&l.unshift(oo(t,h,f)),h=$n(t,n),h!=null&&l.push(oo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ZE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t0(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var E=r,N=E.alternate,P=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||P===null||(N=P,h?(P=$n(r,f),P!=null&&g.unshift(oo(r,P,N))):h||(P=$n(r,f),P!=null&&g.push(oo(r,P,N)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var WE=/\r\n?/g,eb=/\u0000|\uFFFD/g;function n0(t){return(typeof t=="string"?t:""+t).replace(WE,`
`).replace(eb,"")}function i0(t,n){return n=n0(n),n0(t)===n}function it(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,r,l);break;case"style":Rl(t,l,f);break;case"data":if(n!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=or(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&it(t,n,"name",h.name,h,null),it(t,n,"formEncType",h.formEncType,h,null),it(t,n,"formMethod",h.formMethod,h,null),it(t,n,"formTarget",h.formTarget,h,null)):(it(t,n,"encType",h.encType,h,null),it(t,n,"method",h.method,h,null),it(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=or(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=or(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ar(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,ar(t,r,l))}}function fd(t,n,r,l,h,f){switch(r){case"style":Rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Bt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ar(t,r,l)}}}function Jt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:it(t,n,f,g,r,null)}}h&&it(t,n,"srcSet",r.srcSet,r,null),l&&it(t,n,"src",r.src,r,null);return;case"input":Ve("invalid",t);var E=f=g=h=null,N=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var X=r[l];if(X!=null)switch(l){case"name":h=X;break;case"type":g=X;break;case"checked":N=X;break;case"defaultChecked":P=X;break;case"value":f=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,n));break;default:it(t,n,l,X,r,null)}}uu(t,f,E,N,P,g,h,!1);return;case"select":Ve("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:it(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!l,n!=null?ys(t,!!l,n,!1):r!=null&&ys(t,!!l,r,!0);return;case"textarea":Ve("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:it(t,n,g,E,r,null)}_s(t,l,h,f);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,n,N,l,r,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<lo.length;l++)Ve(lo[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:it(t,n,P,l,r,null)}return;default:if(lr(n)){for(X in r)r.hasOwnProperty(X)&&(l=r[X],l!==void 0&&fd(t,n,X,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&it(t,n,E,l,r,null))}function tb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,N=null,P=null,X=null;for(F in r){var Z=r[F];if(r.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(F)||it(t,n,F,null,l,Z)}}for(var B in l){var F=l[B];if(Z=r[B],l.hasOwnProperty(B)&&(F!=null||Z!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":P=F;break;case"defaultChecked":X=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==Z&&it(t,n,B,F,l,Z)}}rr(t,g,E,N,P,X,f,h);return;case"select":F=g=E=B=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(f)||it(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=r[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&it(t,n,h,f,l,N)}n=E,r=g,l=F,B!=null?ys(t,!!r,B,!1):!!l!=!!r&&(n!=null?ys(t,!!r,n,!0):ys(t,!!r,r?[]:"",!1));return;case"textarea":F=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:it(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&it(t,n,g,h,l,f)}cu(t,B,F);return;case"option":for(var oe in r)if(B=r[oe],r.hasOwnProperty(oe)&&B!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:it(t,n,oe,null,l,B)}for(N in l)if(B=l[N],F=r[N],l.hasOwnProperty(N)&&B!==F&&(B!=null||F!=null))switch(N){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:it(t,n,N,B,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in r)B=r[ge],r.hasOwnProperty(ge)&&B!=null&&!l.hasOwnProperty(ge)&&it(t,n,ge,null,l,B);for(P in l)if(B=l[P],F=r[P],l.hasOwnProperty(P)&&B!==F&&(B!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:it(t,n,P,B,l,F)}return;default:if(lr(n)){for(var st in r)B=r[st],r.hasOwnProperty(st)&&B!==void 0&&!l.hasOwnProperty(st)&&fd(t,n,st,void 0,l,B);for(X in l)B=l[X],F=r[X],!l.hasOwnProperty(X)||B===F||B===void 0&&F===void 0||fd(t,n,X,B,l,F);return}}for(var j in r)B=r[j],r.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&it(t,n,j,null,l,B);for(Z in l)B=l[Z],F=r[Z],!l.hasOwnProperty(Z)||B===F||B==null&&F==null||it(t,n,Z,B,l,F)}function s0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&s0(g)){for(g=0,E=h.responseEnd,l+=1;l<r.length;l++){var N=r[l],P=N.startTime;if(P>E)break;var X=N.transferSize,Z=N.initiatorType;X&&s0(Z)&&(N=N.responseEnd,g+=X*(N<E?1:(E-P)/(N-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function a0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function ib(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(t){return o0.resolve(null).then(t).catch(rb)}:l0;function rb(t){setTimeout(function(){throw t})}function Bs(t){return t==="head"}function u0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),qr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")uo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,uo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&uo(t.ownerDocument.body);r=h}while(r);qr(n)}function c0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yd(r),sr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function lb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function ob(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Bn(t.nextSibling),t===null))return null;return t}function h0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Bn(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ub(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Td=null;function f0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Bn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function d0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function m0(t,n,r){switch(n=dc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function uo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);sr(t)}var qn=new Map,p0=new Set;function mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ss=ie.d;ie.d={f:cb,r:hb,D:fb,C:db,L:mb,m:pb,X:yb,S:gb,M:_b};function cb(){var t=ss.f(),n=ac();return t||n}function hb(t){var n=Dn(t);n!==null&&n.tag===5&&n.type==="form"?Mg(n):ss.r(t)}var zr=typeof document>"u"?null:document;function g0(t,n,r){var l=zr;if(l&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),p0.has(h)||(p0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Jt(n,"link",t),Ct(n),l.head.appendChild(n)))}}function fb(t){ss.D(t),g0("dns-prefetch",t,null)}function db(t,n){ss.C(t,n),g0("preconnect",t,n)}function mb(t,n,r){ss.L(t,n,r);var l=zr;if(l&&t&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+fn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+fn(r.imageSizes)+'"]')):h+='[href="'+fn(t)+'"]';var f=h;switch(n){case"style":f=Pr(t);break;case"script":f=Br(t)}qn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),qn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(co(f))||n==="script"&&l.querySelector(ho(f))||(n=l.createElement("link"),Jt(n,"link",t),Ct(n),l.head.appendChild(n)))}}function pb(t,n){ss.m(t,n);var r=zr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Br(t)}if(!qn.has(f)&&(t=A({rel:"modulepreload",href:t},n),qn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ho(f)))return}l=r.createElement("link"),Jt(l,"link",t),Ct(l),r.head.appendChild(l)}}}function gb(t,n,r){ss.S(t,n,r);var l=zr;if(l&&t){var h=pi(l).hoistableStyles,f=Pr(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(co(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=qn.get(f))&&Ed(t,r);var N=g=l.createElement("link");Ct(N),Jt(N,"link",t),N._p=new Promise(function(P,X){N.onload=P,N.onerror=X}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function yb(t,n){ss.X(t,n);var r=zr;if(r&&t){var l=pi(r).hoistableScripts,h=Br(t),f=l.get(h);f||(f=r.querySelector(ho(h)),f||(t=A({src:t,async:!0},n),(n=qn.get(h))&&bd(t,n),f=r.createElement("script"),Ct(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function _b(t,n){ss.M(t,n);var r=zr;if(r&&t){var l=pi(r).hoistableScripts,h=Br(t),f=l.get(h);f||(f=r.querySelector(ho(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=qn.get(h))&&bd(t,n),f=r.createElement("script"),Ct(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function y0(t,n,r,l){var h=(h=we.current)?mc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Pr(r.href),r=pi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Pr(r.href);var f=pi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(co(t)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qn.set(t,r),f||vb(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Br(r),r=pi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Pr(t){return'href="'+fn(t)+'"'}function co(t){return'link[rel="stylesheet"]['+t+"]"}function _0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function vb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Jt(n,"link",r),Ct(n),t.head.appendChild(n))}function Br(t){return'[src="'+fn(t)+'"]'}function ho(t){return"script[async]"+t}function v0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fn(r.href)+'"]');if(l)return n.instance=l,Ct(l),l;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),Jt(l,"style",h),pc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Pr(r.href);var f=t.querySelector(co(h));if(f)return n.state.loading|=4,n.instance=f,Ct(f),f;l=_0(r),(h=qn.get(h))&&Ed(l,h),f=(t.ownerDocument||t).createElement("link"),Ct(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Jt(f,"link",l),n.state.loading|=4,pc(f,r.precedence,t),n.instance=f;case"script":return f=Br(r.src),(h=t.querySelector(ho(f)))?(n.instance=h,Ct(h),h):(l=r,(h=qn.get(f))&&(l=A({},r),bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),Jt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,r.precedence,t));return n.instance}function pc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gc=null;function T0(t,n,r){if(gc===null){var l=new Map,h=gc=new Map;h.set(r,l)}else h=gc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[di]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function E0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Tb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Eb(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Pr(l.href),f=n.querySelector(co(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=yc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Ct(f);return}f=n.ownerDocument||n,l=_0(l),(h=qn.get(h))&&Ed(l,h),f=f.createElement("link"),Ct(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Jt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=yc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Sd=0;function bb(t,n){return t.stylesheets&&t.count===0&&vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Sd===0&&(Sd=62500*nb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Sd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,n.forEach(Sb,t),_c=null,yc.call(t))}function Sb(t,n){if(!(n.state.loading&4)){var r=_c.get(t);if(r)var l=r.get(null);else{r=new Map,_c.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var fo={$$typeof:ae,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Ab(t,n,r,l,h,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function S0(t,n,r,l,h,f,g,E,N,P,X,Z){return t=new Ab(t,n,r,g,N,P,X,Z,E),n=1,f===!0&&(n|=24),f=An(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},rf(f),t}function A0(t){return t?(t=_r,t):_r}function w0(t,n,r,l,h,f){h=A0(h),l.context===null?l.context=h:l.pendingContext=h,l=Is(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ds(t,l,n),r!==null&&(_n(r,t,n),Gl(r,t,n))}function x0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Ad(t,n){x0(t,n),(t=t.alternate)&&x0(t,n)}function R0(t){if(t.tag===13||t.tag===31){var n=Ca(t,67108864);n!==null&&_n(n,t,67108864),Ad(t,67108864)}}function C0(t){if(t.tag===13||t.tag===31){var n=Nn();n=ga(n);var r=Ca(t,n);r!==null&&_n(r,t,n),Ad(t,n)}}var Tc=!0;function wb(t,n,r,l){var h=Q.T;Q.T=null;var f=ie.p;try{ie.p=2,wd(t,n,r,l)}finally{ie.p=f,Q.T=h}}function xb(t,n,r,l){var h=Q.T;Q.T=null;var f=ie.p;try{ie.p=8,wd(t,n,r,l)}finally{ie.p=f,Q.T=h}}function wd(t,n,r,l){if(Tc){var h=xd(l);if(h===null)hd(t,n,l,Ec,r),I0(t,l);else if(Cb(h,t,n,r,l))l.stopPropagation();else if(I0(t,l),n&4&&-1<Rb.indexOf(t)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-Tt(g);E.entanglements[1]|=N,g&=~N}Ci(f),(Ye&6)===0&&(ic=ln()+500,ro(0))}}break;case 31:case 13:E=Ca(f,2),E!==null&&_n(E,f,2),ac(),Ad(f,2)}if(f=xd(l),f===null&&hd(t,n,l,Ec,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(t,n,l,null,r)}}function xd(t){return t=Mn(t),Rd(t)}var Ec=null;function Rd(t){if(Ec=null,t=mi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ec=t,null}function N0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fa()){case pl:return 2;case gl:return 8;case ps:case Mh:return 32;case Wo:return 268435456;default:return 32}default:return 32}}var Cd=!1,qs=null,Hs=null,Gs=null,mo=new Map,po=new Map,Fs=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I0(t,n){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function go(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&R0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Cb(t,n,r,l,h){switch(n){case"focusin":return qs=go(qs,t,n,r,l,h),!0;case"dragenter":return Hs=go(Hs,t,n,r,l,h),!0;case"mouseover":return Gs=go(Gs,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return mo.set(f,go(mo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,po.set(f,go(po.get(f)||null,t,n,r,l,h)),!0}return!1}function D0(t){var n=mi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Kn(t.priority,function(){C0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,Kn(t.priority,function(){C0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=xd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Cl=l,r.target.dispatchEvent(l),Cl=null}else return n=Dn(r),n!==null&&R0(n),t.blockedOn=r,!1;n.shift()}return!0}function M0(t,n,r){bc(t)&&r.delete(n)}function Nb(){Cd=!1,qs!==null&&bc(qs)&&(qs=null),Hs!==null&&bc(Hs)&&(Hs=null),Gs!==null&&bc(Gs)&&(Gs=null),mo.forEach(M0),po.forEach(M0)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Nb)))}var Ac=null;function O0(t){Ac!==t&&(Ac=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Rd(l||r)===null)continue;break}var f=Dn(r);f!==null&&(t.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function qr(t){function n(N){return Sc(N,t)}qs!==null&&Sc(qs,t),Hs!==null&&Sc(Hs,t),Gs!==null&&Sc(Gs,t),mo.forEach(n),po.forEach(n);for(var r=0;r<Fs.length;r++){var l=Fs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fs.length&&(r=Fs[0],r.blockedOn===null);)D0(r),r.blockedOn===null&&Fs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Bt]||null;if(typeof f=="function")g||O0(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Bt]||null)E=g.formAction;else if(Rd(h)!==null)continue}else E=g.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),O0(r)}}}function V0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(t){this._internalRoot=t}wc.prototype.render=Nd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Nn();w0(r,l,t,n,null,null)},wc.prototype.unmount=Nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;w0(t.current,2,null,t,null,null),ac(),n[fi]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Fs.length&&n!==0&&n<Fs[r].priority;r++);Fs.splice(r,0,t),r===0&&D0(t)}};var k0=e.version;if(k0!=="19.2.3")throw Error(a(527,k0,"19.2.3"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Ib={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Fn=xc.inject(Ib),Qt=xc}catch{}}return _o.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=qg,f=Hg,g=Gg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S0(t,1,!1,null,null,r,l,null,h,f,g,V0),t[fi]=n.current,cd(t),new Nd(n)},_o.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=qg,g=Hg,E=Gg,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=S0(t,1,!0,n,r??null,l,h,N,f,g,E,V0),n.context=A0(null),r=n.current,l=Nn(),l=ga(l),h=Is(l),h.callback=null,Ds(r,h,l),r=l,n.current.lanes=r,ma(n,r),Ci(n),t[fi]=n.current,cd(t),new wc(n)},_o.version="19.2.3",_o}var F0;function Bb(){if(F0)return Md.exports;F0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Md.exports=Pb(),Md.exports}var qb=Bb();const Hb=Sv(qb),Gb=()=>{};var Q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Fb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let I=(p&15)<<2|_>>6,H=_&63;y||(H=64,d||(I=64)),a.push(i[b],i[A],i[I],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Av(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Fb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||A==null)throw new Qb;const I=c<<2|p>>4;if(a.push(I),_!==64){const H=p<<4&240|_>>2;if(a.push(H),A!==64){const G=_<<6&192|A;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Qb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kb=function(s){const e=Av(s);return wv.encodeByteArray(e,!0)},Fc=function(s){return Kb(s).replace(/\./g,"")},xv=function(s){try{return wv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=()=>Yb().__FIREBASE_DEFAULTS__,$b=()=>{if(typeof process>"u"||typeof Q0>"u")return;const s=Q0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Jb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&xv(s[1]);return e&&JSON.parse(e)},fh=()=>{try{return Gb()||Xb()||$b()||Jb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Rv=s=>{var e,i;return(i=(e=fh())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},Zb=s=>{const e=Rv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Cv=()=>{var s;return(s=fh())==null?void 0:s.config},Nv=s=>{var e;return(e=fh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Iv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const xo={};function t2(){const s={prod:[],emulator:[]};for(const e of Object.keys(xo))xo[e]?s.emulator.push(e):s.prod.push(e);return s}function n2(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let K0=!1;function Dv(s,e){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||xo[s]===e||xo[s]||K0)return;xo[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",c=t2().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,H){I.setAttribute("width","24"),I.setAttribute("id",H),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{K0=!0,d()},I}function b(I,H){I.setAttribute("id",H),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=n2(a),H=i("text"),G=document.getElementById(H)||document.createElement("span"),K=i("learnmore"),L=document.getElementById(K)||document.createElement("a"),Y=i("preprendIcon"),ne=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ae=I.element;p(ae),b(L,K);const De=_();y(ne,Y),ae.append(ne,G,L,De),document.body.appendChild(ae)}c?(G.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function s2(){var e;const s=(e=fh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function l2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o2(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function u2(){return!s2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c2(){try{return typeof indexedDB=="object"}catch{return!1}}function h2(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="FirebaseError";class ds extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=f2,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bo.prototype.create)}}class Bo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?d2(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ds(o,p,a)}}function d2(s,e){return s.replace(m2,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const m2=/\{\$([^}]+)}/g;function p2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ka(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(Y0(c)&&Y0(d)){if(!Ka(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Y0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function g2(s,e){const i=new y2(s,e);return i.subscribe.bind(i)}class y2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");_2(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _2(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(s){return s&&s._delegate?s._delegate:s}class Ya{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Wb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E2(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:T2(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T2(s){return s===Ba?void 0:s}function E2(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new v2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const S2={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},A2=Ue.INFO,w2={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},x2=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=w2[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=A2,this._logHandler=x2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const R2=(s,e)=>e.some(i=>s instanceof i);let X0,$0;function C2(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N2(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,$d=new WeakMap,Ov=new WeakMap,Ld=new WeakMap,Rm=new WeakMap;function I2(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ea(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Mv.set(i,s)}).catch(()=>{}),Rm.set(e,s),e}function D2(s){if($d.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});$d.set(s,e)}let Jd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return $d.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Ov.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ea(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function M2(s){Jd=s(Jd)}function O2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ud(this),e,...i);return Ov.set(a,e.sort?e.sort():[e]),ea(a)}:N2().includes(s)?function(...e){return s.apply(Ud(this),e),ea(Mv.get(this))}:function(...e){return ea(s.apply(Ud(this),e))}}function V2(s){return typeof s=="function"?O2(s):(s instanceof IDBTransaction&&D2(s),R2(s,C2())?new Proxy(s,Jd):s)}function ea(s){if(s instanceof IDBRequest)return I2(s);if(Ld.has(s))return Ld.get(s);const e=V2(s);return e!==s&&(Ld.set(s,e),Rm.set(e,s)),e}const Ud=s=>Rm.get(s);function k2(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=ea(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ea(d.result),y.oldVersion,y.newVersion,ea(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const j2=["get","getKey","getAll","getAllKeys","count"],L2=["put","add","delete","clear"],zd=new Map;function J0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=L2.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||j2.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return zd.set(e,c),c}M2(s=>({...s,get:(e,i,a)=>J0(e,i)||s.get(e,i,a),has:(e,i)=>!!J0(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(z2(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function z2(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zd="@firebase/app",Z0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new xm("@firebase/app"),P2="@firebase/app-compat",B2="@firebase/analytics-compat",q2="@firebase/analytics",H2="@firebase/app-check-compat",G2="@firebase/app-check",F2="@firebase/auth",Q2="@firebase/auth-compat",K2="@firebase/database",Y2="@firebase/data-connect",X2="@firebase/database-compat",$2="@firebase/functions",J2="@firebase/functions-compat",Z2="@firebase/installations",W2="@firebase/installations-compat",eS="@firebase/messaging",tS="@firebase/messaging-compat",nS="@firebase/performance",iS="@firebase/performance-compat",sS="@firebase/remote-config",aS="@firebase/remote-config-compat",rS="@firebase/storage",lS="@firebase/storage-compat",oS="@firebase/firestore",uS="@firebase/ai",cS="@firebase/firestore-compat",hS="firebase",fS="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="[DEFAULT]",dS={[Zd]:"fire-core",[P2]:"fire-core-compat",[q2]:"fire-analytics",[B2]:"fire-analytics-compat",[G2]:"fire-app-check",[H2]:"fire-app-check-compat",[F2]:"fire-auth",[Q2]:"fire-auth-compat",[K2]:"fire-rtdb",[Y2]:"fire-data-connect",[X2]:"fire-rtdb-compat",[$2]:"fire-fn",[J2]:"fire-fn-compat",[Z2]:"fire-iid",[W2]:"fire-iid-compat",[eS]:"fire-fcm",[tS]:"fire-fcm-compat",[nS]:"fire-perf",[iS]:"fire-perf-compat",[sS]:"fire-rc",[aS]:"fire-rc-compat",[rS]:"fire-gcs",[lS]:"fire-gcs-compat",[oS]:"fire-fst",[cS]:"fire-fst-compat",[uS]:"fire-vertex","fire-js":"fire-js",[hS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,mS=new Map,em=new Map;function W0(s,e){try{s.container.addComponent(e)}catch(i){us.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wr(s){const e=s.name;if(em.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,s);for(const i of Qc.values())W0(i,s);for(const i of mS.values())W0(i,s);return!0}function Cm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ii(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new Bo("app","Firebase",pS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=fS;function Vv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Wd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ta.create("bad-app-name",{appName:String(o)});if(i||(i=Cv()),!i)throw ta.create("no-options");const c=Qc.get(o);if(c){if(Ka(i,c.options)&&Ka(a,c.config))return c;throw ta.create("duplicate-app",{appName:o})}const d=new b2(o);for(const y of em.values())d.addComponent(y);const p=new gS(i,a,d);return Qc.set(o,p),p}function kv(s=Wd){const e=Qc.get(s);if(!e&&s===Wd&&Cv())return Vv();if(!e)throw ta.create("no-app",{appName:s});return e}function na(s,e,i){let a=dS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}Wr(new Ya(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firebase-heartbeat-database",_S=1,Oo="firebase-heartbeat-store";let Pd=null;function jv(){return Pd||(Pd=k2(yS,_S,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Oo)}catch(i){console.warn(i)}}}}).catch(s=>{throw ta.create("idb-open",{originalErrorMessage:s.message})})),Pd}async function vS(s){try{const i=(await jv()).transaction(Oo),a=await i.objectStore(Oo).get(Lv(s));return await i.done,a}catch(e){if(e instanceof ds)us.warn(e.message);else{const i=ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(i.message)}}}async function e_(s,e){try{const a=(await jv()).transaction(Oo,"readwrite");await a.objectStore(Oo).put(e,Lv(s)),await a.done}catch(i){if(i instanceof ds)us.warn(i.message);else{const a=ta.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});us.warn(a.message)}}}function Lv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=1024,ES=30;class bS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=t_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>ES){const d=wS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){us.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=t_(),{heartbeatsToSend:a,unsentEntries:o}=SS(this._heartbeatsCache.heartbeats),c=Fc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return us.warn(i),""}}}function t_(){return new Date().toISOString().substring(0,10)}function SS(s,e=TS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),n_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),n_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class AS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c2()?h2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function n_(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function wS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(s){Wr(new Ya("platform-logger",e=>new U2(e),"PRIVATE")),Wr(new Ya("heartbeat",e=>new bS(e),"PRIVATE")),na(Zd,Z0,s),na(Zd,Z0,"esm2020"),na("fire-js","")}xS("");var i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ia,Uv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,D,k){for(var x=Array(arguments.length-2),et=2;et<arguments.length;et++)x[et-2]=arguments[et];return w.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],D=C.g[2];let k=C.g[3],x;x=w+(k^R&(D^k))+V[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(D^w&(R^D))+V[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(R^k&(w^R))+V[2]+606105819&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(w^D&(k^w))+V[3]+3250441966&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(k^R&(D^k))+V[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(D^w&(R^D))+V[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(R^k&(w^R))+V[6]+2821735955&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(w^D&(k^w))+V[7]+4249261313&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(k^R&(D^k))+V[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(D^w&(R^D))+V[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(R^k&(w^R))+V[10]+4294925233&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(w^D&(k^w))+V[11]+2304563134&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(k^R&(D^k))+V[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(D^w&(R^D))+V[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(R^k&(w^R))+V[14]+2792965006&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(w^D&(k^w))+V[15]+1236535329&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(D^k&(R^D))+V[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(w^R))+V[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(k^w))+V[11]+643717713&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(D^k))+V[0]+3921069994&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(R^D))+V[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(w^R))+V[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(k^w))+V[15]+3634488961&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(D^k))+V[4]+3889429448&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(R^D))+V[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(w^R))+V[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(k^w))+V[3]+4107603335&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(D^k))+V[8]+1163531501&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(R^D))+V[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(w^R))+V[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(k^w))+V[7]+1735328473&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(D^k))+V[12]+2368359562&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(R^D^k)+V[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^D)+V[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^R)+V[11]+1839030562&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^w)+V[14]+4259657740&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^k)+V[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^D)+V[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^R)+V[7]+4139469664&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^w)+V[10]+3200236656&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^k)+V[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^D)+V[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^R)+V[3]+3572445317&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^w)+V[6]+76029189&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^k)+V[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^D)+V[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^R)+V[15]+530742520&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^w)+V[2]+3299628645&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(D^(R|~k))+V[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~D))+V[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~R))+V[14]+2878612391&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~w))+V[5]+4237533241&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~k))+V[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~D))+V[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~R))+V[10]+4293915773&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~w))+V[1]+2240044497&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~k))+V[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~D))+V[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~R))+V[6]+2734768916&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~w))+V[13]+1309151649&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~k))+V[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~D))+V[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~R))+V[2]+718787259&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=R;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<w;)if(V[D++]=C.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<w;)if(V[D++]=C[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[w++]=this.g[R]>>>V&255;return C};function c(C,w){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function d(C,w){this.h=w;const R=[];let V=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;V&&k==w||(R[D]=k,V=!1)}this.g=R}var p={};function y(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return L(_(-C));const w=[];let R=1;for(let V=0;C>=R;V++)w[V]=C/R|0,R*=4294967296;return new d(w,0)}function b(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return L(b(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(w,8));let V=A;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const x=parseInt(C.substring(k,k+D),w);D<8?(D=_(Math.pow(w,D)),V=V.j(D).add(_(x))):(V=V.j(R),V=V.add(_(x)))}return V}var A=y(0),I=y(1),H=y(16777216);s=d.prototype,s.m=function(){if(K(this))return-L(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(K(this))return"-"+L(this).toString(C);const w=_(Math.pow(C,6));var R=this;let V="";for(;;){const D=De(R,w).g;R=Y(R,D.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,G(R))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function K(C){return C.h==-1}s.l=function(C){return C=Y(this,C),K(C)?-1:G(C)?0:1};function L(C){const w=C.g.length,R=[];for(let V=0;V<w;V++)R[V]=~C.g[V];return new d(R,~C.h).add(I)}s.abs=function(){return K(this)?L(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let D=0;D<=w;D++){let k=V+(this.i(D)&65535)+(C.i(D)&65535),x=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=x>>>16,k&=65535,x&=65535,R[D]=x<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Y(C,w){return C.add(L(w))}s.j=function(C){if(G(this)||G(C))return A;if(K(this))return K(C)?L(this).j(L(C)):L(L(this).j(C));if(K(C))return L(this.j(L(C)));if(this.l(H)<0&&C.l(H)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const k=this.i(V)>>>16,x=this.i(V)&65535,et=C.i(D)>>>16,dt=C.i(D)&65535;R[2*V+2*D]+=x*dt,ne(R,2*V+2*D),R[2*V+2*D+1]+=k*dt,ne(R,2*V+2*D+1),R[2*V+2*D+1]+=x*et,ne(R,2*V+2*D+1),R[2*V+2*D+2]+=k*et,ne(R,2*V+2*D+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new d(R,0)};function ne(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ae(C,w){this.g=C,this.h=w}function De(C,w){if(G(w))throw Error("division by zero");if(G(C))return new ae(A,A);if(K(C))return w=De(L(C),w),new ae(L(w.g),L(w.h));if(K(w))return w=De(C,L(w)),new ae(L(w.g),w.h);if(C.g.length>30){if(K(C)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var R=I,V=w;V.l(C)<=0;)R=Ee(R),V=Ee(V);var D=he(R,1),k=he(V,1);for(V=he(V,2),R=he(R,2);!G(V);){var x=k.add(V);x.l(C)<=0&&(D=D.add(R),k=x),V=he(V,1),R=he(R,1)}return w=Y(C,D.j(w)),new ae(D,w)}for(D=A;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(R),x=k.j(w);K(x)||x.l(C)>0;)R-=V,k=_(R),x=k.j(w);G(k)&&(k=I),D=D.add(k),C=Y(C,x)}return new ae(D,C)}s.B=function(C){return De(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&C.i(V);return new d(R,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|C.i(V);return new d(R,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^C.i(V);return new d(R,this.h^C.h)};function Ee(C){const w=C.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(R,C.h)}function he(C,w){const R=w>>5;w%=32;const V=C.g.length-R,D=[];for(let k=0;k<V;k++)D[k]=w>0?C.i(k+R)>>>w|C.i(k+R+1)<<32-w:C.i(k+R);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Uv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,ia=d}).apply(typeof i_<"u"?i_:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zv,bo,Pv,Oc,tm,Bv,qv,Hv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,U,q){for(var te=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)te[Ce-2]=arguments[Ce];return m.prototype[U].apply(S,te)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function G(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let te=0;te<q;te++)u[v+te]=U[te]}else u.push(U)}}class K{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function L(u){d.setTimeout(()=>{throw u},0)}function Y(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ne{constructor(){this.h=this.g=null}add(m,v){const S=ae.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new K(()=>new De,u=>u.reset());class De{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,he=!1,C=new ne,w=()=>{const u=Promise.resolve(void 0);Ee=()=>{u.then(R)}};function R(){for(var u;u=Y();){try{u.h.call(u.g)}catch(v){L(v)}var m=ae;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}he=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function et(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(et,D),et.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&et.Z.h.call(this)},et.prototype.h=function(){et.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ie(u,m,v,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++Q,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Be(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,S,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const te=we(u,m,S,U);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ie(m,this.src,q,!!S,U),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function we(u,m,v,S){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return U}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),_t={};function rt(u,m,v,S,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)rt(u,m[q],v,S,U);return null}return v=hn(v),u&&u[dt]?u.J(m,v,p(S)?!!S.capture:!1,U):zi(u,m,v,!1,S,U)}function zi(u,m,v,S,U,q){if(!m)throw Error("Invalid event type");const te=p(U)?!!U.capture:!!U;let Ce=Xe(u);if(Ce||(u[ke]=Ce=new re(u)),v=Ce.add(m,v,S,te,q),v.proxy)return v;if(S=ye(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)k||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(wt(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ye(){function u(v){return m.call(u.src,u.listener,v)}const m=cn;return u}function de(u,m,v,S,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)de(u,m[q],v,S,U);else S=p(S)?!!S.capture:!!S,v=hn(v),u&&u[dt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=we(m,v,S,U),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Xe(u))&&(m=u.g[m.toString()],u=-1,m&&(u=we(m,v,S,U)),(v=u>-1?m[u]:null)&&xe(v))}function xe(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[dt])ve(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(wt(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Xe(m))?(ve(v,u),v.h==0&&(v.src=null,m[ke]=null)):fe(u)}}}function wt(u){return u in _t?_t[u]:_t[u]="on"+u}function cn(u,m){if(u.da)u=!0;else{m=new et(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&xe(u),u=v.call(S,m)}return u}function Xe(u){return u=u[ke],u instanceof re?u:null}var vt="__closure_events_fn_"+(Math.random()*1e9>>>0);function hn(u){return typeof u=="function"?u:(u[vt]||(u[vt]=function(m){return u.handleEvent(m)}),u[vt])}function mt(){V.call(this),this.i=new re(this),this.M=this,this.G=null}A(mt,V),mt.prototype[dt]=!0,mt.prototype.removeEventListener=function(u,m,v,S){de(this,u,m,v,S)};function jt(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(S,u),se(m,U)}U=!0;let q,te;if(v)for(te=v.length-1;te>=0;te--)q=m.g=v[te],U=ms(q,S,!0,m)&&U;if(q=m.g=u,U=ms(q,S,!0,m)&&U,U=ms(q,S,!1,m)&&U,v)for(te=0;te<v.length;te++)q=m.g=v[te],U=ms(q,S,!1,m)&&U}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)fe(v[S]);delete u.g[m],u.h--}}this.G=null},mt.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},mt.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function ms(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==v){const Ce=te.listener,Et=te.ha||te.src;te.fa&&ve(u.i,te),U=Ce.call(Et,S)!==!1&&U}}return U&&!S.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zo(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,Zo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(u){V.call(this),this.h=u,this.g={}}A(fa,V);var pl=[];function gl(u){Be(u.g,function(m,v){this.g.hasOwnProperty(v)&&xe(m)},u),u.g={}}fa.prototype.N=function(){fa.Z.N.call(this),gl(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=d.JSON.stringify,Mh=d.JSON.parse,Wo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function tu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){D.call(this,"d")}A(Qt,D);function In(){D.call(this,"c")}A(In,D);var Tt={},nu=null;function nr(){return nu=nu||new mt}Tt.Ia="serverreachability";function iu(u){D.call(this,Tt.Ia,u)}A(iu,D);function oi(u){const m=nr();jt(m,new iu(m))}Tt.STAT_EVENT="statevent";function da(u,m){D.call(this,Tt.STAT_EVENT,u),this.stat=m}A(da,D);function xt(u){const m=nr();jt(m,new da(m,u))}Tt.Ja="timingevent";function ui(u,m){D.call(this,Tt.Ja,u),this.size=m}A(ui,D);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,S,U,q){u.info(function(){if(u.g)if(q){var te="",Ce=q.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var Et=Ce[Ke].split("=");if(Et.length>1){const ht=Et[0];Et=Et[1];const Vn=ht.split("_");te=Vn.length>=2&&Vn[1]=="type"?te+(ht+"="+Et+"&"):te+(ht+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function su(u,m,v,S,U,q,te){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+te})}function hi(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(S?" "+S:"")})}function ma(u,m){u.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<S.length;te++)S[te]=""}}}}return ps(q)}catch{return m}}var pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function ga(){}A(ga,eu),ga.prototype.g=function(){return new XMLHttpRequest},_l=new ga;function Pi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Kn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new fa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Rt={},Bt={};function fi(u,m,v){u.M=1,u.A=ya(Nt(m)),u.u=v,u.R=!0,ir(u,null)}function ir(u,m){u.F=Date.now(),di(u),u.B=Nt(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),lr(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Yn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ln(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(pl[0]=U.toString()),U=pl);for(let q=0;q<U.length;q++){const te=rt(v,U[q],S||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=Jn(this.g),Et=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||Et==7||(Et==8||Ke<=0?oi(3):oi(2)),mi(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var q=S;break t}}q=null}if(u=q)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,xt(12),En(this),Dn(this);break e}}if(this.R){u=!0;let ht;for(;!this.K&&this.C<v.length;)if(ht=lu(this,v),ht==Bt){Ce==4&&(this.m=4,xt(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Rt){this.m=4,xt(15),hi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,ht,null),pi(this,ht);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,xt(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,v,"[Invalid Chunked Response]"),En(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ol(te),te.P=!0,xt(11))}}else hi(this.i,this.l,v,null),pi(this,v);Ce==4&&En(this),this.o&&!this.K&&(Ce==4?gu(this.j,this):(this.o=!1,di(this)))}else qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),En(this),Dn(this)}}}catch{}finally{}};function kh(u){if(!ru(u))return u.g.la();const m=Kt(u.g);if(m==="")return"";let v="";const S=m.length,U=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Bt:(v=Number(m.substring(v,S)),isNaN(v)?Rt:(S+=1,S+v>m.length?Bt:(m=m.slice(S,S+v),u.C=S+v,m)))}Kn.prototype.cancel=function(){this.K=!0,En(this)};function di(u){u.T=Date.now()+u.H,sr(u,u.H)}function sr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(_(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ma(this.i,this.B),this.M!=2&&(oi(),xt(17)),En(this),this.m=2,Dn(this)):sr(this,this.T-u)};function Dn(u){u.j.I==0||u.K||gu(u.j,u)}function En(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,gl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||yi(v.h,u))){if(!u.L&&yi(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fr(v),Ss(v);else break e;Aa(v),xt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(_(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((u.L||v.g==u)&&fr(v),!x(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ke=U[m];const ht=Ke[0];if(!(ht<=v.K))if(v.K=ht,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const Vn=Ke[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ai=Ke[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Zn=Ke[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(S=1.5*Zn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Wn=u.g;if(Wn){const wa=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var q=S.h;q.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(El(q,q.h),q.h=null))}if(S.G){const dr=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;dr&&(S.wa=dr,Je(S.J,S.G,dr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var te=u;if(S.na=vu(S,S.L?S.ba:null,S.W),te.L){bl(S.h,te);var Ce=te,Et=S.O;Et&&(Ce.H=Et),Ce.D&&(mi(Ce),di(Ce)),S.g=te}else mu(S);v.i.length>0&&bi(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Si(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Si(v,7):Dl(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}oi(4)}catch{}}var Ct=class{constructor(u,m){this.g=u,this.map=m}};function vl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function El(u,m){u.g?u.g.add(m):u.h=m}function bl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vl.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Sl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ar(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let U,q=null;S>=0?(U=u[v].substring(0,S),q=u[v].substring(S+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,qt(this,u.j),this.o=u.o,this.g=u.g,gs(this,u.u),this.h=u.h,Al(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,qt(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),gs(this,m[4]),this.h=_i(m[5]||"",!0),Al(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(_a(m,rr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_a(m,rr,!0),"@"),u.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(_a(v,v.charAt(0)=="/"?wl:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",_a(v,cu)),u.join("")},bn.prototype.resolve=function(u){const m=Nt(this);let v=!!u.j;v?qt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)gs(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let te=0;te<U.length;){const Ce=U[te++];Ce=="."?S&&te==U.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&te==U.length&&q.push("")):(q.push(Ce),S=!0)}S=q.join("/")}else S=U}return v?m.h=S:v=u.i.toString()!=="",v?Al(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Nt(u){return new bn(u)}function qt(u,m,v){u.j=v?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function gs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Al(u,m,v){m instanceof _s?(u.i=m,or(u.i,u.l)):(v||(m=_a(m,ys)),u.i=new _s(m,u.l))}function Je(u,m,v){u.i.set(m,v)}function ya(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _a(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rr=/[#\/\?@]/g,uu=/[#\?:]/g,wl=/[#\?]/g,ys=/[#\?@]/g,cu=/#/g;function _s(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&ar(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=_s.prototype,s.add=function(u,m){dn(this),this.i=null,u=vs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){dn(u),m=vs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xl(u,m){return dn(u),m=vs(u,m),u.g.has(m)}s.forEach=function(u,m){dn(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(m,U,S,this)},this)},this)};function Rl(u,m){dn(u);let v=[];if(typeof m=="string")xl(u,m)&&(v=v.concat(u.g.get(vs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return dn(this),this.i=null,u=vs(this,u),xl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Rl(this,u),u.length>0?String(u[0]):m):m};function lr(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(vs(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const U=Pi(v);v=Rl(this,v);for(let q=0;q<v.length;q++){let te=U;v[q]!==""&&(te+="="+Pi(v[q])),u.push(te)}}return this.i=u.join("&")};function fu(u){const m=new _s;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function vs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function or(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(hu(this,S),lr(this,U,v))},u)),u.j=m}function Xn(u,m){const v=new Qn;if(d.Image){const S=new Image;S.onload=b(Mn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=b(Mn,v,"TestLoadImage: error",!1,m,S),S.onabort=b(Mn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=b(Mn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Cl(u,m){const v=new Qn,S=new AbortController,U=setTimeout(()=>{S.abort(),Mn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?Mn(v,"TestPingServer: ok",!0,m):Mn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Mn(v,"TestPingServer: error",!1,m)})}function Mn(u,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Ts(){this.g=new Wo}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(vi,eu),vi.prototype.g=function(){return new va(this.i,this.h)};function va(u,m){mt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(va,mt),s=va.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ur(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ur(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Es(this):$n(this),this.readyState==3&&ur(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Es(this))},s.Na=function(u){this.g&&(this.response=u,Es(this))},s.ga=function(){this.g&&Es(this)};function Es(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return Be(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Ta(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=On(v),typeof u=="string"?v!=null&&Pi(v):Je(u,m,v))}function tt(u){mt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(tt,mt);var Ti=/^https?$/i,Nl=["POST","PUT"];s=tt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ea(this,q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Nl,m,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of v)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ea(this,q)}};function Ea(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Il(u),Bi(u)}function Il(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,jt(this,"complete"),jt(this,"abort"),Bi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),tt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ba(this):this.Xa())},s.Xa=function(){ba(this)};function ba(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(jt(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let te=String(u.D).match(ou)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),S=!Ti.test(te?te.toLowerCase():"")}v=S}if(v)jt(u,"complete"),jt(u,"success");else{u.o=6;try{var U=Jn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Il(u)}}finally{Bi(u)}}}}function Bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||jt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var v=au(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Qe(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function bs(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(u&&u.concurrentRequestLimit),this.Ba=new Ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){xt(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=vu(this,null,this.W),bi(this)};function Dl(u){if(cr(u),u.I==3){var m=u.V++,v=Nt(u.J);if(Je(v,"SID",u.M),Je(v,"RID",m),Je(v,"TYPE","terminate"),Sa(u,v),m=new Kn(u,u.j,m),m.M=2,m.A=ya(Nt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}_u(u)}function Ss(u){u.g&&(Ol(u),u.g.cancel(),u.g=null)}function cr(u){Ss(u),u.v&&(d.clearTimeout(u.v),u.v=null),fr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function bi(u){if(!Tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ee||w(),he||(Ee(),he=!0),C.add(m,u),u.D=0}}function hr(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(_(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Kn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=du(this,U,m),v=Nt(this.J),Je(v,"RID",u),Je(v,"CVER",22),this.G&&Je(v,"X-HTTP-Session-Id",this.G),Sa(this,v),q&&(this.R?m="headers="+Pi(On(q))+"&"+m:this.u&&Ta(v,this.u,q)),El(this.h,U),this.Ra&&Je(v,"TYPE","init"),this.S?(Je(v,"$req",m),Je(v,"SID","null"),U.U=!0,fi(U,v,null)):fi(U,v,m),this.I=2}}else this.I==3&&(u?Ml(this,u):this.i.length==0||Tl(this.h)||Ml(this))};function Ml(u,m){var v;m?v=m.l:v=u.V++;const S=Nt(u.J);Je(S,"SID",u.M),Je(S,"RID",v),Je(S,"AID",u.K),Sa(u,S),u.u&&u.o&&Ta(S,u.u,u.o),v=new Kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),El(u.h,v),fi(v,S,m)}function Sa(u,m){u.H&&Be(u.H,function(v,S){Je(m,S,v)}),u.l&&Be({},function(v,S){Je(m,S,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ce=-1;for(;;){const Et=["count="+v];Ce==-1?v>0?(Ce=U[0].g,Et.push("ofs="+Ce)):Ce=0:Et.push("ofs="+Ce);let Ke=!0;for(let ht=0;ht<v;ht++){var q=U[ht].g;const Vn=U[ht].map;if(q-=Ce,q<0)Ce=Math.max(0,U[ht].g-100),Ke=!1;else try{q="req"+q+"_"||"";try{var te=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ai,Zn]of te){let Wn=Zn;p(Zn)&&(Wn=ps(Zn)),Et.push(q+Ai+"="+encodeURIComponent(Wn))}}catch(Ai){throw Et.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{S&&S(Vn)}}if(Ke){te=Et.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ee||w(),he||(Ee(),he=!0),C.add(m,u),u.A=0}}function Aa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(_(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Ss(this),pu(this))};function Ol(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Nt(u.na);Je(m,"RID","rpc"),Je(m,"SID",u.M),Je(m,"AID",u.K),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(m,"TO",u.ia),Je(m,"TYPE","xmlhttp"),Sa(u,m),u.u&&u.o&&Ta(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ya(Nt(m)),v.u=null,v.R=!0,ir(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ss(this),Aa(this),xt(19))};function fr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){fr(u),Ol(u),u.g=null;var S=2}else if(yi(u.h,m))v=m.G,bl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=nr(),jt(S,new ui(S,v)),bi(u)}else mu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&hr(u,m)||S==2&&Aa(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const U=!S;S=new bn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qt(S,"https"),ya(S),U?Xn(S.toString(),v):Cl(S.toString(),v)}else xt(2);u.I=0,u.l&&u.l.pa(m),_u(u),cr(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Sl(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var S=v instanceof bn?Nt(v):new bn(v);if(S.g!="")m&&(S.g=m+"."+S.g),gs(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new bn(null);S&&qt(q,S),m&&(q.g=m),U&&gs(q,U),v&&(q.h=v),S=q}return v=u.G,m=u.wa,v&&m&&Je(S,v,m),Je(S,"VER",u.ka),Sa(u,S),S}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new tt(new vi({ab:v})):new tt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function As(){}As.prototype.g=function(u,m){return new on(u,m)};function on(u,m){mt.call(this),this.g=new bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Hi(this)}A(on,mt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Dl(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ps(u),u=v);m.i.push(new Ct(m.Ya++,u)),m.I==3&&bi(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,on.Z.N.call(this)};function bu(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(bu,Qt);function Su(){In.call(this),this.status=1}A(Su,In);function Hi(u){this.g=u}A(Hi,Eu),Hi.prototype.ra=function(){jt(this.g,"a")},Hi.prototype.qa=function(u){jt(this.g,new bu(u))},Hi.prototype.pa=function(u){jt(this.g,new Su)},Hi.prototype.oa=function(){jt(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Hv=function(){return new As},qv=function(){return nr()},Bv=Tt,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,Oc=pa,yl.COMPLETE="complete",Pv=yl,tu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",mt.prototype.listen=mt.prototype.J,bo=tu,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,zv=tt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.8.0";function RS(s){cl=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new xm("@firebase/firestore");function Hr(){return Xa.logLevel}function le(s,...e){if(Xa.logLevel<=Ue.DEBUG){const i=e.map(Nm);Xa.debug(`Firestore (${cl}): ${s}`,...i)}}function cs(s,...e){if(Xa.logLevel<=Ue.ERROR){const i=e.map(Nm);Xa.error(`Firestore (${cl}): ${s}`,...i)}}function el(s,...e){if(Xa.logLevel<=Ue.WARN){const i=e.map(Nm);Xa.warn(`Firestore (${cl}): ${s}`,...i)}}function Nm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Gv(s,a,i)}function Gv(s,e,i){let a=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw cs(a),new Error(a)}function $e(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Gv(e,o,a)}function Ae(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class NS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class IS{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$e(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new sa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new sa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string",31837,{l:a}),new Fv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class DS{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class MS{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new DS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$e(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($e(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new s_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=VS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function ze(s,e){return s<e?-1:s>e?1:0}function nm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Bd(o)===Bd(c)?ze(o,c):Bd(o)?1:-1}return ze(s.length,e.length)}const kS=55296,jS=57343;function Bd(s){const e=s.charCodeAt(0);return e>=kS&&e<=jS}function tl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class Ni{constructor(e,i,a){i===void 0?i=0:i>e.length&&_e(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&_e(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ni.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ze(e.length,i.length)}static compareSegments(e,i){const a=Ni.isNumericId(e),o=Ni.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(i)):nm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ia.fromString(e.substring(4,e.length-2))}}class ut extends Ni{construct(e,i,a){return new ut(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ut(i)}static emptyPath(){return new ut([])}}const LS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ni{construct(e,i,a){return new Wt(e,i,a)}static isValidIdentifier(e){return LS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new Wt([a_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(i)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ut.fromString(e))}static fromName(e){return new pe(ut.fromString(e).popFirst(5))}static empty(){return new pe(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ut.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(s,e,i){if(!i)throw new ce(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function US(s,e,i,a){if(e===!0&&a===!0)throw new ce(ee.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function r_(s){if(!pe.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function l_(s){if(pe.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Kv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function os(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(s);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Ho(s,e){if(!Kv(s))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce(ee.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-62135596800,u_=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*u_);return new ct(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<o_)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ho(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:kt("string",ct._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ct(0,0))}static max(){return new be(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=-1;function zS(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new ct(i+1,0):new ct(i,a));return new ra(o,pe.empty(),e)}function PS(s){return new ra(s.readTime,s.key,Vo)}class ra{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ra(be.min(),pe.empty(),Vo)}static max(){return new ra(be.max(),pe.empty(),Vo)}}function BS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:ze(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==qS)throw s;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,a)=>{i(e)}))}static reject(e){return new W(((i,a)=>{a(e)}))}static waitFor(e){return new W(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=W.resolve(!1);for(const a of e)i=i.next((o=>o?W.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new W(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new W(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function GS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=-1;function mh(s){return s==null}function Kc(s){return s===0&&1/s==-1/0}function FS(s){return typeof s=="number"&&Number.isInteger(s)&&!Kc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="";function QS(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=c_(e)),e=KS(s.get(i),e);return c_(e)}function KS(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Yv:i+="";break;default:i+=c}}return i}function c_(s){return s+Yv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Za(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Xv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,i){this.comparator=e,this.root=i||Zt.EMPTY}insert(e,i){return new pt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Zt.RED,this.left=o??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Zt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Zt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new f_(this.data.getIterator())}getIteratorFrom(e){return new f_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Pt(this.comparator);return i.data=e,i}}class f_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new si([])}unionWith(e){let i=new Pt(Wt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new si(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $v("Invalid base64 string: "+c):c}})(e);return new en(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new en(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const YS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(s){if($e(!!s,39018),typeof s=="string"){let e=0;const i=YS.exec(s);if($e(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:At(s.seconds),nanos:At(s.nanos)}}function At(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function oa(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="server_timestamp",Zv="__type__",Wv="__previous_value__",e1="__local_write_time__";function Om(s){var i,a;return((a=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Zv])==null?void 0:a.stringValue)===Jv}function ph(s){const e=s.mapValue.fields[Wv];return Om(e)?ph(e):e}function ko(s){const e=la(s.mapValue.fields[e1].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,i,a,o,c,d,p,y,_,b,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=A}}const Yc="(default)";class jo{constructor(e,i){this.projectId=e,this.database=i||Yc}static empty(){return new jo("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(e){return e instanceof jo&&e.projectId===this.projectId&&e.database===this.database}}function $S(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jo(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="__type__",JS="__max__",Nc={mapValue:{}},n1="__vector__",Xc="value";function ua(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Om(s)?4:WS(s)?9007199254740991:ZS(s)?10:11:_e(28295,{value:s})}function ji(s,e){if(s===e)return!0;const i=ua(s);if(i!==ua(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ko(s).isEqual(ko(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=la(o.timestampValue),p=la(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return oa(o.bytesValue).isEqual(oa(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return At(o.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return At(o.integerValue)===At(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=At(o.doubleValue),p=At(c.doubleValue);return d===p?Kc(d)===Kc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return tl(s.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(h_(d)!==h_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ji(d[y],p[y])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Lo(s,e){return(s.values||[]).find((i=>ji(i,e)))!==void 0}function nl(s,e){if(s===e)return 0;const i=ua(s),a=ua(e);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=At(c.integerValue||c.doubleValue),y=At(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return d_(s.timestampValue,e.timestampValue);case 4:return d_(ko(s),ko(e));case 5:return nm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=oa(c),y=oa(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=ze(p[_],y[_]);if(b!==0)return b}return ze(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ze(At(c.latitude),At(d.latitude));return p!==0?p:ze(At(c.longitude),At(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return m_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){var I,H,G,K;const p=c.fields||{},y=d.fields||{},_=(I=p[Xc])==null?void 0:I.arrayValue,b=(H=y[Xc])==null?void 0:H.arrayValue,A=ze(((G=_==null?void 0:_.values)==null?void 0:G.length)||0,((K=b==null?void 0:b.values)==null?void 0:K.length)||0);return A!==0?A:m_(_,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const I=nm(y[A],b[A]);if(I!==0)return I;const H=nl(p[y[A]],_[b[A]]);if(H!==0)return H}return ze(y.length,b.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:i})}}function d_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const i=la(s),a=la(e),o=ze(i.seconds,a.seconds);return o!==0?o:ze(i.nanos,a.nanos)}function m_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=nl(i[o],a[o]);if(c)return c}return ze(i.length,a.length)}function il(s){return im(s)}function im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=la(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return oa(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=im(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${im(i.fields[d])}`;return o+"}"})(s.mapValue):_e(61005,{value:s})}function Vc(s){switch(ua(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(s);return e?16+Vc(e):16;case 5:return 2*s.stringValue.length;case 6:return oa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Vc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Za(a.fields,((c,d)=>{o+=c.length+Vc(d)})),o})(s.mapValue);default:throw _e(13486,{value:s})}}function sm(s){return!!s&&"integerValue"in s}function Vm(s){return!!s&&"arrayValue"in s}function p_(s){return!!s&&"nullValue"in s}function g_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function kc(s){return!!s&&"mapValue"in s}function ZS(s){var i,a;return((a=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[t1])==null?void 0:a.stringValue)===n1}function Ro(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Za(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ro(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ro(s.arrayValue.values[i]);return e}return{...s}}function WS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===JS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ro(i)}setAll(e){let i=Wt.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Ro(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Za(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Hn(Ro(this.value))}}function i1(s){const e=[];return Za(s.fields,((i,a)=>{const o=new Wt([i]);if(kc(a)){const c=i1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new an(e,0,be.min(),be.min(),be.min(),Hn.empty(),0)}static newFoundDocument(e,i,a,o){return new an(e,1,i,be.min(),a,o,0)}static newNoDocument(e,i){return new an(e,2,i,be.min(),be.min(),Hn.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,be.min(),be.min(),Hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,i){this.position=e,this.inclusive=i}}function y_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=nl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function __(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ji(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,i="asc"){this.field=e,this.dir=i}}function eA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{}class Ut extends s1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new nA(e,i,a):i==="array-contains"?new aA(e,a):i==="in"?new rA(e,a):i==="not-in"?new lA(e,a):i==="array-contains-any"?new oA(e,a):new Ut(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new iA(e,a):new sA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(nl(i,this.value)):i!==null&&ua(this.value)===ua(i)&&this.matchesComparison(nl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends s1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Li(e,i)}matches(e){return a1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function a1(s){return s.op==="and"}function r1(s){return tA(s)&&a1(s)}function tA(s){for(const e of s.filters)if(e instanceof Li)return!1;return!0}function am(s){if(s instanceof Ut)return s.field.canonicalString()+s.op.toString()+il(s.value);if(r1(s))return s.filters.map((e=>am(e))).join(",");{const e=s.filters.map((i=>am(i))).join(",");return`${s.op}(${e})`}}function l1(s,e){return s instanceof Ut?(function(a,o){return o instanceof Ut&&a.op===o.op&&a.field.isEqual(o.field)&&ji(a.value,o.value)})(s,e):s instanceof Li?(function(a,o){return o instanceof Li&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&l1(d,o.filters[p])),!0):!1})(s,e):void _e(19439)}function o1(s){return s instanceof Ut?(function(i){return`${i.field.canonicalString()} ${i.op} ${il(i.value)}`})(s):s instanceof Li?(function(i){return i.op.toString()+" {"+i.getFilters().map(o1).join(" ,")+"}"})(s):"Filter"}class nA extends Ut{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class iA extends Ut{constructor(e,i){super(e,"in",i),this.keys=u1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class sA extends Ut{constructor(e,i){super(e,"not-in",i),this.keys=u1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function u1(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((a=>pe.fromName(a.referenceValue)))}class aA extends Ut{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Vm(i)&&Lo(i.arrayValue,this.value)}}class rA extends Ut{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Lo(this.value.arrayValue,i)}}class lA extends Ut{constructor(e,i){super(e,"not-in",i)}matches(e){if(Lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Lo(this.value.arrayValue,i)}}class oA extends Ut{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Lo(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function v_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new uA(s,e,i,a,o,c,d)}function km(s){const e=Ae(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>am(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>il(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>il(a))).join(",")),e.Te=i}return e.Te}function jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!eA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!l1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!__(s.startAt,e.startAt)&&__(s.endAt,e.endAt)}function rm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function cA(s,e,i,a,o,c,d,p){return new gh(s,e,i,a,o,c,d,p)}function Lm(s){return new gh(s)}function T_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hA(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function fA(s){return s.collectionGroup!==null}function Co(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Pt(Wt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Jc(c,a))})),i.has(Wt.keyField().canonicalString())||e.Ie.push(new Jc(Wt.keyField(),a))}return e.Ie}function Di(s){const e=Ae(s);return e.Ee||(e.Ee=dA(e,Co(s))),e.Ee}function dA(s,e){if(s.limitType==="F")return v_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Jc(o.field,c)}));const i=s.endAt?new $c(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new $c(s.startAt.position,s.startAt.inclusive):null;return v_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function lm(s,e,i){return new gh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function yh(s,e){return jm(Di(s),Di(e))&&s.limitType===e.limitType}function c1(s){return`${km(Di(s))}|lt:${s.limitType}`}function Gr(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>o1(o))).join(", ")}]`),mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>il(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>il(o))).join(",")),`Target(${a})`})(Di(s))}; limitType=${s.limitType})`}function _h(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Co(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=y_(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Co(a),o)||a.endAt&&!(function(d,p,y){const _=y_(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Co(a),o))})(s,e)}function mA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function h1(s){return(e,i)=>{let a=!1;for(const o of Co(s)){const c=pA(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function pA(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?nl(y,_):_e(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return Xv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new pt(pe.comparator);function hs(){return gA}const f1=new pt(pe.comparator);function So(...s){let e=f1;for(const i of s)e=e.insert(i.key,i);return e}function d1(s){let e=f1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function qa(){return No()}function m1(){return No()}function No(){return new Wa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const yA=new pt(pe.comparator),_A=new Pt(pe.comparator);function Pe(...s){let e=_A;for(const i of s)e=e.add(i);return e}const vA=new Pt(ze);function TA(){return vA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function p1(s){return{integerValue:""+s}}function EA(s,e){return FS(e)?p1(e):Um(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function bA(s,e,i){return s instanceof Zc?(function(o,c){const d={fields:{[Zv]:{stringValue:Jv},[e1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Om(c)&&(c=ph(c)),c&&(d.fields[Wv]=c),{mapValue:d}})(i,e):s instanceof Uo?y1(s,e):s instanceof zo?_1(s,e):(function(o,c){const d=g1(o,c),p=E_(d)+E_(o.Ae);return sm(d)&&sm(o.Ae)?p1(p):Um(o.serializer,p)})(s,e)}function SA(s,e,i){return s instanceof Uo?y1(s,e):s instanceof zo?_1(s,e):i}function g1(s,e){return s instanceof Wc?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Zc extends vh{}class Uo extends vh{constructor(e){super(),this.elements=e}}function y1(s,e){const i=v1(e);for(const a of s.elements)i.some((o=>ji(o,a)))||i.push(a);return{arrayValue:{values:i}}}class zo extends vh{constructor(e){super(),this.elements=e}}function _1(s,e){let i=v1(e);for(const a of s.elements)i=i.filter((o=>!ji(o,a)));return{arrayValue:{values:i}}}class Wc extends vh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function E_(s){return At(s.integerValue||s.doubleValue)}function v1(s){return Vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function AA(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Uo&&o instanceof Uo||a instanceof zo&&o instanceof zo?tl(a.elements,o.elements,ji):a instanceof Wc&&o instanceof Wc?ji(a.Ae,o.Ae):a instanceof Zc&&o instanceof Zc})(s.transform,e.transform)}class wA{constructor(e,i){this.version=e,this.transformResults=i}}class Mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Th{}function T1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new zm(s.key,Mi.none()):new Go(s.key,s.data,Mi.none());{const i=s.data,a=Hn.empty();let o=new Pt(Wt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new er(s.key,a,new si(o.toArray()),Mi.none())}}function xA(s,e,i){s instanceof Go?(function(o,c,d){const p=o.value.clone(),y=S_(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof er?(function(o,c,d){if(!jc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=S_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(E1(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Io(s,e,i,a){return s instanceof Go?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=c.value.clone(),b=A_(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof er?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=A_(c.fieldTransforms,y,d),b=d.data;return b.setAll(E1(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,p){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function RA(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=g1(a.transform,o||null);c!=null&&(i===null&&(i=Hn.empty()),i.set(a.field,c))}return i||null}function b_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&tl(a,o,((c,d)=>AA(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Go extends Th{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class er extends Th{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function E1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function S_(s,e,i){const a=new Map;$e(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,SA(d,p,i[o]))}return a}function A_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,bA(c,d,e))}return a}class zm extends Th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CA extends Th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&xA(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Io(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Io(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=m1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=T1(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,((i,a)=>b_(i,a)))&&tl(this.baseMutations,e.baseMutations,((i,a)=>b_(i,a)))}}class Pm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){$e(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return yA})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Pm(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,He;function MA(s){switch(s){case ee.OK:return _e(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function b1(s){if(s===void 0)return cs("GRPC error has no .code"),ee.UNKNOWN;switch(s){case Vt.OK:return ee.OK;case Vt.CANCELLED:return ee.CANCELLED;case Vt.UNKNOWN:return ee.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ee.INTERNAL;case Vt.UNAVAILABLE:return ee.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ee.NOT_FOUND;case Vt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Vt.ABORTED:return ee.ABORTED;case Vt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Vt.DATA_LOSS:return ee.DATA_LOSS;default:return _e(39323,{code:s})}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new ia([4294967295,4294967295],0);function w_(s){const e=OA().encode(s),i=new Uv;return i.update(e),new Uint8Array(i.digest())}function x_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ia([i,a],0),new ia([o,c],0)]}class Bm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ao(`Invalid padding: ${i}`);if(a<0)throw new Ao(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ia.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(ia.fromNumber(a)));return o.compare(VA)===1&&(o=new ia([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=w_(e),[a,o]=x_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Bm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=w_(e),[a,o]=x_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Fo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Eh(be.min(),o,new pt(ze),hs(),Pe())}}class Fo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Fo(a,i,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class S1{constructor(e,i){this.targetId=e,this.Ce=i}}class A1{constructor(e,i,a=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class R_{constructor(){this.ve=0,this.Fe=C_(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),a=Pe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_e(38017,{changeType:c})}})),new Fo(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=C_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class kA{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.He=Ic(),this.Je=Ic(),this.Ze=new pt(ze)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(rm(c))if(a===0){const d=new pe(c.path);this.et(i,d,an.newNoDocument(d,be.min()))}else $e(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=oa(a).toUint8Array()}catch(y){if(y instanceof $v)return el("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Bm(d,o,c)}catch(y){return el(y instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&rm(p.target)){const y=new pe(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,an.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Pe();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Eh(e,i,this.Ze,this.je,a);return this.je=hs(),this.He=Ic(),this.Je=Ic(),this.Ze=new pt(ze),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new R_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Pt(ze),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Pt(ze),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new R_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ic(){return new pt(pe.comparator)}function C_(){return new pt(pe.comparator)}const jA={asc:"ASCENDING",desc:"DESCENDING"},LA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UA={and:"AND",or:"OR"};class zA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function om(s,e){return s.useProto3Json||mh(e)?e:{value:e}}function eh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function PA(s,e){return eh(s,e.toTimestamp())}function Oi(s){return $e(!!s,49232),be.fromTimestamp((function(i){const a=la(i);return new ct(a.seconds,a.nanos)})(s))}function qm(s,e){return um(s,e).canonicalString()}function um(s,e){const i=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function x1(s){const e=ut.fromString(s);return $e(D1(e),10190,{key:e.toString()}),e}function cm(s,e){return qm(s.databaseId,e.path)}function qd(s,e){const i=x1(e);if(i.get(1)!==s.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(C1(i))}function R1(s,e){return qm(s.databaseId,e)}function BA(s){const e=x1(s);return e.length===4?ut.emptyPath():C1(e)}function hm(s){return new ut(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function C1(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function N_(s,e,i){return{name:cm(s,e),fields:i.value.mapValue.fields}}function qA(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?($e(b===void 0||typeof b=="string",58123),en.fromBase64String(b||"")):($e(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),en.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?ee.UNKNOWN:b1(_.code);return new ce(b,_.message||"")})(d);i=new A1(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=qd(s,a.document.name),c=Oi(a.document.updateTime),d=a.document.createTime?Oi(a.document.createTime):be.min(),p=new Hn({mapValue:{fields:a.document.fields}}),y=an.newFoundDocument(o,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Lc(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=qd(s,a.document),c=a.readTime?Oi(a.readTime):be.min(),d=an.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Lc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=qd(s,a.document),c=a.removedTargetIds||[];i=new Lc([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new DA(o,c),p=a.targetId;i=new S1(p,d)}}return i}function HA(s,e){let i;if(e instanceof Go)i={update:N_(s,e.key,e.value)};else if(e instanceof zm)i={delete:cm(s,e.key)};else if(e instanceof er)i={update:N_(s,e.key,e.data),updateMask:ZA(e.fieldMask)};else{if(!(e instanceof CA))return _e(16599,{dt:e.type});i={verify:cm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:PA(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),i}function GA(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Oi(o.updateTime):Oi(c);return d.isEqual(be.min())&&(d=Oi(c)),new wA(d,o.transformResults||[])})(i,e)))):[]}function FA(s,e){return{documents:[R1(s,e.path)]}}function QA(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=R1(s,o);const c=(function(_){if(_.length!==0)return I1(Li.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(I){return{field:Fr(I.field),direction:XA(I.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=om(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function KA(s){let e=BA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){$e(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const I=N1(A);return I instanceof Li&&r1(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((I=>(function(G){return new Jc(Qr(G.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(I)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let I;return I=typeof A=="object"?A.value:A,mh(I)?null:I})(i.limit));let y=null;i.startAt&&(y=(function(A){const I=!!A.before,H=A.values||[];return new $c(H,I)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const I=!A.before,H=A.values||[];return new $c(H,I)})(i.endAt)),cA(e,o,d,c,p,"F",y,_)}function YA(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function N1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qr(i.unaryFilter.field);return Ut.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Qr(i.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qr(i.unaryFilter.field);return Ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qr(i.unaryFilter.field);return Ut.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ut.create(Qr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Li.create(i.compositeFilter.filters.map((a=>N1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(i.compositeFilter.op))})(s):_e(30097,{filter:s})}function XA(s){return jA[s]}function $A(s){return LA[s]}function JA(s){return UA[s]}function Fr(s){return{fieldPath:s.canonicalString()}}function Qr(s){return Wt.fromServerFormat(s.fieldPath)}function I1(s){return s instanceof Ut?(function(i){if(i.op==="=="){if(g_(i.value))return{unaryFilter:{field:Fr(i.field),op:"IS_NAN"}};if(p_(i.value))return{unaryFilter:{field:Fr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(g_(i.value))return{unaryFilter:{field:Fr(i.field),op:"IS_NOT_NAN"}};if(p_(i.value))return{unaryFilter:{field:Fr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fr(i.field),op:$A(i.op),value:i.value}}})(s):s instanceof Li?(function(i){const a=i.getFilters().map((o=>I1(o)));return a.length===1?a[0]:{compositeFilter:{op:JA(i.op),filters:a}}})(s):_e(54877,{filter:s})}function ZA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function D1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function M1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,i,a,o,c=be.min(),d=be.min(),p=en.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.yt=e}}function ew(s){const e=KA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?lm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.Sn=new nw}addToCollectionParentIndex(e,i){return this.Sn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(ra.min())}updateCollectionGroup(e,i,a){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class nw{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Pt(ut.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Pt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O1=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(O1,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new sl(0)}static ar(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LruGarbageCollector",iw=1048576;function M_([s,e],[i,a]){const o=ze(s,i);return o===0?ze(e,a):o}class sw{constructor(e){this.Pr=e,this.buffer=new Pt(M_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();M_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aw{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(D_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fl(i)?le(D_,"Ignoring IndexedDB error during garbage collection: ",i):await hl(i)}await this.Ar(3e5)}))}}class rw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(dh.ce);const a=new sw(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(I_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Hr()<=Ue.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function lw(s,e){return new rw(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.changes=new Wa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Io(a.mutation,o,si.empty(),ct.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Pe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Pe()){const o=qa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=So();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=qa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Pe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=hs();const d=No(),p=(function(){return No()})();return i.forEach(((y,_)=>{const b=a.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof er)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Io(b.mutation,_,b.mutation.getFieldMask(),ct.now())):d.set(_.key,si.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new uw(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=No();let o=new pt(((d,p)=>d-p)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||si.empty();b=p.applyToLocalView(_,b),a.set(y,b);const A=(o.get(p.batchId)||Pe()).add(y);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,A=m1();b.forEach((I=>{if(!c.has(I)){const H=T1(i.get(I),a.get(I));H!==null&&A.set(I,H),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return hA(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):W.resolve(qa());let p=Vo,y=c;return d.next((_=>W.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?W.resolve():this.remoteDocumentCache.getEntry(e,b).next((I=>{y=y.insert(b,I)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Pe()))).next((b=>({batchId:p,changes:d1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let o=So();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=So();return this.indexManager.getCollectionParents(e,c).next((p=>W.forEach(p,(y=>{const _=(function(A,I){return new gh(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((b=>{b.forEach(((A,I)=>{d=d.insert(A,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,an.newInvalidDocument(b)))}));let p=So();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Io(b.mutation,_,si.empty(),ct.now()),_h(i,_)&&(p=p.insert(y,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return W.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:ew(o.bundledQuery),readTime:Oi(o.readTime)}})(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.overlays=new pt(pe.comparator),this.Lr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const a=qa();return W.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),W.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),W.resolve()}getOverlaysForCollection(e,i,a){const o=qa(),c=i.length+1,d=new pe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new pt(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=qa(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=qa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=o)););return W.resolve(p)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new IA(i,a));let c=this.Lr.get(i);c===void 0&&(c=Pe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.kr=new Pt(Ft.Kr),this.qr=new Pt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Ft(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Ft(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new pe(new ut([])),a=new Ft(i,e),o=new Ft(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new ut([])),a=new Ft(i,e),o=new Ft(i,e+1);let c=Pe();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ft(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||ze(e.Hr,i.Hr)}static Ur(e,i){return ze(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Ft.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new NA(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Ft(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Mm:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Pt(ze);return i.forEach((o=>{const c=new Ft(o,0),d=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),W.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new pe(c),0);let p=new Pt(ze);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Hr)),!0)}),d),W.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){$e(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return W.forEach(i.mutations,(o=>{const c=new Ft(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Ft(i,0),o=this.Jr.firstAfterOrEqual(a);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.ti=e,this.docs=(function(){return new pt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let a=hs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),W.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=hs();const d=i.path,p=new pe(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||BS(PS(b),a)<=0||(o.has(b.key)||_h(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,a,o){_e(9500)}ni(e,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new gw(this)}getSize(e){return W.resolve(this.size)}}class gw extends ow{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),W.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.persistence=e,this.ri=new Wa((i=>km(i)),jm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Hm,this.targetCount=0,this.oi=sl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),W.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new sl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.lr(i),W.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),W.waitFor(c).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return W.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),W.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return W.resolve(a)}containsKey(e,i){return W.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,i){this._i={},this.overlays={},this.ai=new dh(0),this.ui=!1,this.ui=!0,this.ci=new dw,this.referenceDelegate=e(this),this.li=new yw(this),this.indexManager=new tw,this.remoteDocumentCache=(function(o){return new pw(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new WA(i),this.Pi=new hw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new fw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new mw(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new _w(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return W.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class _w extends HS{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Ri=new Hm,this.Ai=null}static Vi(e){return new Gm(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),W.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(a=>{const o=pe.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class th{constructor(e,i){this.persistence=e,this.fi=new Wa((a=>QS(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=lw(this,i)}static Vi(e,i){return new th(e,i)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return W.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?W.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(a++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),W.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),W.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Vc(e.data.value)),i}wr(e,i,a){return W.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return W.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=Pe(),o=Pe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Fm(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return u2()?8:GS(rn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vw;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(Hr()<=Ue.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Gr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Hr()<=Ue.DEBUG&&le("QueryEngine","Query:",Gr(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Hr()<=Ue.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Gr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(i))):W.resolve())}gs(e,i){if(T_(i))return W.resolve(null);let a=Di(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=lm(i,null,"F"),a=Di(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Pe(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.bs(i,p);return this.Ss(i,_,d,y.readTime)?this.gs(e,lm(i,null,"F")):this.Ds(e,_,i,y)}))))})))))}ps(e,i,a,o){return T_(i)||o.isEqual(be.min())?W.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?W.resolve(null):(Hr()<=Ue.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Gr(i)),this.Ds(e,d,i,zS(o,Vo)).next((p=>p)))}))}bs(e,i){let a=new Pt(h1(e));return i.forEach(((o,c)=>{_h(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return Hr()<=Ue.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Gr(i)),this.fs.getDocumentsMatchingQuery(e,i,ra.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="LocalStore",Ew=3e8;class bw{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new pt(ze),this.Fs=new Wa((c=>km(c)),jm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function Sw(s,e,i,a){return new bw(s,e,i,a)}async function k1(s,e){const i=Ae(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Pe();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function Aw(s,e){const i=Ae(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const A=_.batch,I=A.keys();let H=W.resolve();return I.forEach((G=>{H=H.next((()=>b.getEntry(y,G))).next((K=>{const L=_.docVersions.get(G);$e(L!==null,48541),K.version.compareTo(L)<0&&(A.applyToRemoteDocument(K,_),K.isValidDocument()&&(K.setReadTime(_.commitVersion),b.addEntry(K)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Pe();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function j1(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function ww(s,e){const i=Ae(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((b,A)=>{const I=o.get(A);if(!I)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let H=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?H=H.withResumeToken(en.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,a)),o=o.insert(A,H),(function(K,L,Y){return K.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Ew?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(I,H,b)&&p.push(i.li.updateTargetData(c,H))}));let y=hs(),_=Pe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(xw(c,d,e.documentUpdates).next((b=>{y=b.Bs,_=b.Ls}))),!a.isEqual(be.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return W.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.vs=o,c)))}function xw(s,e,i){let a=Pe(),o=Pe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=hs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(be.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):le(Qm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:o}}))}function Rw(s,e){const i=Ae(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Cw(s,e){const i=Ae(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,W.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Ws(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function fm(s,e,i){const a=Ae(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!fl(d))throw d;le(Qm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function O_(s,e,i){const a=Ae(s);let o=be.min(),c=Pe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=Ae(y),I=A.Fs.get(b);return I!==void 0?W.resolve(A.vs.get(I)):A.li.getTargetData(_,b)})(a,d,Di(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:be.min(),i?c:Pe()))).next((p=>(Nw(a,mA(e),p),{documents:p,ks:c})))))}function Nw(s,e,i){let a=s.Ms.get(e)||be.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class V_{constructor(){this.activeTargetIds=TA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iw{constructor(){this.vo=new V_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new V_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class j_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(k_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function dm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="RestConnection",Mw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Ow{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=dm(),p=this.Qo(e,i.toUriEncodedString());le(Hd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,c);const{host:_}=new URL(p),b=ol(_);return this.zo(e,p,y,a,b).then((A=>(le(Hd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw el(Hd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=Mw[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection",vo=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Kr extends Ow{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Kr.c_){const e=qv();vo(e,Bv.STAT_EVENT,(i=>{i.stat===tm.PROXY?le(nn,"STAT_EVENT: detected buffering proxy"):i.stat===tm.NOPROXY&&le(nn,"STAT_EVENT: detected no buffering proxy")})),Kr.c_=!0}}zo(e,i,a,o,c){const d=dm();return new Promise(((p,y)=>{const _=new zv;_.setWithCredentials(!0),_.listenOnce(Pv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Oc.NO_ERROR:const A=_.getResponseJson();le(nn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Oc.TIMEOUT:le(nn,`RPC '${e}' ${d} timed out`),y(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const I=_.getStatus();if(le(nn,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const G=H==null?void 0:H.error;if(G&&G.status&&G.message){const K=(function(Y){const ne=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ne)>=0?ne:ee.UNKNOWN})(G.status);y(new ce(K,G.message))}else y(new ce(ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(nn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);le(nn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",b,a,15)}))}T_(e,i,a){const o=dm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=c.join("");le(nn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=d.createWebChannel(_,p);this.I_(b);let A=!1,I=!1;const H=new Vw({Ho:G=>{I?le(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(A||(le(nn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),le(nn,`RPC '${e}' stream ${o} sending:`,G),b.send(G))},Jo:()=>b.close()});return vo(b,bo.EventType.OPEN,(()=>{I||(le(nn,`RPC '${e}' stream ${o} transport opened.`),H.i_())})),vo(b,bo.EventType.CLOSE,(()=>{I||(I=!0,le(nn,`RPC '${e}' stream ${o} transport closed`),H.o_(),this.E_(b))})),vo(b,bo.EventType.ERROR,(G=>{I||(I=!0,el(nn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),H.o_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),vo(b,bo.EventType.MESSAGE,(G=>{var K;if(!I){const L=G.data[0];$e(!!L,16349);const Y=L,ne=(Y==null?void 0:Y.error)||((K=Y[0])==null?void 0:K.error);if(ne){le(nn,`RPC '${e}' stream ${o} received error:`,ne);const ae=ne.status;let De=(function(C){const w=Vt[C];if(w!==void 0)return b1(w)})(ae),Ee=ne.message;De===void 0&&(De=ee.INTERNAL,Ee="Unknown error status: "+ae+" with message "+ne.message),I=!0,H.o_(new ce(De,Ee)),b.close()}else le(nn,`RPC '${e}' stream ${o} received:`,L),H.__(L)}})),Kr.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Hv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(s){return new Kr(s)}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(s){return new zA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr.c_=!1;class L1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="PersistentStream";class U1{constructor(e,i,a,o,c,d,p,y){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new L1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(cs(i.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jw extends U1{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=qA(this.serializer,e),a=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Oi(d.readTime):be.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=rm(y)?{documents:FA(c,y)}:{query:QA(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=w1(c,d.resumeToken);const _=om(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(be.min())>0){p.readTime=eh(c,d.snapshotVersion.toTimestamp());const _=om(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=YA(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=hm(this.serializer),i.removeTarget=e,this.K_(i)}}class Lw extends U1{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=GA(e.writeResults,e.commitTime),a=Oi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=hm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>HA(this.serializer,a)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{}class zw extends Uw{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,um(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(ee.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,um(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Pw(s,e,i,a){return new zw(s,e,i,a)}class Bw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="RemoteStore";class qw{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{tr(this)&&(le($a,"Restarting streams for network reachability change."),await(async function(y){const _=Ae(y);_.Ea.add(4),await Qo(_),_.Va.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Va=new Bw(a,o)}}async function Sh(s){if(tr(s))for(const e of s.Ra)await e(!0)}async function Qo(s){for(const e of s.Ra)await e(!1)}function z1(s,e){const i=Ae(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),$m(i)?Xm(i):dl(i).O_()&&Ym(i,e))}function Km(s,e){const i=Ae(s),a=dl(i);i.Ia.delete(e),a.O_()&&P1(i,e),i.Ia.size===0&&(a.O_()?a.L_():tr(i)&&i.Va.set("Unknown"))}function Ym(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}dl(s).Z_(e)}function P1(s,e){s.da.$e(e),dl(s).X_(e)}function Xm(s){s.da=new kA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),dl(s).start(),s.Va.ua()}function $m(s){return tr(s)&&!dl(s).x_()&&s.Ia.size>0}function tr(s){return Ae(s).Ea.size===0}function B1(s){s.da=void 0}async function Hw(s){s.Va.set("Online")}async function Gw(s){s.Ia.forEach(((e,i)=>{Ym(s,e)}))}async function Fw(s,e){B1(s),$m(s)?(s.Va.ha(e),Xm(s)):s.Va.set("Unknown")}async function Qw(s,e,i){if(s.Va.set("Online"),e instanceof A1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(a){le($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await nh(s,a)}else if(e instanceof Lc?s.da.Xe(e):e instanceof S1?s.da.st(e):s.da.tt(e),!i.isEqual(be.min()))try{const a=await j1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(en.EMPTY_BYTE_STRING,b.snapshotVersion)),P1(c,y);const A=new Ws(b.target,y,_,b.sequenceNumber);Ym(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){le($a,"Failed to raise snapshot:",a),await nh(s,a)}}async function nh(s,e,i){if(!fl(e))throw e;s.Ea.add(1),await Qo(s),s.Va.set("Offline"),i||(i=()=>j1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le($a,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Sh(s)}))}function q1(s,e){return e().catch((i=>nh(s,i,e)))}async function Ah(s){const e=Ae(s),i=ca(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mm;for(;Kw(e);)try{const o=await Rw(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,Yw(e,o)}catch(o){await nh(e,o)}H1(e)&&G1(e)}function Kw(s){return tr(s)&&s.Ta.length<10}function Yw(s,e){s.Ta.push(e);const i=ca(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function H1(s){return tr(s)&&!ca(s).x_()&&s.Ta.length>0}function G1(s){ca(s).start()}async function Xw(s){ca(s).ra()}async function $w(s){const e=ca(s);for(const i of s.Ta)e.ea(i.mutations)}async function Jw(s,e,i){const a=s.Ta.shift(),o=Pm.from(a,e,i);await q1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ah(s)}async function Zw(s,e){e&&ca(s).Y_&&await(async function(a,o){if((function(d){return MA(d)&&d!==ee.ABORTED})(o.code)){const c=a.Ta.shift();ca(a).B_(),await q1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ah(a)}})(s,e),H1(s)&&G1(s)}async function U_(s,e){const i=Ae(s);i.asyncQueue.verifyOperationInProgress(),le($a,"RemoteStore received new credentials");const a=tr(i);i.Ea.add(3),await Qo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sh(i)}async function Ww(s,e){const i=Ae(s);e?(i.Ea.delete(2),await Sh(i)):e||(i.Ea.add(2),await Qo(i),i.Va.set("Unknown"))}function dl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ae(i);return c.sa(),new jw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:Hw.bind(null,s),Yo:Gw.bind(null,s),t_:Fw.bind(null,s),J_:Qw.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),$m(s)?Xm(s):s.Va.set("Unknown")):(await s.ma.stop(),B1(s))}))),s.ma}function ca(s){return s.fa||(s.fa=(function(i,a,o){const c=Ae(i);return c.sa(),new Lw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Xw.bind(null,s),t_:Zw.bind(null,s),ta:$w.bind(null,s),na:Jw.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Ah(s)):(await s.fa.stop(),s.Ta.length>0&&(le($a,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new Jm(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(s,e){if(cs("AsyncQueue",`${e}: ${s}`),fl(s))return new ce(ee.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{static emptySet(e){return new Yr(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=So(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Yr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.ga=new pt(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class al{constructor(e,i,a,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new al(e,i,Yr.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class tx{constructor(){this.queries=P_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ae(i),c=o.queries;o.queries=P_(),c.forEach(((d,p)=>{for(const y of p.ba)y.onError(a)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function P_(){return new Wa((s=>c1(s)),yh)}async function F1(s,e){const i=Ae(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new ex,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Zm(d,`Initialization of query '${Gr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Wm(i)}async function Q1(s,e){const i=Ae(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function nx(s,e){const i=Ae(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&Wm(i)}function ix(s,e,i){const a=Ae(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function Wm(s){s.Ca.forEach((e=>{e.next()}))}var mm,B_;(B_=mm||(mm={})).Ma="default",B_.Cache="cache";class K1{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new al(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.key=e}}class X1{constructor(e){this.key=e}}class sx{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=h1(e),this.tu=new Yr(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new z_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const I=o.get(b),H=_h(this.query,A)?A:null,G=!!I&&this.mutatedKeys.has(I.key),K=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let L=!1;I&&H?I.data.isEqual(H.data)?G!==K&&(a.track({type:3,doc:H}),L=!0):this.su(I,H)||(a.track({type:2,doc:H}),L=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(p=!0)):!I&&H?(a.track({type:0,doc:H}),L=!0):I&&!H&&(a.track({type:1,doc:I}),L=!0,(y||_)&&(p=!0)),L&&(H?(d=d.add(H),c=K?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(H,G){const K=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:L})}};return K(H)-K(G)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new al(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new X1(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new Y1(a))})),i}cu(e){this.Za=e.ks,this.Ya=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ep="SyncEngine";class ax{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class rx{constructor(e){this.key=e,this.hu=!1}}class lx{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wa((p=>c1(p)),yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(pe.comparator),this.Au=new Map,this.Vu=new Hm,this.du={},this.mu=new Map,this.fu=sl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ox(s,e,i=!0){const a=tT(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await $1(a,e,i,!0),o}async function ux(s,e){const i=tT(s);await $1(i,e,!0,!1)}async function $1(s,e,i,a){const o=await Cw(s.localStore,Di(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await cx(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&z1(s.remoteStore,o),p}async function cx(s,e,i,a,o){s.pu=(A,I,H)=>(async function(K,L,Y,ne){let ae=L.view.ru(Y);ae.Ss&&(ae=await O_(K.localStore,L.query,!1).then((({documents:C})=>L.view.ru(C,ae))));const De=ne&&ne.targetChanges.get(L.targetId),Ee=ne&&ne.targetMismatches.get(L.targetId)!=null,he=L.view.applyChanges(ae,K.isPrimaryClient,De,Ee);return H_(K,L.targetId,he.au),he.snapshot})(s,A,I,H);const c=await O_(s.localStore,e,!0),d=new sx(e,c.ks),p=d.ru(c.documents),y=Fo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,y);H_(s,i,_.au);const b=new ax(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function hx(s,e,i){const a=Ae(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!yh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Km(a.remoteStore,o.targetId),pm(a,o.targetId)})).catch(hl)):(pm(a,o.targetId),await fm(a.localStore,o.targetId,!0))}async function fx(s,e){const i=Ae(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function dx(s,e,i){const a=Tx(s);try{const o=await(function(d,p){const y=Ae(d),_=ct.now(),b=p.reduce(((H,G)=>H.add(G.key)),Pe());let A,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let G=hs(),K=Pe();return y.xs.getEntries(H,b).next((L=>{G=L,G.forEach(((Y,ne)=>{ne.isValidDocument()||(K=K.add(Y))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,G))).next((L=>{A=L;const Y=[];for(const ne of p){const ae=RA(ne,A.get(ne.key).overlayedDocument);ae!=null&&Y.push(new er(ne.key,ae,i1(ae.value.mapValue),Mi.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,Y,p)})).next((L=>{I=L;const Y=L.applyToLocalDocumentSet(A,K);return y.documentOverlayCache.saveOverlays(H,L.batchId,Y)}))})).then((()=>({batchId:I.batchId,changes:d1(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.du[d.currentUser.toKey()];_||(_=new pt(ze)),_=_.insert(p,y),d.du[d.currentUser.toKey()]=_})(a,o.batchId,i),await Ko(a,o.changes),await Ah(a.remoteStore)}catch(o){const c=Zm(o,"Failed to persist write");i.reject(c)}}async function J1(s,e){const i=Ae(s);try{const a=await ww(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$e(d.hu,14607):o.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await Ko(i,a,e)}catch(a){await hl(a)}}function q_(s,e,i){const a=Ae(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=Ae(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,A)=>{for(const I of A.ba)I.va(p)&&(_=!0)})),_&&Wm(y)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mx(s,e,i){const a=Ae(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new pt(pe.comparator);d=d.insert(c,an.newNoDocument(c,be.min()));const p=Pe().add(c),y=new Eh(be.min(),new Map,new pt(ze),d,p);await J1(a,y),a.Ru=a.Ru.remove(c),a.Au.delete(e),tp(a)}else await fm(a.localStore,e,!1).then((()=>pm(a,e,i))).catch(hl)}async function px(s,e){const i=Ae(s),a=e.batch.batchId;try{const o=await Aw(i.localStore,e);W1(i,a,null),Z1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ko(i,o)}catch(o){await hl(o)}}async function gx(s,e,i){const a=Ae(s);try{const o=await(function(d,p){const y=Ae(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>($e(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,e);W1(a,e,i),Z1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Ko(a,o)}catch(o){await hl(o)}}function Z1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function W1(s,e,i){const a=Ae(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function pm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||eT(s,a)}))}function eT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Km(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),tp(s))}function H_(s,e,i){for(const a of i)a instanceof Y1?(s.Vu.addReference(a.key,e),yx(s,a)):a instanceof X1?(le(ep,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||eT(s,a.key)):_e(19791,{wu:a})}function yx(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(le(ep,"New document in limbo: "+i),s.Eu.add(a),tp(s))}function tp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(ut.fromString(e)),a=s.fu.next();s.Au.set(a,new rx(i)),s.Ru=s.Ru.insert(i,a),z1(s.remoteStore,new Ws(Di(Lm(i.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function Ko(s,e,i){const a=Ae(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{var b;if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:(b=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:b.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Fm.Es(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(y,_){const b=Ae(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>W.forEach(_,(I=>W.forEach(I.Ts,(H=>b.persistence.referenceDelegate.addReference(A,I.targetId,H))).next((()=>W.forEach(I.Is,(H=>b.persistence.referenceDelegate.removeReference(A,I.targetId,H)))))))))}catch(A){if(!fl(A))throw A;le(Qm,"Failed to update sequence numbers: "+A)}for(const A of _){const I=A.targetId;if(!A.fromCache){const H=b.vs.get(I),G=H.snapshotVersion,K=H.withLastLimboFreeSnapshotVersion(G);b.vs=b.vs.insert(I,K)}}})(a.localStore,c))}async function _x(s,e){const i=Ae(s);if(!i.currentUser.isEqual(e)){le(ep,"User change. New user:",e.toKey());const a=await k1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ce(ee.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Ko(i,a.Ns)}}function vx(s,e){const i=Ae(s),a=i.Au.get(e);if(a&&a.hu)return Pe().add(a.key);{let o=Pe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function tT(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=J1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mx.bind(null,e),e.Pu.J_=nx.bind(null,e.eventManager),e.Pu.yu=ix.bind(null,e.eventManager),e}function Tx(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=px.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gx.bind(null,e),e}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Sw(this.persistence,new Tw,e.initialUser,this.serializer)}Cu(e){return new V1(Gm.Vi,this.serializer)}Du(e){return new Iw}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class Ex extends ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$e(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new aw(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new V1((a=>th.Vi(a,i)),this.serializer)}}class gm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>q_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_x.bind(null,this.syncEngine),await Ww(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tx})()}createDatastore(e){const i=bh(e.databaseInfo.databaseId),a=kw(e.databaseInfo);return Pw(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new qw(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>q_(this.syncEngine,i,0)),(function(){return j_.v()?new j_:new Dw})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,b){const A=new lx(o,c,d,p,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const c=Ae(o);le($a,"RemoteStore shutting down."),c.Ea.add(5),await Qo(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}gm.provider={build:()=>new gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="FirestoreClient";class bx{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(ha,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(ha,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Fd(s,e){s.asyncQueue.verifyOperationInProgress(),le(ha,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await k1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function G_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Sx(s);le(ha,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>U_(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>U_(e.remoteStore,o))),s._onlineComponents=e}async function Sx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(ha,"Using user provided OfflineComponentProvider");try{await Fd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;el("Error using user provided cache. Falling back to memory cache: "+i),await Fd(s,new ih)}}else le(ha,"Using default OfflineComponentProvider"),await Fd(s,new Ex(void 0));return s._offlineComponents}async function iT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(ha,"Using user provided OnlineComponentProvider"),await G_(s,s._uninitializedComponentsProvider._online)):(le(ha,"Using default OnlineComponentProvider"),await G_(s,new gm))),s._onlineComponents}function Ax(s){return iT(s).then((e=>e.syncEngine))}async function ym(s){const e=await iT(s),i=e.eventManager;return i.onListen=ox.bind(null,e.syncEngine),i.onUnlisten=hx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ux.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fx.bind(null,e.syncEngine),i}function wx(s,e,i,a){const o=new nT(a),c=new K1(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>F1(await ym(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Q1(await ym(s),c)))}}function xx(s,e,i={}){const a=new sa;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const b=new nT({next:I=>{b.Nu(),d.enqueueAndForget((()=>Q1(c,A))),I.fromCache&&y.source==="server"?_.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),A=new K1(p,b,{includeMetadataChanges:!0,Ka:!0});return F1(c,A)})(await ym(s),s.asyncQueue,e,i,a))),a.promise}function Rx(s,e){const i=new sa;return s.asyncQueue.enqueueAndForget((async()=>dx(await Ax(s),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="ComponentProvider",F_=new Map;function Nx(s,e,i,a,o){return new XS(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,sT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firestore.googleapis.com",Q_=!0;class K_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aT,this.ssl=Q_}else this.host=e.host,this.ssl=e.ssl??Q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iw)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}US("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new CS;switch(a.type){case"firstParty":return new MS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=F_.get(i);a&&(le(Cx,"Removing Datastore"),F_.delete(i),a.terminate())})(this),Promise.resolve()}}function Ix(s,e,i,a={}){var _;s=os(s,wh);const o=ol(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(Iv(`https://${p}`),Dv("Firestore",!0)),c.host!==aT&&c.host!==p&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!Ka(y,d)&&(s._setSettings(y),a.mockUserToken)){let b,A;if(typeof a.mockUserToken=="string")b=a.mockUserToken,A=sn.MOCK_USER;else{b=e2(a.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new sn(I)}s._authCredentials=new NS(new Fv(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Yo(this.firestore,e,this._query)}}class zt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Ho(i,zt._jsonSchema))return new zt(e,a||null,new pe(ut.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:kt("string",zt._jsonSchemaVersion),referencePath:kt("string")};class aa extends Yo{constructor(e,i,a){super(e,i,Lm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new pe(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function _m(s,e,...i){if(s=Tn(s),Qv("collection","path",e),s instanceof wh){const a=ut.fromString(e,...i);return l_(a),new aa(s,null,a)}{if(!(s instanceof zt||s instanceof aa))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ut.fromString(e,...i));return l_(a),new aa(s.firestore,null,a)}}function Ks(s,e,...i){if(s=Tn(s),arguments.length===1&&(e=Im.newId()),Qv("doc","path",e),s instanceof wh){const a=ut.fromString(e,...i);return r_(a),new zt(s,null,new pe(a))}{if(!(s instanceof zt||s instanceof aa))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ut.fromString(e,...i));return r_(a),new zt(s.firestore,s instanceof aa?s.converter:null,new pe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="AsyncQueue";class X_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new L1(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&le(Y_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new sa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;le(Y_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",$_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Jm.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:$_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function $_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class rl extends wh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new X_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X_(e),this._firestoreClient=void 0,await e}}}function Dx(s,e){const i=typeof s=="object"?s:kv(),a=typeof s=="string"?s:Yc,o=Cm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Zb("firestore");c&&Ix(o,...c)}return o}function np(s){if(s._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Mx(s),s._firestoreClient}function Mx(s){var a,o,c,d;const e=s._freezeSettings(),i=Nx(s._databaseId,((a=s._app)==null?void 0:a.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new bx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(en.fromBase64String(e))}catch(i){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Gn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ho(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:kt("string",Gn._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(Ho(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:kt("string",Vi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ho(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ri(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:kt("string",ri._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=/^__.*__$/;class Vx{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new er(e,this.data,this.fieldMask,i,this.fieldTransforms):new Go(e,this.data,i,this.fieldTransforms)}}function oT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:s})}}class ip{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ip({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return sh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oT(this.dataSource)&&Ox.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class kx{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||bh(e)}createContext(e,i,a,o=!1){return new ip({dataSource:e,methodName:i,targetDoc:a,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jx(s){const e=s._freezeSettings(),i=bh(s._databaseId);return new kx(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Lx(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);fT("Data must be an object, but it was:",d,a);const p=cT(a,d);let y,_;if(c.merge)y=new si(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const I=sp(e,A,i);if(!d.contains(I))throw new ce(ee.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Px(b,I)||b.push(I)}y=new si(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new Vx(new Hn(p),y,_)}function uT(s,e){if(hT(s=Tn(s)))return fT("Unsupported field value:",e,s),cT(s,e);if(s instanceof lT)return(function(a,o){if(!oT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=uT(p,o.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return EA(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ct.fromDate(a);return{timestampValue:eh(o.serializer,c)}}if(a instanceof ct){const c=new ct(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:eh(o.serializer,c)}}if(a instanceof Vi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:w1(o.serializer,a._byteString)};if(a instanceof zt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ri)return(function(d,p){const y=d instanceof ri?d.toArray():d;return{mapValue:{fields:{[t1]:{stringValue:n1},[Xc]:{arrayValue:{values:y.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Um(p.serializer,b)}))}}}}}})(a,o);if(M1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Dm(a)}`)})(s,e)}function cT(s,e){const i={};return Xv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(s,((a,o)=>{const c=uT(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function hT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ct||s instanceof Vi||s instanceof Gn||s instanceof zt||s instanceof lT||s instanceof ri||M1(s))}function fT(s,e,i){if(!hT(i)||!Kv(i)){const a=Dm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function sp(s,e,i){if((e=Tn(e))instanceof rT)return e._internalPath;if(typeof e=="string")return zx(s,e);throw sh("Field path arguments must be of type string or ",s,!1,void 0,i)}const Ux=new RegExp("[~\\*/\\[\\]]");function zx(s,e,i){if(e.search(Ux)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new rT(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function sh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ce(ee.INVALID_ARGUMENT,p+s+y)}function Px(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{convertValue(e,i="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Za(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){var a,o,c;const i=(c=(o=(a=e.fields)==null?void 0:a[Xc].arrayValue)==null?void 0:o.values)==null?void 0:c.map((d=>At(d.doubleValue)));return new ri(i)}convertGeoPoint(e){return new Vi(At(e.latitude),At(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ph(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ko(e));default:return null}}convertTimestamp(e){const i=la(e);return new ct(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ut.fromString(e);$e(D1(a),9688,{name:e});const o=new jo(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return o.isEqual(i)||cs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends Bx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}const J_="@firebase/firestore",Z_="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(sp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qx extends dT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Hx(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class wo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends dT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(sp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ga._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:kt("string",Ga._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Uc extends Ga{data(e={}){return super.data(e)}}class Fa{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new wo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Uc(this._firestore,this._userDataWriter,a.key,a,new wo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Uc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new wo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Uc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new wo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:Gx(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Gx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:kt("string",Fa._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};function pT(s){s=os(s,Yo);const e=os(s.firestore,rl),i=np(e),a=new ap(e);return mT(s._query),xx(i,s._query).then((o=>new Fa(e,a,s,o)))}function Qd(s,e,i){s=os(s,zt);const a=os(s.firestore,rl),o=Hx(s.converter,e),c=jx(a);return gT(a,[Lx(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Mi.none())])}function Fx(s){return gT(os(s.firestore,rl),[new zm(s._key,Mi.none())])}function To(s,...e){var _,b,A;s=Tn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||W_(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(W_(e[a])){const I=e[a];e[a]=(_=I.next)==null?void 0:_.bind(I),e[a+1]=(b=I.error)==null?void 0:b.bind(I),e[a+2]=(A=I.complete)==null?void 0:A.bind(I)}let c,d,p;if(s instanceof zt)d=os(s.firestore,rl),p=Lm(s._key.path),c={next:I=>{e[a]&&e[a](Qx(d,s,I))},error:e[a+1],complete:e[a+2]};else{const I=os(s,Yo);d=os(I.firestore,rl),p=I._query;const H=new ap(d);c={next:G=>{e[a]&&e[a](new Fa(d,H,I,G))},error:e[a+1],complete:e[a+2]},mT(s._query)}const y=np(d);return wx(y,p,o,c)}function gT(s,e){const i=np(s);return Rx(i,e)}function Qx(s,e,i){const a=i.docs.get(e._key),o=new ap(s);return new Ga(s,o,e._key,a,new wo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){RS(ul),Wr(new Ya("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new rl(new IS(a.getProvider("auth-internal")),new OS(d,a.getProvider("app-check-internal")),$S(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),na(J_,Z_,e),na(J_,Z_,"esm2020")})();var Kx="firebase",Yx="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(Kx,Yx,"app");function yT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xx=yT,_T=new Bo("auth","Firebase",yT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new xm("@firebase/auth");function $x(s,...e){ah.logLevel<=Ue.WARN&&ah.warn(`Auth (${ul}): ${s}`,...e)}function zc(s,...e){ah.logLevel<=Ue.ERROR&&ah.error(`Auth (${ul}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(s,...e){throw lp(s,...e)}function li(s,...e){return lp(s,...e)}function rp(s,e,i){const a={...Xx(),[e]:i};return new Bo("auth","Firebase",a).create(e,{appName:s.name})}function Qa(s){return rp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jx(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Ui(s,"argument-error"),rp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lp(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return _T.create(s,...e)}function Te(s,e,...i){if(!s)throw lp(e,...i)}function rs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw zc(e),new Error(e)}function fs(s,e){s||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function Zx(){return ev()==="http:"||ev()==="https:"}function ev(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zx()||r2()||"connection"in navigator)?navigator.onLine:!0}function eR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i){this.shortDelay=e,this.longDelay=i,fs(i>e,"Short delay should be less than long delay!"),this.isMobile=i2()||l2()}get(){return Wx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(s,e){fs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iR=new Xo(3e4,6e4);function up(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ml(s,e,i,a,o={}){return TT(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=qo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return a2()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ol(s.emulatorConfig.host)&&(_.credentials="include"),vT.fetch()(await ET(s,s.config.apiHost,i,p),_)})}async function TT(s,e,i){s._canInitEmulator=!1;const a={...tR,...e};try{const o=new aR(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Mc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Mc(s,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw rp(s,b,_);Ui(s,b)}}catch(o){if(o instanceof ds)throw o;Ui(s,"network-request-failed",{message:String(o)})}}async function sR(s,e,i,a,o={}){const c=await ml(s,e,i,a,o);return"mfaPendingCredential"in c&&Ui(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function ET(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?op(s.config,o):`${s.config.apiScheme}://${o}`;return nR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class aR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(li(this.auth,"network-request-failed")),iR.get())})}}function Mc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=li(s,e,a);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(s,e){return ml(s,"POST","/v1/accounts:delete",e)}async function rh(s,e){return ml(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lR(s,e=!1){const i=Tn(s),a=await i.getIdToken(e),o=cp(a);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:a,authTime:Do(Kd(o.auth_time)),issuedAtTime:Do(Kd(o.iat)),expirationTime:Do(Kd(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Kd(s){return Number(s)*1e3}function cp(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=xv(i);return o?JSON.parse(o):(zc("Failed to decode base64 JWT payload"),null)}catch(o){return zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function tv(s){const e=cp(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ds&&oR(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function oR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(s){var A;const e=s.auth,i=await s.getIdToken(),a=await Po(s,rh(e,{idToken:i}));Te(a==null?void 0:a.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=(A=o.providerUserInfo)!=null&&A.length?bT(o.providerUserInfo):[],d=hR(s.providerData,c),p=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function cR(s){const e=Tn(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hR(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function bT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(s,e){const i=await TT(s,{},async()=>{const a=qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await ET(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&ol(s.emulatorConfig.host)&&(y.credentials="include"),vT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function dR(s,e){return ml(s,"POST","/v2/accounts:revokeToken",up(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=tv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await fR(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Xr;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xr,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new uR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Po(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return lR(this,e)}reload(){return cR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await lh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await Po(this,rR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:I,isAnonymous:H,providerData:G,stsTokenManager:K}=i;Te(A&&K,e,"internal-error");const L=Xr.fromJSON(this.name,K);Te(typeof A=="string",e,"internal-error"),Ys(a,e.name),Ys(o,e.name),Te(typeof I=="boolean",e,"internal-error"),Te(typeof H=="boolean",e,"internal-error"),Ys(c,e.name),Ys(d,e.name),Ys(p,e.name),Ys(y,e.name),Ys(_,e.name),Ys(b,e.name);const Y=new ai({uid:A,auth:e,email:o,emailVerified:I,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:L,createdAt:_,lastLoginAt:b});return G&&Array.isArray(G)&&(Y.providerData=G.map(ne=>({...ne}))),y&&(Y._redirectEventId=y),Y}static async _fromIdTokenResponse(e,i,a=!1){const o=new Xr;o.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await lh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?bT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new Xr;p.updateFromIdToken(a);const y=new ai({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new Map;function ls(s){fs(s instanceof Function,"Expected a class definition");let e=nv.get(s);return e?(fs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,nv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}ST.type="NONE";const iv=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(s,e,i){return`firebase:${s}:${e}:${i}`}class $r{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Pc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await rh(this.auth,{idToken:e}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new $r(ls(iv),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ls(iv);const d=Pc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const I=await rh(e,{idToken:b}).catch(()=>{});if(!I)break;A=await ai._fromGetAccountInfoResponse(e,I,b)}else A=ai._fromJSON(e,b);_!==c&&(p=A),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new $r(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new $r(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NT(e))return"Blackberry";if(IT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||xT(e))&&!e.includes("edge/"))return"Chrome";if(CT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function AT(s=rn()){return/firefox\//i.test(s)}function wT(s=rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xT(s=rn()){return/crios\//i.test(s)}function RT(s=rn()){return/iemobile/i.test(s)}function CT(s=rn()){return/android/i.test(s)}function NT(s=rn()){return/blackberry/i.test(s)}function IT(s=rn()){return/webos/i.test(s)}function hp(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mR(s=rn()){var e;return hp(s)&&!!((e=window.navigator)!=null&&e.standalone)}function pR(){return o2()&&document.documentMode===10}function DT(s=rn()){return hp(s)||CT(s)||IT(s)||NT(s)||/windows phone/i.test(s)||RT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(s,e=[]){let i;switch(s){case"Browser":i=sv(rn());break;case"Worker":i=`${sv(rn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ul}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(s,e={}){return ml(s,"GET","/v2/passwordPolicy",up(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=6;class vR{constructor(e){var a;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_R,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new gR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{var a,o,c;if(!this._deleted&&(this.persistenceManager=await $r.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await rh(this,{idToken:e}),a=await ai._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(ii(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=a==null?void 0:a._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===p)&&(y!=null&&y.user)&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Qa(this));const i=e?Tn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yR(this),i=new vR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await dR(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ls(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await $r.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var i;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&$x(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xh(s){return Tn(s)}class av{constructor(e){this.auth=e,this.observer=null,this.addObserver=g2(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ER(s){fp=s}function bR(s){return fp.loadJS(s)}function SR(){return fp.gapiScript}function AR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(s,e){const i=Cm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Ka(c,e??{}))return o;Ui(o,"already-initialized")}return i.initialize({options:e})}function xR(s,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(ls);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function RR(s,e,i){const a=xh(s);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=OT(e),{host:d,port:p}=CR(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(Ka(_,a.config.emulator)&&Ka(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,ol(d)?(Iv(`${c}//${d}${y}`),Dv("Auth",!0)):NR()}function OT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function CR(s){const e=OT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:rv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:rv(d)}}}function rv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function NR(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,i){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jr(s,e){return sR(s,"POST","/v1/accounts:signInWithIdp",up(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="http://localhost";class Ja extends VT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Ja(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Jr(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Jr(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Jr(e,i)}buildRequest(){const e={requestUri:IR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=qo(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends $o{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ja._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return as.credential(i,a)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends $o{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends $o{constructor(){super("twitter.com")}static credential(e,i){return Ja._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Zs.credential(i,a)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await ai._fromIdTokenResponse(e,a,o),d=lv(a);return new ll({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=lv(a);return new ll({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function lv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends ds{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new oh(e,i,a,o)}}function kT(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(s,c,e,a):c})}async function DR(s,e,i=!1){const a=await Po(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ll._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(s,e,i=!1){const{auth:a}=s;if(ii(a.app))return Promise.reject(Qa(a));const o="reauthenticate";try{const c=await Po(s,kT(a,o,e,s),i);Te(c.idToken,a,"internal-error");const d=cp(c.idToken);Te(d,a,"internal-error");const{sub:p}=d;return Te(s.uid===p,a,"user-mismatch"),ll._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Ui(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(s,e,i=!1){if(ii(s.app))return Promise.reject(Qa(s));const a="signIn",o=await kT(s,a,e),c=await ll._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function VR(s,e,i,a){return Tn(s).onIdTokenChanged(e,i,a)}function kR(s,e,i){return Tn(s).beforeAuthStateChanged(e,i)}function jR(s,e,i,a){return Tn(s).onAuthStateChanged(e,i,a)}function Bc(s){return Tn(s).signOut()}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=1e3,UR=10;class LT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);pR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,UR):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},LR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}LT.type="LOCAL";const zR=LT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}UT.type="SESSION";const zT=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Rh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await PR(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=mp("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const I=A;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(I.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function qR(s){ki().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function HR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function FR(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="firebaseLocalStorageDb",QR=1,ch="firebaseLocalStorage",qT="fbase_key";class Jo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ch(s,e){return s.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function KR(){const s=indexedDB.deleteDatabase(BT);return new Jo(s).toPromise()}function Em(){const s=indexedDB.open(BT,QR);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ch,{keyPath:qT})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ch)?e(a):(a.close(),await KR(),e(await Em()))})})}async function ov(s,e,i){const a=Ch(s,!0).put({[qT]:e,value:i});return new Jo(a).toPromise()}async function YR(s,e){const i=Ch(s,!1).get(e),a=await new Jo(i).toPromise();return a===void 0?null:a.value}function uv(s,e){const i=Ch(s,!0).delete(e);return new Jo(i).toPromise()}const XR=800,$R=3;class HT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>$R)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(FR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,a;if(this.activeServiceWorker=await HR(),!this.activeServiceWorker)return;this.sender=new BR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await ov(e,uh,"1"),await uv(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>ov(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>YR(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>uv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ch(o,!1).getAll();return new Jo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HT.type="LOCAL";const JR=HT;new Xo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(s,e){return e?ls(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends VT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Jr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Jr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function ZR(s){return OR(s.auth,new pp(s),s.bypassAuthState)}function WR(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),MR(i,new pp(s),s.bypassAuthState)}async function eC(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),DR(i,new pp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZR;case"linkViaPopup":case"linkViaRedirect":return eC;case"reauthViaPopup":case"reauthViaRedirect":return WR;default:Ui(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Xo(2e3,1e4);async function nC(s,e,i){if(ii(s.app))return Promise.reject(li(s,"operation-not-supported-in-this-environment"));const a=xh(s);Jx(s,e,dp);const o=GT(a,i);return new Ha(a,"signInViaPopup",e,o).executeNotNull()}class Ha extends FT{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if((a=(i=this.authWindow)==null?void 0:i.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tC.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="pendingRedirect",qc=new Map;class sC extends FT{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const a=await aC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aC(s,e){const i=oC(e),a=lC(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function rC(s,e){qc.set(s._key(),e)}function lC(s){return ls(s._redirectPersistence)}function oC(s){return Pc(iC,s.config.apiKey,s.name)}async function uC(s,e,i=!1){if(ii(s.app))return Promise.reject(Qa(s));const a=xh(s),o=GT(a,e),d=await new sC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=600*1e3;class hC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!QT(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";i.onError(li(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cC&&this.cachedEventUids.clear(),this.cachedEventUids.has(cv(e))}saveEventToCache(e){this.cachedEventUids.add(cv(e)),this.lastProcessedEventTime=Date.now()}}function cv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function QT({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(s,e={}){return ml(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pC=/^https?/;async function gC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await dC(s);for(const i of e)try{if(yC(i))return}catch{}Ui(s,"unauthorized-domain")}function yC(s){const e=vm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!pC.test(i))return!1;if(mC.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Xo(3e4,6e4);function hv(){const s=ki().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function vC(s){return new Promise((e,i)=>{var o,c,d;function a(){hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hv(),i(li(s,"network-request-failed"))},timeout:_C.get()})}if((c=(o=ki().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=ki().gapi)!=null&&d.load)a();else{const p=AR("iframefcb");return ki()[p]=()=>{gapi.load?a():i(li(s,"network-request-failed"))},bR(`${SR()}?onload=${p}`).catch(y=>i(y))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function TC(s){return Hc=Hc||vC(s),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Xo(5e3,15e3),bC="__/auth/iframe",SC="emulator/auth/iframe",AC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xC(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?op(e,SC):`https://${s.config.authDomain}/${bC}`,a={apiKey:e.apiKey,appName:s.name,v:ul},o=wC.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${qo(a).slice(1)}`}async function RC(s){const e=await TC(s),i=ki().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:xC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AC,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=li(s,"network-request-failed"),p=ki().setTimeout(()=>{c(d)},EC.get());function y(){ki().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NC=500,IC=600,DC="_blank",MC="http://localhost";class fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OC(s,e,i,a=NC,o=IC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...CC,width:a.toString(),height:o.toString(),top:c,left:d},_=rn().toLowerCase();i&&(p=xT(_)?DC:i),AT(_)&&(e=e||MC,y.scrollbars="yes");const b=Object.entries(y).reduce((I,[H,G])=>`${I}${H}=${G},`,"");if(mR(_)&&p!=="_self")return VC(e||"",p),new fv(null);const A=window.open(e||"",p,b);Te(A,s,"popup-blocked");try{A.focus()}catch{}return new fv(A)}function VC(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="__/auth/handler",jC="emulator/auth/handler",LC=encodeURIComponent("fac");async function dv(s,e,i,a,o,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ul,eventId:o};if(e instanceof dp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",p2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof $o){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await s._getAppCheckToken(),_=y?`#${LC}=${encodeURIComponent(y)}`:"";return`${UC(s)}?${qo(p).slice(1)}${_}`}function UC({config:s}){return s.emulator?op(s,jC):`https://${s.authDomain}/${kC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zT,this._completeRedirectFn=uC,this._overrideRedirectResult=rC}async _openPopup(e,i,a,o){var d;fs((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await dv(e,i,a,vm(),o);return OC(e,c,mp())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await dv(e,i,a,vm(),o);return qR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(fs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await RC(e),a=new hC(e);return i.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Yd,{type:Yd},o=>{var d;const c=(d=o==null?void 0:o[0])==null?void 0:d[Yd];c!==void 0&&i(!!c),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=gC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return DT()||wT()||hp()}}const PC=zC;var mv="@firebase/auth",pv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HC(s){Wr(new Ya("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MT(s)},_=new TR(a,o,c,y);return xR(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Wr(new Ya("auth-internal",e=>{const i=xh(e.getProvider("auth").getImmediate());return(a=>new BC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(mv,pv,qC(s)),na(mv,pv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=300,FC=Nv("authIdTokenMaxAge")||GC;let gv=null;const QC=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>FC)return;const o=i==null?void 0:i.token;gv!==o&&(gv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KC(s=kv()){const e=Cm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=wR(s,{popupRedirectResolver:PC,persistence:[JR,zR,zT]}),a=Nv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=QC(c.toString());kR(i,d,()=>d(i.currentUser)),VR(i,p=>d(p))}}const o=Rv("auth");return o&&RR(i,`http://${o}`),i}function YC(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}ER({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=li("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",YC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HC("Browser");const XC={apiKey:"AIzaSyBW5v_7kGitttrnCBQwYVPG9TiSPXdNaNc",authDomain:"guam-5eaff.firebaseapp.com",projectId:"guam-5eaff",storageBucket:"guam-5eaff.firebasestorage.app",messagingSenderId:"94280815489",appId:"1:94280815489:web:669d6fc05c097397bb8e80",measurementId:"G-0NNCC31G7E"};let Xd,Gt,Ii;try{Xd=Vv(XC),Gt=Dx(Xd),Ii=KC(Xd)}catch(s){console.error("Firebase init error",s)}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=s=>{const e=JC(s);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Re.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>Re.createElement("svg",{ref:y,...ZC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:KT("lucide",o),...!c&&!WC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>Re.createElement(_,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(s,e)=>{const i=Re.forwardRef(({className:a,...o},c)=>Re.createElement(eN,{ref:c,iconNode:e,className:KT(`lucide-${$C(yv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=yv(s),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],nN=Ie("arrow-right-left",tN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_v=Ie("arrow-right",iN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],YT=Ie("bed",sN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],rN=Ie("briefcase",aN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],vv=Ie("bus",lN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],XT=Ie("camera",oN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],hh=Ie("car",uN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$T=Ie("check",cN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],fN=Ie("clipboard-check",hN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mN=Ie("clock",dN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],gN=Ie("cloud-rain",pN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],_N=Ie("cloud",yN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],TN=Ie("coffee",vN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],bN=Ie("coins",EN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],AN=Ie("credit-card",SN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xN=Ie("dollar-sign",wN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],CN=Ie("ellipsis",RN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],IN=Ie("file-text",NN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Tv=Ie("footprints",DN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],ON=Ie("hotel",MN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kN=Ie("info",VN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],LN=Ie("list-todo",jN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],JT=Ie("loader-circle",UN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PN=Ie("log-out",zN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qN=Ie("mail",BN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bm=Ie("map-pin",HN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Gc=Ie("plane",GN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ZT=Ie("plus",FN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Ev=Ie("receipt",QN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],YN=Ie("send",KN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$N=Ie("shield-check",XN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Nh=Ie("shopping-bag",JN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],WT=Ie("square-pen",ZN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],eI=Ie("sun",WN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Sm=Ie("ticket",tI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ih=Ie("trash-2",nI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sI=Ie("triangle-alert",iI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rI=Ie("upload",aI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oI=Ie("user",lI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mo=Ie("users",uI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],hI=Ie("utensils",cI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],eE=Ie("x",fI),dI=({currentTab:s,onTabChange:e,title:i,subtitle:a,coverImage:o,onOpenMembers:c})=>{const d=p=>`w-[42px] h-[42px] rounded-full flex items-center justify-center transition-all duration-300 ${s===p?"bg-guam-teal text-white scale-110 shadow-lg shadow-guam-teal/40":"text-slate-400"}`;return T.jsxs("div",{className:"relative h-[260px] bg-white rounded-b-[40px] shadow-lg overflow-hidden z-10",children:[T.jsxs("div",{className:"w-full h-full relative",children:[T.jsx("img",{src:o,alt:i,className:"w-full h-full object-cover"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-guam-teal/20 to-transparent"}),T.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 flex justify-between items-start",children:[T.jsxs("div",{className:"text-white drop-shadow-md mt-6",children:[T.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:i}),T.jsx("p",{className:"text-sm font-medium opacity-90 tracking-widest uppercase",children:a})]}),T.jsx("button",{onClick:c,className:"bg-white/20 backdrop-blur-md text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors mt-6 border border-white/30",children:T.jsx(Mo,{size:20})})]})]}),T.jsxs("div",{className:"absolute bottom-5 right-5 z-30 flex gap-2.5 bg-white/90 backdrop-blur-md p-2 rounded-full shadow-sm",children:[T.jsx("button",{onClick:()=>e("itinerary"),className:d("itinerary"),children:T.jsx(hh,{size:20})}),T.jsx("button",{onClick:()=>e("info"),className:d("info"),children:T.jsx(kN,{size:20})}),T.jsx("button",{onClick:()=>e("shopping"),className:d("shopping"),children:T.jsx(Nh,{size:20})}),T.jsx("button",{onClick:()=>e("planning"),className:d("planning"),children:T.jsx(fN,{size:20})}),T.jsx("button",{onClick:()=>e("expenses"),className:d("expenses"),children:T.jsx(xN,{size:20})})]})]})},Am=32.5,Zr={title:"Guam Vacation",subtitle:"Feb 07 - Feb 11, 2026",coverImage:"https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?q=80&w=2069&auto=format&fit=crop"},mI=[{date:"2/07",weekday:"SAT",hasCar:!1},{date:"2/08",weekday:"SUN",hasCar:!0},{date:"2/09",weekday:"MON",hasCar:!0},{date:"2/10",weekday:"TUE",hasCar:!0},{date:"2/11",weekday:"WED",hasCar:!1}],pI=[{condition:"sunny",temp:"29"},{condition:"cloudy",temp:"28"},{condition:"rain",temp:"27"},{condition:"sunny",temp:"30"},{condition:"sunny",temp:"29"}],Eo=[{id:"1",name:"YVONNE",email:"a0988034625@gmail.com"},{id:"2",name:"JOE",email:"hope78121@gmail.com"},{id:"3",name:"Member B",email:"member2@example.com"}],Xs={itinerary:[[{id:101,name:"",category:"transport",startTime:"16:50",address:"Antonio B. Won Pat International Airport",note:"",transportType:"flight",travelTime:""},{id:102,name:"Bayview Hotel Check-in",category:"accommodation",startTime:"17:30",address:"Bayview Hotel Guam",note:"",transportType:"transport",travelTime:"15m"},{id:103,name:" ()",category:"sightseeing",startTime:"18:00",address:"Plaza de Espaa",note:"",hours:"Open 24H",price:"Free",transportType:"transport",travelTime:"10m"},{id:104,name:"",category:"sightseeing",startTime:"18:40",address:"Paseo de Susana Park",note:"",transportType:"walk",travelTime:"5m"},{id:105,name:": Agana Shopping Center",category:"food",startTime:"19:30",address:"Agana Shopping Center",note:" BBQ  Chamorro ",hours:"10:00-20:00",price:"~$30",transportType:"transport",travelTime:"5m"}],[{id:201,name:" & ",category:"transport",startTime:"09:00",address:"Nippon Rent-A-Car",note:"",transportType:"car",travelTime:""},{id:202,name:"",category:"sightseeing",startTime:"10:00",address:"Fish Eye Marine Park",note:"",hours:"08:00-17:00",price:"$16",transportType:"car",travelTime:"20m"},{id:203,name:"Umatac ",category:"sightseeing",startTime:"11:30",address:"Umatac Bay Park",note:"",price:"Free",transportType:"car",travelTime:"30m"},{id:204,name:"Inarajan ",category:"sightseeing",startTime:"13:00",address:"Inarajan Natural Pool",note:"",price:"Free",transportType:"car",travelTime:"20m"},{id:206,name:" Two Lovers Point",category:"sightseeing",startTime:"15:30",address:"Two Lovers Point",note:"",hours:"07:00-19:00",price:"$3",transportType:"car",travelTime:"45m"},{id:207,name:"Crowne Plaza Check-in",category:"accommodation",startTime:"17:00",address:"Crowne Plaza Resort Guam",note:" + ",transportType:"car",travelTime:"15m"}],[{id:301,name:": Crowne Plaza",category:"accommodation",startTime:"10:30",address:"Crowne Plaza Resort Guam",note:"",transportType:"transport",travelTime:""},{id:302,name:"Hoshino Resorts Check-in",category:"accommodation",startTime:"11:00",address:"Hoshino Resorts RISONARE Guam",note:"Check-in ",transportType:"transport",travelTime:"10m"},{id:303,name:"",category:"ticket",startTime:"11:30",address:"Hoshino Resorts RISONARE Guam",note:"SUP",price:"Free for guests",transportType:"walk",travelTime:"0m"},{id:306,name:": Hoshino / Tumon",category:"food",startTime:"18:30",address:"Hoshino Resorts RISONARE Guam",note:" + ",transportType:"walk",travelTime:"0m"}],[{id:402,name:"Guam Plaza Check-in",category:"accommodation",startTime:"10:30",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:404,name:"Plaza Spa ",category:"ticket",startTime:"12:30",address:"Guam Plaza Resort",note:"",price:"~$80",transportType:"walk",travelTime:"5m"},{id:405,name:"DFS / Micronesia Mall",category:"shopping",startTime:"14:30",address:"T Galleria by DFS",note:"",hours:"10:00-20:00",transportType:"transport",travelTime:"10m"},{id:406,name:": Hard Rock Cafe",category:"food",startTime:"19:00",address:"Hard Rock Cafe Guam",note:"",hours:"11:00-22:00",price:"~$40",transportType:"walk",travelTime:"5m"}],[{id:501,name:" & ",category:"transport",startTime:"05:00",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:503,name:"",category:"transport",startTime:"07:30",address:"Guam Airport",note:"",transportType:"flight",travelTime:"4h30m"},{id:504,name:"",category:"transport",startTime:"10:00",address:"Taoyuan Airport",note:"",transportType:"flight",travelTime:""}]],shopping:[{id:1,name:"Banana Boat  (SPF110)",note:"ABC Store "},{id:2,name:"Godiva ",note:"Macy's "},{id:3,name:"Guam  (6)",note:""}],expenses:[{id:1,name:" (TPE-GUM)",amount:650,category:"transport",date:"01/15",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:650}]},{id:2,name:"Bayview Hotel ",amount:150,category:"accommodation",date:"01/20",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:50},{memberId:"2",amount:50},{memberId:"3",amount:50}]},{id:3,name:"Wifi ",amount:30,category:"ticket",date:"02/07",payment:"Card",payerId:"2",splits:[{memberId:"1",amount:10},{memberId:"2",amount:10},{memberId:"3",amount:10}]}],planning:[{id:1,title:" (>6)",category:"documents",completed:!0,assignedTo:"All"},{id:2,title:"",category:"documents",completed:!1,assignedTo:"Mom"},{id:3,title:"/",category:"documents",completed:!1,assignedTo:"Sister1"},{id:4,title:"/",category:"luggage",completed:!1,assignedTo:"All"},{id:5,title:"/Gopro",category:"luggage",completed:!1,assignedTo:"Sister2"},{id:6,title:"",category:"todo",completed:!0,assignedTo:"Mom"}]},gI=({members:s,onLogin:e})=>{const[i,a]=Re.useState(""),[o,c]=Re.useState(!1),d=async()=>{if(!Ii){a("Firebase Auth  firebaseConfig.ts");return}c(!0),a("");const p=new as;try{const b=(await nC(Ii,p)).user.email;let A=s;if(Gt)try{const H=await pT(_m(Gt,"members"));H.empty||(A=H.docs.map(G=>({id:G.id,...G.data()})))}catch(H){console.warn("Could not fetch members immediately:",H)}const I=A.find(H=>{var G;return((G=H.email)==null?void 0:G.toLowerCase())===(b==null?void 0:b.toLowerCase())});I?e(I):(await Bc(Ii),a(` Email (${b}) `))}catch(y){console.error("Login Error:",y),a(": "+y.message)}finally{c(!1)}};return T.jsxs("div",{className:"min-h-screen bg-guam-sand flex flex-col items-center justify-center relative overflow-hidden",children:[T.jsxs("div",{className:"absolute inset-0 z-0",children:[T.jsx("img",{src:Zr.coverImage,alt:"background",className:"w-full h-full object-cover opacity-80"}),T.jsx("div",{className:"absolute inset-0 bg-guam-navy/40 backdrop-blur-sm"})]}),T.jsxs("div",{className:"relative z-10 w-full max-w-md p-8 animate-fade-in flex flex-col items-center",children:[T.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-8 rounded-[3rem] shadow-2xl w-full text-center",children:[T.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-md tracking-tight",children:Zr.title}),T.jsx("p",{className:"text-white/80 font-medium tracking-widest uppercase mb-8",children:Zr.subtitle}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 text-white/80 text-sm leading-relaxed border border-white/5",children:[T.jsxs("p",{className:"flex items-center justify-center gap-2 mb-2 font-bold text-white",children:[T.jsx($N,{size:18,className:"text-guam-teal"}),"Private Access"]})," Google  Email "]}),T.jsx("button",{onClick:d,disabled:o,className:"w-full py-4 bg-white text-slate-700 rounded-2xl font-bold text-lg shadow-lg hover:bg-slate-50 hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3 disabled:opacity-70 disabled:cursor-not-allowed group",children:o?T.jsx(JT,{className:"animate-spin text-guam-navy"}):T.jsxs(T.Fragment,{children:[T.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-5 h-5"}),T.jsx("span",{children:"Google "})]})}),i&&T.jsxs("div",{className:"flex items-start gap-2 text-left bg-red-500/90 backdrop-blur text-white p-4 rounded-2xl border border-red-400/50 shadow-lg",children:[T.jsx(sI,{size:20,className:"shrink-0 mt-0.5"}),T.jsx("p",{className:"text-sm font-medium leading-relaxed",children:i})]})]})]}),T.jsx("p",{className:"text-white/40 text-xs mt-8 font-medium",children:"Protected by Google Firebase"})]})]})},yI=({dates:s,weather:e,items:i,selectedDateIndex:a,onDateSelect:o,onEdit:c})=>{const[d,p]=Re.useState([]),y=G=>{d.includes(G)?p(d.filter(K=>K!==G)):p([...d,G])},_=G=>{switch(G){case"rain":return T.jsx(gN,{className:"text-guam-ocean"});case"cloudy":return T.jsx(_N,{className:"text-slate-400"});default:return T.jsx(eI,{className:"text-guam-sun"})}},b=G=>{switch(G){case"car":return T.jsx(hh,{size:14});case"flight":return T.jsx(Gc,{size:14});case"walk":return T.jsx(Tv,{size:14});default:return T.jsx(vv,{size:14})}},A=G=>{switch(G){case"food":return T.jsx(hI,{size:20});case"shopping":return T.jsx(Nh,{size:20});case"accommodation":return T.jsx(YT,{size:20});case"ticket":return T.jsx(Sm,{size:20});case"transport":return T.jsx(vv,{size:20});default:return T.jsx(XT,{size:20})}},I=G=>{switch(G){case"sightseeing":return"bg-guam-teal";case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"accommodation":return"bg-indigo-500";case"transport":return"bg-slate-500";case"ticket":return"bg-guam-sun";default:return"bg-guam-teal"}},H=G=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(G+" Guam")}`,"_blank")};return T.jsxs("div",{className:"animate-fade-in pb-24",children:[T.jsx("div",{className:"flex overflow-x-auto hide-scrollbar space-x-3 pb-4 mb-2 px-1 sticky top-0 z-20 bg-guam-sand/95 backdrop-blur-sm pt-4 -mx-4 px-4 border-b border-guam-teal/10",children:s.map((G,K)=>T.jsxs("div",{onClick:()=>o(K),className:`flex-shrink-0 w-[58px] h-[70px] rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all duration-300 border-2 shadow-sm ${a===K?"bg-guam-teal text-white border-guam-teal shadow-lg scale-105":"bg-white text-slate-400 border-white hover:bg-white/60"}`,children:[T.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:G.weekday}),T.jsx("span",{className:"text-sm font-bold",children:G.date})]},K))}),T.jsxs("div",{className:"mb-6 bg-gradient-to-r from-guam-teal/10 to-transparent border border-guam-teal/20 rounded-3xl p-4 flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center text-guam-teal space-x-3",children:[T.jsx("div",{className:"text-4xl drop-shadow-sm",children:_(e[a].condition)}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-baseline",children:[T.jsx("span",{className:"text-2xl font-bold",children:e[a].temp}),T.jsx("span",{className:"text-xs ml-1",children:"C"})]}),T.jsx("span",{className:"text-xs font-medium block text-slate-500 capitalize",children:e[a].condition})]})]}),T.jsx("div",{className:"text-right text-xs",children:s[a].hasCar?T.jsxs("span",{className:"inline-flex items-center bg-guam-navy/10 text-guam-navy px-3 py-1.5 rounded-full font-bold",children:[T.jsx(hh,{size:12,className:"mr-1.5"})," "]}):T.jsxs("span",{className:"inline-flex items-center bg-slate-100 text-slate-500 px-3 py-1.5 rounded-full",children:[T.jsx(Tv,{size:12,className:"mr-1.5"})," /"]})})]}),T.jsxs("div",{className:"space-y-6",children:[i.map((G,K)=>T.jsxs("div",{className:"relative group",children:[K>0&&T.jsxs("div",{className:"pl-8 pb-3 flex items-center text-xs text-slate-400 relative",children:[T.jsx("div",{className:"h-full w-0.5 bg-guam-teal/20 absolute left-[27px] -top-6 bottom-0"}),T.jsxs("div",{className:"ml-2 flex items-center bg-white/50 px-2 py-0.5 rounded-full backdrop-blur-sm",children:[T.jsx("span",{className:"mr-1.5 text-guam-teal",children:b(G.transportType)}),T.jsx("span",{className:"font-medium",children:G.travelTime||""})]})]}),T.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-[2rem] p-5 shadow-[0_8px_20px_-6px_rgba(13,148,136,0.1)] border border-white/60 relative overflow-hidden flex items-start",children:[T.jsxs("div",{className:"mr-4 flex flex-col items-center min-w-[50px]",children:[T.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shadow-md mb-1.5 ${I(G.category)}`,children:A(G.category)}),G.startTime&&T.jsx("span",{className:"text-xs font-bold text-guam-navy tracking-tight",children:G.startTime})]}),T.jsxs("div",{className:"flex-1 min-w-0 pr-8",children:[T.jsx("h3",{className:"text-lg font-bold text-slate-800 leading-tight mb-1 truncate",children:G.name}),T.jsxs("div",{className:"text-xs text-slate-500 space-y-1 mb-2",children:[G.hours&&T.jsxs("p",{className:"flex items-center",children:[T.jsx(mN,{size:12,className:"mr-1.5 text-guam-teal"})," ",G.hours]}),G.price&&T.jsxs("p",{className:"flex items-center",children:[T.jsx(Sm,{size:12,className:"mr-1.5 text-guam-teal"})," ",G.price]}),G.address&&T.jsxs("p",{className:"flex items-center truncate",children:[T.jsx(bm,{size:12,className:"mr-1.5 text-guam-teal"})," ",G.address]})]}),G.note&&T.jsxs("div",{className:"bg-guam-sand/60 p-2.5 rounded-xl border border-guam-teal/10",children:[T.jsx("div",{className:`text-xs text-slate-600 leading-relaxed overflow-hidden transition-all ${d.includes(G.id)?"max-h-96":"max-h-10 line-clamp-2"}`,children:G.note}),G.note.length>40&&T.jsx("button",{onClick:L=>{L.stopPropagation(),y(G.id)},className:"text-[10px] text-guam-teal font-bold mt-1 flex items-center",children:d.includes(G.id)?"":"..."})]})]}),T.jsxs("div",{className:"absolute top-4 right-3 flex flex-col gap-2",children:[T.jsx("button",{onClick:()=>H(G.address||G.name),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-teal hover:text-white transition-all shadow-sm",children:T.jsx(bm,{size:14})}),T.jsx("button",{onClick:()=>c(G),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-navy hover:text-white transition-all shadow-sm",children:T.jsx(WT,{size:14})})]})]})]},G.id)),i.length===0&&T.jsx("div",{className:"text-center py-20 opacity-40",children:T.jsx("p",{className:"text-sm font-medium",children:""})})]})]})},_I=()=>{const[s,e]=Re.useState("100"),i=Math.round((parseFloat(s)||0)*Am),a=o=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(o+" Guam")}`,"_blank")};return T.jsxs("div",{className:"space-y-6 animate-fade-in pb-24",children:[T.jsxs("div",{className:"bg-gradient-to-br from-guam-navy to-guam-teal rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-10 -mt-10 blur-2xl"}),T.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center relative z-10",children:[T.jsx(bN,{className:"mr-2",size:20}),"  (USD)"]}),T.jsxs("div",{className:"flex items-center justify-between gap-4 relative z-10",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"USD ()"}),T.jsx("input",{type:"number",value:s,onChange:o=>e(o.target.value),className:"w-full bg-white/20 border border-white/30 rounded-xl px-3 py-2 text-white placeholder-white/50 focus:outline-none text-xl font-bold"})]}),T.jsx(nN,{className:"text-white/50 mt-4",size:20}),T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"TWD ()"}),T.jsx("div",{className:"w-full bg-white/10 rounded-xl px-3 py-2 text-white text-xl font-bold border border-transparent",children:i.toLocaleString()})]})]}),T.jsxs("p",{className:"text-[10px] text-cyan-200 mt-3 text-right opacity-70",children:[": ",Am]})]}),T.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[T.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[T.jsx(Gc,{className:"text-guam-coral mr-2",size:20})," "]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("span",{className:"bg-guam-navy text-white text-[10px] px-2 py-0.5 rounded",children:" (2/7)"}),T.jsx("span",{className:"text-xs font-bold text-slate-400",children:"CI "})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"11:00"}),T.jsx("span",{className:"text-xs text-slate-400",children:"TPE"})]}),T.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[T.jsx("span",{className:"text-[10px] text-slate-400",children:"3h 50m"}),T.jsx("div",{className:"w-full h-px bg-slate-300 relative my-1",children:T.jsx(Gc,{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-slate-300 bg-slate-50",size:12})})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"16:50"}),T.jsx("span",{className:"text-xs text-slate-400",children:"GUM"})]})]})]}),T.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("span",{className:"bg-guam-teal text-white text-[10px] px-2 py-0.5 rounded",children:" (2/11)"}),T.jsx("span",{className:"text-xs font-bold text-slate-400",children:"CI "})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"07:30"}),T.jsx("span",{className:"text-xs text-slate-400",children:"GUM"})]}),T.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[T.jsx("span",{className:"text-[10px] text-slate-400",children:"4h 30m"}),T.jsx("div",{className:"w-full h-px bg-slate-300 relative my-1",children:T.jsx(Gc,{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-slate-300 bg-slate-50",size:12})})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"10:00"}),T.jsx("span",{className:"text-xs text-slate-400",children:"TPE"})]})]})]})]})]}),T.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[T.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[T.jsx(ON,{className:"text-guam-teal mr-2",size:20})," "]}),T.jsx("div",{className:"space-y-4",children:[{date:"2/7 (Sat)",name:"Bayview Hotel Guam",cn:""},{date:"2/8 (Sun)",name:"Crowne Plaza Resort",cn:""},{date:"2/9 (Mon)",name:"Hoshino Resorts RISONARE",cn:""},{date:"2/10 (Tue)",name:"Guam Plaza Resort",cn:"Spa"}].map((o,c)=>T.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-3 last:border-0",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-[10px] bg-slate-100 px-2 py-0.5 rounded text-slate-500 font-bold",children:o.date}),T.jsx("h4",{className:"font-bold text-slate-700 text-sm mt-1",children:o.name}),T.jsx("p",{className:"text-xs text-slate-400",children:o.cn})]}),T.jsx("button",{onClick:()=>a(o.name),className:"w-8 h-8 rounded-full bg-slate-50 text-guam-teal flex items-center justify-center hover:bg-guam-teal hover:text-white transition-colors",children:T.jsx(bm,{size:14})})]},c))})]})]})},vI=({items:s,onRemove:e,onAddClick:i})=>T.jsx("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.map(a=>T.jsxs("div",{className:"bg-white rounded-3xl p-4 shadow-[0_8px_20px_-6px_rgba(0,0,0,0.05)] relative group border border-white/60",children:[T.jsxs("div",{className:"aspect-square bg-slate-50 rounded-2xl mb-4 overflow-hidden relative flex items-center justify-center shadow-inner",children:[a.image?T.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"}):T.jsx(Nh,{className:"text-slate-200",size:40}),T.jsx("button",{onClick:()=>e(a.id),className:"absolute top-2 right-2 bg-red-500/90 backdrop-blur text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-lg active:scale-90",children:T.jsx(eE,{size:16})})]}),T.jsx("p",{className:"font-bold text-base text-slate-800 truncate px-1 mb-0.5",children:a.name}),T.jsx("p",{className:"text-xs text-slate-400 px-1 truncate font-medium",children:a.note||""})]},a.id)),T.jsxs("div",{onClick:i,className:"bg-white/40 border-2 border-dashed border-slate-300/50 rounded-3xl p-4 flex flex-col items-center justify-center cursor-pointer min-h-[180px] hover:bg-white/80 transition-all hover:border-guam-teal/50 group hover:shadow-lg hover:-translate-y-1",children:[T.jsx("div",{className:"w-14 h-14 rounded-full bg-slate-100 flex items-center justify-center mb-3 group-hover:bg-guam-teal group-hover:text-white transition-colors shadow-sm",children:T.jsx(ZT,{size:24,className:"text-slate-300 group-hover:text-white"})}),T.jsx("span",{className:"text-sm text-slate-400 font-bold group-hover:text-guam-teal transition-colors",children:""})]})]})}),TI=({expenses:s,onRemove:e,onEdit:i,members:a=[]})=>{const[o,c]=Re.useState("list"),d=s.reduce((L,Y)=>L+Y.amount,0),p=Math.round(d*Am),y=L=>{var Y;return((Y=a.find(ne=>ne.id===L))==null?void 0:Y.name)||"Unknown"},_=L=>{var Y;return(Y=a.find(ne=>ne.id===L))==null?void 0:Y.avatarUrl},b=L=>{switch(L){case"food":return T.jsx(TN,{size:14});case"shopping":return T.jsx(Nh,{size:14});case"transport":return T.jsx(hh,{size:14});case"accommodation":return T.jsx(YT,{size:14});case"other":return T.jsx(CN,{size:14});default:return T.jsx(Sm,{size:14})}},A=L=>{switch(L){case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"transport":return"bg-slate-500";case"accommodation":return"bg-indigo-500";case"other":return"bg-slate-400";default:return"bg-guam-sun"}},H=(()=>{const L={};return a.forEach(Y=>{L[Y.id]={paid:0,share:0,net:0}}),s.forEach(Y=>{L[Y.payerId]||(L[Y.payerId]={paid:0,share:0,net:0}),L[Y.payerId].paid+=Y.amount,Y.splits&&Y.splits.length>0?Y.splits.forEach(ne=>{L[ne.memberId]||(L[ne.memberId]={paid:0,share:0,net:0}),L[ne.memberId].share+=ne.amount}):L[Y.payerId].share+=Y.amount}),Object.keys(L).forEach(Y=>{L[Y].net=L[Y].paid-L[Y].share}),L})(),K=(()=>{let L=[],Y=[];Object.keys(H).forEach(Ee=>{const he=H[Ee].net;Math.abs(he)<.01||(he<0?L.push({id:Ee,amount:-he}):Y.push({id:Ee,amount:he}))}),L.sort((Ee,he)=>he.amount-Ee.amount),Y.sort((Ee,he)=>he.amount-Ee.amount);const ne=[];let ae=0,De=0;for(;ae<L.length&&De<Y.length;){const Ee=L[ae],he=Y[De],C=Math.min(Ee.amount,he.amount);C>0&&ne.push({fromId:Ee.id,toId:he.id,amount:parseFloat(C.toFixed(2))}),Ee.amount-=C,he.amount-=C,Ee.amount<.01&&ae++,he.amount<.01&&De++}return ne})();return T.jsxs("div",{className:"animate-fade-in pb-24",children:[T.jsxs("div",{className:"flex bg-white rounded-2xl p-1 mb-6 shadow-sm border border-slate-100",children:[T.jsxs("button",{onClick:()=>c("list"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="list"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[T.jsx(Ev,{size:16,className:"mr-2"})," "]}),T.jsxs("button",{onClick:()=>c("settlement"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="settlement"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[T.jsx(Mo,{size:16,className:"mr-2"})," "]})]}),o==="list"?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"bg-guam-navy rounded-[2.5rem] p-8 mb-6 relative overflow-hidden text-white shadow-xl shadow-guam-navy/20",children:[T.jsx("div",{className:"absolute -right-12 -top-12 bg-guam-teal/30 w-56 h-56 rounded-full blur-3xl"}),T.jsx("div",{className:"absolute -left-10 bottom-0 bg-guam-coral/20 w-40 h-40 rounded-full blur-2xl"}),T.jsx("p",{className:"text-xs text-cyan-100/80 mb-1 relative z-10 font-medium tracking-wider",children:"TOTAL SPENT (USD)"}),T.jsxs("h2",{className:"text-5xl font-bold relative z-10 tracking-tight mb-2",children:["$",d.toLocaleString()]}),T.jsxs("p",{className:"text-sm text-right opacity-70 relative z-10",children:[" NT$ ",p.toLocaleString()]})]}),T.jsxs("div",{className:"bg-white rounded-t-[2.5rem] min-h-[400px] p-6 shadow-[0_-5px_30px_rgba(0,0,0,0.03)] -mx-4 px-8 pt-8 border-t border-slate-50",children:[T.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center text-sm tracking-wide",children:[T.jsx(Ev,{className:"text-guam-teal mr-2",size:16})," RECENT ACTIVITY"]}),T.jsxs("div",{className:"space-y-6",children:[s.map(L=>T.jsxs("div",{className:"flex items-center justify-between group",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white mr-4 shadow-sm ${A(L.category)}`,children:b(L.category)}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-slate-700 text-sm",children:L.name}),T.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-medium flex items-center gap-2",children:[T.jsxs("span",{children:[L.date,"  ",L.payment]}),T.jsxs("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-bold",children:[y(L.payerId)," "]})]})]})]}),T.jsxs("div",{className:"text-right",children:[T.jsxs("p",{className:"font-bold text-slate-800",children:["$",L.amount]}),T.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[T.jsxs("button",{onClick:()=>i(L),className:"text-[10px] text-guam-navy flex items-center",children:[T.jsx(WT,{size:10,className:"mr-1"})," "]}),T.jsxs("button",{onClick:()=>e(L.id),className:"text-[10px] text-red-300 flex items-center",children:[T.jsx(Ih,{size:10,className:"mr-1"})," "]})]})]})]},L.id)),s.length===0&&T.jsx("p",{className:"text-center text-slate-300 text-sm py-8",children:""})]})]})]}):T.jsxs("div",{className:"space-y-6",children:[K.length>0&&T.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-[0_5px_20px_rgba(13,148,136,0.1)] border border-guam-teal/20",children:[T.jsxs("h3",{className:"font-bold text-guam-teal mb-4 flex items-center text-sm tracking-wide",children:[T.jsx(YN,{size:16,className:"mr-2"}),"  (Transfer Guide)"]}),T.jsx("div",{className:"space-y-3",children:K.map((L,Y)=>T.jsxs("div",{className:"flex items-center justify-between bg-guam-sand/50 p-4 rounded-2xl border border-guam-teal/10 relative overflow-hidden",children:[T.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-guam-teal/5 z-0 pointer-events-none",children:T.jsx(_v,{size:60})}),T.jsx("div",{className:"flex items-center z-10",children:T.jsxs("div",{className:"text-center mr-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-slate-100 overflow-hidden shadow-sm mx-auto mb-1",children:_(L.fromId)?T.jsx("img",{src:_(L.fromId),className:"w-full h-full object-cover"}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:y(L.fromId)[0]})}),T.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:y(L.fromId)})]})}),T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center z-10 px-2",children:[T.jsx("p",{className:"text-[10px] text-slate-400 font-bold mb-1",children:"PAYS"}),T.jsx("div",{className:"bg-white px-3 py-1 rounded-full shadow-sm border border-guam-teal/20",children:T.jsxs("span",{className:"font-bold text-guam-teal text-lg",children:["$",L.amount]})}),T.jsx(_v,{size:14,className:"text-guam-teal/50 mt-1"})]}),T.jsx("div",{className:"flex items-center z-10",children:T.jsxs("div",{className:"text-center ml-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-guam-teal overflow-hidden shadow-sm mx-auto mb-1",children:_(L.toId)?T.jsx("img",{src:_(L.toId),className:"w-full h-full object-cover"}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:y(L.toId)[0]})}),T.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:y(L.toId)})]})})]},Y))})]}),T.jsxs("div",{className:"px-2",children:[T.jsx("h3",{className:"font-bold text-slate-400 mb-3 flex items-center text-xs tracking-wide uppercase px-2",children:" (Net Balance)"}),T.jsx("div",{className:"space-y-4",children:a.map(L=>{const Y=H[L.id]||{paid:0,share:0,net:0},ne=Y.net>=0;return T.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100 relative overflow-hidden opacity-90",children:[T.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${ne?"bg-guam-teal":"bg-guam-coral"}`}),T.jsxs("div",{className:"flex justify-between items-start mb-4 pl-2",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 mr-3 overflow-hidden border border-white shadow-sm",children:L.avatarUrl?T.jsx("img",{src:L.avatarUrl,className:"w-full h-full object-cover"}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs font-bold",children:L.name[0]})}),T.jsx("span",{className:"font-bold text-slate-800 text-lg",children:L.name})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider mb-0.5",children:ne?" (Receive)":" (Pay)"}),T.jsxs("p",{className:`text-xl font-bold ${ne?"text-guam-teal":"text-guam-coral"}`,children:["$",Math.abs(Y.net).toLocaleString()]})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-2",children:[T.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[T.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[T.jsx(AN,{size:10,className:"mr-1"})," "]}),T.jsxs("p",{className:"font-bold text-slate-700",children:["$",Y.paid.toLocaleString()]})]}),T.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[T.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[T.jsx(Mo,{size:10,className:"mr-1"})," "]}),T.jsxs("p",{className:"font-bold text-slate-700",children:["$",Y.share.toLocaleString()]})]})]})]},L.id)})})]}),s.length===0&&T.jsxs("div",{className:"text-center py-10 opacity-50",children:[T.jsx(Mo,{size:40,className:"mx-auto text-slate-300 mb-2"}),T.jsx("p",{className:"text-sm text-slate-400",children:""})]})]})]})},EI=({items:s,onToggle:e,onRemove:i})=>{var y,_;const[a,o]=Re.useState("todo"),c=b=>{switch(b){case"Mom":return"bg-red-50 text-red-500 border-red-100";case"Sister1":return"bg-blue-50 text-blue-500 border-blue-100";case"Sister2":return"bg-green-50 text-green-500 border-green-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},d=[{key:"todo",label:"",icon:T.jsx(LN,{size:18})},{key:"luggage",label:"",icon:T.jsx(rN,{size:18})},{key:"documents",label:"",icon:T.jsx(IN,{size:18})}],p=s.filter(b=>b.category===a);return T.jsxs("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:[T.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl shadow-sm mb-6 border border-slate-100 sticky top-0 z-10 mx-1",children:d.map(b=>T.jsxs("button",{onClick:()=>o(b.key),className:`flex-1 flex items-center justify-center py-3 text-sm font-bold rounded-xl transition-all ${a===b.key?"bg-guam-teal text-white shadow-md scale-100":"text-slate-400 hover:bg-slate-50 scale-95"}`,children:[T.jsx("span",{className:"mr-2 opacity-90",children:b.icon}),b.label]},b.key))}),T.jsx("div",{className:"space-y-4",children:p.map(b=>T.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.03)] border border-white flex items-center group transition-all hover:shadow-lg hover:-translate-y-0.5",children:[T.jsxs("label",{className:"flex items-center flex-1 cursor-pointer checkbox-wrapper select-none",children:[T.jsx("input",{type:"checkbox",checked:b.completed,onChange:()=>e(b.id),className:"hidden"}),T.jsx("div",{className:`w-7 h-7 rounded-xl border-2 mr-4 flex items-center justify-center transition-all duration-300 ${b.completed?"bg-guam-teal border-guam-teal rotate-6 scale-110":"border-slate-200 bg-slate-50 group-hover:border-guam-teal/50"}`,children:T.jsx($T,{size:16,className:"text-white hidden",strokeWidth:4})}),T.jsx("span",{className:`text-base font-bold transition-colors ${b.completed?"text-slate-300 line-through decoration-2 decoration-slate-200":"text-slate-700"}`,children:b.title})]}),T.jsxs("div",{className:"flex items-center pl-3",children:[T.jsx("span",{className:`text-[10px] px-3 py-1.5 rounded-full border font-bold whitespace-nowrap tracking-wide uppercase ${c(b.assignedTo)}`,children:b.assignedTo}),T.jsx("button",{onClick:()=>i(b.id),className:"ml-3 w-10 h-10 rounded-full bg-red-50 text-red-400 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all hover:bg-red-500 hover:text-white shadow-sm active:scale-90",children:T.jsx(Ih,{size:18})})]})]},b.id))}),p.length===0&&T.jsxs("div",{className:"text-center py-24 flex flex-col items-center justify-center opacity-50",children:[T.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-4 text-slate-300 shadow-sm",children:(y=d.find(b=>b.key===a))==null?void 0:y.icon}),T.jsxs("p",{className:"text-base font-bold text-slate-500",children:["",(_=d.find(b=>b.key===a))==null?void 0:_.label]}),T.jsx("p",{className:"text-sm text-slate-400 mt-1",children:""})]})]})},bI=({isOpen:s,onClose:e,onSave:i,onDelete:a,initialData:o})=>{const[c,d]=Re.useState({category:"sightseeing",transportType:"car"});return Re.useEffect(()=>{d(o?{...o}:{category:"sightseeing",transportType:"car",name:"",address:"",price:"",hours:"",note:"",startTime:""})},[o,s]),s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[T.jsx("h3",{className:"font-bold text-lg mb-6 text-center text-slate-800",children:o?"":""}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("select",{value:c.category,onChange:p=>d({...c,category:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",children:[T.jsx("option",{value:"sightseeing",children:""}),T.jsx("option",{value:"food",children:""}),T.jsx("option",{value:"shopping",children:""}),T.jsx("option",{value:"transport",children:""}),T.jsx("option",{value:"accommodation",children:""}),T.jsx("option",{value:"ticket",children:"/"}),T.jsx("option",{value:"other",children:""})]}),T.jsx("input",{placeholder:" (09:00)",value:c.startTime||"",onChange:p=>d({...c,startTime:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal text-center placeholder-slate-400"})]}),T.jsx("input",{placeholder:"",value:c.name||"",onChange:p=>d({...c,name:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal font-bold placeholder-slate-400"}),T.jsx("input",{placeholder:"",value:c.address||"",onChange:p=>d({...c,address:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsx("input",{placeholder:"",value:c.price||"",onChange:p=>d({...c,price:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"}),T.jsx("input",{placeholder:"",value:c.hours||"",onChange:p=>d({...c,hours:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"})]}),T.jsx("textarea",{placeholder:"",rows:3,value:c.note||"",onChange:p=>d({...c,note:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"})]}),T.jsxs("div",{className:"flex space-x-3 mt-8",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),o&&T.jsx("button",{onClick:()=>{a(o.id),e()},className:"w-12 bg-red-50 text-red-400 rounded-xl flex items-center justify-center",children:T.jsx(Ih,{size:18})}),T.jsx("button",{onClick:()=>{i(c),e()},className:"flex-[2] py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},SI=({isOpen:s,onClose:e,onSave:i})=>{const[a,o]=Re.useState(""),[c,d]=Re.useState(""),[p,y]=Re.useState(void 0),_=b=>{var I;const A=(I=b.target.files)==null?void 0:I[0];if(A){const H=new FileReader;H.onload=G=>{var K;return y((K=G.target)==null?void 0:K.result)},H.readAsDataURL(A)}};return s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[T.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:""}),T.jsx("input",{placeholder:"",value:a,onChange:b=>o(b.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsx("input",{placeholder:"",value:c,onChange:b=>d(b.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-4 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsxs("div",{className:"relative mb-6",children:[T.jsx("input",{type:"file",onChange:_,className:"hidden",id:"shopFileInput"}),T.jsx("label",{htmlFor:"shopFileInput",className:"w-full h-32 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl flex items-center justify-center cursor-pointer text-slate-400 hover:border-guam-teal transition-all overflow-hidden",children:p?T.jsx("img",{src:p,className:"w-full h-full object-cover",alt:"preview"}):T.jsxs("span",{className:"flex flex-col items-center text-xs",children:[T.jsx(XT,{className:"mb-2"})," "]})})]}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),T.jsx("button",{onClick:()=>{i({name:a,note:c,image:p}),e(),o(""),d(""),y(void 0)},className:"flex-1 py-3 rounded-xl bg-guam-navy text-white font-bold text-sm shadow-lg shadow-guam-navy/30",children:""})]})]})}):null},AI=({isOpen:s,onClose:e,onSave:i,members:a,initialData:o})=>{var G;const[c,d]=Re.useState({category:"food",payment:"Cash",amount:0}),[p,y]=Re.useState([]);Re.useEffect(()=>{var K;if(s)if(o){d(o);const L=o.splits||[];y(a.map(Y=>{const ne=L.find(ae=>ae.memberId===Y.id);return{id:Y.id,amount:ne?ne.amount:0,checked:!!ne}}))}else d({category:"food",payment:"Cash",amount:0,payerId:(K=a[0])==null?void 0:K.id}),y(a.map(L=>({id:L.id,amount:0,checked:!0})))},[s,a,o]);const _=(K,L)=>{const ne=L.filter(ae=>ae.checked).length;if(ne>0&&K>0){const ae=parseFloat((K/ne).toFixed(2)),De=parseFloat((K-ae*(ne-1)).toFixed(2));let Ee=0;return L.map(he=>he.checked?(Ee++,{...he,amount:Ee===ne?De:ae}):{...he,amount:0})}else return L.map(ae=>({...ae,amount:0}))},b=K=>{const L=parseFloat(K)||0;d(Y=>({...Y,amount:L})),y(Y=>_(L,Y))},A=K=>{const L=p.map(Y=>Y.id===K?{...Y,checked:!Y.checked}:Y);y(_(c.amount||0,L))},I=(K,L)=>{y(Y=>Y.map(ne=>ne.id===K?{...ne,amount:L}:ne))},H=()=>{var ne;const K=p.reduce((ae,De)=>ae+(De.checked?De.amount:0),0),L=c.amount||0;if(Math.abs(K-L)>.05){alert(` (${K})  (${L})`);return}const Y=p.filter(ae=>ae.checked).map(ae=>({memberId:ae.id,amount:ae.amount}));i({...c,splits:Y}),e(),d({category:"food",payment:"Cash",payerId:(ne=a[0])==null?void 0:ne.id,amount:0})};return s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in overflow-y-auto",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl my-auto",children:[T.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:o?"":" (USD)"}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[T.jsxs("select",{value:c.category,onChange:K=>d({...c,category:K.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[T.jsx("option",{value:"food",children:""}),T.jsx("option",{value:"shopping",children:""}),T.jsx("option",{value:"transport",children:""}),T.jsx("option",{value:"ticket",children:""}),T.jsx("option",{value:"accommodation",children:""}),T.jsx("option",{value:"other",children:""})]}),T.jsx("select",{value:c.payerId||((G=a[0])==null?void 0:G.id),onChange:K=>d({...c,payerId:K.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:a.map(K=>T.jsxs("option",{value:K.id,children:[": ",K.name]},K.id))})]}),T.jsxs("div",{className:"flex bg-slate-50 rounded-xl p-1 mb-3",children:[T.jsx("button",{onClick:()=>d({...c,payment:"Cash"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${c.payment==="Cash"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""}),T.jsx("button",{onClick:()=>d({...c,payment:"Card"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${c.payment==="Card"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""})]}),T.jsx("input",{placeholder:"",value:c.name||"",onChange:K=>d({...c,name:K.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"}),T.jsxs("div",{className:"relative mb-5",children:[T.jsx("span",{className:"absolute left-4 top-4 text-slate-400 font-bold",children:"$"}),T.jsx("input",{type:"number",placeholder:"0.00",value:c.amount||"",onChange:K=>b(K.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 pl-8 text-lg font-bold outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsxs("p",{className:"text-xs font-bold text-slate-400 mb-2 flex items-center",children:[T.jsx(Mo,{size:12,className:"mr-1"}),"  ()"]}),T.jsx("div",{className:"space-y-2 bg-slate-50 p-3 rounded-2xl max-h-[150px] overflow-y-auto",children:p.map(K=>{const L=a.find(Y=>Y.id===K.id);return T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{onClick:()=>A(K.id),className:`w-5 h-5 rounded-md border flex items-center justify-center mr-2 cursor-pointer transition-colors ${K.checked?"bg-guam-teal border-guam-teal":"border-slate-300 bg-white"}`,children:K.checked&&T.jsx($T,{size:12,className:"text-white"})}),T.jsx("span",{className:`text-sm ${K.checked?"text-slate-700":"text-slate-400"}`,children:L==null?void 0:L.name})]}),T.jsxs("div",{className:"relative w-24",children:[T.jsx("span",{className:`absolute left-2 top-1.5 text-xs ${K.checked?"text-slate-500":"text-slate-300"}`,children:"$"}),T.jsx("input",{type:"number",disabled:!K.checked,value:K.amount,onChange:Y=>I(K.id,parseFloat(Y.target.value)),className:`w-full rounded-lg py-1 pl-4 pr-2 text-right text-sm outline-none border ${K.checked?"bg-white border-slate-200 focus:border-guam-teal text-slate-800":"bg-transparent border-transparent text-slate-300"}`})]})]},K.id)})})]}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),T.jsx("button",{onClick:H,className:"flex-1 py-3 rounded-xl bg-guam-coral text-white font-bold text-sm shadow-lg shadow-guam-coral/30",children:""})]})]})}):null},wI=({isOpen:s,onClose:e,onSave:i,members:a})=>{const[o,c]=Re.useState({category:"todo",assignedTo:"All",completed:!1});return s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[T.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:""}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[T.jsxs("select",{value:o.category,onChange:d=>c({...o,category:d.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[T.jsx("option",{value:"todo",children:""}),T.jsx("option",{value:"luggage",children:""}),T.jsx("option",{value:"documents",children:""})]}),T.jsxs("select",{value:o.assignedTo,onChange:d=>c({...o,assignedTo:d.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[T.jsx("option",{value:"All",children:" (All)"}),a.map(d=>T.jsx("option",{value:d.name,children:d.name},d.id))]})]}),T.jsx("input",{placeholder:"",value:o.title||"",onChange:d=>c({...o,title:d.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-6 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),T.jsx("button",{onClick:()=>{i(o),e(),c({category:"todo",assignedTo:"All",completed:!1})},className:"flex-1 py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},xI=({isOpen:s,onClose:e,members:i,onAddMember:a,onRemoveMember:o,currentUser:c,onLogout:d})=>{const[p,y]=Re.useState(""),[_,b]=Re.useState(""),[A,I]=Re.useState(!1),[H,G]=Re.useState(null);if(!s)return null;const K=Y=>{var De;const ne=(De=Y.target.files)==null?void 0:De[0];if(!ne)return;I(!0);const ae=new FileReader;ae.onload=Ee=>{var C;const he=new Image;he.onload=()=>{const w=document.createElement("canvas"),R=200;let V=he.width,D=he.height;V>D?V>R&&(D*=R/V,V=R):D>R&&(V*=R/D,D=R),w.width=V,w.height=D;const k=w.getContext("2d");if(k){k.drawImage(he,0,0,V,D);const x=w.toDataURL("image/jpeg",.7);G(x)}I(!1)},he.src=(C=Ee.target)==null?void 0:C.result},ae.readAsDataURL(ne)},L=()=>{if(!p.trim()||!_.trim())return;const Y={id:Date.now().toString(),name:p,email:_.trim(),role:"Member"};H&&(Y.avatarUrl=H),a(Y),y(""),b(""),G(null)};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[T.jsx("h3",{className:"font-bold text-lg text-slate-800",children:""}),T.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:T.jsx(eE,{size:24})})]}),T.jsxs("div",{className:"space-y-3 mb-6 overflow-y-auto pr-2 flex-1 min-h-0",children:[i.map(Y=>T.jsxs("div",{className:`flex items-center justify-between p-2 rounded-xl border ${Y.id===(c==null?void 0:c.id)?"bg-guam-teal/5 border-guam-teal/30":"bg-slate-50 border-slate-100"}`,children:[T.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[T.jsx("div",{className:"w-10 h-10 shrink-0 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center border-2 border-white shadow-sm",children:Y.avatarUrl?T.jsx("img",{src:Y.avatarUrl,alt:Y.name,className:"w-full h-full object-cover"}):T.jsx(oI,{size:20,className:"text-slate-400"})}),T.jsxs("div",{className:"min-w-0",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"font-bold text-slate-700 block truncate",children:Y.name}),Y.id===(c==null?void 0:c.id)&&T.jsx("span",{className:"ml-2 text-[10px] bg-guam-teal text-white px-1.5 py-0.5 rounded-full font-bold leading-none",children:"YOU"})]}),T.jsxs("span",{className:"text-[10px] text-slate-400 block truncate flex items-center",children:[T.jsx(qN,{size:10,className:"mr-1 inline"})," ",Y.email||"No Email"]})]})]}),Y.id!==(c==null?void 0:c.id)&&T.jsx("button",{onClick:()=>o(Y.id),className:"w-8 h-8 flex items-center justify-center text-slate-300 hover:text-red-400 transition-colors shrink-0",children:T.jsx(Ih,{size:16})})]},Y.id)),i.length===0&&T.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:""})]}),T.jsxs("div",{className:"border-t border-slate-100 pt-4 shrink-0",children:[T.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase tracking-wide",children:" ()"}),T.jsxs("div",{className:"flex gap-3 mb-3",children:[T.jsxs("div",{className:"relative shrink-0",children:[T.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:K}),T.jsx("label",{htmlFor:"avatar-upload",className:"w-12 h-12 rounded-full bg-slate-50 border border-dashed border-slate-300 flex items-center justify-center cursor-pointer hover:border-guam-teal hover:bg-guam-teal/5 transition-all overflow-hidden",children:A?T.jsx(JT,{size:20,className:"animate-spin text-guam-teal"}):H?T.jsx("img",{src:H,className:"w-full h-full object-cover"}):T.jsx(rI,{size:18,className:"text-slate-400"})})]}),T.jsxs("div",{className:"flex-1 space-y-2",children:[T.jsx("input",{type:"text",placeholder:"...",value:p,onChange:Y=>y(Y.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl px-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"}),T.jsx("input",{type:"email",placeholder:"Google Email ()",value:_,onChange:Y=>b(Y.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl px-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"})]})]}),T.jsx("button",{onClick:L,disabled:!p.trim()||!_.trim()||A,className:"w-full py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30 disabled:opacity-50 disabled:cursor-not-allowed mb-4",children:""}),T.jsxs("button",{onClick:()=>{e(),d()},className:"w-full py-3 rounded-xl border border-red-100 bg-red-50 text-red-500 font-bold text-sm flex items-center justify-center hover:bg-red-100 transition-colors",children:[T.jsx(PN,{size:16,className:"mr-2"}),"  (",c==null?void 0:c.name,")"]})]}),!1]})})},RI=s=>s.reduce((e,i,a)=>(e[a.toString()]=i,e),{}),CI=s=>Array.isArray(s)?s:Object.keys(s).sort((i,a)=>parseInt(i)-parseInt(a)).map(i=>s[i]),bv=s=>Object.entries(s).reduce((e,[i,a])=>(a!==void 0&&(e[i]=a),e),{}),NI=()=>{const[s,e]=Re.useState(null),[i,a]=Re.useState(!1),[o,c]=Re.useState("itinerary"),[d,p]=Re.useState(0),[y,_]=Re.useState(Xs.itinerary),[b,A]=Re.useState(Xs.shopping),[I,H]=Re.useState(Xs.expenses),[G,K]=Re.useState(Xs.planning||[]),[L,Y]=Re.useState(Eo),[ne,ae]=Re.useState(!1),[De,Ee]=Re.useState(!1),[he,C]=Re.useState(!1),[w,R]=Re.useState(!1),[V,D]=Re.useState(!1),[k,x]=Re.useState(null),[et,dt]=Re.useState(null),Q=async(ye,de)=>{if(Gt&&s)try{let xe=de;ye==="itinerary"&&Array.isArray(de)&&(xe=RI(de)),await Qd(Ks(Gt,"trip_data",ye),{data:xe})}catch(xe){console.error(`Error saving ${ye}`,xe)}};Re.useEffect(()=>{const ye=setTimeout(()=>{i||(console.warn("Auth timeout - forcing UI render"),a(!0))},3e3);if(!Ii)return a(!0),()=>clearTimeout(ye);const de=jR(Ii,async xe=>{if(xe){if(xe.isAnonymous||!xe.email){await Bc(Ii),e(null),a(!0);return}let wt=[...Eo];if(Gt)try{const vt=await pT(_m(Gt,"members"));vt.empty||(wt=[...vt.docs.map(mt=>({id:mt.id,...mt.data()})),...Eo])}catch(vt){console.error("Auth check: could not fetch DB members",vt)}const cn=xe.email.toLowerCase(),Xe=wt.find(vt=>{var hn;return((hn=vt.email)==null?void 0:hn.toLowerCase())===cn});Xe?e({id:Xe.id,name:Xe.name,email:xe.email,avatarUrl:Xe.avatarUrl||xe.photoURL||void 0,role:Xe.role||"Member"}):(console.warn(`User ${cn} not in whitelist. Signing out.`),await Bc(Ii),e(null))}else e(null);a(!0)});return()=>{de(),clearTimeout(ye)}},[]),Re.useEffect(()=>{if(!Gt||!s)return;const ye=To(_m(Gt,"members"),Xe=>{if(Xe.empty)Eo.length>0&&Eo.forEach(vt=>{const hn=bv(vt);Qd(Ks(Gt,"members",vt.id),hn).catch(console.error)});else{const vt=Xe.docs.map(hn=>({id:hn.id,...hn.data()}));Y(vt)}}),de=To(Ks(Gt,"trip_data","itinerary"),Xe=>{if(Xe.exists()){const vt=Xe.data().data;_(Array.isArray(vt)?vt:CI(vt))}else Q("itinerary",Xs.itinerary)}),xe=To(Ks(Gt,"trip_data","shopping"),Xe=>{Xe.exists()?A(Xe.data().data):Q("shopping",Xs.shopping)}),wt=To(Ks(Gt,"trip_data","expenses"),Xe=>{Xe.exists()?H(Xe.data().data):Q("expenses",Xs.expenses)}),cn=To(Ks(Gt,"trip_data","planning"),Xe=>{Xe.exists()?K(Xe.data().data):Q("planning",Xs.planning)});return()=>{ye(),de(),xe(),wt(),cn()}},[s==null?void 0:s.id]);const ie=ye=>{e(ye),localStorage.setItem("trip_user_id",ye.id)},fe=async()=>{Ii&&await Bc(Ii),e(null),localStorage.removeItem("trip_user_id")},Be=()=>{o==="itinerary"?(x(null),ae(!0)):o==="shopping"?Ee(!0):o==="expenses"?(dt(null),C(!0)):o==="planning"&&R(!0)},Qe=ye=>{const de=[...y],xe=[...de[d]];if(k){const wt=xe.findIndex(cn=>cn.id===k.id);wt!==-1&&(xe[wt]={...k,...ye})}else{const wt={...ye,id:Date.now()};xe.push(wt),xe.sort((cn,Xe)=>cn.startTime>Xe.startTime?1:-1)}de[d]=xe,_(de),Q("itinerary",de),x(null)},O=ye=>{const de=[...y];de[d]=de[d].filter(xe=>xe.id!==ye),_(de),Q("itinerary",de)},J=ye=>{const de=[...b,{...ye,id:Date.now()}];A(de),Q("shopping",de)},se=ye=>{const de=b.filter(xe=>xe.id!==ye);A(de),Q("shopping",de)},re=ye=>{let de;et?(de=I.map(xe=>xe.id===et.id?{...xe,...ye}:xe),dt(null)):de=[{...ye,id:Date.now(),date:new Date().toLocaleDateString("en-US",{month:"numeric",day:"numeric"})},...I],H(de),Q("expenses",de)},ve=ye=>{const de=I.filter(xe=>xe.id!==ye);H(de),Q("expenses",de)},we=ye=>{const de=[...G,{...ye,id:Date.now()}];K(de),Q("planning",de)},ke=ye=>{const de=G.map(xe=>xe.id===ye?{...xe,completed:!xe.completed}:xe);K(de),Q("planning",de)},_t=ye=>{const de=G.filter(xe=>xe.id!==ye);K(de),Q("planning",de)},rt=async ye=>{if(Gt)try{const de=bv(ye);await Qd(Ks(Gt,"members",ye.id),de)}catch(de){console.error("Error adding member to DB",de),alert("")}Y([...L,ye])},zi=async ye=>{if(Gt)try{await Fx(Ks(Gt,"members",ye))}catch(de){console.error("Error deleting member from DB",de)}Y(L.filter(de=>de.id!==ye))};return i?s?T.jsxs("div",{className:"app-container max-w-[480px] mx-auto min-h-screen bg-guam-sand relative shadow-[0_0_40px_rgba(13,148,136,0.1)]",children:[T.jsx(dI,{currentTab:o,onTabChange:c,title:Zr.title,subtitle:Zr.subtitle,coverImage:Zr.coverImage,onOpenMembers:()=>D(!0)}),T.jsxs("main",{className:"px-4 pt-6 relative z-0",children:[o==="itinerary"&&T.jsx(yI,{dates:mI,weather:pI,items:y[d],selectedDateIndex:d,onDateSelect:p,onEdit:ye=>{x(ye),ae(!0)}}),o==="info"&&T.jsx(_I,{}),o==="shopping"&&T.jsx(vI,{items:b,onRemove:se,onAddClick:()=>Ee(!0)}),o==="planning"&&T.jsx(EI,{items:G,onToggle:ke,onRemove:_t}),o==="expenses"&&T.jsx(TI,{expenses:I,onRemove:ve,onEdit:ye=>{dt(ye),C(!0)},members:L})]}),o!=="info"&&T.jsx("button",{onClick:Be,className:"fixed bottom-24 right-6 w-14 h-14 bg-guam-coral text-white rounded-full shadow-[0_4px_20px_rgba(251,113,133,0.6)] text-xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all z-40",children:T.jsx(ZT,{size:24})}),T.jsx(bI,{isOpen:ne,onClose:()=>ae(!1),onSave:Qe,initialData:k,onDelete:O}),T.jsx(SI,{isOpen:De,onClose:()=>Ee(!1),onSave:J}),T.jsx(AI,{isOpen:he,onClose:()=>C(!1),onSave:re,members:L,initialData:et}),T.jsx(wI,{isOpen:w,onClose:()=>R(!1),onSave:we,members:L}),T.jsx(xI,{isOpen:V,onClose:()=>D(!1),members:L,onAddMember:rt,onRemoveMember:zi,currentUser:s,onLogout:fe})]}):T.jsx(gI,{members:L,onLogin:ie}):T.jsx("div",{className:"min-h-screen bg-guam-sand flex items-center justify-center",children:T.jsxs("div",{className:"animate-pulse text-guam-teal flex flex-col items-center",children:[T.jsx("div",{className:"w-8 h-8 border-4 border-guam-teal border-t-transparent rounded-full animate-spin mb-2"}),"Loading..."]})})},tE=document.getElementById("root");if(!tE)throw new Error("Could not find root element to mount to");const II=Hb.createRoot(tE);II.render(T.jsx(kb.StrictMode,{children:T.jsx(NI,{})}));
