(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Iy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jh={exports:{}},ka={},Zh={exports:{}},be={};var Qm;function hw(){if(Qm)return be;Qm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function j(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,H={};function R(M,q,pe){this.props=M,this.context=q,this.refs=H,this.updater=pe||z}R.prototype.isReactComponent={},R.prototype.setState=function(M,q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,q,"setState")},R.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=R.prototype;function K(M,q,pe){this.props=M,this.context=q,this.refs=H,this.updater=pe||z}var ae=K.prototype=new W;ae.constructor=K,b(ae,R.prototype),ae.isPureReactComponent=!0;var se=Array.isArray,ge=Object.prototype.hasOwnProperty,oe={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(M,q,pe){var Ne,Pe={},De=null,Fe=null;if(q!=null)for(Ne in q.ref!==void 0&&(Fe=q.ref),q.key!==void 0&&(De=""+q.key),q)ge.call(q,Ne)&&!N.hasOwnProperty(Ne)&&(Pe[Ne]=q[Ne]);var Te=arguments.length-2;if(Te===1)Pe.children=pe;else if(1<Te){for(var Ge=Array(Te),gt=0;gt<Te;gt++)Ge[gt]=arguments[gt+2];Pe.children=Ge}if(M&&M.defaultProps)for(Ne in Te=M.defaultProps,Te)Pe[Ne]===void 0&&(Pe[Ne]=Te[Ne]);return{$$typeof:r,type:M,key:De,ref:Fe,props:Pe,_owner:oe.current}}function k(M,q){return{$$typeof:r,type:M.type,key:q,ref:M.ref,props:M.props,_owner:M._owner}}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function O(M){var q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return q[pe]})}var V=/\/+/g;function S(M,q){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):q.toString(36)}function st(M,q,pe,Ne,Pe){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var Fe=!1;if(M===null)Fe=!0;else switch(De){case"string":case"number":Fe=!0;break;case"object":switch(M.$$typeof){case r:case e:Fe=!0}}if(Fe)return Fe=M,Pe=Pe(Fe),M=Ne===""?"."+S(Fe,0):Ne,se(Pe)?(pe="",M!=null&&(pe=M.replace(V,"$&/")+"/"),st(Pe,q,pe,"",function(gt){return gt})):Pe!=null&&(P(Pe)&&(Pe=k(Pe,pe+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace(V,"$&/")+"/")+M)),q.push(Pe)),1;if(Fe=0,Ne=Ne===""?".":Ne+":",se(M))for(var Te=0;Te<M.length;Te++){De=M[Te];var Ge=Ne+S(De,Te);Fe+=st(De,q,pe,Ge,Pe)}else if(Ge=j(M),typeof Ge=="function")for(M=Ge.call(M),Te=0;!(De=M.next()).done;)De=De.value,Ge=Ne+S(De,Te++),Fe+=st(De,q,pe,Ge,Pe);else if(De==="object")throw q=String(M),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Fe}function xt(M,q,pe){if(M==null)return M;var Ne=[],Pe=0;return st(M,Ne,"","",function(De){return q.call(pe,De,Pe++)}),Ne}function Rt(M){if(M._status===-1){var q=M._result;q=q(),q.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=q)}if(M._status===1)return M._result.default;throw M._result}var He={current:null},ee={transition:null},ye={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:ee,ReactCurrentOwner:oe};function ie(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:xt,forEach:function(M,q,pe){xt(M,function(){q.apply(this,arguments)},pe)},count:function(M){var q=0;return xt(M,function(){q++}),q},toArray:function(M){return xt(M,function(q){return q})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},be.Component=R,be.Fragment=t,be.Profiler=o,be.PureComponent=K,be.StrictMode=i,be.Suspense=y,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,be.act=ie,be.cloneElement=function(M,q,pe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ne=b({},M.props),Pe=M.key,De=M.ref,Fe=M._owner;if(q!=null){if(q.ref!==void 0&&(De=q.ref,Fe=oe.current),q.key!==void 0&&(Pe=""+q.key),M.type&&M.type.defaultProps)var Te=M.type.defaultProps;for(Ge in q)ge.call(q,Ge)&&!N.hasOwnProperty(Ge)&&(Ne[Ge]=q[Ge]===void 0&&Te!==void 0?Te[Ge]:q[Ge])}var Ge=arguments.length-2;if(Ge===1)Ne.children=pe;else if(1<Ge){Te=Array(Ge);for(var gt=0;gt<Ge;gt++)Te[gt]=arguments[gt+2];Ne.children=Te}return{$$typeof:r,type:M.type,key:Pe,ref:De,props:Ne,_owner:Fe}},be.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},be.createElement=T,be.createFactory=function(M){var q=T.bind(null,M);return q.type=M,q},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:f,render:M}},be.isValidElement=P,be.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:Rt}},be.memo=function(M,q){return{$$typeof:_,type:M,compare:q===void 0?null:q}},be.startTransition=function(M){var q=ee.transition;ee.transition={};try{M()}finally{ee.transition=q}},be.unstable_act=ie,be.useCallback=function(M,q){return He.current.useCallback(M,q)},be.useContext=function(M){return He.current.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M){return He.current.useDeferredValue(M)},be.useEffect=function(M,q){return He.current.useEffect(M,q)},be.useId=function(){return He.current.useId()},be.useImperativeHandle=function(M,q,pe){return He.current.useImperativeHandle(M,q,pe)},be.useInsertionEffect=function(M,q){return He.current.useInsertionEffect(M,q)},be.useLayoutEffect=function(M,q){return He.current.useLayoutEffect(M,q)},be.useMemo=function(M,q){return He.current.useMemo(M,q)},be.useReducer=function(M,q,pe){return He.current.useReducer(M,q,pe)},be.useRef=function(M){return He.current.useRef(M)},be.useState=function(M){return He.current.useState(M)},be.useSyncExternalStore=function(M,q,pe){return He.current.useSyncExternalStore(M,q,pe)},be.useTransition=function(){return He.current.useTransition()},be.version="18.3.1",be}var Xm;function qd(){return Xm||(Xm=1,Zh.exports=hw()),Zh.exports}var Ym;function dw(){if(Ym)return ka;Ym=1;var r=qd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,y,_){var E,A={},j=null,z=null;_!==void 0&&(j=""+_),y.key!==void 0&&(j=""+y.key),y.ref!==void 0&&(z=y.ref);for(E in y)i.call(y,E)&&!l.hasOwnProperty(E)&&(A[E]=y[E]);if(f&&f.defaultProps)for(E in y=f.defaultProps,y)A[E]===void 0&&(A[E]=y[E]);return{$$typeof:e,type:f,key:j,ref:z,props:A,_owner:o.current}}return ka.Fragment=t,ka.jsx=h,ka.jsxs=h,ka}var Jm;function fw(){return Jm||(Jm=1,Jh.exports=dw()),Jh.exports}var g=fw(),ve=qd();const pw=Iy(ve);var Iu={},ed={exports:{}},cn={},td={exports:{}},nd={};var Zm;function mw(){return Zm||(Zm=1,(function(r){function e(ee,ye){var ie=ee.length;ee.push(ye);e:for(;0<ie;){var M=ie-1>>>1,q=ee[M];if(0<o(q,ye))ee[M]=ye,ee[ie]=q,ie=M;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ye=ee[0],ie=ee.pop();if(ie!==ye){ee[0]=ie;e:for(var M=0,q=ee.length,pe=q>>>1;M<pe;){var Ne=2*(M+1)-1,Pe=ee[Ne],De=Ne+1,Fe=ee[De];if(0>o(Pe,ie))De<q&&0>o(Fe,Pe)?(ee[M]=Fe,ee[De]=ie,M=De):(ee[M]=Pe,ee[Ne]=ie,M=Ne);else if(De<q&&0>o(Fe,ie))ee[M]=Fe,ee[De]=ie,M=De;else break e}}return ye}function o(ee,ye){var ie=ee.sortIndex-ye.sortIndex;return ie!==0?ie:ee.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var y=[],_=[],E=1,A=null,j=3,z=!1,b=!1,H=!1,R=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ae(ee){for(var ye=t(_);ye!==null;){if(ye.callback===null)i(_);else if(ye.startTime<=ee)i(_),ye.sortIndex=ye.expirationTime,e(y,ye);else break;ye=t(_)}}function se(ee){if(H=!1,ae(ee),!b)if(t(y)!==null)b=!0,Rt(ge);else{var ye=t(_);ye!==null&&He(se,ye.startTime-ee)}}function ge(ee,ye){b=!1,H&&(H=!1,W(T),T=-1),z=!0;var ie=j;try{for(ae(ye),A=t(y);A!==null&&(!(A.expirationTime>ye)||ee&&!O());){var M=A.callback;if(typeof M=="function"){A.callback=null,j=A.priorityLevel;var q=M(A.expirationTime<=ye);ye=r.unstable_now(),typeof q=="function"?A.callback=q:A===t(y)&&i(y),ae(ye)}else i(y);A=t(y)}if(A!==null)var pe=!0;else{var Ne=t(_);Ne!==null&&He(se,Ne.startTime-ye),pe=!1}return pe}finally{A=null,j=ie,z=!1}}var oe=!1,N=null,T=-1,k=5,P=-1;function O(){return!(r.unstable_now()-P<k)}function V(){if(N!==null){var ee=r.unstable_now();P=ee;var ye=!0;try{ye=N(!0,ee)}finally{ye?S():(oe=!1,N=null)}}else oe=!1}var S;if(typeof K=="function")S=function(){K(V)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,xt=st.port2;st.port1.onmessage=V,S=function(){xt.postMessage(null)}}else S=function(){R(V,0)};function Rt(ee){N=ee,oe||(oe=!0,S())}function He(ee,ye){T=R(function(){ee(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_continueExecution=function(){b||z||(b=!0,Rt(ge))},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return j},r.unstable_getFirstCallbackNode=function(){return t(y)},r.unstable_next=function(ee){switch(j){case 1:case 2:case 3:var ye=3;break;default:ye=j}var ie=j;j=ye;try{return ee()}finally{j=ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ee,ye){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=j;j=ee;try{return ye()}finally{j=ie}},r.unstable_scheduleCallback=function(ee,ye,ie){var M=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?M+ie:M):ie=M,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ie+q,ee={id:E++,callback:ye,priorityLevel:ee,startTime:ie,expirationTime:q,sortIndex:-1},ie>M?(ee.sortIndex=ie,e(_,ee),t(y)===null&&ee===t(_)&&(H?(W(T),T=-1):H=!0,He(se,ie-M))):(ee.sortIndex=q,e(y,ee),b||z||(b=!0,Rt(ge))),ee},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(ee){var ye=j;return function(){var ie=j;j=ye;try{return ee.apply(this,arguments)}finally{j=ie}}}})(nd)),nd}var eg;function gw(){return eg||(eg=1,td.exports=mw()),td.exports}var tg;function yw(){if(tg)return cn;tg=1;var r=qd(),e=gw();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},A={};function j(n){return y.call(A,n)?!0:y.call(E,n)?!1:_.test(n)?A[n]=!0:(E[n]=!0,!1)}function z(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function b(n,s,a,c){if(s===null||typeof s>"u"||z(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function H(n,s,a,c,d,m,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=m,this.removeEmptyString=w}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){R[n]=new H(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];R[s]=new H(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){R[n]=new H(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){R[n]=new H(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){R[n]=new H(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){R[n]=new H(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){R[n]=new H(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){R[n]=new H(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){R[n]=new H(n,5,!1,n.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function K(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(W,K);R[s]=new H(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(W,K);R[s]=new H(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(W,K);R[s]=new H(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){R[n]=new H(n,1,!1,n.toLowerCase(),null,!1,!1)}),R.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){R[n]=new H(n,1,!1,n.toLowerCase(),null,!0,!0)});function ae(n,s,a,c){var d=R.hasOwnProperty(s)?R[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,a,d,c)&&(a=null),c||d===null?j(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var se=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=Symbol.for("react.element"),oe=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var ie=Object.assign,M;function q(n){if(M===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+n}var pe=!1;function Ne(n,s){if(!n||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var c=B}Reflect.construct(n,[],s)}else{try{s.call()}catch(B){c=B}n.call(s.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),m=c.stack.split(`
`),w=d.length-1,I=m.length-1;1<=w&&0<=I&&d[w]!==m[I];)I--;for(;1<=w&&0<=I;w--,I--)if(d[w]!==m[I]){if(w!==1||I!==1)do if(w--,I--,0>I||d[w]!==m[I]){var C=`
`+d[w].replace(" at new "," at ");return n.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",n.displayName)),C}while(1<=w&&0<=I);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?q(n):""}function Pe(n){switch(n.tag){case 5:return q(n.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return n=Ne(n.type,!1),n;case 11:return n=Ne(n.type.render,!1),n;case 1:return n=Ne(n.type,!0),n;default:return""}}function De(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case oe:return"Portal";case k:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case st:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Consumer";case P:return(n._context.displayName||"Context")+".Provider";case V:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case xt:return s=n.displayName||null,s!==null?s:De(n.type)||"Memo";case Rt:s=n._payload,n=n._init;try{return De(n(s))}catch{}}return null}function Fe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Te(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ge(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gt(n){var s=Ge(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,m.call(this,w)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function bn(n){n._valueTracker||(n._valueTracker=gt(n))}function Qr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=Ge(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function Zn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Tr(n,s){var a=s.checked;return ie({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Xr(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Te(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Vs(n,s){s=s.checked,s!=null&&ae(n,"checked",s,!1)}function Ls(n,s){Vs(n,s);var a=Te(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Yr(n,s.type,a):s.hasOwnProperty("defaultValue")&&Yr(n,s.type,Te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Ri(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Yr(n,s,a){(s!=="number"||Zn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Dn=Array.isArray;function jn(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Te(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Us(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Jr(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Dn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Te(a)}}function Zr(n,s){var a=Te(s.value),c=Te(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function ue(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function ne(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function re(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?ne(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Je,Et=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Je=Je||document.createElement("div"),Je.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Je.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function lt(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yt=["Webkit","ms","Moz","O"];Object.keys(je).forEach(function(n){yt.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),je[s]=je[n]})});function Ke(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||je.hasOwnProperty(n)&&je[n]?(""+s).trim():s+"px"}function wn(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Ke(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Ci=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ir(n,s){if(s){if(Ci[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Fs(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=null;function Ni(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pi=null,xn=null,er=null;function bi(n){if(n=ca(n)){if(typeof Pi!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Ul(s),Pi(n.stateNode,n.type,s))}}function tr(n){xn?er?er.push(n):er=[n]:xn=n}function zo(){if(xn){var n=xn,s=er;if(er=xn=null,bi(n),s)for(n=0;n<s.length;n++)bi(s[n])}}function Bs(n,s){return n(s)}function Bo(){}var kr=!1;function $o(n,s,a){if(kr)return n(s,a);kr=!0;try{return Bs(n,s,a)}finally{kr=!1,(xn!==null||er!==null)&&(Bo(),zo())}}function ft(n,s){var a=n.stateNode;if(a===null)return null;var c=Ul(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Di=!1;if(f)try{var On={};Object.defineProperty(On,"passive",{get:function(){Di=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Di=!1}function $s(n,s,a,c,d,m,w,I,C){var B=Array.prototype.slice.call(arguments,3);try{s.apply(a,B)}catch(Q){this.onError(Q)}}var Hs=!1,ji=null,Mn=!1,Ho=null,Sc={onError:function(n){Hs=!0,ji=n}};function Oi(n,s,a,c,d,m,w,I,C){Hs=!1,ji=null,$s.apply(Sc,arguments)}function cl(n,s,a,c,d,m,w,I,C){if(Oi.apply(this,arguments),Hs){if(Hs){var B=ji;Hs=!1,ji=null}else throw Error(t(198));Mn||(Mn=!0,Ho=B)}}function Vn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function qs(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Ln(n){if(Vn(n)!==n)throw Error(t(188))}function hl(n){var s=n.alternate;if(!s){if(s=Vn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Ln(d),n;if(m===c)return Ln(d),s;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var w=!1,I=d.child;I;){if(I===a){w=!0,a=d,c=m;break}if(I===c){w=!0,c=d,a=m;break}I=I.sibling}if(!w){for(I=m.child;I;){if(I===a){w=!0,a=m,c=d;break}if(I===c){w=!0,c=m,a=d;break}I=I.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function qo(n){return n=hl(n),n!==null?Mi(n):null}function Mi(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Mi(n);if(s!==null)return s;n=n.sibling}return null}var Vi=e.unstable_scheduleCallback,Wo=e.unstable_cancelCallback,dl=e.unstable_shouldYield,Ac=e.unstable_requestPaint,Xe=e.unstable_now,fl=e.unstable_getCurrentPriorityLevel,Ws=e.unstable_ImmediatePriority,es=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,Go=e.unstable_LowPriority,pl=e.unstable_IdlePriority,Gs=null,hn=null;function ml(n){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Gs,n,void 0,(n.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:yl,Ko=Math.log,gl=Math.LN2;function yl(n){return n>>>=0,n===0?32:31-(Ko(n)/gl|0)|0}var Li=64,Ui=4194304;function ts(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ks(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,w=a&268435455;if(w!==0){var I=w&~d;I!==0?c=ts(I):(m&=w,m!==0&&(c=ts(m)))}else w=a&~d,w!==0?c=ts(w):m!==0&&(c=ts(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,m=s&-s,d>=m||d===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-Yt(s),d=1<<a,c|=n[a],s&=~d;return c}function Rc(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sr(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var w=31-Yt(m),I=1<<w,C=d[w];C===-1?((I&a)===0||(I&c)!==0)&&(d[w]=Rc(I,s)):C<=s&&(n.expiredLanes|=I),m&=~I}}function dn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Qs(){var n=Li;return Li<<=1,(Li&4194240)===0&&(Li=64),n}function ns(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function rs(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Yt(s),n[s]=a}function Qe(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Yt(a),m=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function ss(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-Yt(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var Me=0;function is(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var vl,Fi,_l,wl,xl,Qo=!1,nr=[],Ot=null,Un=null,Fn=null,os=new Map,Tn=new Map,rr=[],Cc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function El(n,s){switch(n){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":os.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(s.pointerId)}}function nn(n,s,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},s!==null&&(s=ca(s),s!==null&&Fi(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Nc(n,s,a,c,d){switch(s){case"focusin":return Ot=nn(Ot,n,s,a,c,d),!0;case"dragenter":return Un=nn(Un,n,s,a,c,d),!0;case"mouseover":return Fn=nn(Fn,n,s,a,c,d),!0;case"pointerover":var m=d.pointerId;return os.set(m,nn(os.get(m)||null,n,s,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,Tn.set(m,nn(Tn.get(m)||null,n,s,a,c,d)),!0}return!1}function Tl(n){var s=ei(n.target);if(s!==null){var a=Vn(s);if(a!==null){if(s=a.tag,s===13){if(s=qs(a),s!==null){n.blockedOn=s,xl(n.priority,function(){_l(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ar(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=zi(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);zs=c,a.target.dispatchEvent(c),zs=null}else return s=ca(a),s!==null&&Fi(s),n.blockedOn=a,!1;s.shift()}return!0}function Xs(n,s,a){Ar(n)&&a.delete(s)}function Il(){Qo=!1,Ot!==null&&Ar(Ot)&&(Ot=null),Un!==null&&Ar(Un)&&(Un=null),Fn!==null&&Ar(Fn)&&(Fn=null),os.forEach(Xs),Tn.forEach(Xs)}function zn(n,s){n.blockedOn===s&&(n.blockedOn=null,Qo||(Qo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Il)))}function Bn(n){function s(d){return zn(d,n)}if(0<nr.length){zn(nr[0],n);for(var a=1;a<nr.length;a++){var c=nr[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Ot!==null&&zn(Ot,n),Un!==null&&zn(Un,n),Fn!==null&&zn(Fn,n),os.forEach(s),Tn.forEach(s),a=0;a<rr.length;a++)c=rr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<rr.length&&(a=rr[0],a.blockedOn===null);)Tl(a),a.blockedOn===null&&rr.shift()}var Rr=se.ReactCurrentBatchConfig,as=!0;function tt(n,s,a,c){var d=Me,m=Rr.transition;Rr.transition=null;try{Me=1,Xo(n,s,a,c)}finally{Me=d,Rr.transition=m}}function Pc(n,s,a,c){var d=Me,m=Rr.transition;Rr.transition=null;try{Me=4,Xo(n,s,a,c)}finally{Me=d,Rr.transition=m}}function Xo(n,s,a,c){if(as){var d=zi(n,s,a,c);if(d===null)Bc(n,s,c,Ys,a),El(n,c);else if(Nc(d,n,s,a,c))c.stopPropagation();else if(El(n,c),s&4&&-1<Cc.indexOf(n)){for(;d!==null;){var m=ca(d);if(m!==null&&vl(m),m=zi(n,s,a,c),m===null&&Bc(n,s,c,Ys,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else Bc(n,s,c,null,a)}}var Ys=null;function zi(n,s,a,c){if(Ys=null,n=Ni(c),n=ei(n),n!==null)if(s=Vn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=qs(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Ys=n,null}function Yo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fl()){case Ws:return 1;case es:return 4;case En:case Go:return 16;case pl:return 536870912;default:return 16}default:return 16}}var fn=null,Bi=null,rn=null;function Jo(){if(rn)return rn;var n,s=Bi,a=s.length,c,d="value"in fn?fn.value:fn.textContent,m=d.length;for(n=0;n<a&&s[n]===d[n];n++);var w=a-n;for(c=1;c<=w&&s[a-c]===d[m-c];c++);return rn=d.slice(n,1<c?1-c:void 0)}function $i(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function sr(){return!0}function Zo(){return!1}function Mt(n){function s(a,c,d,m,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?sr:Zo,this.isPropagationStopped=Zo,this}return ie(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),s}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=Mt($n),ir=ie({},$n,{view:0,detail:0}),bc=Mt(ir),qi,Cr,ls,Js=ie({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ls&&(ls&&n.type==="mousemove"?(qi=n.screenX-ls.screenX,Cr=n.screenY-ls.screenY):Cr=qi=0,ls=n),qi)},movementY:function(n){return"movementY"in n?n.movementY:Cr}}),Wi=Mt(Js),ea=ie({},Js,{dataTransfer:0}),kl=Mt(ea),Gi=ie({},ir,{relatedTarget:0}),Ki=Mt(Gi),Sl=ie({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Mt(Sl),Al=ie({},$n,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Rl=Mt(Al),Cl=ie({},$n,{data:0}),ta=Mt(Cl),Qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Nl[n])?!!s[n]:!1}function or(){return Pl}var u=ie({},ir,{key:function(n){if(n.key){var s=Qi[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=$i(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Jt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(n){return n.type==="keypress"?$i(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$i(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Mt(u),v=ie({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=Mt(v),L=ie({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),$=Mt(L),te=ie({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Mt(te),Tt=ie({},Js,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Mt(Tt),Ct=[9,13,27,32],vt=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var pn=f&&"TextEvent"in window&&!In,Zs=f&&(!vt||In&&8<In&&11>=In),Xi=" ",$f=!1;function Hf(n,s){switch(n){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Yi=!1;function l0(n,s){switch(n){case"compositionend":return qf(s);case"keypress":return s.which!==32?null:($f=!0,Xi);case"textInput":return n=s.data,n===Xi&&$f?null:n;default:return null}}function u0(n,s){if(Yi)return n==="compositionend"||!vt&&Hf(n,s)?(n=Jo(),rn=Bi=fn=null,Yi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zs&&s.locale!=="ko"?null:s.data;default:return null}}var c0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!c0[n.type]:s==="textarea"}function Gf(n,s,a,c){tr(c),s=Ml(s,"onChange"),0<s.length&&(a=new Hi("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var na=null,ra=null;function h0(n){hp(n,0)}function bl(n){var s=no(n);if(Qr(s))return n}function d0(n,s){if(n==="change")return s}var Kf=!1;if(f){var Dc;if(f){var jc="oninput"in document;if(!jc){var Qf=document.createElement("div");Qf.setAttribute("oninput","return;"),jc=typeof Qf.oninput=="function"}Dc=jc}else Dc=!1;Kf=Dc&&(!document.documentMode||9<document.documentMode)}function Xf(){na&&(na.detachEvent("onpropertychange",Yf),ra=na=null)}function Yf(n){if(n.propertyName==="value"&&bl(ra)){var s=[];Gf(s,ra,n,Ni(n)),$o(h0,s)}}function f0(n,s,a){n==="focusin"?(Xf(),na=s,ra=a,na.attachEvent("onpropertychange",Yf)):n==="focusout"&&Xf()}function p0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bl(ra)}function m0(n,s){if(n==="click")return bl(s)}function g0(n,s){if(n==="input"||n==="change")return bl(s)}function y0(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Hn=typeof Object.is=="function"?Object.is:y0;function sa(n,s){if(Hn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!y.call(s,d)||!Hn(n[d],s[d]))return!1}return!0}function Jf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Zf(n,s){var a=Jf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jf(a)}}function ep(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?ep(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function tp(){for(var n=window,s=Zn();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Zn(n.document)}return s}function Oc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function v0(n){var s=tp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&ep(a.ownerDocument.documentElement,a)){if(c!==null&&Oc(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=Zf(a,m);var w=Zf(a,c);d&&w&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(s),n.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var _0=f&&"documentMode"in document&&11>=document.documentMode,Ji=null,Mc=null,ia=null,Vc=!1;function np(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vc||Ji==null||Ji!==Zn(c)||(c=Ji,"selectionStart"in c&&Oc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ia&&sa(ia,c)||(ia=c,c=Ml(Mc,"onSelect"),0<c.length&&(s=new Hi("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=Ji)))}function Dl(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Zi={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},Lc={},rp={};f&&(rp=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function jl(n){if(Lc[n])return Lc[n];if(!Zi[n])return n;var s=Zi[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in rp)return Lc[n]=s[a];return n}var sp=jl("animationend"),ip=jl("animationiteration"),op=jl("animationstart"),ap=jl("transitionend"),lp=new Map,up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(n,s){lp.set(n,s),l(s,[n])}for(var Uc=0;Uc<up.length;Uc++){var Fc=up[Uc],w0=Fc.toLowerCase(),x0=Fc[0].toUpperCase()+Fc.slice(1);us(w0,"on"+x0)}us(sp,"onAnimationEnd"),us(ip,"onAnimationIteration"),us(op,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(ap,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E0=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function cp(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,cl(c,s,void 0,n),n.currentTarget=null}function hp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var w=c.length-1;0<=w;w--){var I=c[w],C=I.instance,B=I.currentTarget;if(I=I.listener,C!==m&&d.isPropagationStopped())break e;cp(d,I,B),m=C}else for(w=0;w<c.length;w++){if(I=c[w],C=I.instance,B=I.currentTarget,I=I.listener,C!==m&&d.isPropagationStopped())break e;cp(d,I,B),m=C}}}if(Mn)throw n=Ho,Mn=!1,Ho=null,n}function Ze(n,s){var a=s[Kc];a===void 0&&(a=s[Kc]=new Set);var c=n+"__bubble";a.has(c)||(dp(s,n,2,!1),a.add(c))}function zc(n,s,a){var c=0;s&&(c|=4),dp(a,n,c,s)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function aa(n){if(!n[Ol]){n[Ol]=!0,i.forEach(function(a){a!=="selectionchange"&&(E0.has(a)||zc(a,!1,n),zc(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ol]||(s[Ol]=!0,zc("selectionchange",!1,s))}}function dp(n,s,a,c){switch(Yo(s)){case 1:var d=tt;break;case 4:d=Pc;break;default:d=Xo}a=d.bind(null,s,a,n),d=void 0,!Di||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function Bc(n,s,a,c,d){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var C=w.tag;if((C===3||C===4)&&(C=w.stateNode.containerInfo,C===d||C.nodeType===8&&C.parentNode===d))return;w=w.return}for(;I!==null;){if(w=ei(I),w===null)return;if(C=w.tag,C===5||C===6){c=m=w;continue e}I=I.parentNode}}c=c.return}$o(function(){var B=m,Q=Ni(a),J=[];e:{var G=lp.get(n);if(G!==void 0){var le=Hi,he=n;switch(n){case"keypress":if($i(a)===0)break e;case"keydown":case"keyup":le=p;break;case"focusin":he="focus",le=Ki;break;case"focusout":he="blur",le=Ki;break;case"beforeblur":case"afterblur":le=Ki;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Wi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=$;break;case sp:case ip:case op:le=Nr;break;case ap:le=qe;break;case"scroll":le=bc;break;case"wheel":le=Le;break;case"copy":case"cut":case"paste":le=Rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=x}var de=(s&4)!==0,pt=!de&&n==="scroll",U=de?G!==null?G+"Capture":null:G;de=[];for(var D=B,F;D!==null;){F=D;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,U!==null&&(Z=ft(D,U),Z!=null&&de.push(la(D,Z,F)))),pt)break;D=D.return}0<de.length&&(G=new le(G,he,null,a,Q),J.push({event:G,listeners:de}))}}if((s&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",le=n==="mouseout"||n==="pointerout",G&&a!==zs&&(he=a.relatedTarget||a.fromElement)&&(ei(he)||he[Pr]))break e;if((le||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,le?(he=a.relatedTarget||a.toElement,le=B,he=he?ei(he):null,he!==null&&(pt=Vn(he),he!==pt||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=B),le!==he)){if(de=Wi,Z="onMouseLeave",U="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(de=x,Z="onPointerLeave",U="onPointerEnter",D="pointer"),pt=le==null?G:no(le),F=he==null?G:no(he),G=new de(Z,D+"leave",le,a,Q),G.target=pt,G.relatedTarget=F,Z=null,ei(Q)===B&&(de=new de(U,D+"enter",he,a,Q),de.target=F,de.relatedTarget=pt,Z=de),pt=Z,le&&he)t:{for(de=le,U=he,D=0,F=de;F;F=eo(F))D++;for(F=0,Z=U;Z;Z=eo(Z))F++;for(;0<D-F;)de=eo(de),D--;for(;0<F-D;)U=eo(U),F--;for(;D--;){if(de===U||U!==null&&de===U.alternate)break t;de=eo(de),U=eo(U)}de=null}else de=null;le!==null&&fp(J,G,le,de,!1),he!==null&&pt!==null&&fp(J,pt,he,de,!0)}}e:{if(G=B?no(B):window,le=G.nodeName&&G.nodeName.toLowerCase(),le==="select"||le==="input"&&G.type==="file")var me=d0;else if(Wf(G))if(Kf)me=g0;else{me=p0;var we=f0}else(le=G.nodeName)&&le.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(me=m0);if(me&&(me=me(n,B))){Gf(J,me,a,Q);break e}we&&we(n,G,B),n==="focusout"&&(we=G._wrapperState)&&we.controlled&&G.type==="number"&&Yr(G,"number",G.value)}switch(we=B?no(B):window,n){case"focusin":(Wf(we)||we.contentEditable==="true")&&(Ji=we,Mc=B,ia=null);break;case"focusout":ia=Mc=Ji=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,np(J,a,Q);break;case"selectionchange":if(_0)break;case"keydown":case"keyup":np(J,a,Q)}var xe;if(vt)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Yi?Hf(n,a)&&(Ie="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Zs&&a.locale!=="ko"&&(Yi||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Yi&&(xe=Jo()):(fn=Q,Bi="value"in fn?fn.value:fn.textContent,Yi=!0)),we=Ml(B,Ie),0<we.length&&(Ie=new ta(Ie,n,null,a,Q),J.push({event:Ie,listeners:we}),xe?Ie.data=xe:(xe=qf(a),xe!==null&&(Ie.data=xe)))),(xe=pn?l0(n,a):u0(n,a))&&(B=Ml(B,"onBeforeInput"),0<B.length&&(Q=new ta("onBeforeInput","beforeinput",null,a,Q),J.push({event:Q,listeners:B}),Q.data=xe))}hp(J,s)})}function la(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Ml(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=ft(n,a),m!=null&&c.unshift(la(n,m,d)),m=ft(n,s),m!=null&&c.push(la(n,m,d))),n=n.return}return c}function eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function fp(n,s,a,c,d){for(var m=s._reactName,w=[];a!==null&&a!==c;){var I=a,C=I.alternate,B=I.stateNode;if(C!==null&&C===c)break;I.tag===5&&B!==null&&(I=B,d?(C=ft(a,m),C!=null&&w.unshift(la(a,C,I))):d||(C=ft(a,m),C!=null&&w.push(la(a,C,I)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var T0=/\r\n?/g,I0=/\u0000|\uFFFD/g;function pp(n){return(typeof n=="string"?n:""+n).replace(T0,`
`).replace(I0,"")}function Vl(n,s,a){if(s=pp(s),pp(n)!==s&&a)throw Error(t(425))}function Ll(){}var $c=null,Hc=null;function qc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wc=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,S0=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(n){return mp.resolve(null).then(n).catch(A0)}:Wc;function A0(n){setTimeout(function(){throw n})}function Gc(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Bn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Bn(s)}function cs(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function gp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var to=Math.random().toString(36).slice(2),ar="__reactFiber$"+to,ua="__reactProps$"+to,Pr="__reactContainer$"+to,Kc="__reactEvents$"+to,R0="__reactListeners$"+to,C0="__reactHandles$"+to;function ei(n){var s=n[ar];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Pr]||a[ar]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=gp(n);n!==null;){if(a=n[ar])return a;n=gp(n)}return s}n=a,a=n.parentNode}return null}function ca(n){return n=n[ar]||n[Pr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function no(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Ul(n){return n[ua]||null}var Qc=[],ro=-1;function hs(n){return{current:n}}function et(n){0>ro||(n.current=Qc[ro],Qc[ro]=null,ro--)}function Ye(n,s){ro++,Qc[ro]=n.current,n.current=s}var ds={},$t=hs(ds),sn=hs(!1),ti=ds;function so(n,s){var a=n.type.contextTypes;if(!a)return ds;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=s[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function on(n){return n=n.childContextTypes,n!=null}function Fl(){et(sn),et($t)}function yp(n,s,a){if($t.current!==ds)throw Error(t(168));Ye($t,s),Ye(sn,a)}function vp(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Fe(n)||"Unknown",d));return ie({},a,c)}function zl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ds,ti=$t.current,Ye($t,n),Ye(sn,sn.current),!0}function _p(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=vp(n,s,ti),c.__reactInternalMemoizedMergedChildContext=n,et(sn),et($t),Ye($t,n)):et(sn),Ye(sn,a)}var br=null,Bl=!1,Xc=!1;function wp(n){br===null?br=[n]:br.push(n)}function N0(n){Bl=!0,wp(n)}function fs(){if(!Xc&&br!==null){Xc=!0;var n=0,s=Me;try{var a=br;for(Me=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}br=null,Bl=!1}catch(d){throw br!==null&&(br=br.slice(n+1)),Vi(Ws,fs),d}finally{Me=s,Xc=!1}}return null}var io=[],oo=0,$l=null,Hl=0,kn=[],Sn=0,ni=null,Dr=1,jr="";function ri(n,s){io[oo++]=Hl,io[oo++]=$l,$l=n,Hl=s}function xp(n,s,a){kn[Sn++]=Dr,kn[Sn++]=jr,kn[Sn++]=ni,ni=n;var c=Dr;n=jr;var d=32-Yt(c)-1;c&=~(1<<d),a+=1;var m=32-Yt(s)+d;if(30<m){var w=d-d%5;m=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Dr=1<<32-Yt(s)+d|a<<d|c,jr=m+n}else Dr=1<<m|a<<d|c,jr=n}function Yc(n){n.return!==null&&(ri(n,1),xp(n,1,0))}function Jc(n){for(;n===$l;)$l=io[--oo],io[oo]=null,Hl=io[--oo],io[oo]=null;for(;n===ni;)ni=kn[--Sn],kn[Sn]=null,jr=kn[--Sn],kn[Sn]=null,Dr=kn[--Sn],kn[Sn]=null}var mn=null,gn=null,nt=!1,qn=null;function Ep(n,s){var a=Nn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function Tp(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,mn=n,gn=cs(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,mn=n,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ni!==null?{id:Dr,overflow:jr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Nn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,mn=n,gn=null,!0):!1;default:return!1}}function Zc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function eh(n){if(nt){var s=gn;if(s){var a=s;if(!Tp(n,s)){if(Zc(n))throw Error(t(418));s=cs(a.nextSibling);var c=mn;s&&Tp(n,s)?Ep(c,a):(n.flags=n.flags&-4097|2,nt=!1,mn=n)}}else{if(Zc(n))throw Error(t(418));n.flags=n.flags&-4097|2,nt=!1,mn=n}}}function Ip(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;mn=n}function ql(n){if(n!==mn)return!1;if(!nt)return Ip(n),nt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!qc(n.type,n.memoizedProps)),s&&(s=gn)){if(Zc(n))throw kp(),Error(t(418));for(;s;)Ep(n,s),s=cs(s.nextSibling)}if(Ip(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){gn=cs(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}gn=null}}else gn=mn?cs(n.stateNode.nextSibling):null;return!0}function kp(){for(var n=gn;n;)n=cs(n.nextSibling)}function ao(){gn=mn=null,nt=!1}function th(n){qn===null?qn=[n]:qn.push(n)}var P0=se.ReactCurrentBatchConfig;function ha(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(w){var I=d.refs;w===null?delete I[m]:I[m]=w},s._stringRef=m,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Wl(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Sp(n){var s=n._init;return s(n._payload)}function Ap(n){function s(U,D){if(n){var F=U.deletions;F===null?(U.deletions=[D],U.flags|=16):F.push(D)}}function a(U,D){if(!n)return null;for(;D!==null;)s(U,D),D=D.sibling;return null}function c(U,D){for(U=new Map;D!==null;)D.key!==null?U.set(D.key,D):U.set(D.index,D),D=D.sibling;return U}function d(U,D){return U=xs(U,D),U.index=0,U.sibling=null,U}function m(U,D,F){return U.index=F,n?(F=U.alternate,F!==null?(F=F.index,F<D?(U.flags|=2,D):F):(U.flags|=2,D)):(U.flags|=1048576,D)}function w(U){return n&&U.alternate===null&&(U.flags|=2),U}function I(U,D,F,Z){return D===null||D.tag!==6?(D=Wh(F,U.mode,Z),D.return=U,D):(D=d(D,F),D.return=U,D)}function C(U,D,F,Z){var me=F.type;return me===N?Q(U,D,F.props.children,Z,F.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Rt&&Sp(me)===D.type)?(Z=d(D,F.props),Z.ref=ha(U,D,F),Z.return=U,Z):(Z=gu(F.type,F.key,F.props,null,U.mode,Z),Z.ref=ha(U,D,F),Z.return=U,Z)}function B(U,D,F,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=Gh(F,U.mode,Z),D.return=U,D):(D=d(D,F.children||[]),D.return=U,D)}function Q(U,D,F,Z,me){return D===null||D.tag!==7?(D=hi(F,U.mode,Z,me),D.return=U,D):(D=d(D,F),D.return=U,D)}function J(U,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Wh(""+D,U.mode,F),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ge:return F=gu(D.type,D.key,D.props,null,U.mode,F),F.ref=ha(U,null,D),F.return=U,F;case oe:return D=Gh(D,U.mode,F),D.return=U,D;case Rt:var Z=D._init;return J(U,Z(D._payload),F)}if(Dn(D)||ye(D))return D=hi(D,U.mode,F,null),D.return=U,D;Wl(U,D)}return null}function G(U,D,F,Z){var me=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return me!==null?null:I(U,D,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ge:return F.key===me?C(U,D,F,Z):null;case oe:return F.key===me?B(U,D,F,Z):null;case Rt:return me=F._init,G(U,D,me(F._payload),Z)}if(Dn(F)||ye(F))return me!==null?null:Q(U,D,F,Z,null);Wl(U,F)}return null}function le(U,D,F,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return U=U.get(F)||null,I(D,U,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ge:return U=U.get(Z.key===null?F:Z.key)||null,C(D,U,Z,me);case oe:return U=U.get(Z.key===null?F:Z.key)||null,B(D,U,Z,me);case Rt:var we=Z._init;return le(U,D,F,we(Z._payload),me)}if(Dn(Z)||ye(Z))return U=U.get(F)||null,Q(D,U,Z,me,null);Wl(D,Z)}return null}function he(U,D,F,Z){for(var me=null,we=null,xe=D,Ie=D=0,bt=null;xe!==null&&Ie<F.length;Ie++){xe.index>Ie?(bt=xe,xe=null):bt=xe.sibling;var Be=G(U,xe,F[Ie],Z);if(Be===null){xe===null&&(xe=bt);break}n&&xe&&Be.alternate===null&&s(U,xe),D=m(Be,D,Ie),we===null?me=Be:we.sibling=Be,we=Be,xe=bt}if(Ie===F.length)return a(U,xe),nt&&ri(U,Ie),me;if(xe===null){for(;Ie<F.length;Ie++)xe=J(U,F[Ie],Z),xe!==null&&(D=m(xe,D,Ie),we===null?me=xe:we.sibling=xe,we=xe);return nt&&ri(U,Ie),me}for(xe=c(U,xe);Ie<F.length;Ie++)bt=le(xe,U,Ie,F[Ie],Z),bt!==null&&(n&&bt.alternate!==null&&xe.delete(bt.key===null?Ie:bt.key),D=m(bt,D,Ie),we===null?me=bt:we.sibling=bt,we=bt);return n&&xe.forEach(function(Es){return s(U,Es)}),nt&&ri(U,Ie),me}function de(U,D,F,Z){var me=ye(F);if(typeof me!="function")throw Error(t(150));if(F=me.call(F),F==null)throw Error(t(151));for(var we=me=null,xe=D,Ie=D=0,bt=null,Be=F.next();xe!==null&&!Be.done;Ie++,Be=F.next()){xe.index>Ie?(bt=xe,xe=null):bt=xe.sibling;var Es=G(U,xe,Be.value,Z);if(Es===null){xe===null&&(xe=bt);break}n&&xe&&Es.alternate===null&&s(U,xe),D=m(Es,D,Ie),we===null?me=Es:we.sibling=Es,we=Es,xe=bt}if(Be.done)return a(U,xe),nt&&ri(U,Ie),me;if(xe===null){for(;!Be.done;Ie++,Be=F.next())Be=J(U,Be.value,Z),Be!==null&&(D=m(Be,D,Ie),we===null?me=Be:we.sibling=Be,we=Be);return nt&&ri(U,Ie),me}for(xe=c(U,xe);!Be.done;Ie++,Be=F.next())Be=le(xe,U,Ie,Be.value,Z),Be!==null&&(n&&Be.alternate!==null&&xe.delete(Be.key===null?Ie:Be.key),D=m(Be,D,Ie),we===null?me=Be:we.sibling=Be,we=Be);return n&&xe.forEach(function(cw){return s(U,cw)}),nt&&ri(U,Ie),me}function pt(U,D,F,Z){if(typeof F=="object"&&F!==null&&F.type===N&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case ge:e:{for(var me=F.key,we=D;we!==null;){if(we.key===me){if(me=F.type,me===N){if(we.tag===7){a(U,we.sibling),D=d(we,F.props.children),D.return=U,U=D;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Rt&&Sp(me)===we.type){a(U,we.sibling),D=d(we,F.props),D.ref=ha(U,we,F),D.return=U,U=D;break e}a(U,we);break}else s(U,we);we=we.sibling}F.type===N?(D=hi(F.props.children,U.mode,Z,F.key),D.return=U,U=D):(Z=gu(F.type,F.key,F.props,null,U.mode,Z),Z.ref=ha(U,D,F),Z.return=U,U=Z)}return w(U);case oe:e:{for(we=F.key;D!==null;){if(D.key===we)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){a(U,D.sibling),D=d(D,F.children||[]),D.return=U,U=D;break e}else{a(U,D);break}else s(U,D);D=D.sibling}D=Gh(F,U.mode,Z),D.return=U,U=D}return w(U);case Rt:return we=F._init,pt(U,D,we(F._payload),Z)}if(Dn(F))return he(U,D,F,Z);if(ye(F))return de(U,D,F,Z);Wl(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(a(U,D.sibling),D=d(D,F),D.return=U,U=D):(a(U,D),D=Wh(F,U.mode,Z),D.return=U,U=D),w(U)):a(U,D)}return pt}var lo=Ap(!0),Rp=Ap(!1),Gl=hs(null),Kl=null,uo=null,nh=null;function rh(){nh=uo=Kl=null}function sh(n){var s=Gl.current;et(Gl),n._currentValue=s}function ih(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function co(n,s){Kl=n,nh=uo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(an=!0),n.firstContext=null)}function An(n){var s=n._currentValue;if(nh!==n)if(n={context:n,memoizedValue:s,next:null},uo===null){if(Kl===null)throw Error(t(308));uo=n,Kl.dependencies={lanes:0,firstContext:n}}else uo=uo.next=n;return s}var si=null;function oh(n){si===null?si=[n]:si.push(n)}function Cp(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,oh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Or(n,c)}function Or(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ps=!1;function ah(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Np(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Mr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ms(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ze&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Or(n,a)}return d=c.interleaved,d===null?(s.next=s,oh(c)):(s.next=d.next,d.next=s),c.interleaved=s,Or(n,a)}function Ql(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,ss(n,a)}}function Pp(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function Xl(n,s,a,c){var d=n.updateQueue;ps=!1;var m=d.firstBaseUpdate,w=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var C=I,B=C.next;C.next=null,w===null?m=B:w.next=B,w=C;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,I=Q.lastBaseUpdate,I!==w&&(I===null?Q.firstBaseUpdate=B:I.next=B,Q.lastBaseUpdate=C))}if(m!==null){var J=d.baseState;w=0,Q=B=C=null,I=m;do{var G=I.lane,le=I.eventTime;if((c&G)===G){Q!==null&&(Q=Q.next={eventTime:le,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var he=n,de=I;switch(G=s,le=a,de.tag){case 1:if(he=de.payload,typeof he=="function"){J=he.call(le,J,G);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,G=typeof he=="function"?he.call(le,J,G):he,G==null)break e;J=ie({},J,G);break e;case 2:ps=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,G=d.effects,G===null?d.effects=[I]:G.push(I))}else le={eventTime:le,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Q===null?(B=Q=le,C=J):Q=Q.next=le,w|=G;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;G=I,I=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(Q===null&&(C=J),d.baseState=C,d.firstBaseUpdate=B,d.lastBaseUpdate=Q,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else m===null&&(d.shared.lanes=0);ai|=w,n.lanes=w,n.memoizedState=J}}function bp(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var da={},lr=hs(da),fa=hs(da),pa=hs(da);function ii(n){if(n===da)throw Error(t(174));return n}function lh(n,s){switch(Ye(pa,s),Ye(fa,n),Ye(lr,da),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:re(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=re(s,n)}et(lr),Ye(lr,s)}function ho(){et(lr),et(fa),et(pa)}function Dp(n){ii(pa.current);var s=ii(lr.current),a=re(s,n.type);s!==a&&(Ye(fa,n),Ye(lr,a))}function uh(n){fa.current===n&&(et(lr),et(fa))}var it=hs(0);function Yl(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ch=[];function hh(){for(var n=0;n<ch.length;n++)ch[n]._workInProgressVersionPrimary=null;ch.length=0}var Jl=se.ReactCurrentDispatcher,dh=se.ReactCurrentBatchConfig,oi=0,ot=null,It=null,Nt=null,Zl=!1,ma=!1,ga=0,b0=0;function Ht(){throw Error(t(321))}function fh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Hn(n[a],s[a]))return!1;return!0}function ph(n,s,a,c,d,m){if(oi=m,ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Jl.current=n===null||n.memoizedState===null?M0:V0,n=a(c,d),ma){m=0;do{if(ma=!1,ga=0,25<=m)throw Error(t(301));m+=1,Nt=It=null,s.updateQueue=null,Jl.current=L0,n=a(c,d)}while(ma)}if(Jl.current=nu,s=It!==null&&It.next!==null,oi=0,Nt=It=ot=null,Zl=!1,s)throw Error(t(300));return n}function mh(){var n=ga!==0;return ga=0,n}function ur(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ot.memoizedState=Nt=n:Nt=Nt.next=n,Nt}function Rn(){if(It===null){var n=ot.alternate;n=n!==null?n.memoizedState:null}else n=It.next;var s=Nt===null?ot.memoizedState:Nt.next;if(s!==null)Nt=s,It=n;else{if(n===null)throw Error(t(310));It=n,n={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Nt===null?ot.memoizedState=Nt=n:Nt=Nt.next=n}return Nt}function ya(n,s){return typeof s=="function"?s(n):s}function gh(n){var s=Rn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=It,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var w=d.next;d.next=m.next,m.next=w}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var I=w=null,C=null,B=m;do{var Q=B.lane;if((oi&Q)===Q)C!==null&&(C=C.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var J={lane:Q,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};C===null?(I=C=J,w=c):C=C.next=J,ot.lanes|=Q,ai|=Q}B=B.next}while(B!==null&&B!==m);C===null?w=c:C.next=I,Hn(c,s.memoizedState)||(an=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=C,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,ot.lanes|=m,ai|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function yh(n){var s=Rn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do m=n(m,w.action),w=w.next;while(w!==d);Hn(m,s.memoizedState)||(an=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function jp(){}function Op(n,s){var a=ot,c=Rn(),d=s(),m=!Hn(c.memoizedState,d);if(m&&(c.memoizedState=d,an=!0),c=c.queue,vh(Lp.bind(null,a,c,n),[n]),c.getSnapshot!==s||m||Nt!==null&&Nt.memoizedState.tag&1){if(a.flags|=2048,va(9,Vp.bind(null,a,c,d,s),void 0,null),Pt===null)throw Error(t(349));(oi&30)!==0||Mp(a,s,d)}return d}function Mp(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Vp(n,s,a,c){s.value=a,s.getSnapshot=c,Up(s)&&Fp(n)}function Lp(n,s,a){return a(function(){Up(s)&&Fp(n)})}function Up(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Hn(n,a)}catch{return!0}}function Fp(n){var s=Or(n,1);s!==null&&Qn(s,n,1,-1)}function zp(n){var s=ur();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:n},s.queue=n,n=n.dispatch=O0.bind(null,ot,n),[s.memoizedState,n]}function va(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function Bp(){return Rn().memoizedState}function eu(n,s,a,c){var d=ur();ot.flags|=n,d.memoizedState=va(1|s,a,void 0,c===void 0?null:c)}function tu(n,s,a,c){var d=Rn();c=c===void 0?null:c;var m=void 0;if(It!==null){var w=It.memoizedState;if(m=w.destroy,c!==null&&fh(c,w.deps)){d.memoizedState=va(s,a,m,c);return}}ot.flags|=n,d.memoizedState=va(1|s,a,m,c)}function $p(n,s){return eu(8390656,8,n,s)}function vh(n,s){return tu(2048,8,n,s)}function Hp(n,s){return tu(4,2,n,s)}function qp(n,s){return tu(4,4,n,s)}function Wp(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Gp(n,s,a){return a=a!=null?a.concat([n]):null,tu(4,4,Wp.bind(null,s,n),a)}function _h(){}function Kp(n,s){var a=Rn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&fh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Qp(n,s){var a=Rn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&fh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function Xp(n,s,a){return(oi&21)===0?(n.baseState&&(n.baseState=!1,an=!0),n.memoizedState=a):(Hn(a,s)||(a=Qs(),ot.lanes|=a,ai|=a,n.baseState=!0),s)}function D0(n,s){var a=Me;Me=a!==0&&4>a?a:4,n(!0);var c=dh.transition;dh.transition={};try{n(!1),s()}finally{Me=a,dh.transition=c}}function Yp(){return Rn().memoizedState}function j0(n,s,a){var c=_s(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Jp(n))Zp(s,a);else if(a=Cp(n,s,a,c),a!==null){var d=en();Qn(a,n,c,d),em(a,s,c)}}function O0(n,s,a){var c=_s(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jp(n))Zp(s,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var w=s.lastRenderedState,I=m(w,a);if(d.hasEagerState=!0,d.eagerState=I,Hn(I,w)){var C=s.interleaved;C===null?(d.next=d,oh(s)):(d.next=C.next,C.next=d),s.interleaved=d;return}}catch{}a=Cp(n,s,d,c),a!==null&&(d=en(),Qn(a,n,c,d),em(a,s,c))}}function Jp(n){var s=n.alternate;return n===ot||s!==null&&s===ot}function Zp(n,s){ma=Zl=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function em(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,ss(n,a)}}var nu={readContext:An,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},M0={readContext:An,useCallback:function(n,s){return ur().memoizedState=[n,s===void 0?null:s],n},useContext:An,useEffect:$p,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,eu(4194308,4,Wp.bind(null,s,n),a)},useLayoutEffect:function(n,s){return eu(4194308,4,n,s)},useInsertionEffect:function(n,s){return eu(4,2,n,s)},useMemo:function(n,s){var a=ur();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=ur();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=j0.bind(null,ot,n),[c.memoizedState,n]},useRef:function(n){var s=ur();return n={current:n},s.memoizedState=n},useState:zp,useDebugValue:_h,useDeferredValue:function(n){return ur().memoizedState=n},useTransition:function(){var n=zp(!1),s=n[0];return n=D0.bind(null,n[1]),ur().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=ot,d=ur();if(nt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Pt===null)throw Error(t(349));(oi&30)!==0||Mp(c,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,$p(Lp.bind(null,c,m,n),[n]),c.flags|=2048,va(9,Vp.bind(null,c,m,a,s),void 0,null),a},useId:function(){var n=ur(),s=Pt.identifierPrefix;if(nt){var a=jr,c=Dr;a=(c&~(1<<32-Yt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=ga++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=b0++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},V0={readContext:An,useCallback:Kp,useContext:An,useEffect:vh,useImperativeHandle:Gp,useInsertionEffect:Hp,useLayoutEffect:qp,useMemo:Qp,useReducer:gh,useRef:Bp,useState:function(){return gh(ya)},useDebugValue:_h,useDeferredValue:function(n){var s=Rn();return Xp(s,It.memoizedState,n)},useTransition:function(){var n=gh(ya)[0],s=Rn().memoizedState;return[n,s]},useMutableSource:jp,useSyncExternalStore:Op,useId:Yp,unstable_isNewReconciler:!1},L0={readContext:An,useCallback:Kp,useContext:An,useEffect:vh,useImperativeHandle:Gp,useInsertionEffect:Hp,useLayoutEffect:qp,useMemo:Qp,useReducer:yh,useRef:Bp,useState:function(){return yh(ya)},useDebugValue:_h,useDeferredValue:function(n){var s=Rn();return It===null?s.memoizedState=n:Xp(s,It.memoizedState,n)},useTransition:function(){var n=yh(ya)[0],s=Rn().memoizedState;return[n,s]},useMutableSource:jp,useSyncExternalStore:Op,useId:Yp,unstable_isNewReconciler:!1};function Wn(n,s){if(n&&n.defaultProps){s=ie({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function wh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:ie({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ru={isMounted:function(n){return(n=n._reactInternals)?Vn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=en(),d=_s(n),m=Mr(c,d);m.payload=s,a!=null&&(m.callback=a),s=ms(n,m,d),s!==null&&(Qn(s,n,d,c),Ql(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=en(),d=_s(n),m=Mr(c,d);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=ms(n,m,d),s!==null&&(Qn(s,n,d,c),Ql(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=en(),c=_s(n),d=Mr(a,c);d.tag=2,s!=null&&(d.callback=s),s=ms(n,d,c),s!==null&&(Qn(s,n,c,a),Ql(s,n,c))}};function tm(n,s,a,c,d,m,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,w):s.prototype&&s.prototype.isPureReactComponent?!sa(a,c)||!sa(d,m):!0}function nm(n,s,a){var c=!1,d=ds,m=s.contextType;return typeof m=="object"&&m!==null?m=An(m):(d=on(s)?ti:$t.current,c=s.contextTypes,m=(c=c!=null)?so(n,d):ds),s=new s(a,m),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ru,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),s}function rm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&ru.enqueueReplaceState(s,s.state,null)}function xh(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},ah(n);var m=s.contextType;typeof m=="object"&&m!==null?d.context=An(m):(m=on(s)?ti:$t.current,d.context=so(n,m)),d.state=n.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(wh(n,s,m,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&ru.enqueueReplaceState(d,d.state,null),Xl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function fo(n,s){try{var a="",c=s;do a+=Pe(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:s,stack:d,digest:null}}function Eh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Th(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var U0=typeof WeakMap=="function"?WeakMap:Map;function sm(n,s,a){a=Mr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){cu||(cu=!0,Lh=c),Th(n,s)},a}function im(n,s,a){a=Mr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Th(n,s)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Th(n,s),typeof c!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function om(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new U0;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=Z0.bind(null,n,s,a),s.then(n,n))}function am(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function lm(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Mr(-1,1),s.tag=2,ms(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var F0=se.ReactCurrentOwner,an=!1;function Zt(n,s,a,c){s.child=n===null?Rp(s,null,a,c):lo(s,n.child,a,c)}function um(n,s,a,c,d){a=a.render;var m=s.ref;return co(s,d),c=ph(n,s,a,c,m,d),a=mh(),n!==null&&!an?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Vr(n,s,d)):(nt&&a&&Yc(s),s.flags|=1,Zt(n,s,c,d),s.child)}function cm(n,s,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!qh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,hm(n,s,m,c,d)):(n=gu(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,(n.lanes&d)===0){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:sa,a(w,c)&&n.ref===s.ref)return Vr(n,s,d)}return s.flags|=1,n=xs(m,c),n.ref=s.ref,n.return=s,s.child=n}function hm(n,s,a,c,d){if(n!==null){var m=n.memoizedProps;if(sa(m,c)&&n.ref===s.ref)if(an=!1,s.pendingProps=c=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(an=!0);else return s.lanes=n.lanes,Vr(n,s,d)}return Ih(n,s,a,c,d)}function dm(n,s,a){var c=s.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(mo,yn),yn|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Ye(mo,yn),yn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ye(mo,yn),yn|=c}else m!==null?(c=m.baseLanes|a,s.memoizedState=null):c=a,Ye(mo,yn),yn|=c;return Zt(n,s,d,a),s.child}function fm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Ih(n,s,a,c,d){var m=on(a)?ti:$t.current;return m=so(s,m),co(s,d),a=ph(n,s,a,c,m,d),c=mh(),n!==null&&!an?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Vr(n,s,d)):(nt&&c&&Yc(s),s.flags|=1,Zt(n,s,a,d),s.child)}function pm(n,s,a,c,d){if(on(a)){var m=!0;zl(s)}else m=!1;if(co(s,d),s.stateNode===null)iu(n,s),nm(s,a,c),xh(s,a,c,d),c=!0;else if(n===null){var w=s.stateNode,I=s.memoizedProps;w.props=I;var C=w.context,B=a.contextType;typeof B=="object"&&B!==null?B=An(B):(B=on(a)?ti:$t.current,B=so(s,B));var Q=a.getDerivedStateFromProps,J=typeof Q=="function"||typeof w.getSnapshotBeforeUpdate=="function";J||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==c||C!==B)&&rm(s,w,c,B),ps=!1;var G=s.memoizedState;w.state=G,Xl(s,c,w,d),C=s.memoizedState,I!==c||G!==C||sn.current||ps?(typeof Q=="function"&&(wh(s,a,Q,c),C=s.memoizedState),(I=ps||tm(s,a,I,c,G,C,B))?(J||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=C),w.props=c,w.state=C,w.context=B,c=I):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,Np(n,s),I=s.memoizedProps,B=s.type===s.elementType?I:Wn(s.type,I),w.props=B,J=s.pendingProps,G=w.context,C=a.contextType,typeof C=="object"&&C!==null?C=An(C):(C=on(a)?ti:$t.current,C=so(s,C));var le=a.getDerivedStateFromProps;(Q=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==J||G!==C)&&rm(s,w,c,C),ps=!1,G=s.memoizedState,w.state=G,Xl(s,c,w,d);var he=s.memoizedState;I!==J||G!==he||sn.current||ps?(typeof le=="function"&&(wh(s,a,le,c),he=s.memoizedState),(B=ps||tm(s,a,B,c,G,he,C)||!1)?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,he,C),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,he,C)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=he),w.props=c,w.state=he,w.context=C,c=B):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),c=!1)}return kh(n,s,a,c,m,d)}function kh(n,s,a,c,d,m){fm(n,s);var w=(s.flags&128)!==0;if(!c&&!w)return d&&_p(s,a,!1),Vr(n,s,m);c=s.stateNode,F0.current=s;var I=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&w?(s.child=lo(s,n.child,null,m),s.child=lo(s,null,I,m)):Zt(n,s,I,m),s.memoizedState=c.state,d&&_p(s,a,!0),s.child}function mm(n){var s=n.stateNode;s.pendingContext?yp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&yp(n,s.context,!1),lh(n,s.containerInfo)}function gm(n,s,a,c,d){return ao(),th(d),s.flags|=256,Zt(n,s,a,c),s.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function Ah(n){return{baseLanes:n,cachePool:null,transitions:null}}function ym(n,s,a){var c=s.pendingProps,d=it.current,m=!1,w=(s.flags&128)!==0,I;if((I=w)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(m=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ye(it,d&1),n===null)return eh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=c.children,n=c.fallback,m?(c=s.mode,m=s.child,w={mode:"hidden",children:w},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=yu(w,c,0,null),n=hi(n,c,a,null),m.return=s,n.return=s,m.sibling=n,s.child=m,s.child.memoizedState=Ah(a),s.memoizedState=Sh,n):Rh(s,w));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return z0(n,s,w,c,I,d,a);if(m){m=c.fallback,w=s.mode,d=n.child,I=d.sibling;var C={mode:"hidden",children:c.children};return(w&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=C,s.deletions=null):(c=xs(d,C),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?m=xs(I,m):(m=hi(m,w,a,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,w=n.child.memoizedState,w=w===null?Ah(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=n.childLanes&~a,s.memoizedState=Sh,c}return m=n.child,n=m.sibling,c=xs(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Rh(n,s){return s=yu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function su(n,s,a,c){return c!==null&&th(c),lo(s,n.child,null,a),n=Rh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function z0(n,s,a,c,d,m,w){if(a)return s.flags&256?(s.flags&=-257,c=Eh(Error(t(422))),su(n,s,w,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(m=c.fallback,d=s.mode,c=yu({mode:"visible",children:c.children},d,0,null),m=hi(m,d,w,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&lo(s,n.child,null,w),s.child.memoizedState=Ah(w),s.memoizedState=Sh,m);if((s.mode&1)===0)return su(n,s,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(t(419)),c=Eh(m,c,void 0),su(n,s,w,c)}if(I=(w&n.childLanes)!==0,an||I){if(c=Pt,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|w))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Or(n,d),Qn(c,n,d,-1))}return Hh(),c=Eh(Error(t(421))),su(n,s,w,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=ew.bind(null,n),d._reactRetry=s,null):(n=m.treeContext,gn=cs(d.nextSibling),mn=s,nt=!0,qn=null,n!==null&&(kn[Sn++]=Dr,kn[Sn++]=jr,kn[Sn++]=ni,Dr=n.id,jr=n.overflow,ni=s),s=Rh(s,c.children),s.flags|=4096,s)}function vm(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),ih(n.return,s,a)}function Ch(n,s,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function _m(n,s,a){var c=s.pendingProps,d=c.revealOrder,m=c.tail;if(Zt(n,s,c.children,a),c=it.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&vm(n,a,s);else if(n.tag===19)vm(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ye(it,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&Yl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Ch(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Yl(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Ch(s,!0,a,null,m);break;case"together":Ch(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function iu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Vr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),ai|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=xs(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=xs(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function B0(n,s,a){switch(s.tag){case 3:mm(s),ao();break;case 5:Dp(s);break;case 1:on(s.type)&&zl(s);break;case 4:lh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;Ye(Gl,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ye(it,it.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?ym(n,s,a):(Ye(it,it.current&1),n=Vr(n,s,a),n!==null?n.sibling:null);Ye(it,it.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return _m(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(it,it.current),c)break;return null;case 22:case 23:return s.lanes=0,dm(n,s,a)}return Vr(n,s,a)}var wm,Nh,xm,Em;wm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Nh=function(){},xm=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,ii(lr.current);var m=null;switch(a){case"input":d=Tr(n,d),c=Tr(n,c),m=[];break;case"select":d=ie({},d,{value:void 0}),c=ie({},c,{value:void 0}),m=[];break;case"textarea":d=Us(n,d),c=Us(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Ll)}Ir(a,c);var w;a=null;for(B in d)if(!c.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var I=d[B];for(w in I)I.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in c){var C=c[B];if(I=d?.[B],c.hasOwnProperty(B)&&C!==I&&(C!=null||I!=null))if(B==="style")if(I){for(w in I)!I.hasOwnProperty(w)||C&&C.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in C)C.hasOwnProperty(w)&&I[w]!==C[w]&&(a||(a={}),a[w]=C[w])}else a||(m||(m=[]),m.push(B,a)),a=C;else B==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,I=I?I.__html:void 0,C!=null&&I!==C&&(m=m||[]).push(B,C)):B==="children"?typeof C!="string"&&typeof C!="number"||(m=m||[]).push(B,""+C):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(C!=null&&B==="onScroll"&&Ze("scroll",n),m||I===C||(m=[])):(m=m||[]).push(B,C))}a&&(m=m||[]).push("style",a);var B=m;(s.updateQueue=B)&&(s.flags|=4)}},Em=function(n,s,a,c){a!==c&&(s.flags|=4)};function _a(n,s){if(!nt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function qt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function $0(n,s,a){var c=s.pendingProps;switch(Jc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(s),null;case 1:return on(s.type)&&Fl(),qt(s),null;case 3:return c=s.stateNode,ho(),et(sn),et($t),hh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(ql(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qn!==null&&(zh(qn),qn=null))),Nh(n,s),qt(s),null;case 5:uh(s);var d=ii(pa.current);if(a=s.type,n!==null&&s.stateNode!=null)xm(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return qt(s),null}if(n=ii(lr.current),ql(s)){c=s.stateNode,a=s.type;var m=s.memoizedProps;switch(c[ar]=s,c[ua]=m,n=(s.mode&1)!==0,a){case"dialog":Ze("cancel",c),Ze("close",c);break;case"iframe":case"object":case"embed":Ze("load",c);break;case"video":case"audio":for(d=0;d<oa.length;d++)Ze(oa[d],c);break;case"source":Ze("error",c);break;case"img":case"image":case"link":Ze("error",c),Ze("load",c);break;case"details":Ze("toggle",c);break;case"input":Xr(c,m),Ze("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ze("invalid",c);break;case"textarea":Jr(c,m),Ze("invalid",c)}Ir(a,m),d=null;for(var w in m)if(m.hasOwnProperty(w)){var I=m[w];w==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&Vl(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&Vl(c.textContent,I,n),d=["children",""+I]):o.hasOwnProperty(w)&&I!=null&&w==="onScroll"&&Ze("scroll",c)}switch(a){case"input":bn(c),Ri(c,m,!0);break;case"textarea":bn(c),ue(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Ll)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ne(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=w.createElement(a,{is:c.is}):(n=w.createElement(a),a==="select"&&(w=n,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):n=w.createElementNS(n,a),n[ar]=s,n[ua]=c,wm(n,s,!1,!1),s.stateNode=n;e:{switch(w=Fs(a,c),a){case"dialog":Ze("cancel",n),Ze("close",n),d=c;break;case"iframe":case"object":case"embed":Ze("load",n),d=c;break;case"video":case"audio":for(d=0;d<oa.length;d++)Ze(oa[d],n);d=c;break;case"source":Ze("error",n),d=c;break;case"img":case"image":case"link":Ze("error",n),Ze("load",n),d=c;break;case"details":Ze("toggle",n),d=c;break;case"input":Xr(n,c),d=Tr(n,c),Ze("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ie({},c,{value:void 0}),Ze("invalid",n);break;case"textarea":Jr(n,c),d=Us(n,c),Ze("invalid",n);break;default:d=c}Ir(a,d),I=d;for(m in I)if(I.hasOwnProperty(m)){var C=I[m];m==="style"?wn(n,C):m==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Et(n,C)):m==="children"?typeof C=="string"?(a!=="textarea"||C!=="")&&lt(n,C):typeof C=="number"&&lt(n,""+C):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?C!=null&&m==="onScroll"&&Ze("scroll",n):C!=null&&ae(n,m,C,w))}switch(a){case"input":bn(n),Ri(n,c,!1);break;case"textarea":bn(n),ue(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Te(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?jn(n,!!c.multiple,m,!1):c.defaultValue!=null&&jn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Ll)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return qt(s),null;case 6:if(n&&s.stateNode!=null)Em(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=ii(pa.current),ii(lr.current),ql(s)){if(c=s.stateNode,a=s.memoizedProps,c[ar]=s,(m=c.nodeValue!==a)&&(n=mn,n!==null))switch(n.tag){case 3:Vl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Vl(c.nodeValue,a,(n.mode&1)!==0)}m&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[ar]=s,s.stateNode=c}return qt(s),null;case 13:if(et(it),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nt&&gn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)kp(),ao(),s.flags|=98560,m=!1;else if(m=ql(s),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[ar]=s}else ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;qt(s),m=!1}else qn!==null&&(zh(qn),qn=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(it.current&1)!==0?kt===0&&(kt=3):Hh())),s.updateQueue!==null&&(s.flags|=4),qt(s),null);case 4:return ho(),Nh(n,s),n===null&&aa(s.stateNode.containerInfo),qt(s),null;case 10:return sh(s.type._context),qt(s),null;case 17:return on(s.type)&&Fl(),qt(s),null;case 19:if(et(it),m=s.memoizedState,m===null)return qt(s),null;if(c=(s.flags&128)!==0,w=m.rendering,w===null)if(c)_a(m,!1);else{if(kt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(w=Yl(n),w!==null){for(s.flags|=128,_a(m,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)m=a,n=c,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,n=w.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ye(it,it.current&1|2),s.child}n=n.sibling}m.tail!==null&&Xe()>go&&(s.flags|=128,c=!0,_a(m,!1),s.lanes=4194304)}else{if(!c)if(n=Yl(w),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),_a(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!nt)return qt(s),null}else 2*Xe()-m.renderingStartTime>go&&a!==1073741824&&(s.flags|=128,c=!0,_a(m,!1),s.lanes=4194304);m.isBackwards?(w.sibling=s.child,s.child=w):(a=m.last,a!==null?a.sibling=w:s.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Xe(),s.sibling=null,a=it.current,Ye(it,c?a&1|2:a&1),s):(qt(s),null);case 22:case 23:return $h(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(yn&1073741824)!==0&&(qt(s),s.subtreeFlags&6&&(s.flags|=8192)):qt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function H0(n,s){switch(Jc(s),s.tag){case 1:return on(s.type)&&Fl(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ho(),et(sn),et($t),hh(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return uh(s),null;case 13:if(et(it),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ao()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return et(it),null;case 4:return ho(),null;case 10:return sh(s.type._context),null;case 22:case 23:return $h(),null;case 24:return null;default:return null}}var ou=!1,Wt=!1,q0=typeof WeakSet=="function"?WeakSet:Set,ce=null;function po(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ut(n,s,c)}else a.current=null}function Ph(n,s,a){try{a()}catch(c){ut(n,s,c)}}var Tm=!1;function W0(n,s){if($c=as,n=tp(),Oc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,I=-1,C=-1,B=0,Q=0,J=n,G=null;t:for(;;){for(var le;J!==a||d!==0&&J.nodeType!==3||(I=w+d),J!==m||c!==0&&J.nodeType!==3||(C=w+c),J.nodeType===3&&(w+=J.nodeValue.length),(le=J.firstChild)!==null;)G=J,J=le;for(;;){if(J===n)break t;if(G===a&&++B===d&&(I=w),G===m&&++Q===c&&(C=w),(le=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=le}a=I===-1||C===-1?null:{start:I,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hc={focusedElem:n,selectionRange:a},as=!1,ce=s;ce!==null;)if(s=ce,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ce=n;else for(;ce!==null;){s=ce;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,pt=he.memoizedState,U=s.stateNode,D=U.getSnapshotBeforeUpdate(s.elementType===s.type?de:Wn(s.type,de),pt);U.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=s.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){ut(s,s.return,Z)}if(n=s.sibling,n!==null){n.return=s.return,ce=n;break}ce=s.return}return he=Tm,Tm=!1,he}function wa(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&Ph(s,a,m)}d=d.next}while(d!==c)}}function au(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function bh(n){var s=n.ref;if(s!==null){var a=n.stateNode;n.tag,n=a,typeof s=="function"?s(n):s.current=n}}function Im(n){var s=n.alternate;s!==null&&(n.alternate=null,Im(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[ar],delete s[ua],delete s[Kc],delete s[R0],delete s[C0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function km(n){return n.tag===5||n.tag===3||n.tag===4}function Sm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||km(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ll));else if(c!==4&&(n=n.child,n!==null))for(Dh(n,s,a),n=n.sibling;n!==null;)Dh(n,s,a),n=n.sibling}function jh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(jh(n,s,a),n=n.sibling;n!==null;)jh(n,s,a),n=n.sibling}var Vt=null,Gn=!1;function gs(n,s,a){for(a=a.child;a!==null;)Am(n,s,a),a=a.sibling}function Am(n,s,a){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Gs,a)}catch{}switch(a.tag){case 5:Wt||po(a,s);case 6:var c=Vt,d=Gn;Vt=null,gs(n,s,a),Vt=c,Gn=d,Vt!==null&&(Gn?(n=Vt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Vt.removeChild(a.stateNode));break;case 18:Vt!==null&&(Gn?(n=Vt,a=a.stateNode,n.nodeType===8?Gc(n.parentNode,a):n.nodeType===1&&Gc(n,a),Bn(n)):Gc(Vt,a.stateNode));break;case 4:c=Vt,d=Gn,Vt=a.stateNode.containerInfo,Gn=!0,gs(n,s,a),Vt=c,Gn=d;break;case 0:case 11:case 14:case 15:if(!Wt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&Ph(a,s,w),d=d.next}while(d!==c)}gs(n,s,a);break;case 1:if(!Wt&&(po(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){ut(a,s,I)}gs(n,s,a);break;case 21:gs(n,s,a);break;case 22:a.mode&1?(Wt=(c=Wt)||a.memoizedState!==null,gs(n,s,a),Wt=c):gs(n,s,a);break;default:gs(n,s,a)}}function Rm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new q0),s.forEach(function(c){var d=tw.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Kn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,w=s,I=w;e:for(;I!==null;){switch(I.tag){case 5:Vt=I.stateNode,Gn=!1;break e;case 3:Vt=I.stateNode.containerInfo,Gn=!0;break e;case 4:Vt=I.stateNode.containerInfo,Gn=!0;break e}I=I.return}if(Vt===null)throw Error(t(160));Am(m,w,d),Vt=null,Gn=!1;var C=d.alternate;C!==null&&(C.return=null),d.return=null}catch(B){ut(d,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Cm(s,n),s=s.sibling}function Cm(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Kn(s,n),cr(n),c&4){try{wa(3,n,n.return),au(3,n)}catch(de){ut(n,n.return,de)}try{wa(5,n,n.return)}catch(de){ut(n,n.return,de)}}break;case 1:Kn(s,n),cr(n),c&512&&a!==null&&po(a,a.return);break;case 5:if(Kn(s,n),cr(n),c&512&&a!==null&&po(a,a.return),n.flags&32){var d=n.stateNode;try{lt(d,"")}catch(de){ut(n,n.return,de)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,w=a!==null?a.memoizedProps:m,I=n.type,C=n.updateQueue;if(n.updateQueue=null,C!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&Vs(d,m),Fs(I,w);var B=Fs(I,m);for(w=0;w<C.length;w+=2){var Q=C[w],J=C[w+1];Q==="style"?wn(d,J):Q==="dangerouslySetInnerHTML"?Et(d,J):Q==="children"?lt(d,J):ae(d,Q,J,B)}switch(I){case"input":Ls(d,m);break;case"textarea":Zr(d,m);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var le=m.value;le!=null?jn(d,!!m.multiple,le,!1):G!==!!m.multiple&&(m.defaultValue!=null?jn(d,!!m.multiple,m.defaultValue,!0):jn(d,!!m.multiple,m.multiple?[]:"",!1))}d[ua]=m}catch(de){ut(n,n.return,de)}}break;case 6:if(Kn(s,n),cr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(de){ut(n,n.return,de)}}break;case 3:if(Kn(s,n),cr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Bn(s.containerInfo)}catch(de){ut(n,n.return,de)}break;case 4:Kn(s,n),cr(n);break;case 13:Kn(s,n),cr(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Vh=Xe())),c&4&&Rm(n);break;case 22:if(Q=a!==null&&a.memoizedState!==null,n.mode&1?(Wt=(B=Wt)||Q,Kn(s,n),Wt=B):Kn(s,n),cr(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!Q&&(n.mode&1)!==0)for(ce=n,Q=n.child;Q!==null;){for(J=ce=Q;ce!==null;){switch(G=ce,le=G.child,G.tag){case 0:case 11:case 14:case 15:wa(4,G,G.return);break;case 1:po(G,G.return);var he=G.stateNode;if(typeof he.componentWillUnmount=="function"){c=G,a=G.return;try{s=c,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(de){ut(c,a,de)}}break;case 5:po(G,G.return);break;case 22:if(G.memoizedState!==null){bm(J);continue}}le!==null?(le.return=G,ce=le):bm(J)}Q=Q.sibling}e:for(Q=null,J=n;;){if(J.tag===5){if(Q===null){Q=J;try{d=J.stateNode,B?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=J.stateNode,C=J.memoizedProps.style,w=C!=null&&C.hasOwnProperty("display")?C.display:null,I.style.display=Ke("display",w))}catch(de){ut(n,n.return,de)}}}else if(J.tag===6){if(Q===null)try{J.stateNode.nodeValue=B?"":J.memoizedProps}catch(de){ut(n,n.return,de)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;Q===J&&(Q=null),J=J.return}Q===J&&(Q=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Kn(s,n),cr(n),c&4&&Rm(n);break;case 21:break;default:Kn(s,n),cr(n)}}function cr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(km(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(lt(d,""),c.flags&=-33);var m=Sm(n);jh(n,m,d);break;case 3:case 4:var w=c.stateNode.containerInfo,I=Sm(n);Dh(n,I,w);break;default:throw Error(t(161))}}catch(C){ut(n,n.return,C)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function G0(n,s,a){ce=n,Nm(n)}function Nm(n,s,a){for(var c=(n.mode&1)!==0;ce!==null;){var d=ce,m=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||ou;if(!w){var I=d.alternate,C=I!==null&&I.memoizedState!==null||Wt;I=ou;var B=Wt;if(ou=w,(Wt=C)&&!B)for(ce=d;ce!==null;)w=ce,C=w.child,w.tag===22&&w.memoizedState!==null?Dm(d):C!==null?(C.return=w,ce=C):Dm(d);for(;m!==null;)ce=m,Nm(m),m=m.sibling;ce=d,ou=I,Wt=B}Pm(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,ce=m):Pm(n)}}function Pm(n){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Wt||au(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Wt)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Wn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&bp(s,m,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}bp(s,w,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var C=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&a.focus();break;case"img":C.src&&(a.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var Q=B.memoizedState;if(Q!==null){var J=Q.dehydrated;J!==null&&Bn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||s.flags&512&&bh(s)}catch(G){ut(s,s.return,G)}}if(s===n){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function bm(n){for(;ce!==null;){var s=ce;if(s===n){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Dm(n){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{au(4,s)}catch(C){ut(s,a,C)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(C){ut(s,d,C)}}var m=s.return;try{bh(s)}catch(C){ut(s,m,C)}break;case 5:var w=s.return;try{bh(s)}catch(C){ut(s,w,C)}}}catch(C){ut(s,s.return,C)}if(s===n){ce=null;break}var I=s.sibling;if(I!==null){I.return=s.return,ce=I;break}ce=s.return}}var K0=Math.ceil,lu=se.ReactCurrentDispatcher,Oh=se.ReactCurrentOwner,Cn=se.ReactCurrentBatchConfig,ze=0,Pt=null,_t=null,Lt=0,yn=0,mo=hs(0),kt=0,xa=null,ai=0,uu=0,Mh=0,Ea=null,ln=null,Vh=0,go=1/0,Lr=null,cu=!1,Lh=null,ys=null,hu=!1,vs=null,du=0,Ta=0,Uh=null,fu=-1,pu=0;function en(){return(ze&6)!==0?Xe():fu!==-1?fu:fu=Xe()}function _s(n){return(n.mode&1)===0?1:(ze&2)!==0&&Lt!==0?Lt&-Lt:P0.transition!==null?(pu===0&&(pu=Qs()),pu):(n=Me,n!==0||(n=window.event,n=n===void 0?16:Yo(n.type)),n)}function Qn(n,s,a,c){if(50<Ta)throw Ta=0,Uh=null,Error(t(185));rs(n,a,c),((ze&2)===0||n!==Pt)&&(n===Pt&&((ze&2)===0&&(uu|=a),kt===4&&ws(n,Lt)),un(n,c),a===1&&ze===0&&(s.mode&1)===0&&(go=Xe()+500,Bl&&fs()))}function un(n,s){var a=n.callbackNode;Sr(n,s);var c=Ks(n,n===Pt?Lt:0);if(c===0)a!==null&&Wo(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&Wo(a),s===1)n.tag===0?N0(Om.bind(null,n)):wp(Om.bind(null,n)),S0(function(){(ze&6)===0&&fs()}),a=null;else{switch(is(c)){case 1:a=Ws;break;case 4:a=es;break;case 16:a=En;break;case 536870912:a=pl;break;default:a=En}a=$m(a,jm.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function jm(n,s){if(fu=-1,pu=0,(ze&6)!==0)throw Error(t(327));var a=n.callbackNode;if(yo()&&n.callbackNode!==a)return null;var c=Ks(n,n===Pt?Lt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=mu(n,c);else{s=c;var d=ze;ze|=2;var m=Vm();(Pt!==n||Lt!==s)&&(Lr=null,go=Xe()+500,ui(n,s));do try{Y0();break}catch(I){Mm(n,I)}while(!0);rh(),lu.current=m,ze=d,_t!==null?s=0:(Pt=null,Lt=0,s=kt)}if(s!==0){if(s===2&&(d=dn(n),d!==0&&(c=d,s=Fh(n,d))),s===1)throw a=xa,ui(n,0),ws(n,c),un(n,Xe()),a;if(s===6)ws(n,c);else{if(d=n.current.alternate,(c&30)===0&&!Q0(d)&&(s=mu(n,c),s===2&&(m=dn(n),m!==0&&(c=m,s=Fh(n,m))),s===1))throw a=xa,ui(n,0),ws(n,c),un(n,Xe()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:ci(n,ln,Lr);break;case 3:if(ws(n,c),(c&130023424)===c&&(s=Vh+500-Xe(),10<s)){if(Ks(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){en(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Wc(ci.bind(null,n,ln,Lr),s);break}ci(n,ln,Lr);break;case 4:if(ws(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var w=31-Yt(c);m=1<<w,w=s[w],w>d&&(d=w),c&=~m}if(c=d,c=Xe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*K0(c/1960))-c,10<c){n.timeoutHandle=Wc(ci.bind(null,n,ln,Lr),c);break}ci(n,ln,Lr);break;case 5:ci(n,ln,Lr);break;default:throw Error(t(329))}}}return un(n,Xe()),n.callbackNode===a?jm.bind(null,n):null}function Fh(n,s){var a=Ea;return n.current.memoizedState.isDehydrated&&(ui(n,s).flags|=256),n=mu(n,s),n!==2&&(s=ln,ln=a,s!==null&&zh(s)),n}function zh(n){ln===null?ln=n:ln.push.apply(ln,n)}function Q0(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Hn(m(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ws(n,s){for(s&=~Mh,s&=~uu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-Yt(s),c=1<<a;n[a]=-1,s&=~c}}function Om(n){if((ze&6)!==0)throw Error(t(327));yo();var s=Ks(n,0);if((s&1)===0)return un(n,Xe()),null;var a=mu(n,s);if(n.tag!==0&&a===2){var c=dn(n);c!==0&&(s=c,a=Fh(n,c))}if(a===1)throw a=xa,ui(n,0),ws(n,s),un(n,Xe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,ci(n,ln,Lr),un(n,Xe()),null}function Bh(n,s){var a=ze;ze|=1;try{return n(s)}finally{ze=a,ze===0&&(go=Xe()+500,Bl&&fs())}}function li(n){vs!==null&&vs.tag===0&&(ze&6)===0&&yo();var s=ze;ze|=1;var a=Cn.transition,c=Me;try{if(Cn.transition=null,Me=1,n)return n()}finally{Me=c,Cn.transition=a,ze=s,(ze&6)===0&&fs()}}function $h(){yn=mo.current,et(mo)}function ui(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,k0(a)),_t!==null)for(a=_t.return;a!==null;){var c=a;switch(Jc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Fl();break;case 3:ho(),et(sn),et($t),hh();break;case 5:uh(c);break;case 4:ho();break;case 13:et(it);break;case 19:et(it);break;case 10:sh(c.type._context);break;case 22:case 23:$h()}a=a.return}if(Pt=n,_t=n=xs(n.current,null),Lt=yn=s,kt=0,xa=null,Mh=uu=ai=0,ln=Ea=null,si!==null){for(s=0;s<si.length;s++)if(a=si[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var w=m.next;m.next=d,c.next=w}a.pending=c}si=null}return n}function Mm(n,s){do{var a=_t;try{if(rh(),Jl.current=nu,Zl){for(var c=ot.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Zl=!1}if(oi=0,Nt=It=ot=null,ma=!1,ga=0,Oh.current=null,a===null||a.return===null){kt=1,xa=s,_t=null;break}e:{var m=n,w=a.return,I=a,C=s;if(s=Lt,I.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var B=C,Q=I,J=Q.tag;if((Q.mode&1)===0&&(J===0||J===11||J===15)){var G=Q.alternate;G?(Q.updateQueue=G.updateQueue,Q.memoizedState=G.memoizedState,Q.lanes=G.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var le=am(w);if(le!==null){le.flags&=-257,lm(le,w,I,m,s),le.mode&1&&om(m,B,s),s=le,C=B;var he=s.updateQueue;if(he===null){var de=new Set;de.add(C),s.updateQueue=de}else he.add(C);break e}else{if((s&1)===0){om(m,B,s),Hh();break e}C=Error(t(426))}}else if(nt&&I.mode&1){var pt=am(w);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),lm(pt,w,I,m,s),th(fo(C,I));break e}}m=C=fo(C,I),kt!==4&&(kt=2),Ea===null?Ea=[m]:Ea.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var U=sm(m,C,s);Pp(m,U);break e;case 1:I=C;var D=m.type,F=m.stateNode;if((m.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(ys===null||!ys.has(F)))){m.flags|=65536,s&=-s,m.lanes|=s;var Z=im(m,I,s);Pp(m,Z);break e}}m=m.return}while(m!==null)}Um(a)}catch(me){s=me,_t===a&&a!==null&&(_t=a=a.return);continue}break}while(!0)}function Vm(){var n=lu.current;return lu.current=nu,n===null?nu:n}function Hh(){(kt===0||kt===3||kt===2)&&(kt=4),Pt===null||(ai&268435455)===0&&(uu&268435455)===0||ws(Pt,Lt)}function mu(n,s){var a=ze;ze|=2;var c=Vm();(Pt!==n||Lt!==s)&&(Lr=null,ui(n,s));do try{X0();break}catch(d){Mm(n,d)}while(!0);if(rh(),ze=a,lu.current=c,_t!==null)throw Error(t(261));return Pt=null,Lt=0,kt}function X0(){for(;_t!==null;)Lm(_t)}function Y0(){for(;_t!==null&&!dl();)Lm(_t)}function Lm(n){var s=Bm(n.alternate,n,yn);n.memoizedProps=n.pendingProps,s===null?Um(n):_t=s,Oh.current=null}function Um(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=$0(a,s,yn),a!==null){_t=a;return}}else{if(a=H0(a,s),a!==null){a.flags&=32767,_t=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kt=6,_t=null;return}}if(s=s.sibling,s!==null){_t=s;return}_t=s=n}while(s!==null);kt===0&&(kt=5)}function ci(n,s,a){var c=Me,d=Cn.transition;try{Cn.transition=null,Me=1,J0(n,s,a,c)}finally{Cn.transition=d,Me=c}return null}function J0(n,s,a,c){do yo();while(vs!==null);if((ze&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Qe(n,m),n===Pt&&(_t=Pt=null,Lt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||hu||(hu=!0,$m(En,function(){return yo(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Cn.transition,Cn.transition=null;var w=Me;Me=1;var I=ze;ze|=4,Oh.current=null,W0(n,a),Cm(a,n),v0(Hc),as=!!$c,Hc=$c=null,n.current=a,G0(a),Ac(),ze=I,Me=w,Cn.transition=m}else n.current=a;if(hu&&(hu=!1,vs=n,du=d),m=n.pendingLanes,m===0&&(ys=null),ml(a.stateNode),un(n,Xe()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(cu)throw cu=!1,n=Lh,Lh=null,n;return(du&1)!==0&&n.tag!==0&&yo(),m=n.pendingLanes,(m&1)!==0?n===Uh?Ta++:(Ta=0,Uh=n):Ta=0,fs(),null}function yo(){if(vs!==null){var n=is(du),s=Cn.transition,a=Me;try{if(Cn.transition=null,Me=16>n?16:n,vs===null)var c=!1;else{if(n=vs,vs=null,du=0,(ze&6)!==0)throw Error(t(331));var d=ze;for(ze|=4,ce=n.current;ce!==null;){var m=ce,w=m.child;if((ce.flags&16)!==0){var I=m.deletions;if(I!==null){for(var C=0;C<I.length;C++){var B=I[C];for(ce=B;ce!==null;){var Q=ce;switch(Q.tag){case 0:case 11:case 15:wa(8,Q,m)}var J=Q.child;if(J!==null)J.return=Q,ce=J;else for(;ce!==null;){Q=ce;var G=Q.sibling,le=Q.return;if(Im(Q),Q===B){ce=null;break}if(G!==null){G.return=le,ce=G;break}ce=le}}}var he=m.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var pt=de.sibling;de.sibling=null,de=pt}while(de!==null)}}ce=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,ce=w;else e:for(;ce!==null;){if(m=ce,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:wa(9,m,m.return)}var U=m.sibling;if(U!==null){U.return=m.return,ce=U;break e}ce=m.return}}var D=n.current;for(ce=D;ce!==null;){w=ce;var F=w.child;if((w.subtreeFlags&2064)!==0&&F!==null)F.return=w,ce=F;else e:for(w=D;ce!==null;){if(I=ce,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:au(9,I)}}catch(me){ut(I,I.return,me)}if(I===w){ce=null;break e}var Z=I.sibling;if(Z!==null){Z.return=I.return,ce=Z;break e}ce=I.return}}if(ze=d,fs(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Gs,n)}catch{}c=!0}return c}finally{Me=a,Cn.transition=s}}return!1}function Fm(n,s,a){s=fo(a,s),s=sm(n,s,1),n=ms(n,s,1),s=en(),n!==null&&(rs(n,1,s),un(n,s))}function ut(n,s,a){if(n.tag===3)Fm(n,n,a);else for(;s!==null;){if(s.tag===3){Fm(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ys===null||!ys.has(c))){n=fo(a,n),n=im(s,n,1),s=ms(s,n,1),n=en(),s!==null&&(rs(s,1,n),un(s,n));break}}s=s.return}}function Z0(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=en(),n.pingedLanes|=n.suspendedLanes&a,Pt===n&&(Lt&a)===a&&(kt===4||kt===3&&(Lt&130023424)===Lt&&500>Xe()-Vh?ui(n,0):Mh|=a),un(n,s)}function zm(n,s){s===0&&((n.mode&1)===0?s=1:(s=Ui,Ui<<=1,(Ui&130023424)===0&&(Ui=4194304)));var a=en();n=Or(n,s),n!==null&&(rs(n,s,a),un(n,a))}function ew(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),zm(n,a)}function tw(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),zm(n,a)}var Bm;Bm=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return an=!1,B0(n,s,a);an=(n.flags&131072)!==0}else an=!1,nt&&(s.flags&1048576)!==0&&xp(s,Hl,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;iu(n,s),n=s.pendingProps;var d=so(s,$t.current);co(s,a),d=ph(null,s,c,n,d,a);var m=mh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(c)?(m=!0,zl(s)):m=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ah(s),d.updater=ru,s.stateNode=d,d._reactInternals=s,xh(s,c,n,a),s=kh(null,s,c,!0,m,a)):(s.tag=0,nt&&m&&Yc(s),Zt(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(iu(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=rw(c),n=Wn(c,n),d){case 0:s=Ih(null,s,c,n,a);break e;case 1:s=pm(null,s,c,n,a);break e;case 11:s=um(null,s,c,n,a);break e;case 14:s=cm(null,s,c,Wn(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Wn(c,d),Ih(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Wn(c,d),pm(n,s,c,d,a);case 3:e:{if(mm(s),n===null)throw Error(t(387));c=s.pendingProps,m=s.memoizedState,d=m.element,Np(n,s),Xl(s,c,null,a);var w=s.memoizedState;if(c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){d=fo(Error(t(423)),s),s=gm(n,s,c,a,d);break e}else if(c!==d){d=fo(Error(t(424)),s),s=gm(n,s,c,a,d);break e}else for(gn=cs(s.stateNode.containerInfo.firstChild),mn=s,nt=!0,qn=null,a=Rp(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ao(),c===d){s=Vr(n,s,a);break e}Zt(n,s,c,a)}s=s.child}return s;case 5:return Dp(s),n===null&&eh(s),c=s.type,d=s.pendingProps,m=n!==null?n.memoizedProps:null,w=d.children,qc(c,d)?w=null:m!==null&&qc(c,m)&&(s.flags|=32),fm(n,s),Zt(n,s,w,a),s.child;case 6:return n===null&&eh(s),null;case 13:return ym(n,s,a);case 4:return lh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=lo(s,null,c,a):Zt(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Wn(c,d),um(n,s,c,d,a);case 7:return Zt(n,s,s.pendingProps,a),s.child;case 8:return Zt(n,s,s.pendingProps.children,a),s.child;case 12:return Zt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,m=s.memoizedProps,w=d.value,Ye(Gl,c._currentValue),c._currentValue=w,m!==null)if(Hn(m.value,w)){if(m.children===d.children&&!sn.current){s=Vr(n,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var I=m.dependencies;if(I!==null){w=m.child;for(var C=I.firstContext;C!==null;){if(C.context===c){if(m.tag===1){C=Mr(-1,a&-a),C.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var Q=B.pending;Q===null?C.next=C:(C.next=Q.next,Q.next=C),B.pending=C}}m.lanes|=a,C=m.alternate,C!==null&&(C.lanes|=a),ih(m.return,a,s),I.lanes|=a;break}C=C.next}}else if(m.tag===10)w=m.type===s.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(t(341));w.lanes|=a,I=w.alternate,I!==null&&(I.lanes|=a),ih(w,a,s),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}Zt(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,co(s,a),d=An(d),c=c(d),s.flags|=1,Zt(n,s,c,a),s.child;case 14:return c=s.type,d=Wn(c,s.pendingProps),d=Wn(c.type,d),cm(n,s,c,d,a);case 15:return hm(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Wn(c,d),iu(n,s),s.tag=1,on(c)?(n=!0,zl(s)):n=!1,co(s,a),nm(s,c,d),xh(s,c,d,a),kh(null,s,c,!0,n,a);case 19:return _m(n,s,a);case 22:return dm(n,s,a)}throw Error(t(156,s.tag))};function $m(n,s){return Vi(n,s)}function nw(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(n,s,a,c){return new nw(n,s,a,c)}function qh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function rw(n){if(typeof n=="function")return qh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===xt)return 14}return 2}function xs(n,s){var a=n.alternate;return a===null?(a=Nn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function gu(n,s,a,c,d,m){var w=2;if(c=n,typeof n=="function")qh(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case N:return hi(a.children,d,m,s);case T:w=8,d|=8;break;case k:return n=Nn(12,a,s,d|2),n.elementType=k,n.lanes=m,n;case S:return n=Nn(13,a,s,d),n.elementType=S,n.lanes=m,n;case st:return n=Nn(19,a,s,d),n.elementType=st,n.lanes=m,n;case He:return yu(a,d,m,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:w=10;break e;case O:w=9;break e;case V:w=11;break e;case xt:w=14;break e;case Rt:w=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Nn(w,a,s,d),s.elementType=n,s.type=c,s.lanes=m,s}function hi(n,s,a,c){return n=Nn(7,n,c,s),n.lanes=a,n}function yu(n,s,a,c){return n=Nn(22,n,c,s),n.elementType=He,n.lanes=a,n.stateNode={isHidden:!1},n}function Wh(n,s,a){return n=Nn(6,n,null,s),n.lanes=a,n}function Gh(n,s,a){return s=Nn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function sw(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ns(0),this.expirationTimes=ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Kh(n,s,a,c,d,m,w,I,C){return n=new sw(n,s,a,I,C),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Nn(3,null,null,s),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(m),n}function iw(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Hm(n){if(!n)return ds;n=n._reactInternals;e:{if(Vn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(on(a))return vp(n,a,s)}return s}function qm(n,s,a,c,d,m,w,I,C){return n=Kh(a,c,!0,n,d,m,w,I,C),n.context=Hm(null),a=n.current,c=en(),d=_s(a),m=Mr(c,d),m.callback=s??null,ms(a,m,d),n.current.lanes=d,rs(n,d,c),un(n,c),n}function vu(n,s,a,c){var d=s.current,m=en(),w=_s(d);return a=Hm(a),s.context===null?s.context=a:s.pendingContext=a,s=Mr(m,w),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=ms(d,s,w),n!==null&&(Qn(n,d,w,m),Ql(n,d,w)),w}function _u(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function Wm(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Qh(n,s){Wm(n,s),(n=n.alternate)&&Wm(n,s)}function ow(){return null}var Gm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Xh(n){this._internalRoot=n}wu.prototype.render=Xh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));vu(n,s,null,null)},wu.prototype.unmount=Xh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;li(function(){vu(null,n,null,null)}),s[Pr]=null}};function wu(n){this._internalRoot=n}wu.prototype.unstable_scheduleHydration=function(n){if(n){var s=wl();n={blockedOn:null,target:n,priority:s};for(var a=0;a<rr.length&&s!==0&&s<rr[a].priority;a++);rr.splice(a,0,n),a===0&&Tl(n)}};function Yh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Km(){}function aw(n,s,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var B=_u(w);m.call(B)}}var w=qm(s,c,n,0,null,!1,!1,"",Km);return n._reactRootContainer=w,n[Pr]=w.current,aa(n.nodeType===8?n.parentNode:n),li(),w}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var B=_u(C);I.call(B)}}var C=Kh(n,0,!1,null,null,!1,!1,"",Km);return n._reactRootContainer=C,n[Pr]=C.current,aa(n.nodeType===8?n.parentNode:n),li(function(){vu(s,C,a,c)}),C}function Eu(n,s,a,c,d){var m=a._reactRootContainer;if(m){var w=m;if(typeof d=="function"){var I=d;d=function(){var C=_u(w);I.call(C)}}vu(s,w,n,d)}else w=aw(a,s,n,d,c);return _u(w)}vl=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=ts(s.pendingLanes);a!==0&&(ss(s,a|1),un(s,Xe()),(ze&6)===0&&(go=Xe()+500,fs()))}break;case 13:li(function(){var c=Or(n,1);if(c!==null){var d=en();Qn(c,n,1,d)}}),Qh(n,1)}},Fi=function(n){if(n.tag===13){var s=Or(n,134217728);if(s!==null){var a=en();Qn(s,n,134217728,a)}Qh(n,134217728)}},_l=function(n){if(n.tag===13){var s=_s(n),a=Or(n,s);if(a!==null){var c=en();Qn(a,n,s,c)}Qh(n,s)}},wl=function(){return Me},xl=function(n,s){var a=Me;try{return Me=n,s()}finally{Me=a}},Pi=function(n,s,a){switch(s){case"input":if(Ls(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=Ul(c);if(!d)throw Error(t(90));Qr(c),Ls(c,d)}}}break;case"textarea":Zr(n,a);break;case"select":s=a.value,s!=null&&jn(n,!!a.multiple,s,!1)}},Bs=Bh,Bo=li;var lw={usingClientEntryPoint:!1,Events:[ca,no,Ul,tr,zo,Bh]},Ia={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uw={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=qo(n),n===null?null:n.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||ow,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Gs=Tu.inject(uw),hn=Tu}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lw,cn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yh(s))throw Error(t(200));return iw(n,s,null,a)},cn.createRoot=function(n,s){if(!Yh(n))throw Error(t(299));var a=!1,c="",d=Gm;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Kh(n,1,!1,null,null,a,!1,c,d),n[Pr]=s.current,aa(n.nodeType===8?n.parentNode:n),new Xh(s)},cn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=qo(s),n=n===null?null:n.stateNode,n},cn.flushSync=function(n){return li(n)},cn.hydrate=function(n,s,a){if(!xu(s))throw Error(t(200));return Eu(null,n,s,!0,a)},cn.hydrateRoot=function(n,s,a){if(!Yh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",w=Gm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=qm(s,null,n,1,a??null,d,!1,m,w),n[Pr]=s.current,aa(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new wu(s)},cn.render=function(n,s,a){if(!xu(s))throw Error(t(200));return Eu(null,n,s,!1,a)},cn.unmountComponentAtNode=function(n){if(!xu(n))throw Error(t(40));return n._reactRootContainer?(li(function(){Eu(null,null,n,!1,function(){n._reactRootContainer=null,n[Pr]=null})}),!0):!1},cn.unstable_batchedUpdates=Bh,cn.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!xu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Eu(n,s,a,!1,c)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var ng;function vw(){if(ng)return ed.exports;ng=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ed.exports=yw(),ed.exports}var rg;function _w(){if(rg)return Iu;rg=1;var r=vw();return Iu.createRoot=r.createRoot,Iu.hydrateRoot=r.hydrateRoot,Iu}var ww=_w();const xw=Iy(ww);var sg={};const ky=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Ew=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],y=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(y>>10)),e[i++]=String.fromCharCode(56320+(y&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Sy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,E=l>>2,A=(l&3)<<4|f>>4;let j=(f&15)<<2|_>>6,z=_&63;y||(z=64,h||(j=64)),i.push(t[E],t[A],t[j],t[z])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ky(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ew(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const _=o<r.length?t[r.charAt(o)]:64;++o;const A=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||_==null||A==null)throw new Tw;const j=l<<2|f>>4;if(i.push(j),_!==64){const z=f<<4&240|_>>2;if(i.push(z),A!==64){const b=_<<6&192|A;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Tw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Iw=function(r){const e=ky(r);return Sy.encodeByteArray(e,!0)},Hu=function(r){return Iw(r).replace(/\./g,"")},Ay=function(r){try{return Sy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Sw=()=>kw().__FIREBASE_DEFAULTS__,Aw=()=>{if(typeof process>"u"||typeof sg>"u")return;const r=sg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Rw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Ay(r[1]);return e&&JSON.parse(e)},cc=()=>{try{return Sw()||Aw()||Rw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ry=r=>{var e,t;return(t=(e=cc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Cy=r=>{const e=Ry(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Ny=()=>{var r;return(r=cc())===null||r===void 0?void 0:r.config},Py=r=>{var e;return(e=cc())===null||e===void 0?void 0:e[`_${r}`]};class Cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function by(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Hu(JSON.stringify(t)),Hu(JSON.stringify(h)),""].join(".")}function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function Pw(){var r;const e=(r=cc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ow(){const r=Xt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Mw(){return!Pw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vw(){try{return typeof indexedDB=="object"}catch{return!1}}function Lw(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}const Uw="FirebaseError";class Er extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Uw,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?Fw(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Er(o,f,i)}}function Fw(r,e){return r.replace(zw,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const zw=/\{\$([^}]+)}/g;function Bw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function qu(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(ig(l)&&ig(h)){if(!qu(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ig(r){return r!==null&&typeof r=="object"}function Ja(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function $w(r,e){const t=new Hw(r,e);return t.subscribe.bind(t)}class Hw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");qw(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=rd),o.error===void 0&&(o.error=rd),o.complete===void 0&&(o.complete=rd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qw(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function rd(){}function jt(r){return r&&r._delegate?r._delegate:r}class Ds{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const di="[DEFAULT]";class Ww{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Cw;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kw(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Gw(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gw(r){return r===di?void 0:r}function Kw(r){return r.instantiationMode==="EAGER"}class Qw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ww(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const Xw={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Yw=Ve.INFO,Jw={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Zw=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=Jw[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wd{constructor(e){this.name=e,this._logLevel=Yw,this._logHandler=Zw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const ex=(r,e)=>e.some(t=>r instanceof t);let og,ag;function tx(){return og||(og=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nx(){return ag||(ag=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dy=new WeakMap,gd=new WeakMap,jy=new WeakMap,sd=new WeakMap,Gd=new WeakMap;function rx(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(Cs(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Dy.set(t,r)}).catch(()=>{}),Gd.set(e,r),e}function sx(r){if(gd.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});gd.set(r,e)}let yd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return gd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||jy.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ix(r){yd=r(yd)}function ox(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(id(this),e,...t);return jy.set(i,e.sort?e.sort():[e]),Cs(i)}:nx().includes(r)?function(...e){return r.apply(id(this),e),Cs(Dy.get(this))}:function(...e){return Cs(r.apply(id(this),e))}}function ax(r){return typeof r=="function"?ox(r):(r instanceof IDBTransaction&&sx(r),ex(r,tx())?new Proxy(r,yd):r)}function Cs(r){if(r instanceof IDBRequest)return rx(r);if(sd.has(r))return sd.get(r);const e=ax(r);return e!==r&&(sd.set(r,e),Gd.set(e,r)),e}const id=r=>Gd.get(r);function lx(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=Cs(h);return i&&h.addEventListener("upgradeneeded",y=>{i(Cs(h.result),y.oldVersion,y.newVersion,Cs(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),f.then(y=>{l&&y.addEventListener("close",()=>l()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),f}const ux=["get","getKey","getAll","getAllKeys","count"],cx=["put","add","delete","clear"],od=new Map;function lg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(od.get(e))return od.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=cx.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||ux.includes(t)))return;const l=async function(h,...f){const y=this.transaction(h,o?"readwrite":"readonly");let _=y.store;return i&&(_=_.index(f.shift())),(await Promise.all([_[t](...f),o&&y.done]))[0]};return od.set(e,l),l}ix(r=>({...r,get:(e,t,i)=>lg(e,t)||r.get(e,t,i),has:(e,t)=>!!lg(e,t)||r.has(e,t)}));class hx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dx(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function dx(r){const e=r.getComponent();return e?.type==="VERSION"}const vd="@firebase/app",ug="0.10.13";const qr=new Wd("@firebase/app"),fx="@firebase/app-compat",px="@firebase/analytics-compat",mx="@firebase/analytics",gx="@firebase/app-check-compat",yx="@firebase/app-check",vx="@firebase/auth",_x="@firebase/auth-compat",wx="@firebase/database",xx="@firebase/data-connect",Ex="@firebase/database-compat",Tx="@firebase/functions",Ix="@firebase/functions-compat",kx="@firebase/installations",Sx="@firebase/installations-compat",Ax="@firebase/messaging",Rx="@firebase/messaging-compat",Cx="@firebase/performance",Nx="@firebase/performance-compat",Px="@firebase/remote-config",bx="@firebase/remote-config-compat",Dx="@firebase/storage",jx="@firebase/storage-compat",Ox="@firebase/firestore",Mx="@firebase/vertexai-preview",Vx="@firebase/firestore-compat",Lx="firebase",Ux="10.14.1";const _d="[DEFAULT]",Fx={[vd]:"fire-core",[fx]:"fire-core-compat",[mx]:"fire-analytics",[px]:"fire-analytics-compat",[yx]:"fire-app-check",[gx]:"fire-app-check-compat",[vx]:"fire-auth",[_x]:"fire-auth-compat",[wx]:"fire-rtdb",[xx]:"fire-data-connect",[Ex]:"fire-rtdb-compat",[Tx]:"fire-fn",[Ix]:"fire-fn-compat",[kx]:"fire-iid",[Sx]:"fire-iid-compat",[Ax]:"fire-fcm",[Rx]:"fire-fcm-compat",[Cx]:"fire-perf",[Nx]:"fire-perf-compat",[Px]:"fire-rc",[bx]:"fire-rc-compat",[Dx]:"fire-gcs",[jx]:"fire-gcs-compat",[Ox]:"fire-fst",[Vx]:"fire-fst-compat",[Mx]:"fire-vertex","fire-js":"fire-js",[Lx]:"fire-js-all"};const Wu=new Map,zx=new Map,wd=new Map;function cg(r,e){try{r.container.addComponent(e)}catch(t){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function _i(r){const e=r.name;if(wd.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;wd.set(e,r);for(const t of Wu.values())cg(t,r);for(const t of zx.values())cg(t,r);return!0}function hc(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Fr(r){return r.settings!==void 0}const Bx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Ya("app","Firebase",Bx);class $x{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}const ki=Ux;function Oy(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:_d,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ns.create("bad-app-name",{appName:String(o)});if(t||(t=Ny()),!t)throw Ns.create("no-options");const l=Wu.get(o);if(l){if(qu(t,l.options)&&qu(i,l.config))return l;throw Ns.create("duplicate-app",{appName:o})}const h=new Qw(o);for(const y of wd.values())h.addComponent(y);const f=new $x(t,i,h);return Wu.set(o,f),f}function Kd(r=_d){const e=Wu.get(r);if(!e&&r===_d&&Ny())return Oy();if(!e)throw Ns.create("no-app",{appName:r});return e}function pr(r,e,t){var i;let o=(i=Fx[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(f.join(" "));return}_i(new Ds(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const Hx="firebase-heartbeat-database",qx=1,Fa="firebase-heartbeat-store";let ad=null;function My(){return ad||(ad=lx(Hx,qx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fa)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ns.create("idb-open",{originalErrorMessage:r.message})})),ad}async function Wx(r){try{const t=(await My()).transaction(Fa),i=await t.objectStore(Fa).get(Vy(r));return await t.done,i}catch(e){if(e instanceof Er)qr.warn(e.message);else{const t=Ns.create("idb-get",{originalErrorMessage:e?.message});qr.warn(t.message)}}}async function hg(r,e){try{const i=(await My()).transaction(Fa,"readwrite");await i.objectStore(Fa).put(e,Vy(r)),await i.done}catch(t){if(t instanceof Er)qr.warn(t.message);else{const i=Ns.create("idb-set",{originalErrorMessage:t?.message});qr.warn(i.message)}}}function Vy(r){return`${r.name}!${r.options.appId}`}const Gx=1024,Kx=720*60*60*1e3;class Qx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yx(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=dg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=Kx}),this._storage.overwrite(this._heartbeatsCache))}catch(i){qr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dg(),{heartbeatsToSend:i,unsentEntries:o}=Xx(this._heartbeatsCache.heartbeats),l=Hu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return qr.warn(t),""}}}function dg(){return new Date().toISOString().substring(0,10)}function Xx(r,e=Gx){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),fg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),fg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Yx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vw()?Lw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Wx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return hg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return hg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function fg(r){return Hu(JSON.stringify({version:2,heartbeats:r})).length}function Jx(r){_i(new Ds("platform-logger",e=>new hx(e),"PRIVATE")),_i(new Ds("heartbeat",e=>new Qx(e),"PRIVATE")),pr(vd,ug,r),pr(vd,ug,"esm2017"),pr("fire-js","")}Jx("");var pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gi,Ly;(function(){var r;function e(N,T){function k(){}k.prototype=T.prototype,N.D=T.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(P,O,V){for(var S=Array(arguments.length-2),st=2;st<arguments.length;st++)S[st-2]=arguments[st];return T.prototype[O].apply(P,S)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,T,k){k||(k=0);var P=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)P[O]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(O=0;16>O;++O)P[O]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=N.g[0],k=N.g[1],O=N.g[2];var V=N.g[3],S=T+(V^k&(O^V))+P[0]+3614090360&4294967295;T=k+(S<<7&4294967295|S>>>25),S=V+(O^T&(k^O))+P[1]+3905402710&4294967295,V=T+(S<<12&4294967295|S>>>20),S=O+(k^V&(T^k))+P[2]+606105819&4294967295,O=V+(S<<17&4294967295|S>>>15),S=k+(T^O&(V^T))+P[3]+3250441966&4294967295,k=O+(S<<22&4294967295|S>>>10),S=T+(V^k&(O^V))+P[4]+4118548399&4294967295,T=k+(S<<7&4294967295|S>>>25),S=V+(O^T&(k^O))+P[5]+1200080426&4294967295,V=T+(S<<12&4294967295|S>>>20),S=O+(k^V&(T^k))+P[6]+2821735955&4294967295,O=V+(S<<17&4294967295|S>>>15),S=k+(T^O&(V^T))+P[7]+4249261313&4294967295,k=O+(S<<22&4294967295|S>>>10),S=T+(V^k&(O^V))+P[8]+1770035416&4294967295,T=k+(S<<7&4294967295|S>>>25),S=V+(O^T&(k^O))+P[9]+2336552879&4294967295,V=T+(S<<12&4294967295|S>>>20),S=O+(k^V&(T^k))+P[10]+4294925233&4294967295,O=V+(S<<17&4294967295|S>>>15),S=k+(T^O&(V^T))+P[11]+2304563134&4294967295,k=O+(S<<22&4294967295|S>>>10),S=T+(V^k&(O^V))+P[12]+1804603682&4294967295,T=k+(S<<7&4294967295|S>>>25),S=V+(O^T&(k^O))+P[13]+4254626195&4294967295,V=T+(S<<12&4294967295|S>>>20),S=O+(k^V&(T^k))+P[14]+2792965006&4294967295,O=V+(S<<17&4294967295|S>>>15),S=k+(T^O&(V^T))+P[15]+1236535329&4294967295,k=O+(S<<22&4294967295|S>>>10),S=T+(O^V&(k^O))+P[1]+4129170786&4294967295,T=k+(S<<5&4294967295|S>>>27),S=V+(k^O&(T^k))+P[6]+3225465664&4294967295,V=T+(S<<9&4294967295|S>>>23),S=O+(T^k&(V^T))+P[11]+643717713&4294967295,O=V+(S<<14&4294967295|S>>>18),S=k+(V^T&(O^V))+P[0]+3921069994&4294967295,k=O+(S<<20&4294967295|S>>>12),S=T+(O^V&(k^O))+P[5]+3593408605&4294967295,T=k+(S<<5&4294967295|S>>>27),S=V+(k^O&(T^k))+P[10]+38016083&4294967295,V=T+(S<<9&4294967295|S>>>23),S=O+(T^k&(V^T))+P[15]+3634488961&4294967295,O=V+(S<<14&4294967295|S>>>18),S=k+(V^T&(O^V))+P[4]+3889429448&4294967295,k=O+(S<<20&4294967295|S>>>12),S=T+(O^V&(k^O))+P[9]+568446438&4294967295,T=k+(S<<5&4294967295|S>>>27),S=V+(k^O&(T^k))+P[14]+3275163606&4294967295,V=T+(S<<9&4294967295|S>>>23),S=O+(T^k&(V^T))+P[3]+4107603335&4294967295,O=V+(S<<14&4294967295|S>>>18),S=k+(V^T&(O^V))+P[8]+1163531501&4294967295,k=O+(S<<20&4294967295|S>>>12),S=T+(O^V&(k^O))+P[13]+2850285829&4294967295,T=k+(S<<5&4294967295|S>>>27),S=V+(k^O&(T^k))+P[2]+4243563512&4294967295,V=T+(S<<9&4294967295|S>>>23),S=O+(T^k&(V^T))+P[7]+1735328473&4294967295,O=V+(S<<14&4294967295|S>>>18),S=k+(V^T&(O^V))+P[12]+2368359562&4294967295,k=O+(S<<20&4294967295|S>>>12),S=T+(k^O^V)+P[5]+4294588738&4294967295,T=k+(S<<4&4294967295|S>>>28),S=V+(T^k^O)+P[8]+2272392833&4294967295,V=T+(S<<11&4294967295|S>>>21),S=O+(V^T^k)+P[11]+1839030562&4294967295,O=V+(S<<16&4294967295|S>>>16),S=k+(O^V^T)+P[14]+4259657740&4294967295,k=O+(S<<23&4294967295|S>>>9),S=T+(k^O^V)+P[1]+2763975236&4294967295,T=k+(S<<4&4294967295|S>>>28),S=V+(T^k^O)+P[4]+1272893353&4294967295,V=T+(S<<11&4294967295|S>>>21),S=O+(V^T^k)+P[7]+4139469664&4294967295,O=V+(S<<16&4294967295|S>>>16),S=k+(O^V^T)+P[10]+3200236656&4294967295,k=O+(S<<23&4294967295|S>>>9),S=T+(k^O^V)+P[13]+681279174&4294967295,T=k+(S<<4&4294967295|S>>>28),S=V+(T^k^O)+P[0]+3936430074&4294967295,V=T+(S<<11&4294967295|S>>>21),S=O+(V^T^k)+P[3]+3572445317&4294967295,O=V+(S<<16&4294967295|S>>>16),S=k+(O^V^T)+P[6]+76029189&4294967295,k=O+(S<<23&4294967295|S>>>9),S=T+(k^O^V)+P[9]+3654602809&4294967295,T=k+(S<<4&4294967295|S>>>28),S=V+(T^k^O)+P[12]+3873151461&4294967295,V=T+(S<<11&4294967295|S>>>21),S=O+(V^T^k)+P[15]+530742520&4294967295,O=V+(S<<16&4294967295|S>>>16),S=k+(O^V^T)+P[2]+3299628645&4294967295,k=O+(S<<23&4294967295|S>>>9),S=T+(O^(k|~V))+P[0]+4096336452&4294967295,T=k+(S<<6&4294967295|S>>>26),S=V+(k^(T|~O))+P[7]+1126891415&4294967295,V=T+(S<<10&4294967295|S>>>22),S=O+(T^(V|~k))+P[14]+2878612391&4294967295,O=V+(S<<15&4294967295|S>>>17),S=k+(V^(O|~T))+P[5]+4237533241&4294967295,k=O+(S<<21&4294967295|S>>>11),S=T+(O^(k|~V))+P[12]+1700485571&4294967295,T=k+(S<<6&4294967295|S>>>26),S=V+(k^(T|~O))+P[3]+2399980690&4294967295,V=T+(S<<10&4294967295|S>>>22),S=O+(T^(V|~k))+P[10]+4293915773&4294967295,O=V+(S<<15&4294967295|S>>>17),S=k+(V^(O|~T))+P[1]+2240044497&4294967295,k=O+(S<<21&4294967295|S>>>11),S=T+(O^(k|~V))+P[8]+1873313359&4294967295,T=k+(S<<6&4294967295|S>>>26),S=V+(k^(T|~O))+P[15]+4264355552&4294967295,V=T+(S<<10&4294967295|S>>>22),S=O+(T^(V|~k))+P[6]+2734768916&4294967295,O=V+(S<<15&4294967295|S>>>17),S=k+(V^(O|~T))+P[13]+1309151649&4294967295,k=O+(S<<21&4294967295|S>>>11),S=T+(O^(k|~V))+P[4]+4149444226&4294967295,T=k+(S<<6&4294967295|S>>>26),S=V+(k^(T|~O))+P[11]+3174756917&4294967295,V=T+(S<<10&4294967295|S>>>22),S=O+(T^(V|~k))+P[2]+718787259&4294967295,O=V+(S<<15&4294967295|S>>>17),S=k+(V^(O|~T))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(O+(S<<21&4294967295|S>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+V&4294967295}i.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var k=T-this.blockSize,P=this.B,O=this.h,V=0;V<T;){if(O==0)for(;V<=k;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<T;)if(P[O++]=N.charCodeAt(V++),O==this.blockSize){o(this,P),O=0;break}}else for(;V<T;)if(P[O++]=N[V++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=T},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var k=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=k&255,k/=256;for(this.u(N),N=Array(16),T=k=0;4>T;++T)for(var P=0;32>P;P+=8)N[k++]=this.g[T]>>>P&255;return N};function l(N,T){var k=f;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=T(N)}function h(N,T){this.h=T;for(var k=[],P=!0,O=N.length-1;0<=O;O--){var V=N[O]|0;P&&V==T||(k[O]=V,P=!1)}this.g=k}var f={};function y(N){return-128<=N&&128>N?l(N,function(T){return new h([T|0],0>T?-1:0)}):new h([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(0>N)return R(_(-N));for(var T=[],k=1,P=0;N>=k;P++)T[P]=N/k|0,k*=4294967296;return new h(T,0)}function E(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return R(E(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=_(Math.pow(T,8)),P=A,O=0;O<N.length;O+=8){var V=Math.min(8,N.length-O),S=parseInt(N.substring(O,O+V),T);8>V?(V=_(Math.pow(T,V)),P=P.j(V).add(_(S))):(P=P.j(k),P=P.add(_(S)))}return P}var A=y(0),j=y(1),z=y(16777216);r=h.prototype,r.m=function(){if(H(this))return-R(this).m();for(var N=0,T=1,k=0;k<this.g.length;k++){var P=this.i(k);N+=(0<=P?P:4294967296+P)*T,T*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(H(this))return"-"+R(this).toString(N);for(var T=_(Math.pow(N,6)),k=this,P="";;){var O=se(k,T).g;k=W(k,O.j(T));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=O,b(k))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function H(N){return N.h==-1}r.l=function(N){return N=W(this,N),H(N)?-1:b(N)?0:1};function R(N){for(var T=N.g.length,k=[],P=0;P<T;P++)k[P]=~N.g[P];return new h(k,~N.h).add(j)}r.abs=function(){return H(this)?R(this):this},r.add=function(N){for(var T=Math.max(this.g.length,N.g.length),k=[],P=0,O=0;O<=T;O++){var V=P+(this.i(O)&65535)+(N.i(O)&65535),S=(V>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);P=S>>>16,V&=65535,S&=65535,k[O]=S<<16|V}return new h(k,k[k.length-1]&-2147483648?-1:0)};function W(N,T){return N.add(R(T))}r.j=function(N){if(b(this)||b(N))return A;if(H(this))return H(N)?R(this).j(R(N)):R(R(this).j(N));if(H(N))return R(this.j(R(N)));if(0>this.l(z)&&0>N.l(z))return _(this.m()*N.m());for(var T=this.g.length+N.g.length,k=[],P=0;P<2*T;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<N.g.length;O++){var V=this.i(P)>>>16,S=this.i(P)&65535,st=N.i(O)>>>16,xt=N.i(O)&65535;k[2*P+2*O]+=S*xt,K(k,2*P+2*O),k[2*P+2*O+1]+=V*xt,K(k,2*P+2*O+1),k[2*P+2*O+1]+=S*st,K(k,2*P+2*O+1),k[2*P+2*O+2]+=V*st,K(k,2*P+2*O+2)}for(P=0;P<T;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=T;P<2*T;P++)k[P]=0;return new h(k,0)};function K(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function ae(N,T){this.g=N,this.h=T}function se(N,T){if(b(T))throw Error("division by zero");if(b(N))return new ae(A,A);if(H(N))return T=se(R(N),T),new ae(R(T.g),R(T.h));if(H(T))return T=se(N,R(T)),new ae(R(T.g),T.h);if(30<N.g.length){if(H(N)||H(T))throw Error("slowDivide_ only works with positive integers.");for(var k=j,P=T;0>=P.l(N);)k=ge(k),P=ge(P);var O=oe(k,1),V=oe(P,1);for(P=oe(P,2),k=oe(k,2);!b(P);){var S=V.add(P);0>=S.l(N)&&(O=O.add(k),V=S),P=oe(P,1),k=oe(k,1)}return T=W(N,O.j(T)),new ae(O,T)}for(O=A;0<=N.l(T);){for(k=Math.max(1,Math.floor(N.m()/T.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=_(k),S=V.j(T);H(S)||0<S.l(N);)k-=P,V=_(k),S=V.j(T);b(V)&&(V=j),O=O.add(V),N=W(N,S)}return new ae(O,N)}r.A=function(N){return se(this,N).h},r.and=function(N){for(var T=Math.max(this.g.length,N.g.length),k=[],P=0;P<T;P++)k[P]=this.i(P)&N.i(P);return new h(k,this.h&N.h)},r.or=function(N){for(var T=Math.max(this.g.length,N.g.length),k=[],P=0;P<T;P++)k[P]=this.i(P)|N.i(P);return new h(k,this.h|N.h)},r.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),k=[],P=0;P<T;P++)k[P]=this.i(P)^N.i(P);return new h(k,this.h^N.h)};function ge(N){for(var T=N.g.length+1,k=[],P=0;P<T;P++)k[P]=N.i(P)<<1|N.i(P-1)>>>31;return new h(k,N.h)}function oe(N,T){var k=T>>5;T%=32;for(var P=N.g.length-k,O=[],V=0;V<P;V++)O[V]=0<T?N.i(V+k)>>>T|N.i(V+k+1)<<32-T:N.i(V+k);return new h(O,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ly=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,gi=h}).apply(typeof pg<"u"?pg:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Uy,Ca,Fy,ju,xd,zy,By,$y;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,p){if(p)e:{var v=i;u=u.split(".");for(var x=0;x<u.length-1;x++){var L=u[x];if(!(L in v))break e;v=v[L]}u=u[u.length-1],x=v[u],p=p(x),p!=x&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var v=0,x=!1,L={next:function(){if(!x&&v<u.length){var $=v++;return{value:p($,u[$]),done:!1}}return x=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,v){return v})}});var h=h||{},f=this||self;function y(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function _(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,v){return u.call.apply(u.bind,arguments)}function A(u,p,v){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,x),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function j(u,p,v){return j=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,j.apply(null,arguments)}function z(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function b(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(x,L,$){for(var te=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)te[qe-2]=arguments[qe];return p.prototype[L].apply(x,te)}}function H(u){const p=u.length;if(0<p){const v=Array(p);for(let x=0;x<p;x++)v[x]=u[x];return v}return[]}function R(u,p){for(let v=1;v<arguments.length;v++){const x=arguments[v];if(y(x)){const L=u.length||0,$=x.length||0;u.length=L+$;for(let te=0;te<$;te++)u[L+te]=x[te]}else u.push(x)}}class W{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function K(u){return/^[\s\xa0]*$/.test(u)}function ae(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function se(u){return se[" "](u),u}se[" "]=function(){};var ge=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function oe(u,p,v){for(const x in u)p.call(v,u[x],x,u)}function N(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function T(u){const p={};for(const v in u)p[v]=u[v];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let v,x;for(let L=1;L<arguments.length;L++){x=arguments[L];for(v in x)u[v]=x[v];for(let $=0;$<k.length;$++)v=k[$],Object.prototype.hasOwnProperty.call(x,v)&&(u[v]=x[v])}}function O(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function V(u){f.setTimeout(()=>{throw u},0)}function S(){var u=ye;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class st{constructor(){this.h=this.g=null}add(p,v){const x=xt.get();x.set(p,v),this.h?this.h.next=x:this.g=x,this.h=x}}var xt=new W(()=>new Rt,u=>u.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let He,ee=!1,ye=new st,ie=()=>{const u=f.Promise.resolve(void 0);He=()=>{u.then(M)}};var M=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(v){V(v)}var p=xt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ee=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return u})();function Pe(u,p){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ge){e:{try{se(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}b(Pe,pe);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Ge(u,p,v,x,L){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!x,this.ha=L,this.key=++Te,this.da=this.fa=!1}function gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function bn(u){this.src=u,this.g={},this.h=0}bn.prototype.add=function(u,p,v,x,L){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var te=Zn(u,p,x,L);return-1<te?(p=u[te],v||(p.fa=!1)):(p=new Ge(p,this.src,$,!!x,L),p.fa=v,u.push(p)),p};function Qr(u,p){var v=p.type;if(v in u.g){var x=u.g[v],L=Array.prototype.indexOf.call(x,p,void 0),$;($=0<=L)&&Array.prototype.splice.call(x,L,1),$&&(gt(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Zn(u,p,v,x){for(var L=0;L<u.length;++L){var $=u[L];if(!$.da&&$.listener==p&&$.capture==!!v&&$.ha==x)return L}return-1}var Tr="closure_lm_"+(1e6*Math.random()|0),Xr={};function Vs(u,p,v,x,L){if(Array.isArray(p)){for(var $=0;$<p.length;$++)Vs(u,p[$],v,x,L);return null}return v=ue(v),u&&u[Fe]?u.K(p,v,_(x)?!!x.capture:!1,L):Ls(u,p,v,!1,x,L)}function Ls(u,p,v,x,L,$){if(!p)throw Error("Invalid event type");var te=_(L)?!!L.capture:!!L,qe=Jr(u);if(qe||(u[Tr]=qe=new bn(u)),v=qe.add(p,v,x,te,$),v.proxy)return v;if(x=Ri(),v.proxy=x,x.src=u,x.listener=v,u.addEventListener)Ne||(L=te),L===void 0&&(L=!1),u.addEventListener(p.toString(),x,L);else if(u.attachEvent)u.attachEvent(jn(p.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ri(){function u(v){return p.call(u.src,u.listener,v)}const p=Us;return u}function Yr(u,p,v,x,L){if(Array.isArray(p))for(var $=0;$<p.length;$++)Yr(u,p[$],v,x,L);else x=_(x)?!!x.capture:!!x,v=ue(v),u&&u[Fe]?(u=u.i,p=String(p).toString(),p in u.g&&($=u.g[p],v=Zn($,v,x,L),-1<v&&(gt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[p],u.h--)))):u&&(u=Jr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Zn(p,v,x,L)),(v=-1<u?p[u]:null)&&Dn(v))}function Dn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Fe])Qr(p.i,u);else{var v=u.type,x=u.proxy;p.removeEventListener?p.removeEventListener(v,x,u.capture):p.detachEvent?p.detachEvent(jn(v),x):p.addListener&&p.removeListener&&p.removeListener(x),(v=Jr(p))?(Qr(v,u),v.h==0&&(v.src=null,p[Tr]=null)):gt(u)}}}function jn(u){return u in Xr?Xr[u]:Xr[u]="on"+u}function Us(u,p){if(u.da)u=!0;else{p=new Pe(p,this);var v=u.listener,x=u.ha||u.src;u.fa&&Dn(u),u=v.call(x,p)}return u}function Jr(u){return u=u[Tr],u instanceof bn?u:null}var Zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ue(u){return typeof u=="function"?u:(u[Zr]||(u[Zr]=function(p){return u.handleEvent(p)}),u[Zr])}function ne(){q.call(this),this.i=new bn(this),this.M=this,this.F=null}b(ne,q),ne.prototype[Fe]=!0,ne.prototype.removeEventListener=function(u,p,v,x){Yr(this,u,p,v,x)};function re(u,p){var v,x=u.F;if(x)for(v=[];x;x=x.F)v.push(x);if(u=u.M,x=p.type||p,typeof p=="string")p=new pe(p,u);else if(p instanceof pe)p.target=p.target||u;else{var L=p;p=new pe(x,u),P(p,L)}if(L=!0,v)for(var $=v.length-1;0<=$;$--){var te=p.g=v[$];L=Je(te,x,!0,p)&&L}if(te=p.g=u,L=Je(te,x,!0,p)&&L,L=Je(te,x,!1,p)&&L,v)for($=0;$<v.length;$++)te=p.g=v[$],L=Je(te,x,!1,p)&&L}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],x=0;x<v.length;x++)gt(v[x]);delete u.g[p],u.h--}}this.F=null},ne.prototype.K=function(u,p,v,x){return this.i.add(String(u),p,!1,v,x)},ne.prototype.L=function(u,p,v,x){return this.i.add(String(u),p,!0,v,x)};function Je(u,p,v,x){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,$=0;$<p.length;++$){var te=p[$];if(te&&!te.da&&te.capture==v){var qe=te.listener,Tt=te.ha||te.src;te.fa&&Qr(u.i,te),L=qe.call(Tt,x)!==!1&&L}}return L&&!x.defaultPrevented}function Et(u,p,v){if(typeof u=="function")v&&(u=j(u,v));else if(u&&typeof u.handleEvent=="function")u=j(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function lt(u){u.g=Et(()=>{u.g=null,u.i&&(u.i=!1,lt(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class je extends q{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yt(u){q.call(this),this.h=u,this.g={}}b(yt,q);var Ke=[];function wn(u){oe(u.g,function(p,v){this.g.hasOwnProperty(v)&&Dn(p)},u),u.g={}}yt.prototype.N=function(){yt.aa.N.call(this),wn(this)},yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=f.JSON.stringify,Ir=f.JSON.parse,Fs=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function zs(){}zs.prototype.h=null;function Ni(u){return u.h||(u.h=u.i())}function Pi(){}var xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){pe.call(this,"d")}b(er,pe);function bi(){pe.call(this,"c")}b(bi,pe);var tr={},zo=null;function Bs(){return zo=zo||new ne}tr.La="serverreachability";function Bo(u){pe.call(this,tr.La,u)}b(Bo,pe);function kr(u){const p=Bs();re(p,new Bo(p))}tr.STAT_EVENT="statevent";function $o(u,p){pe.call(this,tr.STAT_EVENT,u),this.stat=p}b($o,pe);function ft(u){const p=Bs();re(p,new $o(p,u))}tr.Ma="timingevent";function Di(u,p){pe.call(this,tr.Ma,u),this.size=p}b(Di,pe);function On(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function $s(){this.g=!0}$s.prototype.xa=function(){this.g=!1};function Hs(u,p,v,x,L,$){u.info(function(){if(u.g)if($)for(var te="",qe=$.split("&"),Tt=0;Tt<qe.length;Tt++){var Le=qe[Tt].split("=");if(1<Le.length){var Ct=Le[0];Le=Le[1];var vt=Ct.split("_");te=2<=vt.length&&vt[1]=="type"?te+(Ct+"="+Le+"&"):te+(Ct+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+x+") [attempt "+L+"]: "+p+`
`+v+`
`+te})}function ji(u,p,v,x,L,$,te){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+L+"]: "+p+`
`+v+`
`+$+" "+te})}function Mn(u,p,v,x){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Sc(u,v)+(x?" "+x:"")})}function Ho(u,p){u.info(function(){return"TIMEOUT: "+p})}$s.prototype.info=function(){};function Sc(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var x=v[u];if(!(2>x.length)){var L=x[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return Ci(v)}catch{return p}}var Oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vn;function qs(){}b(qs,zs),qs.prototype.g=function(){return new XMLHttpRequest},qs.prototype.i=function(){return{}},Vn=new qs;function Ln(u,p,v,x){this.j=u,this.i=p,this.l=v,this.R=x||1,this.U=new yt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hl}function hl(){this.i=null,this.g="",this.h=!1}var qo={},Mi={};function Vi(u,p,v){u.L=1,u.v=ss(dn(p)),u.m=v,u.P=!0,Wo(u,null)}function Wo(u,p){u.F=Date.now(),Xe(u),u.A=dn(u.v);var v=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),os(v.i,"t",x),u.C=0,v=u.j.J,u.h=new hl,u.g=Cl(u.j,v?p:null,!u.m),0<u.O&&(u.M=new je(j(u.Y,u,u.g),u.O)),p=u.U,v=u.g,x=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ke[0]=L.toString()),L=Ke);for(var $=0;$<L.length;$++){var te=Vs(v,L[$],x||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),kr(),Hs(u.i,u.u,u.A,u.l,u.R,u.m)}Ln.prototype.ca=function(u){u=u.target;const p=this.M;p&&rn(u)==3?p.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)e:{const vt=rn(this.g);var p=this.g.Ba();const In=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Jo(this.g)))){this.J||vt!=4||p==7||(p==8||0>=In?kr(3):kr(2)),Ws(this);var v=this.g.Z();this.X=v;t:if(dl(this)){var x=Jo(this.g);u="";var L=x.length,$=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),es(this);var te="";break t}this.h.i=new f.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(x[p],{stream:!($&&p==L-1)});x.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,ji(this.i,this.u,this.A,this.l,this.R,vt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Tt=this.g;if((qe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(qe)){var Le=qe;break t}}Le=null}if(v=Le)Mn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Go(this,v);else{this.o=!1,this.s=3,ft(12),En(this),es(this);break e}}if(this.P){v=!0;let pn;for(;!this.J&&this.C<te.length;)if(pn=Ac(this,te),pn==Mi){vt==4&&(this.s=4,ft(14),v=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==qo){this.s=4,ft(15),Mn(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else Mn(this.i,this.l,pn,null),Go(this,pn);if(dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||te.length!=0||this.h.h||(this.s=1,ft(16),v=!1),this.o=this.o&&v,!v)Mn(this.i,this.l,te,"[Invalid Chunked Response]"),En(this),es(this);else if(0<te.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),ea(Ct),Ct.M=!0,ft(11))}}else Mn(this.i,this.l,te,null),Go(this,te);vt==4&&En(this),this.o&&!this.J&&(vt==4?Ki(this.j,this):(this.o=!1,Xe(this)))}else $i(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),En(this),es(this)}}}catch{}};function dl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ac(u,p){var v=u.C,x=p.indexOf(`
`,v);return x==-1?Mi:(v=Number(p.substring(v,x)),isNaN(v)?qo:(x+=1,x+v>p.length?Mi:(p=p.slice(x,x+v),u.C=x+v,p)))}Ln.prototype.cancel=function(){this.J=!0,En(this)};function Xe(u){u.S=Date.now()+u.I,fl(u,u.I)}function fl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=On(j(u.ba,u),p)}function Ws(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Ln.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ho(this.i,this.A),this.L!=2&&(kr(),ft(17)),En(this),this.s=2,es(this)):fl(this,this.S-u)};function es(u){u.j.G==0||u.J||Ki(u.j,u)}function En(u){Ws(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,wn(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Go(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||Yt(v.h,u))){if(!u.K&&Yt(v.h,u)&&v.G==3){try{var x=v.Da.g.parse(p)}catch{x=null}if(Array.isArray(x)&&x.length==3){var L=x;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Gi(v),$n(v);else break e;Wi(v),ft(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=On(j(v.Za,v),6e3));if(1>=ml(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Nr(v,11)}else if((u.K||v.g==u)&&Gi(v),!K(p))for(L=v.Da.g.parse(p),p=0;p<L.length;p++){let Le=L[p];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Ct=Le[3];Ct!=null&&(v.la=Ct,v.j.info("VER="+v.la));const vt=Le[4];vt!=null&&(v.Aa=vt,v.j.info("SVER="+v.Aa));const In=Le[5];In!=null&&typeof In=="number"&&0<In&&(x=1.5*In,v.L=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const pn=u.g;if(pn){const Zs=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var $=x.h;$.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ko($,$.h),$.h=null))}if(x.D){const Xi=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xi&&(x.ya=Xi,Qe(x.I,x.D,Xi))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),x=v;var te=u;if(x.qa=Rl(x,x.J?x.ia:null,x.W),te.K){gl(x.h,te);var qe=te,Tt=x.L;Tt&&(qe.I=Tt),qe.B&&(Ws(qe),Xe(qe)),x.g=te}else Js(x);0<v.i.length&&ir(v)}else Le[0]!="stop"&&Le[0]!="close"||Nr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Nr(v,7):Mt(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}kr(4)}catch{}}var pl=class{constructor(u,p){this.g=u,this.map=p}};function Gs(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ml(u){return u.h?1:u.g?u.g.size:0}function Yt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ko(u,p){u.g?u.g.add(p):u.h=p}function gl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Gs.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return H(u.i)}function Li(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var p=[],v=u.length,x=0;x<v;x++)p.push(u[x]);return p}p=[],v=0;for(x in u)p[v++]=u[x];return p}function Ui(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const x in u)p[v++]=x;return p}}}function ts(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=Ui(u),x=Li(u),L=x.length,$=0;$<L;$++)p.call(void 0,x[$],v&&v[$],u)}var Ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rc(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var x=u[v].indexOf("="),L=null;if(0<=x){var $=u[v].substring(0,x);L=u[v].substring(x+1)}else $=u[v];p($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Sr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Sr){this.h=u.h,Qs(this,u.j),this.o=u.o,this.g=u.g,ns(this,u.s),this.l=u.l;var p=u.i,v=new nr;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),rs(this,v),this.m=u.m}else u&&(p=String(u).match(Ks))?(this.h=!1,Qs(this,p[1]||"",!0),this.o=Me(p[2]||""),this.g=Me(p[3]||"",!0),ns(this,p[4]),this.l=Me(p[5]||"",!0),rs(this,p[6]||"",!0),this.m=Me(p[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}Sr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(is(p,Fi,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(is(p,Fi,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(is(v,v.charAt(0)=="/"?wl:_l,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",is(v,Qo)),u.join("")};function dn(u){return new Sr(u)}function Qs(u,p,v){u.j=v?Me(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ns(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function rs(u,p,v){p instanceof nr?(u.i=p,rr(u.i,u.h)):(v||(p=is(p,xl)),u.i=new nr(p,u.h))}function Qe(u,p,v){u.i.set(p,v)}function ss(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Me(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function is(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,vl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fi=/[#\/\?@]/g,_l=/[#\?:]/g,wl=/[#\?]/g,xl=/[#\?@]/g,Qo=/#/g;function nr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ot(u){u.g||(u.g=new Map,u.h=0,u.i&&Rc(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=nr.prototype,r.add=function(u,p){Ot(this),this.i=null,u=Tn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function Un(u,p){Ot(u),p=Tn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Fn(u,p){return Ot(u),p=Tn(u,p),u.g.has(p)}r.forEach=function(u,p){Ot(this),this.g.forEach(function(v,x){v.forEach(function(L){u.call(p,L,x,this)},this)},this)},r.na=function(){Ot(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let x=0;x<p.length;x++){const L=u[x];for(let $=0;$<L.length;$++)v.push(p[x])}return v},r.V=function(u){Ot(this);let p=[];if(typeof u=="string")Fn(this,u)&&(p=p.concat(this.g.get(Tn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},r.set=function(u,p){return Ot(this),this.i=null,u=Tn(this,u),Fn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function os(u,p,v){Un(u,p),0<v.length&&(u.i=null,u.g.set(Tn(u,p),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var x=p[v];const $=encodeURIComponent(String(x)),te=this.V(x);for(x=0;x<te.length;x++){var L=$;te[x]!==""&&(L+="="+encodeURIComponent(String(te[x]))),u.push(L)}}return this.i=u.join("&")};function Tn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function rr(u,p){p&&!u.j&&(Ot(u),u.i=null,u.g.forEach(function(v,x){var L=x.toLowerCase();x!=L&&(Un(this,x),os(this,L,v))},u)),u.j=p}function Cc(u,p){const v=new $s;if(f.Image){const x=new Image;x.onload=z(nn,v,"TestLoadImage: loaded",!0,p,x),x.onerror=z(nn,v,"TestLoadImage: error",!1,p,x),x.onabort=z(nn,v,"TestLoadImage: abort",!1,p,x),x.ontimeout=z(nn,v,"TestLoadImage: timeout",!1,p,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else p(!1)}function El(u,p){const v=new $s,x=new AbortController,L=setTimeout(()=>{x.abort(),nn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:x.signal}).then($=>{clearTimeout(L),$.ok?nn(v,"TestPingServer: ok",!0,p):nn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),nn(v,"TestPingServer: error",!1,p)})}function nn(u,p,v,x,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),x(v)}catch{}}function Nc(){this.g=new Fs}function Tl(u,p,v){const x=v||"";try{ts(u,function(L,$){let te=L;_(L)&&(te=Ci(L)),p.push(x+$+"="+encodeURIComponent(te))})}catch(L){throw p.push(x+"type="+encodeURIComponent("_badmap")),L}}function Ar(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Ar,zs),Ar.prototype.g=function(){return new Xs(this.l,this.j)},Ar.prototype.i=(function(u){return function(){return u}})({});function Xs(u,p){ne.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Xs,ne),r=Xs.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?zn(this):Bn(this),this.readyState==3&&Il(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,zn(this))},r.Qa=function(u){this.g&&(this.response=u,zn(this))},r.ga=function(){this.g&&zn(this)};function zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Bn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rr(u){let p="";return oe(u,function(v,x){p+=x,p+=":",p+=v,p+=`\r
`}),p}function as(u,p,v){e:{for(x in v){var x=!1;break e}x=!0}x||(v=Rr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Qe(u,p,v))}function tt(u){ne.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(tt,ne);var Pc=/^https?$/i,Xo=["POST","PUT"];r=tt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vn.g(),this.v=this.o?Ni(this.o):Ni(Vn),this.g.onreadystatechange=j(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){Ys(this,$);return}if(u=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var L in x)v.set(L,x[L]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const $ of x.keys())v.set($,x.get($));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),L=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Xo,p,void 0))||x||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of v)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bi(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Ys(this,$)}};function Ys(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,zi(u),fn(u)}function zi(u){u.A||(u.A=!0,re(u,"complete"),re(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,re(this,"complete"),re(this,"abort"),fn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),tt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Yo(this):this.bb())},r.bb=function(){Yo(this)};function Yo(u){if(u.h&&typeof h<"u"&&(!u.v[1]||rn(u)!=4||u.Z()!=2)){if(u.u&&rn(u)==4)Et(u.Ea,0,u);else if(re(u,"readystatechange"),rn(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var x;if(x=te===0){var L=String(u.D).match(Ks)[1]||null;!L&&f.self&&f.self.location&&(L=f.self.location.protocol.slice(0,-1)),x=!Pc.test(L?L.toLowerCase():"")}v=x}if(v)re(u,"complete"),re(u,"success");else{u.m=6;try{var $=2<rn(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",zi(u)}}finally{fn(u)}}}}function fn(u,p){if(u.g){Bi(u);const v=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||re(u,"ready");try{v.onreadystatechange=x}catch{}}}function Bi(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function rn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Ir(p)}};function Jo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const p={};u=(u.g&&2<=rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(K(u[x]))continue;var v=O(u[x]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=p[L]||[];p[L]=$,$.push(v)}N(p,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function Zo(u){this.Aa=0,this.i=[],this.j=new $s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sr("baseRetryDelayMs",5e3,u),this.cb=sr("retryDelaySeedMs",1e4,u),this.Wa=sr("forwardChannelMaxRetries",2,u),this.wa=sr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gs(u&&u.concurrentRequestLimit),this.Da=new Nc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Zo.prototype,r.la=8,r.G=1,r.connect=function(u,p,v,x){ft(0),this.W=u,this.H=p||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.I=Rl(this,null,this.W),ir(this)};function Mt(u){if(Hi(u),u.G==3){var p=u.U++,v=dn(u.I);if(Qe(v,"SID",u.K),Qe(v,"RID",p),Qe(v,"TYPE","terminate"),Cr(u,v),p=new Ln(u,u.j,p),p.L=2,p.v=ss(dn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.v,v=!0),v||(p.g=Cl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Xe(p)}Al(u)}function $n(u){u.g&&(ea(u),u.g.cancel(),u.g=null)}function Hi(u){$n(u),u.u&&(f.clearTimeout(u.u),u.u=null),Gi(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ir(u){if(!hn(u.h)&&!u.s){u.s=!0;var p=u.Ga;He||ie(),ee||(He(),ee=!0),ye.add(p,u),u.B=0}}function bc(u,p){return ml(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=On(j(u.Ga,u,p),Sl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ln(this,this.j,u);let $=this.o;if(this.S&&($?($=T($),P($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(p+=x,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=ls(this,L,p),v=dn(this.I),Qe(v,"RID",u),Qe(v,"CVER",22),this.D&&Qe(v,"X-HTTP-Session-Id",this.D),Cr(this,v),$&&(this.O?p="headers="+encodeURIComponent(String(Rr($)))+"&"+p:this.m&&as(v,this.m,$)),Ko(this.h,L),this.Ua&&Qe(v,"TYPE","init"),this.P?(Qe(v,"$req",p),Qe(v,"SID","null"),L.T=!0,Vi(L,v,null)):Vi(L,v,p),this.G=2}}else this.G==3&&(u?qi(this,u):this.i.length==0||hn(this.h)||qi(this))};function qi(u,p){var v;p?v=p.l:v=u.U++;const x=dn(u.I);Qe(x,"SID",u.K),Qe(x,"RID",v),Qe(x,"AID",u.T),Cr(u,x),u.m&&u.o&&as(x,u.m,u.o),v=new Ln(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=ls(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ko(u.h,v),Vi(v,x,p)}function Cr(u,p){u.H&&oe(u.H,function(v,x){Qe(p,x,v)}),u.l&&ts({},function(v,x){Qe(p,x,v)})}function ls(u,p,v){v=Math.min(u.i.length,v);var x=u.l?j(u.l.Na,u.l,u):null;e:{var L=u.i;let $=-1;for(;;){const te=["count="+v];$==-1?0<v?($=L[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let qe=!0;for(let Tt=0;Tt<v;Tt++){let Le=L[Tt].g;const Ct=L[Tt].map;if(Le-=$,0>Le)$=Math.max(0,L[Tt].g-100),qe=!1;else try{Tl(Ct,te,"req"+Le+"_")}catch{x&&x(Ct)}}if(qe){x=te.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,x}function Js(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;He||ie(),ee||(He(),ee=!0),ye.add(p,u),u.v=0}}function Wi(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=On(j(u.Fa,u),Sl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=On(j(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),$n(this),kl(this))};function ea(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function kl(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=dn(u.qa);Qe(p,"RID","rpc"),Qe(p,"SID",u.K),Qe(p,"AID",u.T),Qe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(p,"TO",u.ja),Qe(p,"TYPE","xmlhttp"),Cr(u,p),u.m&&u.o&&as(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ss(dn(p)),v.m=null,v.P=!0,Wo(v,u)}r.Za=function(){this.C!=null&&(this.C=null,$n(this),Wi(this),ft(19))};function Gi(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Ki(u,p){var v=null;if(u.g==p){Gi(u),ea(u),u.g=null;var x=2}else if(Yt(u.h,p))v=p.D,gl(u.h,p),x=1;else return;if(u.G!=0){if(p.o)if(x==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;x=Bs(),re(x,new Di(x,v)),ir(u)}else Js(u);else if(L=p.s,L==3||L==0&&0<p.X||!(x==1&&bc(u,p)||x==2&&Wi(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),L){case 1:Nr(u,5);break;case 4:Nr(u,10);break;case 3:Nr(u,6);break;default:Nr(u,2)}}}function Sl(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function Nr(u,p){if(u.j.info("Error code "+p),p==2){var v=j(u.fb,u),x=u.Xa;const L=!x;x=new Sr(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Qs(x,"https"),ss(x),L?Cc(x.toString(),v):El(x.toString(),v)}else ft(2);u.G=0,u.l&&u.l.sa(p),Al(u),Hi(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Al(u){if(u.G=0,u.ka=[],u.l){const p=yl(u.h);(p.length!=0||u.i.length!=0)&&(R(u.ka,p),R(u.ka,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.ra()}}function Rl(u,p,v){var x=v instanceof Sr?dn(v):new Sr(v);if(x.g!="")p&&(x.g=p+"."+x.g),ns(x,x.s);else{var L=f.location;x=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var $=new Sr(null);x&&Qs($,x),p&&($.g=p),L&&ns($,L),v&&($.l=v),x=$}return v=u.D,p=u.ya,v&&p&&Qe(x,v,p),Qe(x,"VER",u.la),Cr(u,x),x}function Cl(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new tt(new Ar({eb:v})):new tt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ta(){}r=ta.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Qi(){}Qi.prototype.g=function(u,p){return new Jt(u,p)};function Jt(u,p){ne.call(this),this.g=new Zo(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!K(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!K(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new or(this)}b(Jt,ne),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Mt(this.g)},Jt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ci(u),u=v);p.i.push(new pl(p.Ya++,u)),p.G==3&&ir(p)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,Jt.aa.N.call(this)};function Nl(u){er.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}b(Nl,er);function Pl(){bi.call(this),this.status=1}b(Pl,bi);function or(u){this.g=u}b(or,ta),or.prototype.ua=function(){re(this.g,"a")},or.prototype.ta=function(u){re(this.g,new Nl(u))},or.prototype.sa=function(u){re(this.g,new Pl)},or.prototype.ra=function(){re(this.g,"b")},Qi.prototype.createWebChannel=Qi.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,$y=function(){return new Qi},By=function(){return Bs()},zy=tr,xd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,ju=Oi,cl.COMPLETE="complete",Fy=cl,Pi.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ca=Pi,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,Uy=tt}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const mg="@firebase/firestore";let Kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");let Mo="10.14.0";const wi=new Wd("@firebase/firestore");function Sa(){return wi.logLevel}function fe(r,...e){if(wi.logLevel<=Ve.DEBUG){const t=e.map(Qd);wi.debug(`Firestore (${Mo}): ${r}`,...t)}}function Wr(r,...e){if(wi.logLevel<=Ve.ERROR){const t=e.map(Qd);wi.error(`Firestore (${Mo}): ${r}`,...t)}}function Ao(r,...e){if(wi.logLevel<=Ve.WARN){const t=e.map(Qd);wi.warn(`Firestore (${Mo}): ${r}`,...t)}}function Qd(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Se(r="Unexpected state"){const e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+r;throw Wr(e),new Error(e)}function We(r,e){r||Se()}function Ce(r,e){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ps{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Hy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Kt.UNAUTHENTICATED)))}shutdown(){}}class eE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class tE{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let i=this.i;const o=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let l=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ps,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=l;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},f=y=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>f(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?f(y):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ps)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string"),new Hy(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Kt(e)}}class nE{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rE{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new nE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Kt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){We(this.o===void 0);const i=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string"),this.R=t.token,new sE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oE(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class qy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=oE(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function $e(r,e){return r<e?-1:r>e?1:0}function Ro(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}class At{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new At(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new At(0,0))}static max(){return new Re(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class za{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(),i===void 0?i=e.length-t:i>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return za.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rt extends za{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const aE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends za{construct(e,t,i){return new Ft(e,t,i)}static isValidIdentifier(e){return aE.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new _e(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new _e(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new _e(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new _e(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(rt.fromString(e))}static fromName(e){return new Ee(rt.fromString(e).popFirst(5))}static empty(){return new Ee(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new rt(e.slice()))}}function lE(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new At(t+1,0):new At(t,i));return new js(o,Ee.empty(),e)}function uE(r){return new js(r.readTime,r.key,-1)}class js{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new js(Re.min(),Ee.empty(),-1)}static max(){return new js(Re.max(),Ee.empty(),-1)}}function cE(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(r.documentKey,e.documentKey),t!==0?t:$e(r.largestBatchId,e.largestBatchId))}const hE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Za(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==hE)throw r;fe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,i)=>{t(e)}))}static reject(e){return new X(((t,i)=>{i(e)}))}static waitFor(e){return new X(((t,i)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(y=>i(y)))})),h=!0,l===o&&t()}))}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next((o=>o?X.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new X(((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let y=0;y<l;y++){const _=y;t(e[_]).next((E=>{h[_]=E,++f,f===l&&i(h)}),(E=>o(E)))}}))}static doWhile(e,t){return new X(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function fE(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function el(r){return r.name==="IndexedDbTransactionError"}class Xd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xd.oe=-1;function dc(r){return r==null}function Gu(r){return r===0&&1/r==-1/0}function pE(r){return typeof r=="number"&&Number.isInteger(r)&&!Gu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function gg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Vo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Wy(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class at{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Su(this.root,e,this.comparator,!1)}getReverseIterator(){return new Su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Su(this.root,e,this.comparator,!0)}}class Su{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ut.RED,this.left=o??Ut.EMPTY,this.right=l??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ut(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ut.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yg(this.data.getIterator())}getIteratorFrom(e){return new yg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class yg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new zt(Ft.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class Gy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Gy("Invalid base64 string: "+l):l}})(e);return new Bt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const mE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(r){if(We(!!r),typeof r=="string"){let e=0;const t=mE.exec(r);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xi(r){return typeof r=="string"?Bt.fromBase64String(r):Bt.fromUint8Array(r)}function Yd(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Jd(r){const e=r.mapValue.fields.__previous_value__;return Yd(e)?Jd(e):e}function Ba(r){const e=Os(r.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}class gE{constructor(e,t,i,o,l,h,f,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=_}}class $a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}const Au={mapValue:{}};function Ei(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yd(r)?4:vE(r)?9007199254740991:yE(r)?10:11:Se()}function _r(r,e){if(r===e)return!0;const t=Ei(r);if(t!==Ei(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ba(r).isEqual(Ba(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Os(o.timestampValue),f=Os(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return xi(o.bytesValue).isEqual(xi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return mt(o.geoPointValue.latitude)===mt(l.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return mt(o.integerValue)===mt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=mt(o.doubleValue),f=mt(l.doubleValue);return h===f?Gu(h)===Gu(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return Ro(r.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(gg(h)!==gg(f))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(f[y]===void 0||!_r(h[y],f[y])))return!1;return!0})(r,e);default:return Se()}}function Ha(r,e){return(r.values||[]).find((t=>_r(t,e)))!==void 0}function Co(r,e){if(r===e)return 0;const t=Ei(r),i=Ei(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=mt(l.integerValue||l.doubleValue),y=mt(h.integerValue||h.doubleValue);return f<y?-1:f>y?1:f===y?0:isNaN(f)?isNaN(y)?0:-1:1})(r,e);case 3:return vg(r.timestampValue,e.timestampValue);case 4:return vg(Ba(r),Ba(e));case 5:return $e(r.stringValue,e.stringValue);case 6:return(function(l,h){const f=xi(l),y=xi(h);return f.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),y=h.split("/");for(let _=0;_<f.length&&_<y.length;_++){const E=$e(f[_],y[_]);if(E!==0)return E}return $e(f.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=$e(mt(l.latitude),mt(h.latitude));return f!==0?f:$e(mt(l.longitude),mt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return _g(r.arrayValue,e.arrayValue);case 10:return(function(l,h){var f,y,_,E;const A=l.fields||{},j=h.fields||{},z=(f=A.value)===null||f===void 0?void 0:f.arrayValue,b=(y=j.value)===null||y===void 0?void 0:y.arrayValue,H=$e(((_=z?.values)===null||_===void 0?void 0:_.length)||0,((E=b?.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:_g(z,b)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Au.mapValue&&h===Au.mapValue)return 0;if(l===Au.mapValue)return 1;if(h===Au.mapValue)return-1;const f=l.fields||{},y=Object.keys(f),_=h.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const j=$e(y[A],E[A]);if(j!==0)return j;const z=Co(f[y[A]],_[E[A]]);if(z!==0)return z}return $e(y.length,E.length)})(r.mapValue,e.mapValue);default:throw Se()}}function vg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const t=Os(r),i=Os(e),o=$e(t.seconds,i.seconds);return o!==0?o:$e(t.nanos,i.nanos)}function _g(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Co(t[o],i[o]);if(l)return l}return $e(t.length,i.length)}function No(r){return Ed(r)}function Ed(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Os(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return xi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ee.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Ed(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${Ed(t.fields[h])}`;return o+"}"})(r.mapValue):Se()}function Td(r){return!!r&&"integerValue"in r}function Zd(r){return!!r&&"arrayValue"in r}function wg(r){return!!r&&"nullValue"in r}function xg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ou(r){return!!r&&"mapValue"in r}function yE(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Da(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Vo(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Da(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Da(r.arrayValue.values[t]);return e}return Object.assign({},r)}function vE(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ou(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(t)}setAll(e){let t=Ft.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=Da(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Ou(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Ou(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Vo(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Pn(Da(this.value))}}function Ky(r){const e=[];return Vo(r.fields,((t,i)=>{const o=new Ft([t]);if(Ou(i)){const l=Ky(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new Yn(e)}class Qt{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Qt(e,0,Re.min(),Re.min(),Re.min(),Pn.empty(),0)}static newFoundDocument(e,t,i,o){return new Qt(e,1,t,Re.min(),i,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,Re.min(),Re.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Re.min(),Re.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ku{constructor(e,t){this.position=e,this.inclusive=t}}function Eg(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(h.referenceValue),t.key):i=Co(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Tg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!_r(r.position[t],e.position[t]))return!1;return!0}class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function _E(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Qy{}class St extends Qy{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new xE(e,t,i):t==="array-contains"?new IE(e,i):t==="in"?new kE(e,i):t==="not-in"?new SE(e,i):t==="array-contains-any"?new AE(e,i):new St(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new EE(e,i):new TE(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Co(t,this.value)):t!==null&&Ei(this.value)===Ei(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends Qy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new wr(e,t)}matches(e){return Xy(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xy(r){return r.op==="and"}function Yy(r){return wE(r)&&Xy(r)}function wE(r){for(const e of r.filters)if(e instanceof wr)return!1;return!0}function Id(r){if(r instanceof St)return r.field.canonicalString()+r.op.toString()+No(r.value);if(Yy(r))return r.filters.map((e=>Id(e))).join(",");{const e=r.filters.map((t=>Id(t))).join(",");return`${r.op}(${e})`}}function Jy(r,e){return r instanceof St?(function(i,o){return o instanceof St&&i.op===o.op&&i.field.isEqual(o.field)&&_r(i.value,o.value)})(r,e):r instanceof wr?(function(i,o){return o instanceof wr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,f)=>l&&Jy(h,o.filters[f])),!0):!1})(r,e):void Se()}function Zy(r){return r instanceof St?(function(t){return`${t.field.canonicalString()} ${t.op} ${No(t.value)}`})(r):r instanceof wr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Zy).join(" ,")+"}"})(r):"Filter"}class xE extends St{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class EE extends St{constructor(e,t){super(e,"in",t),this.keys=ev("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class TE extends St{constructor(e,t){super(e,"not-in",t),this.keys=ev("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ev(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>Ee.fromName(i.referenceValue)))}class IE extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zd(t)&&Ha(t.arrayValue,this.value)}}class kE extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ha(this.value.arrayValue,t)}}class SE extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ha(this.value.arrayValue,t)}}class AE extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Ha(this.value.arrayValue,i)))}}class RE{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function Ig(r,e=null,t=[],i=[],o=null,l=null,h=null){return new RE(r,e,t,i,o,l,h)}function ef(r){const e=Ce(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Id(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),dc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>No(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>No(i))).join(",")),e.ue=t}return e.ue}function tf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!_E(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Jy(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Tg(r.startAt,e.startAt)&&Tg(r.endAt,e.endAt)}function kd(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fc{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function CE(r,e,t,i,o,l,h,f){return new fc(r,e,t,i,o,l,h,f)}function nf(r){return new fc(r)}function kg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function NE(r){return r.collectionGroup!==null}function ja(r){const e=Ce(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new zt(Ft.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(f=f.add(_.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Qu(l,i))})),t.has(Ft.keyField().canonicalString())||e.ce.push(new Qu(Ft.keyField(),i))}return e.ce}function mr(r){const e=Ce(r);return e.le||(e.le=PE(e,ja(r))),e.le}function PE(r,e){if(r.limitType==="F")return Ig(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Qu(o.field,l)}));const t=r.endAt?new Ku(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Ku(r.startAt.position,r.startAt.inclusive):null;return Ig(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Sd(r,e,t){return new fc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function pc(r,e){return tf(mr(r),mr(e))&&r.limitType===e.limitType}function tv(r){return`${ef(mr(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>Zy(o))).join(", ")}]`),dc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>No(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>No(o))).join(",")),`Target(${i})`})(mr(r))}; limitType=${r.limitType})`}function mc(r,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,o){for(const l of ja(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,y){const _=Eg(h,f,y);return h.inclusive?_<=0:_<0})(i.startAt,ja(i),o)||i.endAt&&!(function(h,f,y){const _=Eg(h,f,y);return h.inclusive?_>=0:_>0})(i.endAt,ja(i),o))})(r,e)}function bE(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nv(r){return(e,t)=>{let i=!1;for(const o of ja(r)){const l=DE(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function DE(r,e,t){const i=r.field.isKeyField()?Ee.comparator(e.key,t.key):(function(l,h,f){const y=h.data.field(l),_=f.data.field(l);return y!==null&&_!==null?Co(y,_):Se()})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Se()}}class Lo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return Wy(this.inner)}size(){return this.innerSize}}const jE=new at(Ee.comparator);function Gr(){return jE}const rv=new at(Ee.comparator);function Na(...r){let e=rv;for(const t of r)e=e.insert(t.key,t);return e}function sv(r){let e=rv;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function pi(){return Oa()}function iv(){return Oa()}function Oa(){return new Lo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const OE=new at(Ee.comparator),ME=new zt(Ee.comparator);function Oe(...r){let e=ME;for(const t of r)e=e.add(t);return e}const VE=new zt($e);function LE(){return VE}function rf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(e)?"-0":e}}function ov(r){return{integerValue:""+r}}function UE(r,e){return pE(e)?ov(e):rf(r,e)}class gc{constructor(){this._=void 0}}function FE(r,e,t){return r instanceof Xu?(function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Yd(l)&&(l=Jd(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}})(t,e):r instanceof qa?lv(r,e):r instanceof Wa?uv(r,e):(function(o,l){const h=av(o,l),f=Sg(h)+Sg(o.Pe);return Td(h)&&Td(o.Pe)?ov(f):rf(o.serializer,f)})(r,e)}function zE(r,e,t){return r instanceof qa?lv(r,e):r instanceof Wa?uv(r,e):t}function av(r,e){return r instanceof Yu?(function(i){return Td(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Xu extends gc{}class qa extends gc{constructor(e){super(),this.elements=e}}function lv(r,e){const t=cv(e);for(const i of r.elements)t.some((o=>_r(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Wa extends gc{constructor(e){super(),this.elements=e}}function uv(r,e){let t=cv(e);for(const i of r.elements)t=t.filter((o=>!_r(o,i)));return{arrayValue:{values:t}}}class Yu extends gc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Sg(r){return mt(r.integerValue||r.doubleValue)}function cv(r){return Zd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function BE(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof qa&&o instanceof qa||i instanceof Wa&&o instanceof Wa?Ro(i.elements,o.elements,_r):i instanceof Yu&&o instanceof Yu?_r(i.Pe,o.Pe):i instanceof Xu&&o instanceof Xu})(r.transform,e.transform)}class $E{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class yc{}function hv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sf(r.key,gr.none()):new tl(r.key,r.data,gr.none());{const t=r.data,i=Pn.empty();let o=new zt(Ft.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Si(r.key,i,new Yn(o.toArray()),gr.none())}}function HE(r,e,t){r instanceof tl?(function(o,l,h){const f=o.value.clone(),y=Rg(o.fieldTransforms,l,h.transformResults);f.setAll(y),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Si?(function(o,l,h){if(!Mu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=Rg(o.fieldTransforms,l,h.transformResults),y=l.data;y.setAll(dv(o)),y.setAll(f),l.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Ma(r,e,t,i){return r instanceof tl?(function(l,h,f,y){if(!Mu(l.precondition,h))return f;const _=l.value.clone(),E=Cg(l.fieldTransforms,y,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(r,e,t,i):r instanceof Si?(function(l,h,f,y){if(!Mu(l.precondition,h))return f;const _=Cg(l.fieldTransforms,y,h),E=h.data;return E.setAll(dv(l)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((A=>A.field)))})(r,e,t,i):(function(l,h,f){return Mu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function qE(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=av(i.transform,o||null);l!=null&&(t===null&&(t=Pn.empty()),t.set(i.field,l))}return t||null}function Ag(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ro(i,o,((l,h)=>BE(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tl extends yc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Si extends yc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function dv(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function Rg(r,e,t){const i=new Map;We(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,zE(h,f,t[o]))}return i}function Cg(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,FE(l,h,e))}return i}class sf extends yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WE extends yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GE{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&HE(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ma(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ma(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=iv();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const y=hv(h,f);y!==null&&i.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((t,i)=>Ag(t,i)))&&Ro(this.baseMutations,e.baseMutations,((t,i)=>Ag(t,i)))}}class of{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){We(e.mutations.length===i.length);let o=(function(){return OE})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new of(e,t,i,o)}}class KE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QE{constructor(e,t){this.count=e,this.unchangedNames=t}}var wt,Ue;function XE(r){switch(r){default:return Se();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function fv(r){if(r===void 0)return Wr("GRPC error has no .code"),Y.UNKNOWN;switch(r){case wt.OK:return Y.OK;case wt.CANCELLED:return Y.CANCELLED;case wt.UNKNOWN:return Y.UNKNOWN;case wt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case wt.INTERNAL:return Y.INTERNAL;case wt.UNAVAILABLE:return Y.UNAVAILABLE;case wt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case wt.NOT_FOUND:return Y.NOT_FOUND;case wt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case wt.ABORTED:return Y.ABORTED;case wt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case wt.DATA_LOSS:return Y.DATA_LOSS;default:return Se()}}(Ue=wt||(wt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function YE(){return new TextEncoder}const JE=new gi([4294967295,4294967295],0);function Ng(r){const e=YE().encode(r),t=new Ly;return t.update(e),new Uint8Array(t.digest())}function Pg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new gi([t,i],0),new gi([o,l],0)]}class af{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Pa(`Invalid padding: ${t}`);if(i<0)throw new Pa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Pa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Pa(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=gi.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(gi.fromNumber(i)));return o.compare(JE)===1&&(o=new gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Ng(e),[i,o]=Pg(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new af(l,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.Ie===0)return;const t=Ng(e),[i,o]=Pg(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new vc(Re.min(),o,new at($e),Gr(),Oe())}}class nl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new nl(i,t,Oe(),Oe(),Oe())}}class Vu{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class pv{constructor(e,t){this.targetId=e,this.me=t}}class mv{constructor(e,t,i=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class bg{constructor(){this.fe=0,this.ge=jg(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),t=Oe(),i=Oe();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se()}})),new nl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=jg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ZE{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gr(),this.qe=Dg(),this.Qe=new at($e)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Se()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const l=o.target;if(kd(l))if(i===0){const h=new Ee(l.path);this.Ue(t,h,Qt.newNoDocument(h,Re.min()))}else We(i===1);else{const h=this.Ye(t);if(h!==i){const f=this.Ze(e),y=f?this.Xe(f,e,h):1;if(y!==0){this.je(t);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,_)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=xi(i).toUint8Array()}catch(y){if(y instanceof Gy)return Ao("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{f=new af(h,o,l)}catch(y){return Ao(y instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return f.Ie===0?null:f}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.Le.tt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Ue(t,l,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((l,h)=>{const f=this.Je(h);if(f){if(l.current&&kd(f.target)){const y=new Ee(f.target.path);this.ke.get(y)!==null||this.it(h,y)||this.Ue(h,y,Qt.newNoDocument(y,e))}l.be&&(t.set(h,l.ve()),l.Ce())}}));let i=Oe();this.qe.forEach(((l,h)=>{let f=!0;h.forEachWhile((y=>{const _=this.Je(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.ke.forEach(((l,h)=>h.setReadTime(e)));const o=new vc(e,t,this.Qe,this.ke,i);return this.ke=Gr(),this.qe=Dg(),this.Qe=new at($e),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new bg,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new zt($e),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bg),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Dg(){return new at(Ee.comparator)}function jg(){return new at(Ee.comparator)}const e1={asc:"ASCENDING",desc:"DESCENDING"},t1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n1={and:"AND",or:"OR"};class r1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ad(r,e){return r.useProto3Json||dc(e)?e:{value:e}}function Ju(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function s1(r,e){return Ju(r,e.toTimestamp())}function yr(r){return We(!!r),Re.fromTimestamp((function(t){const i=Os(t);return new At(i.seconds,i.nanos)})(r))}function lf(r,e){return Rd(r,e).canonicalString()}function Rd(r,e){const t=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function yv(r){const e=rt.fromString(r);return We(Ev(e)),e}function Cd(r,e){return lf(r.databaseId,e.path)}function ld(r,e){const t=yv(e);if(t.get(1)!==r.databaseId.projectId)throw new _e(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new _e(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ee(_v(t))}function vv(r,e){return lf(r.databaseId,e)}function i1(r){const e=yv(r);return e.length===4?rt.emptyPath():_v(e)}function Nd(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _v(r){return We(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Og(r,e,t){return{name:Cd(r,e),fields:t.value.mapValue.fields}}function o1(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Se()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(_,E){return _.useProto3Json?(We(E===void 0||typeof E=="string"),Bt.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Bt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(_){const E=_.code===void 0?Y.UNKNOWN:fv(_.code);return new _e(E,_.message||"")})(h);t=new mv(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ld(r,i.document.name),l=yr(i.document.updateTime),h=i.document.createTime?yr(i.document.createTime):Re.min(),f=new Pn({mapValue:{fields:i.document.fields}}),y=Qt.newFoundDocument(o,l,h,f),_=i.targetIds||[],E=i.removedTargetIds||[];t=new Vu(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ld(r,i.document),l=i.readTime?yr(i.readTime):Re.min(),h=Qt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Vu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ld(r,i.document),l=i.removedTargetIds||[];t=new Vu([],l,o,null)}else{if(!("filter"in e))return Se();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new QE(o,l),f=i.targetId;t=new pv(f,h)}}return t}function a1(r,e){let t;if(e instanceof tl)t={update:Og(r,e.key,e.value)};else if(e instanceof sf)t={delete:Cd(r,e.key)};else if(e instanceof Si)t={update:Og(r,e.key,e.data),updateMask:g1(e.fieldMask)};else{if(!(e instanceof WE))return Se();t={verify:Cd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const f=h.transform;if(f instanceof Xu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Wa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Yu)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Se()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:s1(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se()})(r,e.precondition)),t}function l1(r,e){return r&&r.length>0?(We(e!==void 0),r.map((t=>(function(o,l){let h=o.updateTime?yr(o.updateTime):yr(l);return h.isEqual(Re.min())&&(h=yr(l)),new $E(h,o.transformResults||[])})(t,e)))):[]}function u1(r,e){return{documents:[vv(r,e.path)]}}function c1(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=vv(r,o);const l=(function(_){if(_.length!==0)return xv(wr.create(_,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(_){if(_.length!==0)return _.map((E=>(function(j){return{field:wo(j.field),direction:f1(j.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Ad(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{_t:t,parent:o}}function h1(r){let e=i1(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){We(i===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=(function(A){const j=wv(A);return j instanceof wr&&Yy(j)?j.getFilters():[j]})(t.where));let h=[];t.orderBy&&(h=(function(A){return A.map((j=>(function(b){return new Qu(xo(b.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(j)))})(t.orderBy));let f=null;t.limit&&(f=(function(A){let j;return j=typeof A=="object"?A.value:A,dc(j)?null:j})(t.limit));let y=null;t.startAt&&(y=(function(A){const j=!!A.before,z=A.values||[];return new Ku(z,j)})(t.startAt));let _=null;return t.endAt&&(_=(function(A){const j=!A.before,z=A.values||[];return new Ku(z,j)})(t.endAt)),CE(e,o,h,l,f,"F",y,_)}function d1(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wv(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=xo(t.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xo(t.unaryFilter.field);return St.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=xo(t.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}})(r):r.fieldFilter!==void 0?(function(t){return St.create(xo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return wr.create(t.compositeFilter.filters.map((i=>wv(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}})(t.compositeFilter.op))})(r):Se()}function f1(r){return e1[r]}function p1(r){return t1[r]}function m1(r){return n1[r]}function wo(r){return{fieldPath:r.canonicalString()}}function xo(r){return Ft.fromServerFormat(r.fieldPath)}function xv(r){return r instanceof St?(function(t){if(t.op==="=="){if(xg(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(wg(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xg(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(wg(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:p1(t.op),value:t.value}}})(r):r instanceof wr?(function(t){const i=t.getFilters().map((o=>xv(o)));return i.length===1?i[0]:{compositeFilter:{op:m1(t.op),filters:i}}})(r):Se()}function g1(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Ev(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Rs{constructor(e,t,i,o,l=Re.min(),h=Re.min(),f=Bt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class y1{constructor(e){this.ct=e}}function v1(r){const e=h1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Sd(e,e.limit,"L"):e}class _1{constructor(){this.un=new w1}addToCollectionParentIndex(e,t){return this.un.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(js.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class w1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new zt(rt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new zt(rt.comparator)).toArray()}}class Po{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Po(0)}static kn(){return new Po(-1)}}class x1{constructor(){this.changes=new Lo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class E1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class T1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Ma(i.mutation,o,Yn.empty(),At.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Oe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Oe()){const o=pi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=Na();return l.forEach(((f,y)=>{h=h.insert(f,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=pi();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Oe())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let l=Gr();const h=Oa(),f=(function(){return Oa()})();return t.forEach(((y,_)=>{const E=i.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Si)?l=l.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),Ma(E.mutation,_,E.mutation.getFieldMask(),At.now())):h.set(_.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,l).next((y=>(y.forEach(((_,E)=>h.set(_,E))),t.forEach(((_,E)=>{var A;return f.set(_,new E1(E,(A=h.get(_))!==null&&A!==void 0?A:null))})),f)))}recalculateAndSaveOverlays(e,t){const i=Oa();let o=new at(((h,f)=>h-f)),l=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((y=>{const _=t.get(y);if(_===null)return;let E=i.get(y)||Yn.empty();E=f.applyToLocalView(_,E),i.set(y,E);const A=(o.get(f.batchId)||Oe()).add(y);o=o.insert(f.batchId,A)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),_=y.key,E=y.value,A=iv();E.forEach((j=>{if(!l.has(j)){const z=hv(t.get(j),i.get(j));z!==null&&A.set(j,z),l=l.add(j)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return Ee.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):NE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):X.resolve(pi());let f=-1,y=l;return h.next((_=>X.forEach(_,((E,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),l.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((j=>{y=y.insert(E,j)}))))).next((()=>this.populateOverlays(e,_,l))).next((()=>this.computeViews(e,y,_,Oe()))).next((E=>({batchId:f,changes:sv(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((i=>{let o=Na();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Na();return this.indexManager.getCollectionParents(e,l).next((f=>X.forEach(f,(y=>{const _=(function(A,j){return new fc(j,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next((E=>{E.forEach(((A,j)=>{h=h.insert(A,j)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((y,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,Qt.newInvalidDocument(E)))}));let f=Na();return h.forEach(((y,_)=>{const E=l.get(y);E!==void 0&&Ma(E.mutation,_,Yn.empty(),At.now()),mc(t,_)&&(f=f.insert(y,_))})),f}))}}class I1{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return X.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:yr(o.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:v1(o.bundledQuery),readTime:yr(o.readTime)}})(t)),X.resolve()}}class k1{constructor(){this.overlays=new at(Ee.comparator),this.Ir=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=pi();return X.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.ht(e,t,l)})),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=pi(),l=t.length+1,h=new Ee(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const y=f.getNext().value,_=y.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&y.largestBatchId>i&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new at(((_,E)=>_-E));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let E=l.get(_.largestBatchId);E===null&&(E=pi(),l=l.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const f=pi(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>f.set(_,E))),!(f.size()>=o)););return X.resolve(f)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new KE(t,i));let l=this.Ir.get(t);l===void 0&&(l=Oe(),this.Ir.set(t,l)),this.Ir.set(t,l.add(i.key))}}class S1{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}class uf{constructor(){this.Tr=new zt(Dt.Er),this.dr=new zt(Dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Dt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new Dt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new Ee(new rt([])),i=new Dt(t,e),o=new Dt(t,e+1),l=[];return this.dr.forEachInRange([i,o],(h=>{this.Vr(h),l.push(h.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ee(new rt([])),i=new Dt(t,e),o=new Dt(t,e+1);let l=Oe();return this.dr.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new Dt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Dt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ee.comparator(e.key,t.key)||$e(e.wr,t.wr)}static Ar(e,t){return $e(e.wr,t.wr)||Ee.comparator(e.key,t.key)}}class A1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new zt(Dt.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new GE(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.br=this.br.add(new Dt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return X.resolve(h)}lookupMutationBatch(e,t){return X.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Dt(t,0),o=new Dt(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([i,o],(h=>{const f=this.Dr(h.wr);l.push(f)})),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zt($e);return t.forEach((o=>{const l=new Dt(o,0),h=new Dt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,h],(f=>{i=i.add(f.wr)}))})),X.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const h=new Dt(new Ee(l),0);let f=new zt($e);return this.br.forEachWhile((y=>{const _=y.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(f=f.add(y.wr)),!0)}),h),X.resolve(this.Cr(f))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return X.forEach(t.mutations,(o=>{const l=new Dt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new Dt(t,0),o=this.br.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class R1{constructor(e){this.Mr=e,this.docs=(function(){return new at(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let i=Gr();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Qt.newInvalidDocument(o))})),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Gr();const h=t.path,f=new Ee(h.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||cE(uE(E),i)<=0||(o.has(E.key)||mc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Se()}Or(e,t){return X.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new C1(this)}getSize(e){return X.resolve(this.size)}}class C1 extends x1{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),X.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class N1{constructor(e){this.persistence=e,this.Nr=new Lo((t=>ef(t)),tf),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new uf,this.targetCount=0,this.kr=Po.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),X.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Po(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Kn(t),X.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Nr.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Nr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),X.waitFor(l).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.Br.containsKey(t))}}class P1{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Xd(0),this.Kr=!1,this.Kr=!0,this.$r=new S1,this.referenceDelegate=e(this),this.Ur=new N1(this),this.indexManager=new _1,this.remoteDocumentCache=(function(o){return new R1(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new y1(t),this.Gr=new I1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new k1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new A1(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const o=new b1(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,t){return X.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class b1 extends dE{constructor(e){super(),this.currentSequenceNumber=e}}class cf{constructor(e){this.persistence=e,this.Jr=new uf,this.Yr=null}static Zr(e){return new cf(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),X.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,(i=>{const o=Ee.fromPath(i);return this.ei(e,o).next((l=>{l||t.removeEntry(o,Re.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return X.or([()=>X.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class hf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Oe(),o=Oe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new hf(e,t.fromCache,i,o)}}class D1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class j1{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return Mw()?8:fE(Xt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Yi(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.Zi(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new D1;return this.Xi(e,t,h).next((f=>{if(l.result=f,this.zi)return this.es(e,t,h,f.size)}))})).next((()=>l.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(Sa()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(Sa()<=Ve.DEBUG&&fe("QueryEngine","Query:",_o(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(Sa()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):X.resolve())}Yi(e,t){if(kg(t))return X.resolve(null);let i=mr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Sd(t,null,"F"),i=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=Oe(...l);return this.Ji.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((y=>{const _=this.ts(t,f);return this.ns(t,_,h,y.readTime)?this.Yi(e,Sd(t,null,"F")):this.rs(e,_,t,y)}))))})))))}Zi(e,t,i,o){return kg(t)||o.isEqual(Re.min())?X.resolve(null):this.Ji.getDocuments(e,i).next((l=>{const h=this.ts(t,l);return this.ns(t,h,i,o)?X.resolve(null):(Sa()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.rs(e,h,t,lE(o,-1)).next((f=>f)))}))}ts(e,t){let i=new zt(nv(e));return t.forEach(((o,l)=>{mc(e,l)&&(i=i.add(l))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,t,i){return Sa()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",_o(t)),this.Ji.getDocumentsMatchingQuery(e,t,js.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}class O1{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new at($e),this._s=new Lo((l=>ef(l)),tf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T1(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function M1(r,e,t,i){return new O1(r,e,t,i)}async function Tv(r,e){const t=Ce(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],f=[];let y=Oe();for(const _ of o){h.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of l){f.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return t.localDocuments.getDocuments(i,y).next((_=>({hs:_,removedBatchIds:h,addedBatchIds:f})))}))}))}function V1(r,e){const t=Ce(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return(function(f,y,_,E){const A=_.batch,j=A.keys();let z=X.resolve();return j.forEach((b=>{z=z.next((()=>E.getEntry(y,b))).next((H=>{const R=_.docVersions.get(b);We(R!==null),H.version.compareTo(R)<0&&(A.applyToRemoteDocument(H,_),H.isValidDocument()&&(H.setReadTime(_.commitVersion),E.addEntry(H)))}))})),z.next((()=>f.mutationQueue.removeMutationBatch(y,A)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let y=Oe();for(let _=0;_<f.mutationResults.length;++_)f.mutationResults[_].transformResults.length>0&&(y=y.add(f.batch.mutations[_].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function Iv(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function L1(r,e){const t=Ce(r),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const f=[];e.targetChanges.forEach(((E,A)=>{const j=o.get(A);if(!j)return;f.push(t.Ur.removeMatchingKeys(l,E.removedDocuments,A).next((()=>t.Ur.addMatchingKeys(l,E.addedDocuments,A))));let z=j.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(A)!==null?z=z.withResumeToken(Bt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,i)),o=o.insert(A,z),(function(H,R,W){return H.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(j,z,E)&&f.push(t.Ur.updateTargetData(l,z))}));let y=Gr(),_=Oe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))})),f.push(U1(l,h,e.documentUpdates).next((E=>{y=E.Ps,_=E.Is}))),!i.isEqual(Re.min())){const E=t.Ur.getLastRemoteSnapshotVersion(l).next((A=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(E)}return X.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,y,_))).next((()=>y))})).then((l=>(t.os=o,l)))}function U1(r,e,t){let i=Oe(),o=Oe();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let h=Gr();return t.forEach(((f,y)=>{const _=l.get(f);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(f)),y.isNoDocument()&&y.version.isEqual(Re.min())?(e.removeEntry(f,y.readTime),h=h.insert(f,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),h=h.insert(f,y)):fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",y.version)})),{Ps:h,Is:o}}))}function F1(r,e){const t=Ce(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function z1(r,e){const t=Ce(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((l=>l?(o=l,X.resolve(o)):t.Ur.allocateTargetId(i).next((h=>(o=new Rs(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function Pd(r,e,t){const i=Ce(r),o=i.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!el(h))throw h;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function Mg(r,e,t){const i=Ce(r);let o=Re.min(),l=Oe();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,_,E){const A=Ce(y),j=A._s.get(E);return j!==void 0?X.resolve(A.os.get(j)):A.Ur.getTargetData(_,E)})(i,h,mr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(h,f.targetId).next((y=>{l=y}))})).next((()=>i.ss.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?l:Oe()))).next((f=>(B1(i,bE(e),f),{documents:f,Ts:l})))))}function B1(r,e,t){let i=r.us.get(e)||Re.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.us.set(e,i)}class Vg{constructor(){this.activeTargetIds=LE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $1{constructor(){this.so=new Vg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Vg,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class H1{_o(e){}shutdown(){}}class Lg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ru=null;function ud(){return Ru===null?Ru=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ru++,"0x"+Ru.toString(16)}const q1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W1{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Gt="WebChannelConnection";class G1 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(t,i,o,l,h){const f=ud(),y=this.xo(t,i.toUriEncodedString());fe("RestConnection",`Sending RPC '${t}' ${f}:`,y,o);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,l,h),this.No(t,y,_,o).then((E=>(fe("RestConnection",`Received RPC '${t}' ${f}: `,E),E)),(E=>{throw Ao("RestConnection",`RPC '${t}' ${f} failed with error: `,E,"url: ",y,"request:",o),E}))}Lo(t,i,o,l,h,f){return this.Mo(t,i,o,l,h)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),o&&o.headers.forEach(((l,h)=>t[h]=l))}xo(t,i){const o=q1[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const l=ud();return new Promise(((h,f)=>{const y=new Uy;y.setWithCredentials(!0),y.listenOnce(Fy.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ju.NO_ERROR:const E=y.getResponseJson();fe(Gt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case ju.TIMEOUT:fe(Gt,`RPC '${e}' ${l} timed out`),f(new _e(Y.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const A=y.getStatus();if(fe(Gt,`RPC '${e}' ${l} failed with status:`,A,"response text:",y.getResponseText()),A>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const z=j?.error;if(z&&z.status&&z.message){const b=(function(R){const W=R.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(W)>=0?W:Y.UNKNOWN})(z.status);f(new _e(b,z.message))}else f(new _e(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new _e(Y.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{fe(Gt,`RPC '${e}' ${l} completed.`)}}));const _=JSON.stringify(o);fe(Gt,`RPC '${e}' ${l} sending request:`,o),y.send(t,"POST",_,i,15)}))}Bo(e,t,i){const o=ud(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=$y(),f=By(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,t,i),y.encodeInitMessageHeaders=!0;const E=l.join("");fe(Gt,`Creating RPC '${e}' stream ${o}: ${E}`,y);const A=h.createWebChannel(E,y);let j=!1,z=!1;const b=new W1({Io:R=>{z?fe(Gt,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(j||(fe(Gt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),j=!0),fe(Gt,`RPC '${e}' stream ${o} sending:`,R),A.send(R))},To:()=>A.close()}),H=(R,W,K)=>{R.listen(W,(ae=>{try{K(ae)}catch(se){setTimeout((()=>{throw se}),0)}}))};return H(A,Ca.EventType.OPEN,(()=>{z||(fe(Gt,`RPC '${e}' stream ${o} transport opened.`),b.yo())})),H(A,Ca.EventType.CLOSE,(()=>{z||(z=!0,fe(Gt,`RPC '${e}' stream ${o} transport closed`),b.So())})),H(A,Ca.EventType.ERROR,(R=>{z||(z=!0,Ao(Gt,`RPC '${e}' stream ${o} transport errored:`,R),b.So(new _e(Y.UNAVAILABLE,"The operation could not be completed")))})),H(A,Ca.EventType.MESSAGE,(R=>{var W;if(!z){const K=R.data[0];We(!!K);const ae=K,se=ae.error||((W=ae[0])===null||W===void 0?void 0:W.error);if(se){fe(Gt,`RPC '${e}' stream ${o} received error:`,se);const ge=se.status;let oe=(function(k){const P=wt[k];if(P!==void 0)return fv(P)})(ge),N=se.message;oe===void 0&&(oe=Y.INTERNAL,N="Unknown error status: "+ge+" with message "+se.message),z=!0,b.So(new _e(oe,N)),A.close()}else fe(Gt,`RPC '${e}' stream ${o} received:`,K),b.bo(K)}})),H(f,zy.STAT_EVENT,(R=>{R.stat===xd.PROXY?fe(Gt,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===xd.NOPROXY&&fe(Gt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{b.wo()}),0),b}}function cd(){return typeof document<"u"?document:null}function _c(r){return new r1(r,!0)}class kv{constructor(e,t,i=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Sv{constructor(e,t,i,o,l,h,f,y){this.ui=e,this.Ho=i,this.Jo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kv(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new _e(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K1 extends Sv{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=o1(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Re.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?yr(h.readTime):Re.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=Nd(this.serializer),t.addTarget=(function(l,h){let f;const y=h.target;if(f=kd(y)?{documents:u1(l,y)}:{query:c1(l,y)._t},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=gv(l,h.resumeToken);const _=Ad(l,h.expectedCount);_!==null&&(f.expectedCount=_)}else if(h.snapshotVersion.compareTo(Re.min())>0){f.readTime=Ju(l,h.snapshotVersion.toTimestamp());const _=Ad(l,h.expectedCount);_!==null&&(f.expectedCount=_)}return f})(this.serializer,e);const i=d1(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=Nd(this.serializer),t.removeTarget=e,this.a_(t)}}class Q1 extends Sv{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=l1(e.writeResults,e.commitTime),i=yr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=Nd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>a1(this.serializer,i)))};this.a_(t)}}class X1 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new _e(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Mo(e,Rd(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(Y.UNKNOWN,l.toString())}))}Lo(e,t,i,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Lo(e,Rd(t,i),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _e(Y.UNKNOWN,h.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Y1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wr(t),this.D_=!1):fe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class J1{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((h=>{i.enqueueAndForget((async()=>{Ai(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await(async function(y){const _=Ce(y);_.L_.add(4),await rl(_),_.q_.set("Unknown"),_.L_.delete(4),await wc(_)})(this))}))})),this.q_=new Y1(i,o)}}async function wc(r){if(Ai(r))for(const e of r.B_)await e(!0)}async function rl(r){for(const e of r.B_)await e(!1)}function Av(r,e){const t=Ce(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),mf(t)?pf(t):Uo(t).r_()&&ff(t,e))}function df(r,e){const t=Ce(r),i=Uo(t);t.N_.delete(e),i.r_()&&Rv(t,e),t.N_.size===0&&(i.r_()?i.o_():Ai(t)&&t.q_.set("Unknown"))}function ff(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uo(r).A_(e)}function Rv(r,e){r.Q_.xe(e),Uo(r).R_(e)}function pf(r){r.Q_=new ZE({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.q_.v_()}function mf(r){return Ai(r)&&!Uo(r).n_()&&r.N_.size>0}function Ai(r){return Ce(r).L_.size===0}function Cv(r){r.Q_=void 0}async function Z1(r){r.q_.set("Online")}async function eT(r){r.N_.forEach(((e,t)=>{ff(r,e)}))}async function tT(r,e){Cv(r),mf(r)?(r.q_.M_(e),pf(r)):r.q_.set("Unknown")}async function nT(r,e,t){if(r.q_.set("Online"),e instanceof mv&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.N_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.N_.delete(f),o.Q_.removeTarget(f))})(r,e)}catch(i){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zu(r,i)}else if(e instanceof Vu?r.Q_.Ke(e):e instanceof pv?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Re.min()))try{const i=await Iv(r.localStore);t.compareTo(i)>=0&&await(function(l,h){const f=l.Q_.rt(h);return f.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=l.N_.get(_);E&&l.N_.set(_,E.withResumeToken(y.resumeToken,h))}})),f.targetMismatches.forEach(((y,_)=>{const E=l.N_.get(y);if(!E)return;l.N_.set(y,E.withResumeToken(Bt.EMPTY_BYTE_STRING,E.snapshotVersion)),Rv(l,y);const A=new Rs(E.target,y,_,E.sequenceNumber);ff(l,A)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){fe("RemoteStore","Failed to raise snapshot:",i),await Zu(r,i)}}async function Zu(r,e,t){if(!el(e))throw e;r.L_.add(1),await rl(r),r.q_.set("Offline"),t||(t=()=>Iv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await wc(r)}))}function Nv(r,e){return e().catch((t=>Zu(r,t,e)))}async function xc(r){const e=Ce(r),t=Ms(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;rT(e);)try{const o=await F1(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,sT(e,o)}catch(o){await Zu(e,o)}Pv(e)&&bv(e)}function rT(r){return Ai(r)&&r.O_.length<10}function sT(r,e){r.O_.push(e);const t=Ms(r);t.r_()&&t.V_&&t.m_(e.mutations)}function Pv(r){return Ai(r)&&!Ms(r).n_()&&r.O_.length>0}function bv(r){Ms(r).start()}async function iT(r){Ms(r).p_()}async function oT(r){const e=Ms(r);for(const t of r.O_)e.m_(t.mutations)}async function aT(r,e,t){const i=r.O_.shift(),o=of.from(i,e,t);await Nv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await xc(r)}async function lT(r,e){e&&Ms(r).V_&&await(async function(i,o){if((function(h){return XE(h)&&h!==Y.ABORTED})(o.code)){const l=i.O_.shift();Ms(i).s_(),await Nv(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await xc(i)}})(r,e),Pv(r)&&bv(r)}async function Ug(r,e){const t=Ce(r);t.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const i=Ai(t);t.L_.add(3),await rl(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await wc(t)}async function uT(r,e){const t=Ce(r);e?(t.L_.delete(2),await wc(t)):e||(t.L_.add(2),await rl(t),t.q_.set("Unknown"))}function Uo(r){return r.K_||(r.K_=(function(t,i,o){const l=Ce(t);return l.w_(),new K1(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:Z1.bind(null,r),Ro:eT.bind(null,r),mo:tT.bind(null,r),d_:nT.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),mf(r)?pf(r):r.q_.set("Unknown")):(await r.K_.stop(),Cv(r))}))),r.K_}function Ms(r){return r.U_||(r.U_=(function(t,i,o){const l=Ce(t);return l.w_(),new Q1(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:iT.bind(null,r),mo:lT.bind(null,r),f_:oT.bind(null,r),g_:aT.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await xc(r)):(await r.U_.stop(),r.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class gf{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new gf(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yf(r,e){if(Wr("AsyncQueue",`${e}: ${r}`),el(r))return new _e(Y.UNAVAILABLE,`${e}: ${r}`);throw r}class Eo{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=Na(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Eo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Fg{constructor(){this.W_=new at(Ee.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class bo{constructor(e,t,i,o,l,h,f,y,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new bo(e,t,Eo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class cT{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class hT{constructor(){this.queries=zg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=Ce(t),l=o.queries;o.queries=zg(),l.forEach(((h,f)=>{for(const y of f.j_)y.onError(i)}))})(this,new _e(Y.ABORTED,"Firestore shutting down"))}}function zg(){return new Lo((r=>tv(r)),pc)}async function Dv(r,e){const t=Ce(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.H_()&&e.J_()&&(i=2):(l=new cT,i=e.J_()?0:1);try{switch(i){case 0:l.z_=await t.onListen(o,!0);break;case 1:l.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=yf(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&vf(t)}async function jv(r,e){const t=Ce(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.j_.indexOf(e);h>=0&&(l.j_.splice(h,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function dT(r,e){const t=Ce(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.j_)f.X_(o)&&(i=!0);h.z_=o}}i&&vf(t)}function fT(r,e,t){const i=Ce(r),o=i.queries.get(e);if(o)for(const l of o.j_)l.onError(t);i.queries.delete(e)}function vf(r){r.Y_.forEach((e=>{e.next()}))}var bd,Bg;(Bg=bd||(bd={})).ea="default",Bg.Cache="cache";class Ov{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new bo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bd.Cache}}class Mv{constructor(e){this.key=e}}class Vv{constructor(e){this.key=e}}class pT{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=nv(e),this.Ra=new Eo(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new Fg,o=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const j=o.get(E),z=mc(this.query,A)?A:null,b=!!j&&this.mutatedKeys.has(j.key),H=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let R=!1;j&&z?j.data.isEqual(z.data)?b!==H&&(i.track({type:3,doc:z}),R=!0):this.ga(j,z)||(i.track({type:2,doc:z}),R=!0,(y&&this.Aa(z,y)>0||_&&this.Aa(z,_)<0)&&(f=!0)):!j&&z?(i.track({type:0,doc:z}),R=!0):j&&!z&&(i.track({type:1,doc:j}),R=!0,(y||_)&&(f=!0)),R&&(z?(h=h.add(z),l=H?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{Ra:h,fa:i,ns:f,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(((E,A)=>(function(z,b){const H=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return H(z)-H(b)})(E.type,A.type)||this.Aa(E.doc,A.doc))),this.pa(i),o=o!=null&&o;const f=t&&!o?this.ya():[],y=this.da.size===0&&this.current&&!o?1:0,_=y!==this.Ea;return this.Ea=y,h.length!==0||_?{snapshot:new bo(this.query,e.Ra,l,h,e.mutatedKeys,y===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new Vv(i))})),this.da.forEach((i=>{e.has(i)||t.push(new Mv(i))})),t}ba(e){this.Ta=e.Ts,this.da=Oe();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return bo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class mT{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class gT{constructor(e){this.key=e,this.va=!1}}class yT{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new Lo((f=>tv(f)),pc),this.Ma=new Map,this.xa=new Set,this.Oa=new at(Ee.comparator),this.Na=new Map,this.La=new uf,this.Ba={},this.ka=new Map,this.qa=Po.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function vT(r,e,t=!0){const i=$v(r);let o;const l=i.Fa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await Lv(i,e,t,!0),o}async function _T(r,e){const t=$v(r);await Lv(t,e,!0,!1)}async function Lv(r,e,t,i){const o=await z1(r.localStore,mr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await wT(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Av(r.remoteStore,o),f}async function wT(r,e,t,i,o){r.Ka=(A,j,z)=>(async function(H,R,W,K){let ae=R.view.ma(W);ae.ns&&(ae=await Mg(H.localStore,R.query,!1).then((({documents:N})=>R.view.ma(N,ae))));const se=K&&K.targetChanges.get(R.targetId),ge=K&&K.targetMismatches.get(R.targetId)!=null,oe=R.view.applyChanges(ae,H.isPrimaryClient,se,ge);return Hg(H,R.targetId,oe.wa),oe.snapshot})(r,A,j,z);const l=await Mg(r.localStore,e,!0),h=new pT(e,l.Ts),f=h.ma(l.documents),y=nl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),_=h.applyChanges(f,r.isPrimaryClient,y);Hg(r,t,_.wa);const E=new mT(e,t,h);return r.Fa.set(e,E),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),_.snapshot}async function xT(r,e,t){const i=Ce(r),o=i.Fa.get(e),l=i.Ma.get(o.targetId);if(l.length>1)return i.Ma.set(o.targetId,l.filter((h=>!pc(h,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Pd(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&df(i.remoteStore,o.targetId),Dd(i,o.targetId)})).catch(Za)):(Dd(i,o.targetId),await Pd(i.localStore,o.targetId,!0))}async function ET(r,e){const t=Ce(r),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),df(t.remoteStore,i.targetId))}async function TT(r,e,t){const i=NT(r);try{const o=await(function(h,f){const y=Ce(h),_=At.now(),E=f.reduce(((z,b)=>z.add(b.key)),Oe());let A,j;return y.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let b=Gr(),H=Oe();return y.cs.getEntries(z,E).next((R=>{b=R,b.forEach(((W,K)=>{K.isValidDocument()||(H=H.add(W))}))})).next((()=>y.localDocuments.getOverlayedDocuments(z,b))).next((R=>{A=R;const W=[];for(const K of f){const ae=qE(K,A.get(K.key).overlayedDocument);ae!=null&&W.push(new Si(K.key,ae,Ky(ae.value.mapValue),gr.exists(!0)))}return y.mutationQueue.addMutationBatch(z,_,W,f)})).next((R=>{j=R;const W=R.applyToLocalDocumentSet(A,H);return y.documentOverlayCache.saveOverlays(z,R.batchId,W)}))})).then((()=>({batchId:j.batchId,changes:sv(A)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,f,y){let _=h.Ba[h.currentUser.toKey()];_||(_=new at($e)),_=_.insert(f,y),h.Ba[h.currentUser.toKey()]=_})(i,o.batchId,t),await sl(i,o.changes),await xc(i.remoteStore)}catch(o){const l=yf(o,"Failed to persist write");t.reject(l)}}async function Uv(r,e){const t=Ce(r);try{const i=await L1(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Na.get(l);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?We(h.va):o.removedDocuments.size>0&&(We(h.va),h.va=!1))})),await sl(t,i,e)}catch(i){await Za(i)}}function $g(r,e,t){const i=Ce(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((l,h)=>{const f=h.view.Z_(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const y=Ce(h);y.onlineState=f;let _=!1;y.queries.forEach(((E,A)=>{for(const j of A.j_)j.Z_(f)&&(_=!0)})),_&&vf(y)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function IT(r,e,t){const i=Ce(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),l=o&&o.key;if(l){let h=new at(Ee.comparator);h=h.insert(l,Qt.newNoDocument(l,Re.min()));const f=Oe().add(l),y=new vc(Re.min(),new Map,new at($e),h,f);await Uv(i,y),i.Oa=i.Oa.remove(l),i.Na.delete(e),_f(i)}else await Pd(i.localStore,e,!1).then((()=>Dd(i,e,t))).catch(Za)}async function kT(r,e){const t=Ce(r),i=e.batch.batchId;try{const o=await V1(t.localStore,e);zv(t,i,null),Fv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await sl(t,o)}catch(o){await Za(o)}}async function ST(r,e,t){const i=Ce(r);try{const o=await(function(h,f){const y=Ce(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,f).next((A=>(We(A!==null),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,f))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(i.localStore,e);zv(i,e,t),Fv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await sl(i,o)}catch(o){await Za(o)}}function Fv(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function zv(r,e,t){const i=Ce(r);let o=i.Ba[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function Dd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Ma.get(e))r.Fa.delete(i),t&&r.Ca.$a(i,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((i=>{r.La.containsKey(i)||Bv(r,i)}))}function Bv(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(df(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),_f(r))}function Hg(r,e,t){for(const i of t)i instanceof Mv?(r.La.addReference(i.key,e),AT(r,i)):i instanceof Vv?(fe("SyncEngine","Document no longer in limbo: "+i.key),r.La.removeReference(i.key,e),r.La.containsKey(i.key)||Bv(r,i.key)):Se()}function AT(r,e){const t=e.key,i=t.path.canonicalString();r.Oa.get(t)||r.xa.has(i)||(fe("SyncEngine","New document in limbo: "+t),r.xa.add(i),_f(r))}function _f(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new Ee(rt.fromString(e)),i=r.qa.next();r.Na.set(i,new gT(t)),r.Oa=r.Oa.insert(t,i),Av(r.remoteStore,new Rs(mr(nf(t.path)),i,"TargetPurposeLimboResolution",Xd.oe))}}async function sl(r,e,t){const i=Ce(r),o=[],l=[],h=[];i.Fa.isEmpty()||(i.Fa.forEach(((f,y)=>{h.push(i.Ka(y,e,t).then((_=>{var E;if((_||t)&&i.isPrimaryClient){const A=_?!_.fromCache:(E=t?.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=hf.Wi(y.targetId,_);l.push(A)}})))})),await Promise.all(h),i.Ca.d_(o),await(async function(y,_){const E=Ce(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(j=>X.forEach(j.$i,(z=>E.persistence.referenceDelegate.addReference(A,j.targetId,z))).next((()=>X.forEach(j.Ui,(z=>E.persistence.referenceDelegate.removeReference(A,j.targetId,z)))))))))}catch(A){if(!el(A))throw A;fe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of _){const j=A.targetId;if(!A.fromCache){const z=E.os.get(j),b=z.snapshotVersion,H=z.withLastLimboFreeSnapshotVersion(b);E.os=E.os.insert(j,H)}}})(i.localStore,l))}async function RT(r,e){const t=Ce(r);if(!t.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const i=await Tv(t.localStore,e);t.currentUser=e,(function(l,h){l.ka.forEach((f=>{f.forEach((y=>{y.reject(new _e(Y.CANCELLED,h))}))})),l.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await sl(t,i.hs)}}function CT(r,e){const t=Ce(r),i=t.Na.get(e);if(i&&i.va)return Oe().add(i.key);{let o=Oe();const l=t.Ma.get(e);if(!l)return o;for(const h of l){const f=t.Fa.get(h);o=o.unionWith(f.view.Va)}return o}}function $v(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IT.bind(null,e),e.Ca.d_=dT.bind(null,e.eventManager),e.Ca.$a=fT.bind(null,e.eventManager),e}function NT(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ST.bind(null,e),e}class ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_c(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return M1(this.persistence,new j1,e.initialUser,this.serializer)}Ga(e){return new P1(cf.Zr,this.serializer)}Wa(e){return new $1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ec.provider={build:()=>new ec};class jd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$g(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=RT.bind(null,this.syncEngine),await uT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hT})()}createDatastore(e){const t=_c(e.databaseInfo.databaseId),i=(function(l){return new G1(l)})(e.databaseInfo);return(function(l,h,f,y){return new X1(l,h,f,y)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,f){return new J1(i,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>$g(this.syncEngine,t,0)),(function(){return Lg.D()?new Lg:new H1})())}createSyncEngine(e,t){return(function(o,l,h,f,y,_,E){const A=new yT(o,l,h,f,y,_);return E&&(A.Qa=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Ce(o);fe("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await rl(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}jd.provider={build:()=>new jd};class Hv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class PT{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{fe("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(fe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=yf(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function hd(r,e){r.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await Tv(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function qg(r,e){r.asyncQueue.verifyOperationInProgress();const t=await bT(r);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Ug(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>Ug(e.remoteStore,o))),r._onlineComponents=e}async function bT(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await hd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ao("Error using user provided cache. Falling back to memory cache: "+t),await hd(r,new ec)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await hd(r,new ec);return r._offlineComponents}async function qv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await qg(r,r._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await qg(r,new jd))),r._onlineComponents}function DT(r){return qv(r).then((e=>e.syncEngine))}async function Od(r){const e=await qv(r),t=e.eventManager;return t.onListen=vT.bind(null,e.syncEngine),t.onUnlisten=xT.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_T.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ET.bind(null,e.syncEngine),t}function jT(r,e,t={}){const i=new Ps;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,y,_){const E=new Hv({next:j=>{E.Za(),h.enqueueAndForget((()=>jv(l,A))),j.fromCache&&y.source==="server"?_.reject(new _e(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(j)},error:j=>_.reject(j)}),A=new Ov(f,E,{includeMetadataChanges:!0,_a:!0});return Dv(l,A)})(await Od(r),r.asyncQueue,e,t,i))),i.promise}function Wv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Wg=new Map;function Gv(r,e,t){if(!t)throw new _e(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function OT(r,e,t,i){if(e===!0&&i===!0)throw new _e(Y.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Gg(r){if(!Ee.isDocumentKey(r))throw new _e(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Kg(r){if(Ee.isDocumentKey(r))throw new _e(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se()}function Hr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wf(r);throw new _e(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Qg{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wv((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ec{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qg(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Zx;switch(i.type){case"firstParty":return new rE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Wg.get(t);i&&(fe("ComponentProvider","Removing Datastore"),Wg.delete(t),i.terminate())})(this),Promise.resolve()}}function MT(r,e,t,i={}){var o;const l=(r=Hr(r,Ec))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let f,y;if(typeof i.mockUserToken=="string")f=i.mockUserToken,y=Kt.MOCK_USER;else{f=by(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new _e(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Kt(_)}r._authCredentials=new eE(new Hy(f,y))}}class il{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new il(this.firestore,e,this._query)}}class _n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class bs extends il{constructor(e,t,i){super(e,t,nf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Ee(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function Md(r,e,...t){if(r=jt(r),Gv("collection","path",e),r instanceof Ec){const i=rt.fromString(e,...t);return Kg(i),new bs(r,null,i)}{if(!(r instanceof _n||r instanceof bs))throw new _e(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(rt.fromString(e,...t));return Kg(i),new bs(r.firestore,null,i)}}function Xn(r,e,...t){if(r=jt(r),arguments.length===1&&(e=qy.newId()),Gv("doc","path",e),r instanceof Ec){const i=rt.fromString(e,...t);return Gg(i),new _n(r,null,new Ee(i))}{if(!(r instanceof _n||r instanceof bs))throw new _e(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(rt.fromString(e,...t));return Gg(i),new _n(r.firestore,r instanceof bs?r.converter:null,new Ee(i))}}class Xg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kv(this,"async_queue_retry"),this.Vu=()=>{const i=cd();i&&fe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=cd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=cd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ps;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!el(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f})(i);throw Wr("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=gf.createAndSchedule(this,e,t,i,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Yg(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class Do extends Ec{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Xg,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xg(e),this._firestoreClient=void 0,await e}}}function VT(r,e){const t=typeof r=="object"?r:Kd(),i=typeof r=="string"?r:"(default)",o=hc(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=Cy("firestore");l&&MT(o,...l)}return o}function xf(r){if(r._terminated)throw new _e(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LT(r),r._firestoreClient}function LT(r){var e,t,i;const o=r._freezeSettings(),l=(function(f,y,_,E){return new gE(f,y,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Wv(E.experimentalLongPollingOptions),E.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new PT(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(f){const y=f?._online.build();return{_offline:f?._offline.build(y),_online:y}})(r._componentsProvider))}class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(Bt.fromBase64String(e))}catch(t){throw new _e(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jo(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ef{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kv{constructor(e){this._methodName=e}}class Tf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}class If{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}}const UT=/^__.*__$/;class FT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,t,this.fieldTransforms):new tl(e,this.data,t,this.fieldTransforms)}}function Qv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class kf{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Qv(this.Cu)&&UT.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class zT{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||_c(e)}Qu(e,t,i,o=!1){return new kf({Cu:e,methodName:t,qu:i,path:Ft.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BT(r){const e=r._freezeSettings(),t=_c(r._databaseId);return new zT(r._databaseId,!!e.ignoreUndefinedProperties,t)}function $T(r,e,t,i,o,l={}){const h=r.Qu(l.merge||l.mergeFields?2:0,e,t,o);Zv("Data must be an object, but it was:",h,i);const f=Yv(i,h);let y,_;if(l.merge)y=new Yn(h.fieldMask),_=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const A of l.mergeFields){const j=HT(e,A,t);if(!h.contains(j))throw new _e(Y.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);WT(E,j)||E.push(j)}y=new Yn(E),_=h.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=h.fieldTransforms;return new FT(new Pn(f),y,_)}function Xv(r,e){if(Jv(r=jt(r)))return Zv("Unsupported field value:",e,r),Yv(r,e);if(r instanceof Kv)return(function(i,o){if(!Qv(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const f of i){let y=Xv(f,o.Lu(h));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),h++}return{arrayValue:{values:l}}})(r,e)}return(function(i,o){if((i=jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return UE(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=At.fromDate(i);return{timestampValue:Ju(o.serializer,l)}}if(i instanceof At){const l=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ju(o.serializer,l)}}if(i instanceof Tf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof jo)return{bytesValue:gv(o.serializer,i._byteString)};if(i instanceof _n){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:lf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof If)return(function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw f.Bu("VectorValues must only contain numeric values.");return rf(f.serializer,y)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${wf(i)}`)})(r,e)}function Yv(r,e){const t={};return Wy(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(r,((i,o)=>{const l=Xv(o,e.Mu(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function Jv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof At||r instanceof Tf||r instanceof jo||r instanceof _n||r instanceof Kv||r instanceof If)}function Zv(r,e,t){if(!Jv(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=wf(t);throw i==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+i)}}function HT(r,e,t){if((e=jt(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return e_(r,e);throw tc("Field path arguments must be of type string or ",r,!1,void 0,t)}const qT=new RegExp("[~\\*/\\[\\]]");function e_(r,e,t){if(e.search(qT)>=0)throw tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ef(...e.split("."))._internalPath}catch{throw tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function tc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(l||h)&&(y+=" (found",l&&(y+=` in field ${i}`),h&&(y+=` in document ${o}`),y+=")"),new _e(Y.INVALID_ARGUMENT,f+r+y)}function WT(r,e){return r.some((t=>t.isEqual(e)))}class t_{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(n_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GT extends t_{data(){return super.data()}}function n_(r,e){return typeof e=="string"?e_(r,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}function r_(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _e(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KT{convertValue(e,t="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Vo(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((h=>mt(h.doubleValue)));return new If(l)}convertGeoPoint(e){return new Tf(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Jd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ba(e));default:return null}}convertTimestamp(e){const t=Os(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);We(Ev(i));const o=new $a(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return o.isEqual(t)||Wr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function QT(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class ba{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class s_ extends t_{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(n_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Lu extends s_{data(e={}){return super.data(e)}}class i_{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ba(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Lu(this._firestore,this._userDataWriter,i.key,i,new ba(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const y=new Lu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ba(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const y=new Lu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ba(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return f.type!==0&&(_=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:XT(f.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XT(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class Sf extends KT{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function o_(r){r=Hr(r,il);const e=Hr(r.firestore,Do),t=xf(e),i=new Sf(e);return r_(r._query),jT(t,r._query).then((o=>new i_(e,i,r,o)))}function Aa(r,e,t){r=Hr(r,_n);const i=Hr(r.firestore,Do),o=QT(r.converter,e,t);return a_(i,[$T(BT(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,gr.none())])}function YT(r){return a_(Hr(r.firestore,Do),[new sf(r._key,gr.none())])}function vo(r,...e){var t,i,o;r=jt(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||Yg(e[h])||(l=e[h],h++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Yg(e[h])){const A=e[h];e[h]=(t=A.next)===null||t===void 0?void 0:t.bind(A),e[h+1]=(i=A.error)===null||i===void 0?void 0:i.bind(A),e[h+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let y,_,E;if(r instanceof _n)_=Hr(r.firestore,Do),E=nf(r._key.path),y={next:A=>{e[h]&&e[h](JT(_,r,A))},error:e[h+1],complete:e[h+2]};else{const A=Hr(r,il);_=Hr(A.firestore,Do),E=A._query;const j=new Sf(_);y={next:z=>{e[h]&&e[h](new i_(_,j,A,z))},error:e[h+1],complete:e[h+2]},r_(r._query)}return(function(j,z,b,H){const R=new Hv(H),W=new Ov(z,R,b);return j.asyncQueue.enqueueAndForget((async()=>Dv(await Od(j),W))),()=>{R.Za(),j.asyncQueue.enqueueAndForget((async()=>jv(await Od(j),W)))}})(xf(_),E,f,y)}function a_(r,e){return(function(i,o){const l=new Ps;return i.asyncQueue.enqueueAndForget((async()=>TT(await DT(i),o,l))),l.promise})(xf(r),e)}function JT(r,e,t){const i=t.docs.get(e._key),o=new Sf(r);return new s_(r,o,e._key,i,new ba(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Mo=o})(ki),_i(new Ds("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new Do(new tE(i.getProvider("auth-internal")),new iE(i.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new _e(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(_.options.projectId,E)})(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),pr(mg,"4.7.3",e),pr(mg,"4.7.3","esm2017")})();var ZT="firebase",eI="10.14.1";pr(ZT,eI,"app");function Af(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function l_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tI=l_,u_=new Ya("auth","Firebase",l_());const nc=new Wd("@firebase/auth");function nI(r,...e){nc.logLevel<=Ve.WARN&&nc.warn(`Auth (${ki}): ${r}`,...e)}function Uu(r,...e){nc.logLevel<=Ve.ERROR&&nc.error(`Auth (${ki}): ${r}`,...e)}function xr(r,...e){throw Cf(r,...e)}function Jn(r,...e){return Cf(r,...e)}function Rf(r,e,t){const i=Object.assign(Object.assign({},tI()),{[e]:t});return new Ya("auth","Firebase",i).create(e,{appName:r.name})}function yi(r){return Rf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rI(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&xr(r,"argument-error"),Rf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cf(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return u_.create(r,...e)}function ke(r,e,...t){if(!r)throw Cf(e,...t)}function zr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Uu(e),new Error(e)}function Kr(r,e){r||zr(e)}function Vd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function sI(){return Jg()==="http:"||Jg()==="https:"}function Jg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function iI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sI()||Dw()||"connection"in navigator)?navigator.onLine:!0}function oI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ol{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kr(t>e,"Short delay should be less than long delay!"),this.isMobile=Nw()||jw()}get(){return iI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nf(r,e){Kr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class c_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lI=new ol(3e4,6e4);function Pf(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Fo(r,e,t,i,o={}){return h_(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=Ja(Object.assign({key:r.config.apiKey},h)).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:y},l);return bw()||(_.referrerPolicy="no-referrer"),c_.fetch()(d_(r,r.config.apiHost,t,f),_)})}async function h_(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},aI),e);try{const o=new cI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Cu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[y,_]=f.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(r,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw Cu(r,"email-already-in-use",h);if(y==="USER_DISABLED")throw Cu(r,"user-disabled",h);const E=i[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Rf(r,E,_);xr(r,E)}}catch(o){if(o instanceof Er)throw o;xr(r,"network-request-failed",{message:String(o)})}}async function uI(r,e,t,i,o={}){const l=await Fo(r,e,t,i,o);return"mfaPendingCredential"in l&&xr(r,"multi-factor-auth-required",{_serverResponse:l}),l}function d_(r,e,t,i){const o=`${e}${t}?${i}`;return r.config.emulator?Nf(r.config,o):`${r.config.apiScheme}://${o}`}class cI{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Jn(this.auth,"network-request-failed")),lI.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Jn(r,e,i);return o.customData._tokenResponse=t,o}async function hI(r,e){return Fo(r,"POST","/v1/accounts:delete",e)}async function f_(r,e){return Fo(r,"POST","/v1/accounts:lookup",e)}function Va(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dI(r,e=!1){const t=jt(r),i=await t.getIdToken(e),o=bf(i);ke(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:i,authTime:Va(dd(o.auth_time)),issuedAtTime:Va(dd(o.iat)),expirationTime:Va(dd(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function dd(r){return Number(r)*1e3}function bf(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ay(t);return o?JSON.parse(o):(Uu("Failed to decode base64 JWT payload"),null)}catch(o){return Uu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Zg(r){const e=bf(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ga(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Er&&fI(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function fI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class pI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ld{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rc(r){var e;const t=r.auth,i=await r.getIdToken(),o=await Ga(r,f_(t,{idToken:i}));ke(o?.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?p_(l.providerUserInfo):[],f=gI(r.providerData,h),y=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!f?.length,E=y?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Ld(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function mI(r){const e=jt(r);await rc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gI(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function p_(r){return r.map(e=>{var{providerId:t}=e,i=Af(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function yI(r,e){const t=await h_(r,{},async()=>{const i=Ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=d_(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",c_.fetch()(h,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vI(r,e){return Fo(r,"POST","/v2/accounts:revokeToken",Pf(r,e))}class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=Zg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await yI(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new To;return i&&(ke(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(ke(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(ke(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return zr("not implemented")}}function Ts(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Br{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ld(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dI(this,e)}reload(){return mI(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await rc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Ga(this,hI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,f,y,_,E;const A=(i=t.displayName)!==null&&i!==void 0?i:void 0,j=(o=t.email)!==null&&o!==void 0?o:void 0,z=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,b=(h=t.photoURL)!==null&&h!==void 0?h:void 0,H=(f=t.tenantId)!==null&&f!==void 0?f:void 0,R=(y=t._redirectEventId)!==null&&y!==void 0?y:void 0,W=(_=t.createdAt)!==null&&_!==void 0?_:void 0,K=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ae,emailVerified:se,isAnonymous:ge,providerData:oe,stsTokenManager:N}=t;ke(ae&&N,e,"internal-error");const T=To.fromJSON(this.name,N);ke(typeof ae=="string",e,"internal-error"),Ts(A,e.name),Ts(j,e.name),ke(typeof se=="boolean",e,"internal-error"),ke(typeof ge=="boolean",e,"internal-error"),Ts(z,e.name),Ts(b,e.name),Ts(H,e.name),Ts(R,e.name),Ts(W,e.name),Ts(K,e.name);const k=new Br({uid:ae,auth:e,email:j,emailVerified:se,displayName:A,isAnonymous:ge,photoURL:b,phoneNumber:z,tenantId:H,stsTokenManager:T,createdAt:W,lastLoginAt:K});return oe&&Array.isArray(oe)&&(k.providerData=oe.map(P=>Object.assign({},P))),R&&(k._redirectEventId=R),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new To;o.updateFromServerResponse(t);const l=new Br({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await rc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];ke(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?p_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,f=new To;f.updateFromIdToken(i);const y=new Br({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Ld(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(y,_),y}}const ey=new Map;function $r(r){Kr(r instanceof Function,"Expected a class definition");let e=ey.get(r);return e?(Kr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ey.set(r,e),e)}class m_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}m_.type="NONE";const ty=m_;function Fu(r,e,t){return`firebase:${r}:${e}:${t}`}class Io{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Fu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Fu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Io($r(ty),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||$r(ty);const h=Fu(i,e.config.apiKey,e.name);let f=null;for(const _ of t)try{const E=await _._get(h);if(E){const A=Br._fromJSON(e,E);_!==l&&(f=A),l=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!y.length?new Io(l,e,i):(l=y[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(h)}catch{}})),new Io(l,e,i))}}function ny(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(__(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x_(e))return"Blackberry";if(E_(e))return"Webos";if(y_(e))return"Safari";if((e.includes("chrome/")||v_(e))&&!e.includes("edge/"))return"Chrome";if(w_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function g_(r=Xt()){return/firefox\//i.test(r)}function y_(r=Xt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v_(r=Xt()){return/crios\//i.test(r)}function __(r=Xt()){return/iemobile/i.test(r)}function w_(r=Xt()){return/android/i.test(r)}function x_(r=Xt()){return/blackberry/i.test(r)}function E_(r=Xt()){return/webos/i.test(r)}function Df(r=Xt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _I(r=Xt()){var e;return Df(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wI(){return Ow()&&document.documentMode===10}function T_(r=Xt()){return Df(r)||w_(r)||E_(r)||x_(r)||/windows phone/i.test(r)||__(r)}function I_(r,e=[]){let t;switch(r){case"Browser":t=ny(Xt());break;case"Worker":t=`${ny(Xt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ki}/${i}`}class xI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const y=e(l);h(y)}catch(y){f(y)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function EI(r,e={}){return Fo(r,"GET","/v2/passwordPolicy",Pf(r,e))}const TI=6;class II{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:TI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,f;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(t=y.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),y.isValid&&(y.isValid=(i=y.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(o=y.containsLowercaseLetter)!==null&&o!==void 0?o:!0),y.isValid&&(y.isValid=(l=y.containsUppercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(h=y.containsNumericCharacter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(f=y.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),y}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class kI{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ry(this),this.idTokenSubscription=new ry(this),this.beforeStateQueue=new xI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await f_(this,{idToken:e}),i=await Br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o?._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===f)&&y?.user&&(o=y.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fr(this.app))return Promise.reject(yi(this));const t=e?jt(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fr(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EI(this),t=new II(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await vI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,i,o);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&nI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Tc(r){return jt(r)}class ry{constructor(e){this.auth=e,this.observer=null,this.addObserver=$w(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SI(r){jf=r}function AI(r){return jf.loadJS(r)}function RI(){return jf.gapiScript}function CI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function NI(r,e){const t=hc(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(qu(l,e??{}))return o;xr(o,"already-initialized")}return t.initialize({options:e})}function PI(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map($r);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function bI(r,e,t){const i=Tc(r);ke(i._canInitEmulator,i,"emulator-config-failed"),ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=k_(e),{host:h,port:f}=DI(e),y=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${h}${y}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),jI()}function k_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function DI(r){const e=k_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:sy(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:sy(h)}}}function sy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function jI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class S_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function ko(r,e){return uI(r,"POST","/v1/accounts:signInWithIdp",Pf(r,e))}const OI="http://localhost";class Ti extends S_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Af(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new Ti(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return ko(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ko(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ko(e,t)}buildRequest(){const e={requestUri:OI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ja(t)}return e}}class Of{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class al extends Of{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Is extends al{constructor(){super("facebook.com")}static credential(e){return Ti._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";class Ur extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ti._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ur.credential(t,i)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";class ks extends al{constructor(){super("github.com")}static credential(e){return Ti._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";class Ss extends al{constructor(){super("twitter.com")}static credential(e,t){return Ti._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ss.credential(t,i)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Br._fromIdTokenResponse(e,i,o),h=iy(i);return new Oo({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=iy(i);return new Oo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function iy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class sc extends Er{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new sc(e,t,i,o)}}function A_(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sc._fromErrorAndOperation(r,l,e,i):l})}async function MI(r,e,t=!1){const i=await Ga(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Oo._forOperation(r,"link",i)}async function VI(r,e,t=!1){const{auth:i}=r;if(Fr(i.app))return Promise.reject(yi(i));const o="reauthenticate";try{const l=await Ga(r,A_(i,o,e,r),t);ke(l.idToken,i,"internal-error");const h=bf(l.idToken);ke(h,i,"internal-error");const{sub:f}=h;return ke(r.uid===f,i,"user-mismatch"),Oo._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&xr(i,"user-mismatch"),l}}async function LI(r,e,t=!1){if(Fr(r.app))return Promise.reject(yi(r));const i="signIn",o=await A_(r,i,e),l=await Oo._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}function UI(r,e,t,i){return jt(r).onIdTokenChanged(e,t,i)}function FI(r,e,t){return jt(r).beforeAuthStateChanged(e,t)}function zI(r,e,t,i){return jt(r).onAuthStateChanged(e,t,i)}function zu(r){return jt(r).signOut()}const ic="__sak";class R_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ic,"1"),this.storage.removeItem(ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const BI=1e3,$I=10;class C_ extends R_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,y)=>{this.notifyListeners(h,y)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);wI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$I):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}C_.type="LOCAL";const HI=C_;class N_ extends R_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}N_.type="SESSION";const P_=N_;function qI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ic{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ic(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async _=>_(t.origin,l)),y=await qI(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ic.receivers=[];function Mf(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class WI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,y)=>{const _=Mf("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(A){const j=A;if(j.data.eventId===_)switch(j.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(j.data.response);break;default:clearTimeout(E),clearTimeout(l),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function vr(){return window}function GI(r){vr().location.href=r}function b_(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function KI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QI(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function XI(){return b_()?self:null}const D_="firebaseLocalStorageDb",YI=1,oc="firebaseLocalStorage",j_="fbase_key";class ll{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kc(r,e){return r.transaction([oc],e?"readwrite":"readonly").objectStore(oc)}function JI(){const r=indexedDB.deleteDatabase(D_);return new ll(r).toPromise()}function Ud(){const r=indexedDB.open(D_,YI);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(oc,{keyPath:j_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(oc)?e(i):(i.close(),await JI(),e(await Ud()))})})}async function oy(r,e,t){const i=kc(r,!0).put({[j_]:e,value:t});return new ll(i).toPromise()}async function ZI(r,e){const t=kc(r,!1).get(e),i=await new ll(t).toPromise();return i===void 0?null:i.value}function ay(r,e){const t=kc(r,!0).delete(e);return new ll(t).toPromise()}const ek=800,tk=3;class O_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ud(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>tk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ic._getInstance(XI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KI(),!this.activeServiceWorker)return;this.sender=new WI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ud();return await oy(e,ic,"1"),await ay(e,ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>oy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ZI(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ay(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=kc(o,!1).getAll();return new ll(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ek)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O_.type="LOCAL";const nk=O_;new ol(3e4,6e4);function M_(r,e){return e?$r(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Vf extends S_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ko(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rk(r){return LI(r.auth,new Vf(r),r.bypassAuthState)}function sk(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),VI(t,new Vf(r),r.bypassAuthState)}async function ik(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),MI(t,new Vf(r),r.bypassAuthState)}class V_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rk;case"linkViaPopup":case"linkViaRedirect":return ik;case"reauthViaPopup":case"reauthViaRedirect":return sk;default:xr(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ok=new ol(2e3,1e4);async function ak(r,e,t){if(Fr(r.app))return Promise.reject(Jn(r,"operation-not-supported-in-this-environment"));const i=Tc(r);rI(r,e,Of);const o=M_(i,t);return new mi(i,"signInViaPopup",e,o).executeNotNull()}class mi extends V_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,mi.currentPopupAction&&mi.currentPopupAction.cancel(),mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=Mf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ok.get())};e()}}mi.currentPopupAction=null;const lk="pendingRedirect",Bu=new Map;class uk extends V_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Bu.get(this.auth._key());if(!e){try{const i=await ck(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ck(r,e){const t=fk(e),i=dk(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function hk(r,e){Bu.set(r._key(),e)}function dk(r){return $r(r._redirectPersistence)}function fk(r){return Fu(lk,r.config.apiKey,r.name)}async function pk(r,e,t=!1){if(Fr(r.app))return Promise.reject(yi(r));const i=Tc(r),o=M_(i,e),h=await new uk(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const mk=600*1e3;class gk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!L_(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Jn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mk&&this.cachedEventUids.clear(),this.cachedEventUids.has(ly(e))}saveEventToCache(e){this.cachedEventUids.add(ly(e)),this.lastProcessedEventTime=Date.now()}}function ly(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function L_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function yk(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L_(r);default:return!1}}async function vk(r,e={}){return Fo(r,"GET","/v1/projects",e)}const _k=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wk=/^https?/;async function xk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await vk(r);for(const t of e)try{if(Ek(t))return}catch{}xr(r,"unauthorized-domain")}function Ek(r){const e=Vd(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!wk.test(t))return!1;if(_k.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const Tk=new ol(3e4,6e4);function uy(){const r=vr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Ik(r){return new Promise((e,t)=>{var i,o,l;function h(){uy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uy(),t(Jn(r,"network-request-failed"))},timeout:Tk.get()})}if(!((o=(i=vr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=vr().gapi)===null||l===void 0)&&l.load)h();else{const f=CI("iframefcb");return vr()[f]=()=>{gapi.load?h():t(Jn(r,"network-request-failed"))},AI(`${RI()}?onload=${f}`).catch(y=>t(y))}}).catch(e=>{throw $u=null,e})}let $u=null;function kk(r){return $u=$u||Ik(r),$u}const Sk=new ol(5e3,15e3),Ak="__/auth/iframe",Rk="emulator/auth/iframe",Ck={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pk(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Nf(e,Rk):`https://${r.config.authDomain}/${Ak}`,i={apiKey:e.apiKey,appName:r.name,v:ki},o=Nk.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ja(i).slice(1)}`}async function bk(r){const e=await kk(r),t=vr().gapi;return ke(t,r,"internal-error"),e.open({where:document.body,url:Pk(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ck,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=Jn(r,"network-request-failed"),f=vr().setTimeout(()=>{l(h)},Sk.get());function y(){vr().clearTimeout(f),o(i)}i.ping(y).then(y,()=>{l(h)})}))}const Dk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jk=500,Ok=600,Mk="_blank",Vk="http://localhost";class cy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lk(r,e,t,i=jk,o=Ok){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const y=Object.assign(Object.assign({},Dk),{width:i.toString(),height:o.toString(),top:l,left:h}),_=Xt().toLowerCase();t&&(f=v_(_)?Mk:t),g_(_)&&(e=e||Vk,y.scrollbars="yes");const E=Object.entries(y).reduce((j,[z,b])=>`${j}${z}=${b},`,"");if(_I(_)&&f!=="_self")return Uk(e||"",f),new cy(null);const A=window.open(e||"",f,E);ke(A,r,"popup-blocked");try{A.focus()}catch{}return new cy(A)}function Uk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const Fk="__/auth/handler",zk="emulator/auth/handler",Bk=encodeURIComponent("fac");async function hy(r,e,t,i,o,l){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:ki,eventId:o};if(e instanceof Of){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",Bw(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))h[E]=A}if(e instanceof al){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const y=await r._getAppCheckToken(),_=y?`#${Bk}=${encodeURIComponent(y)}`:"";return`${$k(r)}?${Ja(f).slice(1)}${_}`}function $k({config:r}){return r.emulator?Nf(r,zk):`https://${r.authDomain}/${Fk}`}const fd="webStorageSupport";class Hk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P_,this._completeRedirectFn=pk,this._overrideRedirectResult=hk}async _openPopup(e,t,i,o){var l;Kr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await hy(e,t,i,Vd(),o);return Lk(e,h,Mf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await hy(e,t,i,Vd(),o);return GI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Kr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await bk(e),i=new gk(e);return t.register("authEvent",o=>(ke(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fd,{type:fd},o=>{var l;const h=(l=o?.[0])===null||l===void 0?void 0:l[fd];h!==void 0&&t(!!h),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return T_()||y_()||Df()}}const qk=Hk;var dy="@firebase/auth",fy="1.7.9";class Wk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kk(r){_i(new Ds("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;ke(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const y={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I_(r)},_=new kI(i,o,l,y);return PI(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),_i(new Ds("auth-internal",e=>{const t=Tc(e.getProvider("auth").getImmediate());return(i=>new Wk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(dy,fy,Gk(r)),pr(dy,fy,"esm2017")}const Qk=300,Xk=Py("authIdTokenMaxAge")||Qk;let py=null;const Yk=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Xk)return;const o=t?.token;py!==o&&(py=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Jk(r=Kd()){const e=hc(r,"auth");if(e.isInitialized())return e.getImmediate();const t=NI(r,{popupRedirectResolver:qk,persistence:[nk,HI,P_]}),i=Py("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=Yk(l.toString());FI(t,h,()=>h(t.currentUser)),UI(t,f=>h(f))}}const o=Ry("auth");return o&&bI(t,`http://${o}`),t}function Zk(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}SI({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=Jn("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",Zk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kk("Browser");const U_="firebasestorage.googleapis.com",F_="storageBucket",eS=120*1e3,tS=600*1e3;class dt extends Er{constructor(e,t,i=0){super(pd(e),`Firebase Storage: ${t} (${pd(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function pd(r){return"storage/"+r}function Lf(){const r="An unknown error occurred, please check the error payload for server response.";return new dt(ht.UNKNOWN,r)}function nS(r){return new dt(ht.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function rS(r){return new dt(ht.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sS(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ht.UNAUTHENTICATED,r)}function iS(){return new dt(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function oS(r){return new dt(ht.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function aS(){return new dt(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lS(){return new dt(ht.CANCELED,"User canceled the upload/download.")}function uS(r){return new dt(ht.INVALID_URL,"Invalid URL '"+r+"'.")}function cS(r){return new dt(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function hS(){return new dt(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+F_+"' property when initializing the app?")}function dS(){return new dt(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fS(){return new dt(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pS(r){return new dt(ht.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fd(r){return new dt(ht.INVALID_ARGUMENT,r)}function z_(){return new dt(ht.APP_DELETED,"The Firebase app was deleted.")}function mS(r){return new dt(ht.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function La(r,e){return new dt(ht.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Ra(r){throw new dt(ht.INTERNAL_ERROR,"Internal error: "+r)}class vn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=vn.makeFromUrl(e,t)}catch{return new vn(e,"")}if(i.path==="")return i;throw cS(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",f=new RegExp("^gs://"+o+h,"i"),y={bucket:1,path:3};function _(se){se.path_=decodeURIComponent(se.path)}const E="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),j="(/([^?#]*).*)?$",z=new RegExp(`^https?://${A}/${E}/b/${o}/o${j}`,"i"),b={bucket:1,path:3},H=t===U_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",W=new RegExp(`^https?://${H}/${o}/${R}`,"i"),ae=[{regex:f,indices:y,postModify:l},{regex:z,indices:b,postModify:_},{regex:W,indices:{bucket:1,path:2},postModify:_}];for(let se=0;se<ae.length;se++){const ge=ae[se],oe=ge.regex.exec(e);if(oe){const N=oe[ge.indices.bucket];let T=oe[ge.indices.path];T||(T=""),i=new vn(N,T),ge.postModify(i);break}}if(i==null)throw uS(e);return i}}class gS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function yS(r,e,t){let i=1,o=null,l=null,h=!1,f=0;function y(){return f===2}let _=!1;function E(...R){_||(_=!0,e.apply(null,R))}function A(R){o=setTimeout(()=>{o=null,r(z,y())},R)}function j(){l&&clearTimeout(l)}function z(R,...W){if(_){j();return}if(R){j(),E.call(null,R,...W);return}if(y()||h){j(),E.call(null,R,...W);return}i<64&&(i*=2);let ae;f===1?(f=2,ae=0):ae=(i+Math.random())*1e3,A(ae)}let b=!1;function H(R){b||(b=!0,j(),!_&&(o!==null?(R||(f=2),clearTimeout(o),A(0)):R||(f=1)))}return A(0),l=setTimeout(()=>{h=!0,H(!0)},t),H}function vS(r){r(!1)}function _S(r){return r!==void 0}function wS(r){return typeof r=="object"&&!Array.isArray(r)}function Uf(r){return typeof r=="string"||r instanceof String}function my(r){return Ff()&&r instanceof Blob}function Ff(){return typeof Blob<"u"}function gy(r,e,t,i){if(i<e)throw Fd(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>t)throw Fd(`Invalid value for '${r}'. Expected ${t} or less.`)}function zf(r,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${r}`}function B_(r){const e=encodeURIComponent;let t="?";for(const i in r)if(r.hasOwnProperty(i)){const o=e(i)+"="+e(r[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var vi;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(vi||(vi={}));function xS(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}class ES{constructor(e,t,i,o,l,h,f,y,_,E,A,j=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=f,this.errorCallback_=y,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=A,this.retry=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,b)=>{this.resolve_=z,this.reject_=b,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Nu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=f=>{const y=f.loaded,_=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,_)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const f=l.getErrorCode()===vi.NO_ERROR,y=l.getStatus();if(!f||xS(y,this.additionalRetryCodes_)&&this.retry){const E=l.getErrorCode()===vi.ABORT;i(!1,new Nu(!1,null,E));return}const _=this.successCodes_.indexOf(y)!==-1;i(!0,new Nu(_,l))})},t=(i,o)=>{const l=this.resolve_,h=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(f,f.getResponse());_S(y)?l(y):l()}catch(y){h(y)}else if(f!==null){const y=Lf();y.serverResponse=f.getErrorText(),this.errorCallback_?h(this.errorCallback_(f,y)):h(y)}else if(o.canceled){const y=this.appDelete_?z_():lS();h(y)}else{const y=aS();h(y)}};this.canceled_?t(!1,new Nu(!1,null,!0)):this.backoffId_=yS(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vS(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nu{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function TS(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function IS(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kS(r,e){e&&(r["X-Firebase-GMPID"]=e)}function SS(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function AS(r,e,t,i,o,l,h=!0){const f=B_(r.urlParams),y=r.url+f,_=Object.assign({},r.headers);return kS(_,e),TS(_,t),IS(_,l),SS(_,i),new ES(y,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h)}function RS(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CS(...r){const e=RS();if(e!==void 0){const t=new e;for(let i=0;i<r.length;i++)t.append(r[i]);return t.getBlob()}else{if(Ff())return new Blob(r);throw new dt(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NS(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}function PS(r){if(typeof atob>"u")throw pS("base-64");return atob(r)}const fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class md{constructor(e,t){this.data=e,this.contentType=t||null}}function bS(r,e){switch(r){case fr.RAW:return new md($_(e));case fr.BASE64:case fr.BASE64URL:return new md(H_(r,e));case fr.DATA_URL:return new md(jS(e),OS(e))}throw Lf()}function $_(r){const e=[];for(let t=0;t<r.length;t++){let i=r.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,h=r.charCodeAt(++t);i=65536|(l&1023)<<10|h&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function DS(r){let e;try{e=decodeURIComponent(r)}catch{throw La(fr.DATA_URL,"Malformed data URL.")}return $_(e)}function H_(r,e){switch(r){case fr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw La(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case fr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw La(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=PS(e)}catch(o){throw o.message.includes("polyfill")?o:La(r,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class q_{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw La(fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=MS(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function jS(r){const e=new q_(r);return e.base64?H_(fr.BASE64,e.rest):DS(e.rest)}function OS(r){return new q_(r).contentType}function MS(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class As{constructor(e,t){let i=0,o="";my(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(my(this.data_)){const i=this.data_,o=NS(i,e,t);return o===null?null:new As(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new As(i,!0)}}static getBlob(...e){if(Ff()){const t=e.map(i=>i instanceof As?i.data_:i);return new As(CS.apply(null,t))}else{const t=e.map(h=>Uf(h)?bS(fr.RAW,h).data:h.data_);let i=0;t.forEach(h=>{i+=h.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(h=>{for(let f=0;f<h.length;f++)o[l++]=h[f]}),new As(o,!0)}}uploadData(){return this.data_}}function W_(r){let e;try{e=JSON.parse(r)}catch{return null}return wS(e)?e:null}function VS(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function LS(r,e){const t=e.split("/").filter(i=>i.length>0).join("/");return r.length===0?t:r+"/"+t}function G_(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function US(r,e){return e}class tn{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||US}}let Pu=null;function FS(r){return!Uf(r)||r.length<2?r:G_(r)}function K_(){if(Pu)return Pu;const r=[];r.push(new tn("bucket")),r.push(new tn("generation")),r.push(new tn("metageneration")),r.push(new tn("name","fullPath",!0));function e(l,h){return FS(h)}const t=new tn("name");t.xform=e,r.push(t);function i(l,h){return h!==void 0?Number(h):h}const o=new tn("size");return o.xform=i,r.push(o),r.push(new tn("timeCreated")),r.push(new tn("updated")),r.push(new tn("md5Hash",null,!0)),r.push(new tn("cacheControl",null,!0)),r.push(new tn("contentDisposition",null,!0)),r.push(new tn("contentEncoding",null,!0)),r.push(new tn("contentLanguage",null,!0)),r.push(new tn("contentType",null,!0)),r.push(new tn("metadata","customMetadata",!0)),Pu=r,Pu}function zS(r,e){function t(){const i=r.bucket,o=r.fullPath,l=new vn(i,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function BS(r,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const h=t[l];i[h.local]=h.xform(i,e[h.server])}return zS(i,r),i}function Q_(r,e,t){const i=W_(e);return i===null?null:BS(r,i,t)}function $S(r,e,t,i){const o=W_(e);if(o===null||!Uf(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const h=encodeURIComponent;return l.split(",").map(_=>{const E=r.bucket,A=r.fullPath,j="/b/"+h(E)+"/o/"+h(A),z=zf(j,t,i),b=B_({alt:"media",token:_});return z+b})[0]}function HS(r,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}class X_{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Y_(r){if(!r)throw Lf()}function qS(r,e){function t(i,o){const l=Q_(r,o,e);return Y_(l!==null),l}return t}function WS(r,e){function t(i,o){const l=Q_(r,o,e);return Y_(l!==null),$S(l,o,r.host,r._protocol)}return t}function J_(r){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=iS():o=sS():t.getStatus()===402?o=rS(r.bucket):t.getStatus()===403?o=oS(r.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function GS(r){const e=J_(r);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=nS(r.path)),l.serverResponse=o.serverResponse,l}return t}function KS(r,e,t){const i=e.fullServerUrl(),o=zf(i,r.host,r._protocol),l="GET",h=r.maxOperationRetryTime,f=new X_(o,l,WS(r,t),h);return f.errorHandler=GS(e),f}function QS(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function XS(r,e,t){const i=Object.assign({},t);return i.fullPath=r.path,i.size=e.size(),i.contentType||(i.contentType=QS(null,e)),i}function YS(r,e,t,i,o){const l=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function f(){let ae="";for(let se=0;se<2;se++)ae=ae+Math.random().toString().slice(2);return ae}const y=f();h["Content-Type"]="multipart/related; boundary="+y;const _=XS(e,i,o),E=HS(_,t),A="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+y+`\r
Content-Type: `+_.contentType+`\r
\r
`,j=`\r
--`+y+"--",z=As.getBlob(A,i,j);if(z===null)throw dS();const b={name:_.fullPath},H=zf(l,r.host,r._protocol),R="POST",W=r.maxUploadRetryTime,K=new X_(H,R,qS(r,t),W);return K.urlParams=b,K.headers=h,K.body=z.uploadData(),K.errorHandler=J_(e),K}class JS{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw Ra("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ra("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ra("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ra("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ra("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ZS extends JS{initXhr(){this.xhr_.responseType="text"}}function Z_(){return new ZS}class Ii{constructor(e,t){this._service=e,t instanceof vn?this._location=t:this._location=vn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ii(e,t)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G_(this._location.path)}get storage(){return this._service}get parent(){const e=VS(this._location.path);if(e===null)return null;const t=new vn(this._location.bucket,e);return new Ii(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw mS(e)}}function e2(r,e,t){r._throwIfRoot("uploadBytes");const i=YS(r.storage,r._location,K_(),new As(e,!0),t);return r.storage.makeRequestWithTokens(i,Z_).then(o=>({metadata:o,ref:r}))}function t2(r){r._throwIfRoot("getDownloadURL");const e=KS(r.storage,r._location,K_());return r.storage.makeRequestWithTokens(e,Z_).then(t=>{if(t===null)throw fS();return t})}function n2(r,e){const t=LS(r._location.path,e),i=new vn(r._location.bucket,t);return new Ii(r.storage,i)}function r2(r){return/^[A-Za-z]+:\/\//.test(r)}function s2(r,e){return new Ii(r,e)}function e0(r,e){if(r instanceof Bf){const t=r;if(t._bucket==null)throw hS();const i=new Ii(t,t._bucket);return e!=null?e0(i,e):i}else return e!==void 0?n2(r,e):r}function i2(r,e){if(e&&r2(e)){if(r instanceof Bf)return s2(r,e);throw Fd("To use ref(service, url), the first argument must be a Storage instance.")}else return e0(r,e)}function yy(r,e){const t=e?.[F_];return t==null?null:vn.makeFromBucketSpec(t,r)}function o2(r,e,t,i={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=i;o&&(r._overrideAuthToken=typeof o=="string"?o:by(o,r.app.options.projectId))}class Bf{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=U_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eS,this._maxUploadRetryTime=tS,this._requests=new Set,o!=null?this._bucket=vn.makeFromBucketSpec(o,this._host):this._bucket=yy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=yy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ii(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new gS(z_());{const h=AS(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const vy="@firebase/storage",_y="0.13.2";const t0="storage";function a2(r,e,t){return r=jt(r),e2(r,e,t)}function l2(r){return r=jt(r),t2(r)}function u2(r,e){return r=jt(r),i2(r,e)}function c2(r=Kd(),e){r=jt(r);const i=hc(r,t0).getImmediate({identifier:e}),o=Cy("storage");return o&&h2(i,...o),i}function h2(r,e,t,i={}){o2(r,e,t,i)}function d2(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Bf(t,i,o,e,ki)}function f2(){_i(new Ds(t0,d2,"PUBLIC").setMultipleInstances(!0)),pr(vy,_y,""),pr(vy,_y,"esm2017")}f2();const p2={apiKey:"AIzaSyBW5v_7kGitttrnCBQwYVPG9TiSPXdNaNc",authDomain:"guam-5eaff.firebaseapp.com",projectId:"guam-5eaff",storageBucket:"guam-5eaff.firebasestorage.app",messagingSenderId:"94280815489",appId:"1:94280815489:web:669d6fc05c097397bb8e80",measurementId:"G-0NNCC31G7E"};let bu,ct,dr,zd;try{bu=Oy(p2),ct=VT(bu),dr=Jk(bu),zd=c2(bu)}catch(r){console.error("Firebase init error",r)}var m2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const g2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ae=(r,e)=>{const t=ve.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:h,className:f="",children:y,..._},E)=>ve.createElement("svg",{ref:E,...m2,width:o,height:o,stroke:i,strokeWidth:h?Number(l)*24/Number(o):l,className:["lucide",`lucide-${g2(r)}`,f].join(" "),..._},[...e.map(([A,j])=>ve.createElement(A,j)),...Array.isArray(y)?y:[y]]));return t.displayName=`${r}`,t};const y2=Ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const v2=Ae("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);const wy=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const n0=Ae("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);const r0=Ae("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const xy=Ae("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);const _2=Ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const ac=Ae("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);const s0=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const w2=Ae("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const x2=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const E2=Ae("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);const T2=Ae("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const I2=Ae("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const k2=Ae("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const S2=Ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const A2=Ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const R2=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const C2=Ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);const Ey=Ae("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);const N2=Ae("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]);const P2=Ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const b2=Ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const D2=Ae("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const lc=Ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const j2=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const O2=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Bd=Ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const M2=Ae("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const i0=Ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const Ka=Ae("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);const o0=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ty=Ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);const V2=Ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const L2=Ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const U2=Ae("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Qa=Ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const Xa=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const F2=Ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const $d=Ae("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const ul=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const z2=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const B2=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ua=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const $2=Ae("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);const uc=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),H2=({currentTab:r,onTabChange:e,title:t,subtitle:i,coverImage:o,onOpenMembers:l})=>{const h=f=>`w-[42px] h-[42px] rounded-full flex items-center justify-center transition-all duration-300 ${r===f?"bg-guam-teal text-white scale-110 shadow-lg shadow-guam-teal/40":"text-slate-400"}`;return g.jsxs("div",{className:"relative h-[260px] bg-white rounded-b-[40px] shadow-lg overflow-hidden z-10",children:[g.jsxs("div",{className:"w-full h-full relative",children:[g.jsx("img",{src:o,alt:t,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-guam-teal/20 to-transparent"}),g.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 flex justify-between items-start",children:[g.jsxs("div",{className:"text-white drop-shadow-md mt-6",children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t}),g.jsx("p",{className:"text-sm font-medium opacity-90 tracking-widest uppercase",children:i})]}),g.jsx("button",{onClick:l,className:"bg-white/20 backdrop-blur-md text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors mt-6 border border-white/30",children:g.jsx(Ua,{size:20})})]})]}),g.jsxs("div",{className:"absolute bottom-5 right-5 z-30 flex gap-2.5 bg-white/90 backdrop-blur-md p-2 rounded-full shadow-sm",children:[g.jsx("button",{onClick:()=>e("itinerary"),className:h("itinerary"),children:g.jsx(ac,{size:20})}),g.jsx("button",{onClick:()=>e("info"),className:h("info"),children:g.jsx(b2,{size:20})}),g.jsx("button",{onClick:()=>e("shopping"),className:h("shopping"),children:g.jsx(Qa,{size:20})}),g.jsx("button",{onClick:()=>e("planning"),className:h("planning"),children:g.jsx(w2,{size:20})}),g.jsx("button",{onClick:()=>e("expenses"),className:h("expenses"),children:g.jsx(R2,{size:20})})]})]})},Hd=32.5,So={title:"Guam Vacation",subtitle:"Feb 07 - Feb 11, 2026",coverImage:"https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?q=80&w=2069&auto=format&fit=crop"},q2=[{date:"2/07",weekday:"SAT",hasCar:!1},{date:"2/08",weekday:"SUN",hasCar:!0},{date:"2/09",weekday:"MON",hasCar:!0},{date:"2/10",weekday:"TUE",hasCar:!0},{date:"2/11",weekday:"WED",hasCar:!1}],W2=[{condition:"sunny",temp:"29"},{condition:"cloudy",temp:"28"},{condition:"rain",temp:"27"},{condition:"sunny",temp:"30"},{condition:"sunny",temp:"29"}],fi=[],hr={itinerary:[[{id:101,name:"",category:"transport",startTime:"16:50",address:"Antonio B. Won Pat International Airport",note:"",transportType:"flight",travelTime:""},{id:102,name:"Bayview Hotel Check-in",category:"accommodation",startTime:"17:30",address:"Bayview Hotel Guam",note:"",transportType:"transport",travelTime:"15m"},{id:103,name:" ()",category:"sightseeing",startTime:"18:00",address:"Plaza de Espaa",note:"",hours:"Open 24H",price:"Free",transportType:"transport",travelTime:"10m"},{id:104,name:"",category:"sightseeing",startTime:"18:40",address:"Paseo de Susana Park",note:"",transportType:"walk",travelTime:"5m"},{id:105,name:": Agana Shopping Center",category:"food",startTime:"19:30",address:"Agana Shopping Center",note:" BBQ  Chamorro ",hours:"10:00-20:00",price:"~$30",transportType:"transport",travelTime:"5m"}],[{id:201,name:" & ",category:"transport",startTime:"09:00",address:"Nippon Rent-A-Car",note:"",transportType:"car",travelTime:""},{id:202,name:"",category:"sightseeing",startTime:"10:00",address:"Fish Eye Marine Park",note:"",hours:"08:00-17:00",price:"$16",transportType:"car",travelTime:"20m"},{id:203,name:"Umatac ",category:"sightseeing",startTime:"11:30",address:"Umatac Bay Park",note:"",price:"Free",transportType:"car",travelTime:"30m"},{id:204,name:"Inarajan ",category:"sightseeing",startTime:"13:00",address:"Inarajan Natural Pool",note:"",price:"Free",transportType:"car",travelTime:"20m"},{id:206,name:" Two Lovers Point",category:"sightseeing",startTime:"15:30",address:"Two Lovers Point",note:"",hours:"07:00-19:00",price:"$3",transportType:"car",travelTime:"45m"},{id:207,name:"Crowne Plaza Check-in",category:"accommodation",startTime:"17:00",address:"Crowne Plaza Resort Guam",note:" + ",transportType:"car",travelTime:"15m"}],[{id:301,name:": Crowne Plaza",category:"accommodation",startTime:"10:30",address:"Crowne Plaza Resort Guam",note:"",transportType:"transport",travelTime:""},{id:302,name:"Hoshino Resorts Check-in",category:"accommodation",startTime:"11:00",address:"Hoshino Resorts RISONARE Guam",note:"Check-in ",transportType:"transport",travelTime:"10m"},{id:303,name:"",category:"ticket",startTime:"11:30",address:"Hoshino Resorts RISONARE Guam",note:"SUP",price:"Free for guests",transportType:"walk",travelTime:"0m"},{id:306,name:": Hoshino / Tumon",category:"food",startTime:"18:30",address:"Hoshino Resorts RISONARE Guam",note:" + ",transportType:"walk",travelTime:"0m"}],[{id:402,name:"Guam Plaza Check-in",category:"accommodation",startTime:"10:30",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:404,name:"Plaza Spa ",category:"ticket",startTime:"12:30",address:"Guam Plaza Resort",note:"",price:"~$80",transportType:"walk",travelTime:"5m"},{id:405,name:"DFS / Micronesia Mall",category:"shopping",startTime:"14:30",address:"T Galleria by DFS",note:"",hours:"10:00-20:00",transportType:"transport",travelTime:"10m"},{id:406,name:": Hard Rock Cafe",category:"food",startTime:"19:00",address:"Hard Rock Cafe Guam",note:"",hours:"11:00-22:00",price:"~$40",transportType:"walk",travelTime:"5m"}],[{id:501,name:" & ",category:"transport",startTime:"05:00",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:503,name:"",category:"transport",startTime:"07:30",address:"Guam Airport",note:"",transportType:"flight",travelTime:"4h30m"},{id:504,name:"",category:"transport",startTime:"10:00",address:"Taoyuan Airport",note:"",transportType:"flight",travelTime:""}]],shopping:[{id:1,name:"Banana Boat  (SPF110)",note:"ABC Store "},{id:2,name:"Godiva ",note:"Macy's "},{id:3,name:"Guam  (6)",note:""}],expenses:[{id:1,name:" (TPE-GUM)",amount:650,category:"transport",date:"01/15",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:650}]},{id:2,name:"Bayview Hotel ",amount:150,category:"accommodation",date:"01/20",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:150}]}],planning:[{id:1,title:" (>6)",category:"documents",completed:!0,assignedTo:"All"},{id:2,title:"",category:"documents",completed:!1,assignedTo:"All"},{id:3,title:"/",category:"documents",completed:!1,assignedTo:"All"},{id:4,title:"/",category:"luggage",completed:!1,assignedTo:"All"},{id:5,title:"/Gopro",category:"luggage",completed:!1,assignedTo:"All"},{id:6,title:"",category:"todo",completed:!0,assignedTo:"All"}],flights:[{id:"outbound",airline:"China Airlines",flightNumber:"CI 026",departureCode:"TPE",departureCity:"Taipei",departureTime:"11:00",arrivalCode:"GUM",arrivalCity:"Guam",arrivalTime:"16:50",date:"2026/02/07",duration:"3h 50m",baggage:"23kg",aircraft:"A321neo",price:"NT$18,500",purchaseDate:"2025/11/14"},{id:"inbound",airline:"China Airlines",flightNumber:"CI 025",departureCode:"GUM",departureCity:"Guam",departureTime:"07:30",arrivalCode:"TPE",arrivalCity:"Taipei",arrivalTime:"10:00",date:"2026/02/11",duration:"4h 30m",baggage:"23kg",aircraft:"A321neo",price:"Same Ticket",purchaseDate:"2025/11/14"}]},G2=({members:r,onLogin:e})=>{const[t,i]=ve.useState(""),[o,l]=ve.useState(!1),h=async()=>{if(!dr){i("Firebase Auth  firebaseConfig.ts");return}l(!0),i("");const f=new Ur;try{const E=((await ak(dr,f)).user.email||"").toLowerCase();console.log("Google Login Success:",E);let j=[...r,...fi].find(z=>z.email?.toLowerCase()===E);if(!j&&ct){console.log("Not found locally, checking Firestore...");try{const z=await o_(Md(ct,"users"));z.empty||(j=z.docs.map(H=>({id:H.id,...H.data()})).find(H=>H.email?.toLowerCase()===E))}catch(z){console.error("Firestore whitelist check failed:",z)}}j?(console.log("Whitelist Match:",j.name),e(j)):(console.warn("Whitelist Fail:",E),await zu(dr),i(` Email (${E}) `))}catch(y){console.error("Login Error:",y),i(": "+y.message)}finally{l(!1)}};return g.jsxs("div",{className:"min-h-screen bg-guam-sand flex flex-col items-center justify-center relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx("img",{src:So.coverImage,alt:"background",className:"w-full h-full object-cover opacity-80"}),g.jsx("div",{className:"absolute inset-0 bg-guam-navy/40 backdrop-blur-sm"})]}),g.jsxs("div",{className:"relative z-10 w-full max-w-md p-8 animate-fade-in flex flex-col items-center",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-8 rounded-[3rem] shadow-2xl w-full text-center",children:[g.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-md tracking-tight",children:So.title}),g.jsx("p",{className:"text-white/80 font-medium tracking-widest uppercase mb-8",children:So.subtitle}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 text-white/80 text-sm leading-relaxed border border-white/5 mb-4",children:[g.jsxs("p",{className:"flex items-center justify-center gap-2 mb-2 font-bold text-white",children:[g.jsx(U2,{size:18,className:"text-guam-teal"}),"Private Access"]})," Google  Email "]}),g.jsx("button",{onClick:h,disabled:o,className:"w-full py-4 bg-white text-slate-700 rounded-2xl font-bold text-lg shadow-lg hover:bg-slate-50 hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3 disabled:opacity-70 disabled:cursor-not-allowed group",children:o?g.jsx(lc,{className:"animate-spin text-guam-navy"}):g.jsxs(g.Fragment,{children:[g.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-5 h-5"}),g.jsx("span",{children:"Google "})]})}),t&&g.jsxs("div",{className:"flex items-start gap-2 text-left bg-red-500/90 backdrop-blur text-white p-4 rounded-2xl border border-red-400/50 shadow-lg mt-4",children:[g.jsx(y2,{size:20,className:"shrink-0 mt-0.5"}),g.jsx("p",{className:"text-sm font-medium leading-relaxed",children:t})]})]})]}),g.jsx("p",{className:"text-white/40 text-xs mt-8 font-medium",children:"Protected by Google Firebase"})]})]})},K2=({dates:r,weather:e,items:t,selectedDateIndex:i,onDateSelect:o,onEdit:l})=>{const[h,f]=ve.useState([]),y=b=>{h.includes(b)?f(h.filter(H=>H!==b)):f([...h,b])},_=b=>{switch(b){case"rain":return g.jsx(E2,{className:"text-guam-ocean"});case"cloudy":return g.jsx(T2,{className:"text-slate-400"});default:return g.jsx(F2,{className:"text-guam-sun"})}},E=b=>{switch(b){case"car":return g.jsx(ac,{size:14});case"flight":return g.jsx(Ka,{size:14});case"walk":return g.jsx(Ey,{size:14});default:return g.jsx(xy,{size:14})}},A=b=>{switch(b){case"food":return g.jsx($2,{size:20});case"shopping":return g.jsx(Qa,{size:20});case"accommodation":return g.jsx(n0,{size:20});case"ticket":return g.jsx($d,{size:20});case"transport":return g.jsx(xy,{size:20});default:return g.jsx(_2,{size:20})}},j=b=>{switch(b){case"sightseeing":return"bg-guam-teal";case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"accommodation":return"bg-indigo-500";case"transport":return"bg-slate-500";case"ticket":return"bg-guam-sun";default:return"bg-guam-teal"}},z=b=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(b+" Guam")}`,"_blank")};return g.jsxs("div",{className:"animate-fade-in pb-24",children:[g.jsx("div",{className:"flex overflow-x-auto hide-scrollbar space-x-3 pb-4 mb-2 px-1 sticky top-0 z-20 bg-guam-sand/95 backdrop-blur-sm pt-4 -mx-4 px-4 border-b border-guam-teal/10",children:r.map((b,H)=>g.jsxs("div",{onClick:()=>o(H),className:`flex-shrink-0 w-[58px] h-[70px] rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all duration-300 border-2 shadow-sm ${i===H?"bg-guam-teal text-white border-guam-teal shadow-lg scale-105":"bg-white text-slate-400 border-white hover:bg-white/60"}`,children:[g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:b.weekday}),g.jsx("span",{className:"text-sm font-bold",children:b.date})]},H))}),g.jsxs("div",{className:"mb-6 bg-gradient-to-r from-guam-teal/10 to-transparent border border-guam-teal/20 rounded-3xl p-4 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center text-guam-teal space-x-3",children:[g.jsx("div",{className:"text-4xl drop-shadow-sm",children:_(e[i].condition)}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-baseline",children:[g.jsx("span",{className:"text-2xl font-bold",children:e[i].temp}),g.jsx("span",{className:"text-xs ml-1",children:"C"})]}),g.jsx("span",{className:"text-xs font-medium block text-slate-500 capitalize",children:e[i].condition})]})]}),g.jsx("div",{className:"text-right text-xs",children:r[i].hasCar?g.jsxs("span",{className:"inline-flex items-center bg-guam-navy/10 text-guam-navy px-3 py-1.5 rounded-full font-bold",children:[g.jsx(ac,{size:12,className:"mr-1.5"})," "]}):g.jsxs("span",{className:"inline-flex items-center bg-slate-100 text-slate-500 px-3 py-1.5 rounded-full",children:[g.jsx(Ey,{size:12,className:"mr-1.5"})," /"]})})]}),g.jsxs("div",{className:"space-y-6",children:[t.map((b,H)=>g.jsxs("div",{className:"relative group",children:[H>0&&g.jsxs("div",{className:"pl-8 pb-3 flex items-center text-xs text-slate-400 relative",children:[g.jsx("div",{className:"h-full w-0.5 bg-guam-teal/20 absolute left-[27px] -top-6 bottom-0"}),g.jsxs("div",{className:"ml-2 flex items-center bg-white/50 px-2 py-0.5 rounded-full backdrop-blur-sm",children:[g.jsx("span",{className:"mr-1.5 text-guam-teal",children:E(b.transportType)}),g.jsx("span",{className:"font-medium",children:b.travelTime||""})]})]}),g.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-[2rem] p-5 shadow-[0_8px_20px_-6px_rgba(13,148,136,0.1)] border border-white/60 relative overflow-hidden flex items-start",children:[g.jsxs("div",{className:"mr-4 flex flex-col items-center min-w-[50px]",children:[g.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shadow-md mb-1.5 ${j(b.category)}`,children:A(b.category)}),b.startTime&&g.jsx("span",{className:"text-xs font-bold text-guam-navy tracking-tight",children:b.startTime})]}),g.jsxs("div",{className:"flex-1 min-w-0 pr-8",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-800 leading-tight mb-1 truncate",children:b.name}),g.jsxs("div",{className:"text-xs text-slate-500 space-y-1 mb-2",children:[b.hours&&g.jsxs("p",{className:"flex items-center",children:[g.jsx(x2,{size:12,className:"mr-1.5 text-guam-teal"})," ",b.hours]}),b.price&&g.jsxs("p",{className:"flex items-center",children:[g.jsx($d,{size:12,className:"mr-1.5 text-guam-teal"})," ",b.price]}),b.address&&g.jsxs("p",{className:"flex items-center truncate",children:[g.jsx(Bd,{size:12,className:"mr-1.5 text-guam-teal"})," ",b.address]})]}),b.note&&g.jsxs("div",{className:"bg-guam-sand/60 p-2.5 rounded-xl border border-guam-teal/10",children:[g.jsx("div",{className:`text-xs text-slate-600 leading-relaxed overflow-hidden transition-all ${h.includes(b.id)?"max-h-96":"max-h-10 line-clamp-2"}`,children:b.note}),b.note.length>40&&g.jsx("button",{onClick:R=>{R.stopPropagation(),y(b.id)},className:"text-[10px] text-guam-teal font-bold mt-1 flex items-center",children:h.includes(b.id)?"":"..."})]})]}),g.jsxs("div",{className:"absolute top-4 right-3 flex flex-col gap-2",children:[g.jsx("button",{onClick:()=>z(b.address||b.name),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-teal hover:text-white transition-all shadow-sm",children:g.jsx(Bd,{size:14})}),g.jsx("button",{onClick:()=>l(b),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-navy hover:text-white transition-all shadow-sm",children:g.jsx(Xa,{size:14})})]})]})]},b.id)),t.length===0&&g.jsx("div",{className:"text-center py-20 opacity-40",children:g.jsx("p",{className:"text-sm font-medium",children:""})})]})]})},Q2=({flights:r,onFlightClick:e})=>{const[t,i]=ve.useState("100"),o=Math.round((parseFloat(t)||0)*Hd),l=h=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(h+" Guam")}`,"_blank")};return g.jsxs("div",{className:"space-y-6 animate-fade-in pb-24",children:[g.jsxs("div",{className:"bg-gradient-to-br from-guam-navy to-guam-teal rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-10 -mt-10 blur-2xl"}),g.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center relative z-10",children:[g.jsx(k2,{className:"mr-2",size:20}),"  (USD)"]}),g.jsxs("div",{className:"flex items-center justify-between gap-4 relative z-10",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"USD ()"}),g.jsx("input",{type:"number",value:t,onChange:h=>i(h.target.value),className:"w-full bg-white/20 border border-white/30 rounded-xl px-3 py-2 text-white placeholder-white/50 focus:outline-none text-xl font-bold"})]}),g.jsx(v2,{className:"text-white/50 mt-4",size:20}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"TWD ()"}),g.jsx("div",{className:"w-full bg-white/10 rounded-xl px-3 py-2 text-white text-xl font-bold border border-transparent",children:o.toLocaleString()})]})]}),g.jsxs("p",{className:"text-[10px] text-cyan-200 mt-3 text-right opacity-70",children:[": ",Hd]})]}),g.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[g.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[g.jsx(Ka,{className:"text-guam-coral mr-2",size:20})," "]}),g.jsx("div",{className:"space-y-4",children:r&&r.length>0?r.map(h=>g.jsxs("div",{onClick:()=>e&&e(h),className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50 hover:bg-slate-100 transition-colors cursor-pointer group relative",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("span",{className:`${h.id==="outbound"?"bg-guam-navy":"bg-guam-teal"} text-white text-[10px] px-2 py-0.5 rounded`,children:[h.id==="outbound"?"":""," (",h.date.split("/")[1],"/",h.date.split("/")[2],")"]}),g.jsx("span",{className:"text-xs font-bold text-slate-400 group-hover:text-guam-navy transition-colors",children:h.flightNumber})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("span",{className:"block text-xl font-bold text-slate-700",children:h.departureTime}),g.jsx("span",{className:"text-xs text-slate-400",children:h.departureCode})]}),g.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[g.jsx("span",{className:"text-[10px] text-slate-400",children:h.duration}),g.jsx("div",{className:"w-full h-px bg-slate-300 relative my-1",children:g.jsx(Ka,{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-slate-300 bg-slate-50 group-hover:text-guam-coral transition-colors",size:12})})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("span",{className:"block text-xl font-bold text-slate-700",children:h.arrivalTime}),g.jsx("span",{className:"text-xs text-slate-400",children:h.arrivalCode})]})]})]},h.id)):g.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"..."})})]}),g.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[g.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[g.jsx(N2,{className:"text-guam-teal mr-2",size:20})," "]}),g.jsx("div",{className:"space-y-4",children:[{date:"2/7 (Sat)",name:"Bayview Hotel Guam",cn:""},{date:"2/8 (Sun)",name:"Crowne Plaza Resort",cn:""},{date:"2/9 (Mon)",name:"Hoshino Resorts RISONARE",cn:""},{date:"2/10 (Tue)",name:"Guam Plaza Resort",cn:"Spa"}].map((h,f)=>g.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-3 last:border-0",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-[10px] bg-slate-100 px-2 py-0.5 rounded text-slate-500 font-bold",children:h.date}),g.jsx("h4",{className:"font-bold text-slate-700 text-sm mt-1",children:h.name}),g.jsx("p",{className:"text-xs text-slate-400",children:h.cn})]}),g.jsx("button",{onClick:()=>l(h.name),className:"w-8 h-8 rounded-full bg-slate-50 text-guam-teal flex items-center justify-center hover:bg-guam-teal hover:text-white transition-colors",children:g.jsx(Bd,{size:14})})]},f))})]})]})},X2=({items:r,onRemove:e,onAddClick:t,onEdit:i})=>g.jsxs("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-6 px-1",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-guam-navy/10 flex items-center justify-center text-guam-navy",children:g.jsx(Qa,{size:20})}),g.jsx("h2",{className:"text-xl font-bold text-slate-800 tracking-tight",children:""})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.map(o=>g.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col relative group overflow-hidden",children:[o.imageUrl?g.jsxs("div",{className:"h-40 w-full relative",children:[g.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),g.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[g.jsx("button",{onClick:()=>i(o),className:"w-7 h-7 bg-white/90 backdrop-blur rounded-full flex items-center justify-center text-slate-600 hover:text-guam-navy shadow-sm transition-colors",children:g.jsx(Xa,{size:12})}),g.jsx("button",{onClick:()=>e(o.id),className:"w-7 h-7 bg-white/90 backdrop-blur rounded-full flex items-center justify-center text-slate-600 hover:text-red-400 shadow-sm transition-colors",children:g.jsx(uc,{size:12})})]})]}):g.jsxs("div",{className:"flex justify-between items-start p-3 pb-0",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-guam-teal/10 flex items-center justify-center text-guam-teal shadow-sm border border-white",children:g.jsx(Qa,{size:16})}),g.jsxs("div",{className:"flex gap-1 bg-slate-50 rounded-full p-0.5 shadow-sm",children:[g.jsx("button",{onClick:()=>i(o),className:"text-slate-400 hover:text-guam-navy transition-colors p-1",children:g.jsx(Xa,{size:14})}),g.jsx("button",{onClick:()=>e(o.id),className:"text-slate-400 hover:text-red-400 transition-colors p-1",children:g.jsx(uc,{size:14})})]})]}),g.jsxs("div",{className:"p-3 pt-2 flex-1 flex flex-col",children:[g.jsx("p",{className:"font-bold text-sm text-slate-800 mb-1 leading-snug line-clamp-2",children:o.name}),g.jsx("p",{className:"text-xs text-slate-500 font-medium break-words leading-relaxed line-clamp-3",children:o.note||""})]})]},o.id)),g.jsxs("div",{onClick:t,className:"bg-white/40 border-2 border-dashed border-slate-300/50 rounded-2xl p-4 flex flex-col items-center justify-center cursor-pointer min-h-[140px] hover:bg-white/80 transition-all hover:border-guam-teal/50 group",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center mb-2 group-hover:bg-guam-teal group-hover:text-white transition-colors",children:g.jsx(o0,{size:20,className:"text-slate-300 group-hover:text-white"})}),g.jsx("span",{className:"text-xs text-slate-400 font-bold group-hover:text-guam-teal transition-colors",children:""})]})]})]}),Y2=({expenses:r,onRemove:e,onEdit:t,members:i=[]})=>{const[o,l]=ve.useState("list"),h=r.reduce((R,W)=>R+W.amount,0),f=Math.round(h*Hd),y=R=>i.find(W=>W.id===R)?.name||"Unknown",_=R=>i.find(W=>W.id===R)?.avatarUrl,E=R=>{switch(R){case"food":return g.jsx(I2,{size:14});case"shopping":return g.jsx(Qa,{size:14});case"transport":return g.jsx(ac,{size:14});case"accommodation":return g.jsx(n0,{size:14});case"other":return g.jsx(M2,{size:14});default:return g.jsx($d,{size:14})}},A=R=>{switch(R){case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"transport":return"bg-slate-500";case"accommodation":return"bg-indigo-500";case"other":return"bg-slate-400";default:return"bg-guam-sun"}},z=(()=>{const R={};return i.forEach(W=>{R[W.id]={paid:0,share:0,net:0}}),r.forEach(W=>{R[W.payerId]||(R[W.payerId]={paid:0,share:0,net:0}),R[W.payerId].paid+=W.amount,W.splits&&W.splits.length>0?W.splits.forEach(K=>{R[K.memberId]||(R[K.memberId]={paid:0,share:0,net:0}),R[K.memberId].share+=K.amount}):R[W.payerId].share+=W.amount}),Object.keys(R).forEach(W=>{R[W].net=R[W].paid-R[W].share}),R})(),H=(()=>{let R=[],W=[];Object.keys(z).forEach(ge=>{const oe=z[ge].net;Math.abs(oe)<.01||(oe<0?R.push({id:ge,amount:-oe}):W.push({id:ge,amount:oe}))}),R.sort((ge,oe)=>oe.amount-ge.amount),W.sort((ge,oe)=>oe.amount-ge.amount);const K=[];let ae=0,se=0;for(;ae<R.length&&se<W.length;){const ge=R[ae],oe=W[se],N=Math.min(ge.amount,oe.amount);N>0&&K.push({fromId:ge.id,toId:oe.id,amount:parseFloat(N.toFixed(2))}),ge.amount-=N,oe.amount-=N,ge.amount<.01&&ae++,oe.amount<.01&&se++}return K})();return g.jsxs("div",{className:"animate-fade-in pb-24",children:[g.jsxs("div",{className:"flex bg-white rounded-2xl p-1 mb-6 shadow-sm border border-slate-100",children:[g.jsxs("button",{onClick:()=>l("list"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="list"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(Ty,{size:16,className:"mr-2"})," "]}),g.jsxs("button",{onClick:()=>l("settlement"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="settlement"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(Ua,{size:16,className:"mr-2"})," "]})]}),o==="list"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"bg-guam-navy rounded-[2.5rem] p-8 mb-6 relative overflow-hidden text-white shadow-xl shadow-guam-navy/20",children:[g.jsx("div",{className:"absolute -right-12 -top-12 bg-guam-teal/30 w-56 h-56 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute -left-10 bottom-0 bg-guam-coral/20 w-40 h-40 rounded-full blur-2xl"}),g.jsx("p",{className:"text-xs text-cyan-100/80 mb-1 relative z-10 font-medium tracking-wider",children:"TOTAL SPENT (USD)"}),g.jsxs("h2",{className:"text-5xl font-bold relative z-10 tracking-tight mb-2",children:["$",h.toLocaleString()]}),g.jsxs("p",{className:"text-sm text-right opacity-70 relative z-10",children:[" NT$ ",f.toLocaleString()]})]}),g.jsxs("div",{className:"bg-white rounded-t-[2.5rem] min-h-[400px] p-6 shadow-[0_-5px_30px_rgba(0,0,0,0.03)] -mx-4 px-8 pt-8 border-t border-slate-50",children:[g.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center text-sm tracking-wide",children:[g.jsx(Ty,{className:"text-guam-teal mr-2",size:16})," RECENT ACTIVITY"]}),g.jsxs("div",{className:"space-y-6",children:[r.map(R=>g.jsxs("div",{className:"flex items-center justify-between group",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white mr-4 shadow-sm ${A(R.category)}`,children:E(R.category)}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-700 text-sm",children:R.name}),g.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-medium flex items-center gap-2",children:[g.jsxs("span",{children:[R.date,"  ",R.payment]}),g.jsxs("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-bold",children:[y(R.payerId)," "]})]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"font-bold text-slate-800",children:["$",R.amount]}),g.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsxs("button",{onClick:()=>t(R),className:"text-[10px] text-guam-navy flex items-center",children:[g.jsx(Xa,{size:10,className:"mr-1"})," "]}),g.jsxs("button",{onClick:()=>e(R.id),className:"text-[10px] text-red-300 flex items-center",children:[g.jsx(ul,{size:10,className:"mr-1"})," "]})]})]})]},R.id)),r.length===0&&g.jsx("p",{className:"text-center text-slate-300 text-sm py-8",children:""})]})]})]}):g.jsxs("div",{className:"space-y-6",children:[H.length>0&&g.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-[0_5px_20px_rgba(13,148,136,0.1)] border border-guam-teal/20",children:[g.jsxs("h3",{className:"font-bold text-guam-teal mb-4 flex items-center text-sm tracking-wide",children:[g.jsx(L2,{size:16,className:"mr-2"}),"  (Transfer Guide)"]}),g.jsx("div",{className:"space-y-3",children:H.map((R,W)=>g.jsxs("div",{className:"flex items-center justify-between bg-guam-sand/50 p-4 rounded-2xl border border-guam-teal/10 relative overflow-hidden",children:[g.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-guam-teal/5 z-0 pointer-events-none",children:g.jsx(wy,{size:60})}),g.jsx("div",{className:"flex items-center z-10",children:g.jsxs("div",{className:"text-center mr-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-slate-100 overflow-hidden shadow-sm mx-auto mb-1",children:_(R.fromId)?g.jsx("img",{src:_(R.fromId),className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:y(R.fromId)[0]})}),g.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:y(R.fromId)})]})}),g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center z-10 px-2",children:[g.jsx("p",{className:"text-[10px] text-slate-400 font-bold mb-1",children:"PAYS"}),g.jsx("div",{className:"bg-white px-3 py-1 rounded-full shadow-sm border border-guam-teal/20",children:g.jsxs("span",{className:"font-bold text-guam-teal text-lg",children:["$",R.amount]})}),g.jsx(wy,{size:14,className:"text-guam-teal/50 mt-1"})]}),g.jsx("div",{className:"flex items-center z-10",children:g.jsxs("div",{className:"text-center ml-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-guam-teal overflow-hidden shadow-sm mx-auto mb-1",children:_(R.toId)?g.jsx("img",{src:_(R.toId),className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:y(R.toId)[0]})}),g.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:y(R.toId)})]})})]},W))})]}),g.jsxs("div",{className:"px-2",children:[g.jsx("h3",{className:"font-bold text-slate-400 mb-3 flex items-center text-xs tracking-wide uppercase px-2",children:" (Net Balance)"}),g.jsx("div",{className:"space-y-4",children:i.map(R=>{const W=z[R.id]||{paid:0,share:0,net:0},K=W.net>=0;return g.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100 relative overflow-hidden opacity-90",children:[g.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${K?"bg-guam-teal":"bg-guam-coral"}`}),g.jsxs("div",{className:"flex justify-between items-start mb-4 pl-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 mr-3 overflow-hidden border border-white shadow-sm",children:R.avatarUrl?g.jsx("img",{src:R.avatarUrl,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs font-bold",children:R.name[0]})}),g.jsx("span",{className:"font-bold text-slate-800 text-lg",children:R.name})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider mb-0.5",children:K?" (Receive)":" (Pay)"}),g.jsxs("p",{className:`text-xl font-bold ${K?"text-guam-teal":"text-guam-coral"}`,children:["$",Math.abs(W.net).toLocaleString()]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-2",children:[g.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[g.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[g.jsx(S2,{size:10,className:"mr-1"})," "]}),g.jsxs("p",{className:"font-bold text-slate-700",children:["$",W.paid.toLocaleString()]})]}),g.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[g.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[g.jsx(Ua,{size:10,className:"mr-1"})," "]}),g.jsxs("p",{className:"font-bold text-slate-700",children:["$",W.share.toLocaleString()]})]})]})]},R.id)})})]}),r.length===0&&g.jsxs("div",{className:"text-center py-10 opacity-50",children:[g.jsx(Ua,{size:40,className:"mx-auto text-slate-300 mb-2"}),g.jsx("p",{className:"text-sm text-slate-400",children:""})]})]})]})},J2=({items:r,onToggle:e,onRemove:t,onEdit:i})=>{const[o,l]=ve.useState("todo"),h=_=>{switch(_){case"Mom":return"bg-red-50 text-red-500 border-red-100";case"Sister1":return"bg-blue-50 text-blue-500 border-blue-100";case"Sister2":return"bg-green-50 text-green-500 border-green-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},f=[{key:"todo",label:"",icon:g.jsx(D2,{size:18})},{key:"luggage",label:"",icon:g.jsx(r0,{size:18})},{key:"documents",label:"",icon:g.jsx(C2,{size:18})}],y=r.filter(_=>_.category===o);return g.jsxs("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:[g.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl shadow-sm mb-6 border border-slate-100 sticky top-0 z-10 mx-1",children:f.map(_=>g.jsxs("button",{onClick:()=>l(_.key),className:`flex-1 flex items-center justify-center py-3 text-sm font-bold rounded-xl transition-all ${o===_.key?"bg-guam-teal text-white shadow-md scale-100":"text-slate-400 hover:bg-slate-50 scale-95"}`,children:[g.jsx("span",{className:"mr-2 opacity-90",children:_.icon}),_.label]},_.key))}),g.jsx("div",{className:"space-y-4",children:y.map(_=>g.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.03)] border border-white flex items-center group transition-all hover:shadow-lg hover:-translate-y-0.5",children:[g.jsxs("label",{className:"flex items-center flex-1 cursor-pointer checkbox-wrapper select-none",children:[g.jsx("input",{type:"checkbox",checked:_.completed,onChange:()=>e(_.id),className:"hidden"}),g.jsx("div",{className:`w-7 h-7 rounded-xl border-2 mr-4 flex items-center justify-center transition-all duration-300 ${_.completed?"bg-guam-teal border-guam-teal rotate-6 scale-110":"border-slate-200 bg-slate-50 group-hover:border-guam-teal/50"}`,children:g.jsx(s0,{size:16,className:"text-white hidden",strokeWidth:4})}),g.jsx("span",{className:`text-base font-bold transition-colors ${_.completed?"text-slate-300 line-through decoration-2 decoration-slate-200":"text-slate-700"}`,children:_.title})]}),g.jsxs("div",{className:"flex items-center pl-3",children:[g.jsx("span",{className:`text-[10px] px-3 py-1.5 rounded-full border font-bold whitespace-nowrap tracking-wide uppercase ${h(_.assignedTo)}`,children:_.assignedTo}),g.jsxs("div",{className:"flex gap-2 ml-3",children:[g.jsx("button",{onClick:()=>i(_),className:"w-9 h-9 rounded-full bg-slate-50 text-slate-400 flex items-center justify-center transition-all hover:bg-guam-navy hover:text-white shadow-sm active:scale-90",children:g.jsx(Xa,{size:16})}),g.jsx("button",{onClick:()=>t(_.id),className:"w-9 h-9 rounded-full bg-red-50 text-red-400 flex items-center justify-center transition-all hover:bg-red-500 hover:text-white shadow-sm active:scale-90",children:g.jsx(ul,{size:16})})]})]})]},_.id))}),y.length===0&&g.jsxs("div",{className:"text-center py-24 flex flex-col items-center justify-center opacity-50",children:[g.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-4 text-slate-300 shadow-sm",children:f.find(_=>_.key===o)?.icon}),g.jsxs("p",{className:"text-base font-bold text-slate-500",children:["",f.find(_=>_.key===o)?.label]}),g.jsx("p",{className:"text-sm text-slate-400 mt-1",children:""})]})]})},Z2=({isOpen:r,onClose:e,onSave:t,onDelete:i,initialData:o})=>{const[l,h]=ve.useState({category:"sightseeing",transportType:"car"});return ve.useEffect(()=>{h(o?{...o}:{category:"sightseeing",transportType:"car",name:"",address:"",price:"",hours:"",note:"",startTime:""})},[o,r]),r?g.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[g.jsx("h3",{className:"font-bold text-lg mb-6 text-center text-slate-800",children:o?"":""}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("select",{value:l.category,onChange:f=>h({...l,category:f.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",children:[g.jsx("option",{value:"sightseeing",children:""}),g.jsx("option",{value:"food",children:""}),g.jsx("option",{value:"shopping",children:""}),g.jsx("option",{value:"transport",children:""}),g.jsx("option",{value:"accommodation",children:""}),g.jsx("option",{value:"ticket",children:"/"}),g.jsx("option",{value:"other",children:""})]}),g.jsx("input",{placeholder:" (09:00)",value:l.startTime||"",onChange:f=>h({...l,startTime:f.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal text-center placeholder-slate-400"})]}),g.jsx("input",{placeholder:"",value:l.name||"",onChange:f=>h({...l,name:f.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal font-bold placeholder-slate-400"}),g.jsx("input",{placeholder:"",value:l.address||"",onChange:f=>h({...l,address:f.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("input",{placeholder:"",value:l.price||"",onChange:f=>h({...l,price:f.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"}),g.jsx("input",{placeholder:"",value:l.hours||"",onChange:f=>h({...l,hours:f.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"})]}),g.jsx("textarea",{placeholder:"",rows:3,value:l.note||"",onChange:f=>h({...l,note:f.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"})]}),g.jsxs("div",{className:"flex space-x-3 mt-8",children:[g.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),o&&g.jsx("button",{onClick:()=>{i(o.id),e()},className:"w-12 bg-red-50 text-red-400 rounded-xl flex items-center justify-center",children:g.jsx(ul,{size:18})}),g.jsx("button",{onClick:()=>{t(l),e()},className:"flex-[2] py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},eA=({isOpen:r,onClose:e,onSave:t,initialData:i})=>{const[o,l]=ve.useState(""),[h,f]=ve.useState(""),[y,_]=ve.useState(void 0),[E,A]=ve.useState(!1),j=ve.useRef(null);ve.useEffect(()=>{r&&(i?(l(i.name),f(i.note||""),_(i.imageUrl)):(l(""),f(""),_(void 0)))},[r,i]);const z=b=>{const H=b.target.files?.[0];if(!H)return;A(!0);const R=new FileReader;R.onload=W=>{const K=new Image;K.onload=()=>{const ae=document.createElement("canvas"),se=800;let ge=K.width,oe=K.height;ge>oe?ge>se&&(oe*=se/ge,ge=se):oe>se&&(ge*=se/oe,oe=se),ae.width=ge,ae.height=oe;const N=ae.getContext("2d");N?(N.drawImage(K,0,0,ge,oe),ae.toBlob(async T=>{if(T&&zd)try{const k=`shopping/${Date.now()}_${H.name}`,P=u2(zd,k);await a2(P,T);const O=await l2(P);_(O)}catch(k){console.error("Upload failed",k),alert(": "+k.message)}finally{A(!1)}else alert("Firebase Storage "),A(!1)},"image/jpeg",.8)):A(!1)},K.src=W.target?.result},R.readAsDataURL(H)};return r?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[g.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:i?"":""}),g.jsxs("div",{className:"mb-4 flex justify-center",children:[g.jsx("input",{type:"file",ref:j,onChange:z,accept:"image/*",className:"hidden"}),y?g.jsxs("div",{className:"relative w-full h-48 rounded-2xl overflow-hidden border border-slate-200 group bg-slate-50",children:[g.jsx("img",{src:y,alt:"Product",className:"w-full h-full object-contain"}),g.jsxs("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity gap-2",children:[g.jsx("button",{onClick:()=>j.current?.click(),className:"p-1.5 bg-white/20 rounded-full text-white hover:bg-white/40",children:g.jsx(i0,{size:16})}),g.jsx("button",{onClick:()=>_(void 0),className:"p-1.5 bg-red-500/50 rounded-full text-white hover:bg-red-500/80",children:g.jsx(ul,{size:16})})]})]}):g.jsxs("button",{onClick:()=>j.current?.click(),className:"w-32 h-32 rounded-2xl border-2 border-dashed border-slate-300 bg-slate-50 flex flex-col items-center justify-center text-slate-400 hover:border-guam-teal hover:text-guam-teal hover:bg-guam-teal/5 transition-all",disabled:E,children:[E?g.jsx(lc,{size:24,className:"animate-spin mb-2"}):g.jsx(P2,{size:32,className:"mb-2"}),g.jsx("span",{className:"text-xs font-bold",children:E?"...":""})]})]}),g.jsx("input",{placeholder:" (ex: Banana Boat SPF110)",value:o,onChange:b=>l(b.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),g.jsx("textarea",{rows:3,placeholder:" (ex: ABC Store , )",value:h,onChange:b=>f(b.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-6 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),g.jsxs("div",{className:"flex space-x-3",children:[g.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),g.jsx("button",{onClick:()=>{t({name:o,note:h,imageUrl:y}),e(),l(""),f(""),_(void 0)},disabled:!o.trim()||E,className:"flex-1 py-3 rounded-xl bg-guam-navy text-white font-bold text-sm shadow-lg shadow-guam-navy/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:E?g.jsx(lc,{size:16,className:"animate-spin"}):i?"":""})]})]})}):null},tA=({isOpen:r,onClose:e,onSave:t,members:i,initialData:o})=>{const[l,h]=ve.useState({category:"food",payment:"Cash",amount:0}),[f,y]=ve.useState([]);ve.useEffect(()=>{if(r)if(o){h(o);const b=o.splits||[];y(i.map(H=>{const R=b.find(W=>W.memberId===H.id);return{id:H.id,amount:R?R.amount:0,checked:!!R}}))}else h({category:"food",payment:"Cash",amount:0,payerId:i[0]?.id}),y(i.map(b=>({id:b.id,amount:0,checked:!0})))},[r,i,o]);const _=(b,H)=>{const W=H.filter(K=>K.checked).length;if(W>0&&b>0){const K=parseFloat((b/W).toFixed(2)),ae=parseFloat((b-K*(W-1)).toFixed(2));let se=0;return H.map(ge=>ge.checked?(se++,{...ge,amount:se===W?ae:K}):{...ge,amount:0})}else return H.map(K=>({...K,amount:0}))},E=b=>{const H=parseFloat(b)||0;h(R=>({...R,amount:H})),y(R=>_(H,R))},A=b=>{const H=f.map(R=>R.id===b?{...R,checked:!R.checked}:R);y(_(l.amount||0,H))},j=(b,H)=>{y(R=>R.map(W=>W.id===b?{...W,amount:H}:W))},z=()=>{const b=f.reduce((W,K)=>W+(K.checked?K.amount:0),0),H=l.amount||0;if(Math.abs(b-H)>.05){alert(` (${b})  (${H})`);return}const R=f.filter(W=>W.checked).map(W=>({memberId:W.id,amount:W.amount}));t({...l,splits:R}),e(),h({category:"food",payment:"Cash",payerId:i[0]?.id,amount:0})};return r?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in overflow-y-auto",children:g.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl my-auto",children:[g.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:o?"":" (USD)"}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[g.jsxs("select",{value:l.category,onChange:b=>h({...l,category:b.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[g.jsx("option",{value:"food",children:""}),g.jsx("option",{value:"shopping",children:""}),g.jsx("option",{value:"transport",children:""}),g.jsx("option",{value:"ticket",children:""}),g.jsx("option",{value:"accommodation",children:""}),g.jsx("option",{value:"other",children:""})]}),g.jsx("select",{value:l.payerId||i[0]?.id,onChange:b=>h({...l,payerId:b.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:i.map(b=>g.jsxs("option",{value:b.id,children:[": ",b.name]},b.id))})]}),g.jsxs("div",{className:"flex bg-slate-50 rounded-xl p-1 mb-3",children:[g.jsx("button",{onClick:()=>h({...l,payment:"Cash"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${l.payment==="Cash"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""}),g.jsx("button",{onClick:()=>h({...l,payment:"Card"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${l.payment==="Card"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""})]}),g.jsx("input",{placeholder:"",value:l.name||"",onChange:b=>h({...l,name:b.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"}),g.jsxs("div",{className:"relative mb-5",children:[g.jsx("span",{className:"absolute left-4 top-4 text-slate-400 font-bold",children:"$"}),g.jsx("input",{type:"number",placeholder:"0.00",value:l.amount||"",onChange:b=>E(b.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 pl-8 text-lg font-bold outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"})]}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("p",{className:"text-xs font-bold text-slate-400 mb-2 flex items-center",children:[g.jsx(Ua,{size:12,className:"mr-1"}),"  ()"]}),g.jsx("div",{className:"space-y-2 bg-slate-50 p-3 rounded-2xl max-h-[150px] overflow-y-auto",children:f.map(b=>{const H=i.find(R=>R.id===b.id);return g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{onClick:()=>A(b.id),className:`w-5 h-5 rounded-md border flex items-center justify-center mr-2 cursor-pointer transition-colors ${b.checked?"bg-guam-teal border-guam-teal":"border-slate-300 bg-white"}`,children:b.checked&&g.jsx(s0,{size:12,className:"text-white"})}),g.jsx("span",{className:`text-sm ${b.checked?"text-slate-700":"text-slate-400"}`,children:H?.name})]}),g.jsxs("div",{className:"relative w-24",children:[g.jsx("span",{className:`absolute left-2 top-1.5 text-xs ${b.checked?"text-slate-500":"text-slate-300"}`,children:"$"}),g.jsx("input",{type:"number",disabled:!b.checked,value:b.amount,onChange:R=>j(b.id,parseFloat(R.target.value)),className:`w-full rounded-lg py-1 pl-4 pr-2 text-right text-sm outline-none border ${b.checked?"bg-white border-slate-200 focus:border-guam-teal text-slate-800":"bg-transparent border-transparent text-slate-300"}`})]})]},b.id)})})]}),g.jsxs("div",{className:"flex space-x-3",children:[g.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),g.jsx("button",{onClick:z,className:"flex-1 py-3 rounded-xl bg-guam-coral text-white font-bold text-sm shadow-lg shadow-guam-coral/30",children:""})]})]})}):null},nA=({isOpen:r,onClose:e,onSave:t,members:i,initialData:o})=>{const[l,h]=ve.useState({category:"todo",assignedTo:"All",completed:!1});return ve.useEffect(()=>{r&&h(o?{...o}:{category:"todo",assignedTo:"All",completed:!1,title:""})},[r,o]),r?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[g.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:o?"":""}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[g.jsxs("select",{value:l.category,onChange:f=>h({...l,category:f.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[g.jsx("option",{value:"todo",children:""}),g.jsx("option",{value:"luggage",children:""}),g.jsx("option",{value:"documents",children:""})]}),g.jsxs("select",{value:l.assignedTo,onChange:f=>h({...l,assignedTo:f.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[g.jsx("option",{value:"All",children:" (All)"}),i.map(f=>g.jsx("option",{value:f.name,children:f.name},f.id))]})]}),g.jsx("input",{placeholder:"",value:l.title||"",onChange:f=>h({...l,title:f.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-6 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),g.jsxs("div",{className:"flex space-x-3",children:[g.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),g.jsx("button",{onClick:()=>{t(l),e(),h({category:"todo",assignedTo:"All",completed:!1})},className:"flex-1 py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:o?"":""})]})]})}):null},rA=({isOpen:r,onClose:e,flight:t,onSave:i})=>{const[o,l]=ve.useState(!1),[h,f]=ve.useState(null);if(ve.useEffect(()=>{r&&t&&(f({...t}),l(!1))},[r,t]),!r||!h)return null;const y=()=>{h&&(i(h),l(!1))};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in overflow-y-auto",children:g.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-sm shadow-2xl relative overflow-hidden my-auto",children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-20 w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 hover:text-slate-600",children:g.jsx(uc,{size:16})}),o?g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:"font-bold text-lg mb-6 text-center text-slate-800",children:""}),g.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:" & "}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{value:h.airline,onChange:_=>f({...h,airline:_.target.value}),className:"flex-1 bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",placeholder:"Airline"}),g.jsx("input",{value:h.flightNumber,onChange:_=>f({...h,flightNumber:_.target.value}),className:"w-24 bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal font-bold",placeholder:"NO."})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:" (//)"}),g.jsx("input",{value:h.departureCode,onChange:_=>f({...h,departureCode:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2 font-bold uppercase"}),g.jsx("input",{value:h.departureCity,onChange:_=>f({...h,departureCity:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2"}),g.jsx("input",{type:"time",value:h.departureTime,onChange:_=>f({...h,departureTime:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:" (//)"}),g.jsx("input",{value:h.arrivalCode,onChange:_=>f({...h,arrivalCode:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2 font-bold uppercase"}),g.jsx("input",{value:h.arrivalCity,onChange:_=>f({...h,arrivalCity:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2"}),g.jsx("input",{type:"time",value:h.arrivalTime,onChange:_=>f({...h,arrivalTime:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:""}),g.jsx("input",{type:"date",value:h.date.replace(/\//g,"-"),onChange:_=>f({...h,date:_.target.value.replace(/-/g,"/")}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:""}),g.jsx("input",{value:h.duration,onChange:_=>f({...h,duration:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",placeholder:"ex: 3h 50m"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("input",{value:h.baggage,onChange:_=>f({...h,baggage:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:" (ex: 23kg)"}),g.jsx("input",{value:h.aircraft,onChange:_=>f({...h,aircraft:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:" (ex: A321)"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("input",{value:h.price,onChange:_=>f({...h,price:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:""}),g.jsx("input",{value:h.purchaseDate,onChange:_=>f({...h,purchaseDate:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:""})]})]}),g.jsxs("div",{className:"flex gap-3 mt-6",children:[g.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),g.jsxs("button",{onClick:y,className:"flex-1 py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30 flex items-center justify-center",children:[g.jsx(V2,{size:16,className:"mr-2"})," "]})]})]}):g.jsxs("div",{className:"p-0",children:[g.jsxs("div",{className:"bg-blue-50/50 p-6 pb-8 text-center relative",children:[g.jsx("h3",{className:"text-slate-400 font-bold text-sm uppercase tracking-widest",children:h.airline}),g.jsx("h2",{className:"text-4xl font-black text-slate-700 mt-2 tracking-wide",children:h.flightNumber.replace(/\s/g," ")}),g.jsx("div",{className:"absolute top-4 right-6 bg-white px-2 py-1 rounded text-[10px] font-bold text-slate-400 shadow-sm border border-slate-100",children:""})]}),g.jsx("div",{className:"px-8 -mt-6 relative z-10",children:g.jsx("div",{className:"bg-white rounded-[2rem] shadow-xl p-6 border border-slate-100",children:g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsxs("div",{className:"text-left",children:[g.jsx("h1",{className:"text-4xl font-black text-slate-700",children:h.departureCode}),g.jsx("p",{className:"text-2xl font-bold text-slate-700 mt-1",children:h.departureTime}),g.jsx("span",{className:`inline-block px-3 py-0.5 rounded-full text-xs font-bold mt-2 text-white ${h.departureCode==="TPE"||h.departureCode==="KHH"?"bg-guam-teal":"bg-guam-sun"}`,children:h.departureCity})]}),g.jsxs("div",{className:"flex flex-col items-center justify-center px-2",children:[g.jsx("span",{className:"text-[10px] text-slate-300 font-bold mb-1",children:h.duration}),g.jsx(Ka,{className:"text-blue-500 rotate-90 mb-1",size:24}),g.jsx("div",{className:"w-16 border-b-2 border-dashed border-slate-200 mb-1"}),g.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:h.date})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("h1",{className:"text-4xl font-black text-slate-700",children:h.arrivalCode}),g.jsx("p",{className:"text-2xl font-bold text-slate-700 mt-1",children:h.arrivalTime}),g.jsx("span",{className:`inline-block px-3 py-0.5 rounded-full text-xs font-bold mt-2 text-white ${h.arrivalCode==="GUM"?"bg-guam-sun":"bg-guam-teal"}`,children:h.arrivalCity})]})]})})}),g.jsxs("div",{className:"px-8 mt-6 pb-8 space-y-4",children:[g.jsxs("div",{className:"flex border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[g.jsxs("div",{className:"flex-1 border-r border-slate-200 pr-4",children:[g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"BAGGAGE"}),g.jsxs("p",{className:"font-bold text-slate-700 flex items-center",children:[g.jsx(r0,{size:16,className:"text-guam-teal mr-2"})," ",h.baggage]})]}),g.jsxs("div",{className:"flex-1 pl-4 text-right",children:[g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"AIRCRAFT"}),g.jsxs("p",{className:"font-bold text-slate-700 flex items-center justify-end",children:[g.jsx(Ka,{size:16,className:"text-guam-sun mr-2"})," ",h.aircraft]})]})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"flex-1 border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"PRICE"}),g.jsx("p",{className:"font-bold text-slate-700 text-lg",children:h.price}),g.jsx("p",{className:"text-[10px] text-slate-400",children:""})]}),g.jsxs("div",{className:"flex-1 border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"PURCHASED"}),g.jsx("p",{className:"font-bold text-slate-700 text-lg",children:h.purchaseDate}),g.jsx("p",{className:"text-[10px] text-slate-400",children:"via "})]})]}),g.jsxs("button",{onClick:()=>l(!0),className:"w-full py-4 border border-slate-200 text-slate-500 rounded-2xl font-bold flex items-center justify-center hover:bg-slate-50 transition-colors mt-4",children:[g.jsx(i0,{size:16,className:"mr-2"})," "]})]})]})]})})},sA=({isOpen:r,onClose:e,members:t,onAddMember:i,onRemoveMember:o,currentUser:l,onLogout:h,onSyncDB:f})=>{const[y,_]=ve.useState(""),[E,A]=ve.useState(""),[j,z]=ve.useState(!1),[b,H]=ve.useState(null);if(!r)return null;const R=K=>{const ae=K.target.files?.[0];if(!ae)return;z(!0);const se=new FileReader;se.onload=ge=>{const oe=new Image;oe.onload=()=>{const N=document.createElement("canvas"),T=200;let k=oe.width,P=oe.height;k>P?k>T&&(P*=T/k,k=T):P>T&&(k*=T/P,P=T),N.width=k,N.height=P;const O=N.getContext("2d");if(O){O.drawImage(oe,0,0,k,P);const V=N.toDataURL("image/jpeg",.7);H(V)}z(!1)},oe.src=ge.target?.result},se.readAsDataURL(ae)},W=()=>{if(!y.trim()||!E.trim())return;const K={id:Date.now().toString(),name:y,email:E.trim(),role:"Member"};b&&(K.avatarUrl=b),i(K),_(""),A(""),H(null)};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[g.jsx("h3",{className:"font-bold text-lg text-slate-800",children:""}),g.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:g.jsx(uc,{size:24})})]}),g.jsxs("div",{className:"space-y-3 mb-6 overflow-y-auto pr-2 flex-1 min-h-0",children:[t.map(K=>g.jsxs("div",{className:`flex items-center justify-between p-2 rounded-xl border ${K.id===l?.id?"bg-guam-teal/5 border-guam-teal/30":"bg-slate-50 border-slate-100"}`,children:[g.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[g.jsx("div",{className:"w-10 h-10 shrink-0 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center border-2 border-white shadow-sm",children:K.avatarUrl?g.jsx("img",{src:K.avatarUrl,alt:K.name,className:"w-full h-full object-cover"}):g.jsx(B2,{size:20,className:"text-slate-400"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"font-bold text-slate-700 block truncate",children:K.name}),K.id===l?.id&&g.jsx("span",{className:"ml-2 text-[10px] bg-guam-teal text-white px-1.5 py-0.5 rounded-full font-bold leading-none",children:"YOU"})]}),g.jsxs("span",{className:"text-[10px] text-slate-400 block truncate flex items-center",children:[g.jsx(O2,{size:10,className:"mr-1 inline"})," ",K.email||"No Email"]})]})]}),K.id!==l?.id&&g.jsx("button",{onClick:()=>o(K.id),className:"w-8 h-8 flex items-center justify-center text-slate-300 hover:text-red-400 transition-colors shrink-0",children:g.jsx(ul,{size:16})})]},K.id)),t.length===0&&g.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:""})]}),g.jsxs("div",{className:"border-t border-slate-100 pt-4 shrink-0",children:[g.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase tracking-wide",children:" ()"}),g.jsxs("div",{className:"flex gap-3 mb-3",children:[g.jsxs("div",{className:"relative shrink-0",children:[g.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:R}),g.jsx("label",{htmlFor:"avatar-upload",className:"w-12 h-12 rounded-full bg-slate-50 border border-dashed border-slate-300 flex items-center justify-center cursor-pointer hover:border-guam-teal hover:bg-guam-teal/5 transition-all overflow-hidden",children:j?g.jsx(lc,{size:20,className:"animate-spin text-guam-teal"}):b?g.jsx("img",{src:b,className:"w-full h-full object-cover"}):g.jsx(z2,{size:18,className:"text-slate-400"})})]}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx("input",{type:"text",placeholder:"...",value:y,onChange:K=>_(K.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl px-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"}),g.jsx("input",{type:"email",placeholder:"Google Email ()",value:E,onChange:K=>A(K.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl px-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"})]})]}),g.jsx("button",{onClick:W,disabled:!y.trim()||!E.trim()||j,className:"w-full py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30 disabled:opacity-50 disabled:cursor-not-allowed mb-2",children:""}),l?.role==="Admin"&&f&&g.jsxs("button",{onClick:f,className:"w-full py-2 rounded-xl bg-slate-100 text-slate-500 font-bold text-xs flex items-center justify-center hover:bg-slate-200 transition-colors mb-2",children:[g.jsx(A2,{size:14,className:"mr-2"})," /"]}),g.jsxs("button",{onClick:()=>{e(),h()},className:"w-full py-3 rounded-xl border border-red-100 bg-red-50 text-red-500 font-bold text-sm flex items-center justify-center hover:bg-red-100 transition-colors",children:[g.jsx(j2,{size:16,className:"mr-2"}),"  (",l?.name,")"]})]}),!1]})})},iA=r=>r.reduce((e,t,i)=>(e[i.toString()]=t,e),{}),oA=r=>Array.isArray(r)?r:Object.keys(r).sort((t,i)=>parseInt(t)-parseInt(i)).map(t=>r[t]),Du=r=>Object.entries(r).reduce((e,[t,i])=>(i!==void 0&&(e[t]=i),e),{}),aA=()=>{const[r,e]=ve.useState(null),[t,i]=ve.useState(!1),[o,l]=ve.useState("itinerary"),[h,f]=ve.useState(0),[y,_]=ve.useState(hr.itinerary),[E,A]=ve.useState(hr.shopping),[j,z]=ve.useState(hr.expenses),[b,H]=ve.useState(hr.planning||[]),[R,W]=ve.useState(fi),[K,ae]=ve.useState(hr.flights||[]),[se,ge]=ve.useState(W2),[oe,N]=ve.useState(!1),[T,k]=ve.useState(!1),[P,O]=ve.useState(!1),[V,S]=ve.useState(!1),[st,xt]=ve.useState(!1),[Rt,He]=ve.useState(!1),[ee,ye]=ve.useState(null),[ie,M]=ve.useState(null),[q,pe]=ve.useState(null),[Ne,Pe]=ve.useState(null),[De,Fe]=ve.useState(null),Te=async(ue,ne)=>{if(ct&&r)try{let re=ne;if(ue==="itinerary"&&Array.isArray(ne)&&(re=iA(ne)),JSON.stringify({data:re}).length>1e6)throw new Error(" (1MB)");await Aa(Xn(ct,"trip_data",ue),{data:re})}catch(re){console.error(`Error saving ${ue}`,re),alert(` (${ue}): ${re.message}`)}else console.warn("Skipping save: No DB or User")};ve.useEffect(()=>{(async()=>{try{const re=await(await fetch("https://api.open-meteo.com/v1/forecast?latitude=13.4443&longitude=144.7937&daily=weather_code,temperature_2m_max&timezone=Pacific%2FGuam&forecast_days=5")).json();if(re.daily&&re.daily.time){const Je=re.daily.time.map((Et,lt)=>{const je=re.daily.weather_code[lt],yt=Math.round(re.daily.temperature_2m_max[lt]).toString();let Ke="sunny";return je>3&&je<50&&(Ke="cloudy"),je>=50&&(Ke="rain"),{condition:Ke,temp:yt}});Je.length===5&&ge(Je)}}catch(ne){console.error("Failed to fetch real-time weather, utilizing static fallback.",ne)}})()},[]),ve.useEffect(()=>{const ue=setTimeout(()=>{t||(console.warn("Auth timeout - forcing UI render"),i(!0))},3e3);if(!dr)return i(!0),()=>clearTimeout(ue);const ne=zI(dr,async re=>{if(re){if(re.isAnonymous||!re.email){await zu(dr),e(null),i(!0);return}const Je=(re.email||"").toLowerCase();console.log("Auth State Changed: Logged in as",Je);const Et=fi.find(je=>je.email?.toLowerCase()===Je);if(Et){console.log("Fast Match Found:",Et.name),e({id:Et.id,name:Et.name,email:re.email,avatarUrl:Et.avatarUrl||re.photoURL||void 0,role:Et.role||"Member"}),i(!0);return}let lt;if(ct)try{const je=await o_(Md(ct,"users"));je.empty||(lt=je.docs.map(Ke=>({id:Ke.id,...Ke.data()})).find(Ke=>Ke.email?.toLowerCase()===Je))}catch(je){console.error("Auth check: DB fetch failed",je)}lt?e({id:lt.id,name:lt.name,email:re.email,avatarUrl:lt.avatarUrl||re.photoURL||void 0,role:lt.role||"Member"}):(console.warn(`User ${Je} not in whitelist (Local or DB). Signing out.`),await zu(dr),e(null))}else e(null);i(!0)});return()=>{ne(),clearTimeout(ue)}},[]),ve.useEffect(()=>{if(!ct||!r)return;const ue=vo(Md(ct,"users"),je=>{if(je.empty)console.log("Users collection empty. Attempting to seed..."),fi.length>0&&fi.forEach(yt=>{const Ke=Du(yt);Aa(Xn(ct,"users",yt.id),Ke).catch(wn=>{console.error("Seeding failed",wn),r.role})});else{const yt=je.docs.map(Ke=>({id:Ke.id,...Ke.data()}));W(yt),fi.forEach(Ke=>{const wn=yt.find(Ir=>Ir.id===Ke.id);if(!wn||Ke.email&&wn.email!==Ke.email||Ke.name!==wn.name||Ke.role!==wn.role){console.log(`Auto-repairing user ${Ke.id} in Firestore...`);const Ir=Du(Ke);Aa(Xn(ct,"users",Ke.id),Ir,{merge:!0}).catch(Fs=>console.warn("Auto-repair failed (likely permission):",Fs))}})}}),ne=vo(Xn(ct,"trip_data","itinerary"),je=>{if(je.exists()){const yt=je.data().data;_(Array.isArray(yt)?yt:oA(yt))}else Te("itinerary",hr.itinerary)}),re=vo(Xn(ct,"trip_data","shopping"),je=>{je.exists()?A(je.data().data):Te("shopping",hr.shopping)}),Je=vo(Xn(ct,"trip_data","expenses"),je=>{je.exists()?z(je.data().data):Te("expenses",hr.expenses)}),Et=vo(Xn(ct,"trip_data","planning"),je=>{je.exists()?H(je.data().data):Te("planning",hr.planning)}),lt=vo(Xn(ct,"trip_data","flights"),je=>{je.exists()?ae(je.data().data):Te("flights",hr.flights)});return()=>{ue(),ne(),re(),Je(),Et(),lt()}},[r?.id]);const Ge=ue=>{e(ue),localStorage.setItem("trip_user_id",ue.id)},gt=async()=>{dr&&await zu(dr),e(null),localStorage.removeItem("trip_user_id")},bn=()=>{o==="itinerary"?(ye(null),N(!0)):o==="shopping"?(pe(null),k(!0)):o==="expenses"?(M(null),O(!0)):o==="planning"&&(Pe(null),S(!0))},Qr=ue=>{const ne=[...y],re=[...ne[h]];if(ee){const Je=re.findIndex(Et=>Et.id===ee.id);Je!==-1&&(re[Je]={...ee,...ue})}else{const Je={...ue,id:Date.now()};re.push(Je),re.sort((Et,lt)=>Et.startTime>lt.startTime?1:-1)}ne[h]=re,_(ne),Te("itinerary",ne),ye(null)},Zn=ue=>{const ne=[...y];ne[h]=ne[h].filter(re=>re.id!==ue),_(ne),Te("itinerary",ne)},Tr=ue=>{let ne;q?(ne=E.map(re=>re.id===q.id?{...re,...ue}:re),pe(null)):ne=[...E,{...ue,id:Date.now()}],A(ne),Te("shopping",ne)},Xr=ue=>{const ne=E.filter(re=>re.id!==ue);A(ne),Te("shopping",ne)},Vs=ue=>{let ne;ie?(ne=j.map(re=>re.id===ie.id?{...re,...ue}:re),M(null)):ne=[{...ue,id:Date.now(),date:new Date().toLocaleDateString("en-US",{month:"numeric",day:"numeric"})},...j],z(ne),Te("expenses",ne)},Ls=ue=>{const ne=j.filter(re=>re.id!==ue);z(ne),Te("expenses",ne)},Ri=ue=>{let ne;Ne?(ne=b.map(re=>re.id===Ne.id?{...re,...ue}:re),Pe(null)):ne=[...b,{...ue,id:Date.now()}],H(ne),Te("planning",ne)},Yr=ue=>{const ne=b.map(re=>re.id===ue?{...re,completed:!re.completed}:re);H(ne),Te("planning",ne)},Dn=ue=>{const ne=b.filter(re=>re.id!==ue);H(ne),Te("planning",ne)},jn=ue=>{const ne=K.map(re=>re.id===ue.id?ue:re);ae(ne),Te("flights",ne)},Us=async ue=>{if(ct)try{const ne=Du(ue);await Aa(Xn(ct,"users",ue.id),ne)}catch(ne){console.error("Error adding member to DB",ne),alert("")}else console.warn("Database not initialized, member only added locally");W([...R,ue])},Jr=async ue=>{if(ct)try{await YT(Xn(ct,"users",ue))}catch(ne){console.error("Error deleting member from DB",ne)}W(R.filter(ne=>ne.id!==ue))},Zr=async()=>{if(!(!ct||!r)&&confirm(` 'users' 
( Google )`))try{for(const ue of fi){const ne=Du(ue);await Aa(Xn(ct,"users",ue.id),ne,{merge:!0})}alert(" Firebase Console  users ")}catch(ue){console.error("Sync Error:",ue),alert(": "+ue.message+`

Google `)}};return t?r?g.jsxs("div",{className:"app-container max-w-[480px] mx-auto min-h-screen bg-guam-sand relative shadow-[0_0_40px_rgba(13,148,136,0.1)]",children:[g.jsx(H2,{currentTab:o,onTabChange:l,title:So.title,subtitle:So.subtitle,coverImage:So.coverImage,onOpenMembers:()=>xt(!0)}),g.jsxs("main",{className:"px-4 pt-6 relative z-0",children:[o==="itinerary"&&g.jsx(K2,{dates:q2,weather:se,items:y[h],selectedDateIndex:h,onDateSelect:f,onEdit:ue=>{ye(ue),N(!0)}}),o==="info"&&g.jsx(Q2,{flights:K,onFlightClick:ue=>{Fe(ue),He(!0)}}),o==="shopping"&&g.jsx(X2,{items:E,onRemove:Xr,onAddClick:()=>k(!0),onEdit:ue=>{pe(ue),k(!0)}}),o==="planning"&&g.jsx(J2,{items:b,onToggle:Yr,onRemove:Dn,onEdit:ue=>{Pe(ue),S(!0)}}),o==="expenses"&&g.jsx(Y2,{expenses:j,onRemove:Ls,onEdit:ue=>{M(ue),O(!0)},members:R})]}),o!=="info"&&g.jsx("button",{onClick:bn,className:"fixed bottom-24 right-6 w-14 h-14 bg-guam-coral text-white rounded-full shadow-[0_4px_20px_rgba(251,113,133,0.6)] text-xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all z-40",children:g.jsx(o0,{size:24})}),g.jsx(Z2,{isOpen:oe,onClose:()=>N(!1),onSave:Qr,initialData:ee,onDelete:Zn}),g.jsx(eA,{isOpen:T,onClose:()=>k(!1),onSave:Tr,initialData:q}),g.jsx(tA,{isOpen:P,onClose:()=>O(!1),onSave:Vs,members:R,initialData:ie}),g.jsx(nA,{isOpen:V,onClose:()=>S(!1),onSave:Ri,members:R,initialData:Ne}),g.jsx(sA,{isOpen:st,onClose:()=>xt(!1),members:R,onAddMember:Us,onRemoveMember:Jr,currentUser:r,onLogout:gt,onSyncDB:Zr}),g.jsx(rA,{isOpen:Rt,onClose:()=>He(!1),flight:De,onSave:jn})]}):g.jsx(G2,{members:R,onLogin:Ge}):g.jsx("div",{className:"min-h-screen bg-guam-sand flex items-center justify-center",children:g.jsxs("div",{className:"animate-pulse text-guam-teal flex flex-col items-center",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-guam-teal border-t-transparent rounded-full animate-spin mb-2"}),"Loading..."]})})},a0=document.getElementById("root");if(!a0)throw new Error("Could not find root element to mount to");const lA=xw.createRoot(a0);lA.render(g.jsx(pw.StrictMode,{children:g.jsx(aA,{})}));
