(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function ky(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xh={exports:{}},Sa={},Yh={exports:{}},De={};var Xm;function pw(){if(Xm)return De;Xm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,O={};function L(M,G,ge){this.props=M,this.context=G,this.refs=O,this.updater=ge||D}L.prototype.isReactComponent={},L.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function q(){}q.prototype=L.prototype;function B(M,G,ge){this.props=M,this.context=G,this.refs=O,this.updater=ge||D}var re=B.prototype=new q;re.constructor=B,F(re,L.prototype),re.isPureReactComponent=!0;var ie=Array.isArray,Te=Object.prototype.hasOwnProperty,ae={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(M,G,ge){var Ae,be={},je=null,Oe=null;if(G!=null)for(Ae in G.ref!==void 0&&(Oe=G.ref),G.key!==void 0&&(je=""+G.key),G)Te.call(G,Ae)&&!C.hasOwnProperty(Ae)&&(be[Ae]=G[Ae]);var Ve=arguments.length-2;if(Ve===1)be.children=ge;else if(1<Ve){for(var Xe=Array(Ve),ft=0;ft<Ve;ft++)Xe[ft]=arguments[ft+2];be.children=Xe}if(M&&M.defaultProps)for(Ae in Ve=M.defaultProps,Ve)be[Ae]===void 0&&(be[Ae]=Ve[Ae]);return{$$typeof:r,type:M,key:je,ref:Oe,props:be,_owner:ae.current}}function k(M,G){return{$$typeof:r,type:M.type,key:G,ref:M.ref,props:M.props,_owner:M._owner}}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function j(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ge){return G[ge]})}var V=/\/+/g;function S(M,G){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):G.toString(36)}function lt(M,G,ge,Ae,be){var je=typeof M;(je==="undefined"||je==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(je){case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case r:case e:Oe=!0}}if(Oe)return Oe=M,be=be(Oe),M=Ae===""?"."+S(Oe,0):Ae,ie(be)?(ge="",M!=null&&(ge=M.replace(V,"$&/")+"/"),lt(be,G,ge,"",function(ft){return ft})):be!=null&&(N(be)&&(be=k(be,ge+(!be.key||Oe&&Oe.key===be.key?"":(""+be.key).replace(V,"$&/")+"/")+M)),G.push(be)),1;if(Oe=0,Ae=Ae===""?".":Ae+":",ie(M))for(var Ve=0;Ve<M.length;Ve++){je=M[Ve];var Xe=Ae+S(je,Ve);Oe+=lt(je,G,ge,Xe,be)}else if(Xe=b(M),typeof Xe=="function")for(M=Xe.call(M),Ve=0;!(je=M.next()).done;)je=je.value,Xe=Ae+S(je,Ve++),Oe+=lt(je,G,ge,Xe,be);else if(je==="object")throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Oe}function xt(M,G,ge){if(M==null)return M;var Ae=[],be=0;return lt(M,Ae,"","",function(je){return G.call(ge,je,be++)}),Ae}function Nt(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(ge){(M._status===0||M._status===-1)&&(M._status=1,M._result=ge)},function(ge){(M._status===0||M._status===-1)&&(M._status=2,M._result=ge)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var He={current:null},ne={transition:null},ye={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:ne,ReactCurrentOwner:ae};function le(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:xt,forEach:function(M,G,ge){xt(M,function(){G.apply(this,arguments)},ge)},count:function(M){var G=0;return xt(M,function(){G++}),G},toArray:function(M){return xt(M,function(G){return G})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},De.Component=L,De.Fragment=t,De.Profiler=o,De.PureComponent=B,De.StrictMode=i,De.Suspense=y,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,De.act=le,De.cloneElement=function(M,G,ge){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ae=F({},M.props),be=M.key,je=M.ref,Oe=M._owner;if(G!=null){if(G.ref!==void 0&&(je=G.ref,Oe=ae.current),G.key!==void 0&&(be=""+G.key),M.type&&M.type.defaultProps)var Ve=M.type.defaultProps;for(Xe in G)Te.call(G,Xe)&&!C.hasOwnProperty(Xe)&&(Ae[Xe]=G[Xe]===void 0&&Ve!==void 0?Ve[Xe]:G[Xe])}var Xe=arguments.length-2;if(Xe===1)Ae.children=ge;else if(1<Xe){Ve=Array(Xe);for(var ft=0;ft<Xe;ft++)Ve[ft]=arguments[ft+2];Ae.children=Ve}return{$$typeof:r,type:M.type,key:be,ref:je,props:Ae,_owner:Oe}},De.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},De.createElement=T,De.createFactory=function(M){var G=T.bind(null,M);return G.type=M,G},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:f,render:M}},De.isValidElement=N,De.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:Nt}},De.memo=function(M,G){return{$$typeof:_,type:M,compare:G===void 0?null:G}},De.startTransition=function(M){var G=ne.transition;ne.transition={};try{M()}finally{ne.transition=G}},De.unstable_act=le,De.useCallback=function(M,G){return He.current.useCallback(M,G)},De.useContext=function(M){return He.current.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M){return He.current.useDeferredValue(M)},De.useEffect=function(M,G){return He.current.useEffect(M,G)},De.useId=function(){return He.current.useId()},De.useImperativeHandle=function(M,G,ge){return He.current.useImperativeHandle(M,G,ge)},De.useInsertionEffect=function(M,G){return He.current.useInsertionEffect(M,G)},De.useLayoutEffect=function(M,G){return He.current.useLayoutEffect(M,G)},De.useMemo=function(M,G){return He.current.useMemo(M,G)},De.useReducer=function(M,G,ge){return He.current.useReducer(M,G,ge)},De.useRef=function(M){return He.current.useRef(M)},De.useState=function(M){return He.current.useState(M)},De.useSyncExternalStore=function(M,G,ge){return He.current.useSyncExternalStore(M,G,ge)},De.useTransition=function(){return He.current.useTransition()},De.version="18.3.1",De}var Ym;function qd(){return Ym||(Ym=1,Yh.exports=pw()),Yh.exports}var Jm;function mw(){if(Jm)return Sa;Jm=1;var r=qd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,y,_){var E,A={},b=null,D=null;_!==void 0&&(b=""+_),y.key!==void 0&&(b=""+y.key),y.ref!==void 0&&(D=y.ref);for(E in y)i.call(y,E)&&!l.hasOwnProperty(E)&&(A[E]=y[E]);if(f&&f.defaultProps)for(E in y=f.defaultProps,y)A[E]===void 0&&(A[E]=y[E]);return{$$typeof:e,type:f,key:b,ref:D,props:A,_owner:o.current}}return Sa.Fragment=t,Sa.jsx=h,Sa.jsxs=h,Sa}var Zm;function gw(){return Zm||(Zm=1,Xh.exports=mw()),Xh.exports}var m=gw(),ce=qd();const yw=ky(ce);var Iu={},Jh={exports:{}},mn={},Zh={exports:{}},ed={};var eg;function vw(){return eg||(eg=1,(function(r){function e(ne,ye){var le=ne.length;ne.push(ye);e:for(;0<le;){var M=le-1>>>1,G=ne[M];if(0<o(G,ye))ne[M]=ye,ne[le]=G,le=M;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var ye=ne[0],le=ne.pop();if(le!==ye){ne[0]=le;e:for(var M=0,G=ne.length,ge=G>>>1;M<ge;){var Ae=2*(M+1)-1,be=ne[Ae],je=Ae+1,Oe=ne[je];if(0>o(be,le))je<G&&0>o(Oe,be)?(ne[M]=Oe,ne[je]=le,M=je):(ne[M]=be,ne[Ae]=le,M=Ae);else if(je<G&&0>o(Oe,le))ne[M]=Oe,ne[je]=le,M=je;else break e}}return ye}function o(ne,ye){var le=ne.sortIndex-ye.sortIndex;return le!==0?le:ne.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var y=[],_=[],E=1,A=null,b=3,D=!1,F=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(ne){for(var ye=t(_);ye!==null;){if(ye.callback===null)i(_);else if(ye.startTime<=ne)i(_),ye.sortIndex=ye.expirationTime,e(y,ye);else break;ye=t(_)}}function ie(ne){if(O=!1,re(ne),!F)if(t(y)!==null)F=!0,Nt(Te);else{var ye=t(_);ye!==null&&He(ie,ye.startTime-ne)}}function Te(ne,ye){F=!1,O&&(O=!1,q(T),T=-1),D=!0;var le=b;try{for(re(ye),A=t(y);A!==null&&(!(A.expirationTime>ye)||ne&&!j());){var M=A.callback;if(typeof M=="function"){A.callback=null,b=A.priorityLevel;var G=M(A.expirationTime<=ye);ye=r.unstable_now(),typeof G=="function"?A.callback=G:A===t(y)&&i(y),re(ye)}else i(y);A=t(y)}if(A!==null)var ge=!0;else{var Ae=t(_);Ae!==null&&He(ie,Ae.startTime-ye),ge=!1}return ge}finally{A=null,b=le,D=!1}}var ae=!1,C=null,T=-1,k=5,N=-1;function j(){return!(r.unstable_now()-N<k)}function V(){if(C!==null){var ne=r.unstable_now();N=ne;var ye=!0;try{ye=C(!0,ne)}finally{ye?S():(ae=!1,C=null)}}else ae=!1}var S;if(typeof B=="function")S=function(){B(V)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,xt=lt.port2;lt.port1.onmessage=V,S=function(){xt.postMessage(null)}}else S=function(){L(V,0)};function Nt(ne){C=ne,ae||(ae=!0,S())}function He(ne,ye){T=L(function(){ne(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){F||D||(F=!0,Nt(Te))},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(y)},r.unstable_next=function(ne){switch(b){case 1:case 2:case 3:var ye=3;break;default:ye=b}var le=b;b=ye;try{return ne()}finally{b=le}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,ye){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=b;b=ne;try{return ye()}finally{b=le}},r.unstable_scheduleCallback=function(ne,ye,le){var M=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?M+le:M):le=M,ne){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=le+G,ne={id:E++,callback:ye,priorityLevel:ne,startTime:le,expirationTime:G,sortIndex:-1},le>M?(ne.sortIndex=le,e(_,ne),t(y)===null&&ne===t(_)&&(O?(q(T),T=-1):O=!0,He(ie,le-M))):(ne.sortIndex=G,e(y,ne),F||D||(F=!0,Nt(Te))),ne},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(ne){var ye=b;return function(){var le=b;b=ye;try{return ne.apply(this,arguments)}finally{b=le}}}})(ed)),ed}var tg;function _w(){return tg||(tg=1,Zh.exports=vw()),Zh.exports}var ng;function ww(){if(ng)return mn;ng=1;var r=qd(),e=_w();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},A={};function b(n){return y.call(A,n)?!0:y.call(E,n)?!1:_.test(n)?A[n]=!0:(E[n]=!0,!1)}function D(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function F(n,s,a,c){if(s===null||typeof s>"u"||D(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(n,s,a,c,d,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){L[n]=new O(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];L[s]=new O(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){L[n]=new O(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){L[n]=new O(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){L[n]=new O(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){L[n]=new O(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){L[n]=new O(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){L[n]=new O(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){L[n]=new O(n,5,!1,n.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function B(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(q,B);L[s]=new O(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(q,B);L[s]=new O(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(q,B);L[s]=new O(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){L[n]=new O(n,1,!1,n.toLowerCase(),null,!1,!1)}),L.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){L[n]=new O(n,1,!1,n.toLowerCase(),null,!0,!0)});function re(n,s,a,c){var d=L.hasOwnProperty(s)?L[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,a,d,c)&&(a=null),c||d===null?b(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var ie=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=Symbol.for("react.element"),ae=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),j=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var le=Object.assign,M;function G(n){if(M===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+n}var ge=!1;function Ae(n,s){if(!n||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var c=H}Reflect.construct(n,[],s)}else{try{s.call()}catch(H){c=H}n.call(s.prototype)}else{try{throw Error()}catch(H){c=H}n()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var d=H.stack.split(`
`),g=c.stack.split(`
`),w=d.length-1,I=g.length-1;1<=w&&0<=I&&d[w]!==g[I];)I--;for(;1<=w&&0<=I;w--,I--)if(d[w]!==g[I]){if(w!==1||I!==1)do if(w--,I--,0>I||d[w]!==g[I]){var R=`
`+d[w].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=w&&0<=I);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function be(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=Ae(n.type,!1),n;case 11:return n=Ae(n.type.render,!1),n;case 1:return n=Ae(n.type,!0),n;default:return""}}function je(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case ae:return"Portal";case k:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case lt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case j:return(n.displayName||"Context")+".Consumer";case N:return(n._context.displayName||"Context")+".Provider";case V:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case xt:return s=n.displayName||null,s!==null?s:je(n.type)||"Memo";case Nt:s=n._payload,n=n._init;try{return je(n(s))}catch{}}return null}function Oe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(s);case 8:return s===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ve(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Xe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ft(n){var s=Xe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function on(n){n._valueTracker||(n._valueTracker=ft(n))}function Zr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=Xe(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function nr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function kn(n,s){var a=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Ir(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Ve(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Bs(n,s){s=s.checked,s!=null&&re(n,"checked",s,!1)}function es(n,s){Bs(n,s);var a=Ve(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?kr(n,s.type,a):s.hasOwnProperty("defaultValue")&&kr(n,s.type,Ve(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Oi(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function kr(n,s,a){(s!=="number"||nr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Ze=Array.isArray;function On(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ve(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function $s(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ts(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Ze(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Ve(a)}}function ns(n,s){var a=Ve(s.value),c=Ve(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Hs(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function yt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?yt(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vn,qs=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Vn=Vn||document.createElement("div"),Vn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Vn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function rr(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ar=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(n){Ar.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Sr[s]=Sr[n]})});function Ws(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Sr.hasOwnProperty(n)&&Sr[n]?(""+s).trim():s+"px"}function Gs(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Ws(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Ks=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qs(n,s){if(s){if(Ks[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Xs(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cr=null;function rs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ss=null,an=null,ee=null;function se(n){if(n=ha(n)){if(typeof ss!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Ul(s),ss(n.stateNode,n.type,s))}}function oe(n){an?ee?ee.push(n):ee=[n]:an=n}function qe(){if(an){var n=an,s=ee;if(ee=an=null,se(n),s)for(n=0;n<s.length;n++)se(s[n])}}function Pe(n,s){return n(s)}function Le(){}var Qe=!1;function ze(n,s,a){if(Qe)return n(s,a);Qe=!0;try{return Pe(n,s,a)}finally{Qe=!1,(an!==null||ee!==null)&&(Le(),qe())}}function Ne(n,s){var a=n.stateNode;if(a===null)return null;var c=Ul(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Ln=!1;if(f)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Ln=!1}function Ys(n,s,a,c,d,g,w,I,R){var H=Array.prototype.slice.call(arguments,3);try{s.apply(a,H)}catch(Q){this.onError(Q)}}var Js=!1,Vi=null,Un=!1,qo=null,Ic={onError:function(n){Js=!0,Vi=n}};function Li(n,s,a,c,d,g,w,I,R){Js=!1,Vi=null,Ys.apply(Ic,arguments)}function cl(n,s,a,c,d,g,w,I,R){if(Li.apply(this,arguments),Js){if(Js){var H=Vi;Js=!1,Vi=null}else throw Error(t(198));Un||(Un=!0,qo=H)}}function Fn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Zs(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function zn(n){if(Fn(n)!==n)throw Error(t(188))}function hl(n){var s=n.alternate;if(!s){if(s=Fn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return zn(d),n;if(g===c)return zn(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var w=!1,I=d.child;I;){if(I===a){w=!0,a=d,c=g;break}if(I===c){w=!0,c=d,a=g;break}I=I.sibling}if(!w){for(I=g.child;I;){if(I===a){w=!0,a=g,c=d;break}if(I===c){w=!0,c=g,a=d;break}I=I.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function Wo(n){return n=hl(n),n!==null?Ui(n):null}function Ui(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Ui(n);if(s!==null)return s;n=n.sibling}return null}var Fi=e.unstable_scheduleCallback,Go=e.unstable_cancelCallback,dl=e.unstable_shouldYield,kc=e.unstable_requestPaint,tt=e.unstable_now,fl=e.unstable_getCurrentPriorityLevel,ei=e.unstable_ImmediatePriority,is=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,Ko=e.unstable_LowPriority,pl=e.unstable_IdlePriority,ti=null,gn=null;function ml(n){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ti,n,void 0,(n.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:yl,Qo=Math.log,gl=Math.LN2;function yl(n){return n>>>=0,n===0?32:31-(Qo(n)/gl|0)|0}var zi=64,Bi=4194304;function os(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ni(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,g=n.pingedLanes,w=a&268435455;if(w!==0){var I=w&~d;I!==0?c=os(I):(g&=w,g!==0&&(c=os(g)))}else w=a&~d,w!==0?c=os(w):g!==0&&(c=os(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-en(s),d=1<<a,c|=n[a],s&=~d;return c}function Sc(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes;0<g;){var w=31-en(g),I=1<<w,R=d[w];R===-1?((I&a)===0||(I&c)!==0)&&(d[w]=Sc(I,s)):R<=s&&(n.expiredLanes|=I),g&=~I}}function yn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ri(){var n=zi;return zi<<=1,(zi&4194240)===0&&(zi=64),n}function as(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function ls(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-en(s),n[s]=a}function et(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-en(a),g=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~g}}function us(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-en(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var Ue=0;function cs(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var vl,$i,_l,wl,xl,Xo=!1,sr=[],Vt=null,Bn=null,$n=null,hs=new Map,An=new Map,ir=[],Ac="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function El(n,s){switch(n){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":hs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(s.pointerId)}}function ln(n,s,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ha(s),s!==null&&$i(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Cc(n,s,a,c,d){switch(s){case"focusin":return Vt=ln(Vt,n,s,a,c,d),!0;case"dragenter":return Bn=ln(Bn,n,s,a,c,d),!0;case"mouseover":return $n=ln($n,n,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return hs.set(g,ln(hs.get(g)||null,n,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,An.set(g,ln(An.get(g)||null,n,s,a,c,d)),!0}return!1}function Tl(n){var s=li(n.target);if(s!==null){var a=Fn(s);if(a!==null){if(s=a.tag,s===13){if(s=Zs(a),s!==null){n.blockedOn=s,xl(n.priority,function(){_l(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Nr(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Hi(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Cr=c,a.target.dispatchEvent(c),Cr=null}else return s=ha(a),s!==null&&$i(s),n.blockedOn=a,!1;s.shift()}return!0}function si(n,s,a){Nr(n)&&a.delete(s)}function Il(){Xo=!1,Vt!==null&&Nr(Vt)&&(Vt=null),Bn!==null&&Nr(Bn)&&(Bn=null),$n!==null&&Nr($n)&&($n=null),hs.forEach(si),An.forEach(si)}function Hn(n,s){n.blockedOn===s&&(n.blockedOn=null,Xo||(Xo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Il)))}function qn(n){function s(d){return Hn(d,n)}if(0<sr.length){Hn(sr[0],n);for(var a=1;a<sr.length;a++){var c=sr[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Vt!==null&&Hn(Vt,n),Bn!==null&&Hn(Bn,n),$n!==null&&Hn($n,n),hs.forEach(s),An.forEach(s),a=0;a<ir.length;a++)c=ir[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)Tl(a),a.blockedOn===null&&ir.shift()}var br=ie.ReactCurrentBatchConfig,ds=!0;function it(n,s,a,c){var d=Ue,g=br.transition;br.transition=null;try{Ue=1,Yo(n,s,a,c)}finally{Ue=d,br.transition=g}}function Rc(n,s,a,c){var d=Ue,g=br.transition;br.transition=null;try{Ue=4,Yo(n,s,a,c)}finally{Ue=d,br.transition=g}}function Yo(n,s,a,c){if(ds){var d=Hi(n,s,a,c);if(d===null)Fc(n,s,c,ii,a),El(n,c);else if(Cc(d,n,s,a,c))c.stopPropagation();else if(El(n,c),s&4&&-1<Ac.indexOf(n)){for(;d!==null;){var g=ha(d);if(g!==null&&vl(g),g=Hi(n,s,a,c),g===null&&Fc(n,s,c,ii,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else Fc(n,s,c,null,a)}}var ii=null;function Hi(n,s,a,c){if(ii=null,n=rs(c),n=li(n),n!==null)if(s=Fn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Zs(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return ii=n,null}function Jo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fl()){case ei:return 1;case is:return 4;case Sn:case Ko:return 16;case pl:return 536870912;default:return 16}default:return 16}}var vn=null,qi=null,un=null;function Zo(){if(un)return un;var n,s=qi,a=s.length,c,d="value"in vn?vn.value:vn.textContent,g=d.length;for(n=0;n<a&&s[n]===d[n];n++);var w=a-n;for(c=1;c<=w&&s[a-c]===d[g-c];c++);return un=d.slice(n,1<c?1-c:void 0)}function Wi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function or(){return!0}function ea(){return!1}function Lt(n){function s(a,c,d,g,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?or:ea,this.isPropagationStopped=ea,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=Lt(Wn),ar=le({},Wn,{view:0,detail:0}),Nc=Lt(ar),Ki,Pr,fs,oi=le({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fs&&(fs&&n.type==="mousemove"?(Ki=n.screenX-fs.screenX,Pr=n.screenY-fs.screenY):Pr=Ki=0,fs=n),Ki)},movementY:function(n){return"movementY"in n?n.movementY:Pr}}),Qi=Lt(oi),ta=le({},oi,{dataTransfer:0}),kl=Lt(ta),Xi=le({},ar,{relatedTarget:0}),Yi=Lt(Xi),Sl=le({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),jr=Lt(Sl),Al=le({},Wn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Cl=Lt(Al),Rl=le({},Wn,{data:0}),na=Lt(Rl),Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Nl[n])?!!s[n]:!1}function lr(){return bl}var u=le({},ar,{key:function(n){if(n.key){var s=Ji[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Wi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?tn[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(n){return n.type==="keypress"?Wi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Wi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Lt(u),v=le({},oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=Lt(v),U=le({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),W=Lt(U),te=le({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=Lt(te),kt=le({},oi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Lt(kt),bt=[9,13,27,32],Et=f&&"CompositionEvent"in window,Cn=null;f&&"documentMode"in document&&(Cn=document.documentMode);var _n=f&&"TextEvent"in window&&!Cn,ai=f&&(!Et||Cn&&8<Cn&&11>=Cn),Zi=" ",Hf=!1;function qf(n,s){switch(n){case"keyup":return bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var eo=!1;function h_(n,s){switch(n){case"compositionend":return Wf(s);case"keypress":return s.which!==32?null:(Hf=!0,Zi);case"textInput":return n=s.data,n===Zi&&Hf?null:n;default:return null}}function d_(n,s){if(eo)return n==="compositionend"||!Et&&qf(n,s)?(n=Zo(),un=qi=vn=null,eo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ai&&s.locale!=="ko"?null:s.data;default:return null}}var f_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!f_[n.type]:s==="textarea"}function Kf(n,s,a,c){oe(c),s=Ol(s,"onChange"),0<s.length&&(a=new Gi("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var ra=null,sa=null;function p_(n){dp(n,0)}function Pl(n){var s=io(n);if(Zr(s))return n}function m_(n,s){if(n==="change")return s}var Qf=!1;if(f){var bc;if(f){var Pc="oninput"in document;if(!Pc){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),Pc=typeof Xf.oninput=="function"}bc=Pc}else bc=!1;Qf=bc&&(!document.documentMode||9<document.documentMode)}function Yf(){ra&&(ra.detachEvent("onpropertychange",Jf),sa=ra=null)}function Jf(n){if(n.propertyName==="value"&&Pl(sa)){var s=[];Kf(s,sa,n,rs(n)),ze(p_,s)}}function g_(n,s,a){n==="focusin"?(Yf(),ra=s,sa=a,ra.attachEvent("onpropertychange",Jf)):n==="focusout"&&Yf()}function y_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Pl(sa)}function v_(n,s){if(n==="click")return Pl(s)}function __(n,s){if(n==="input"||n==="change")return Pl(s)}function w_(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Gn=typeof Object.is=="function"?Object.is:w_;function ia(n,s){if(Gn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!y.call(s,d)||!Gn(n[d],s[d]))return!1}return!0}function Zf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ep(n,s){var a=Zf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zf(a)}}function tp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?tp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function np(){for(var n=window,s=nr();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=nr(n.document)}return s}function jc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function x_(n){var s=np(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&tp(a.ownerDocument.documentElement,a)){if(c!==null&&jc(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!n.extend&&g>c&&(d=c,c=g,g=d),d=ep(a,g);var w=ep(a,c);d&&w&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var E_=f&&"documentMode"in document&&11>=document.documentMode,to=null,Dc=null,oa=null,Mc=!1;function rp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mc||to==null||to!==nr(c)||(c=to,"selectionStart"in c&&jc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),oa&&ia(oa,c)||(oa=c,c=Ol(Dc,"onSelect"),0<c.length&&(s=new Gi("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=to)))}function jl(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var no={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},Oc={},sp={};f&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Dl(n){if(Oc[n])return Oc[n];if(!no[n])return n;var s=no[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in sp)return Oc[n]=s[a];return n}var ip=Dl("animationend"),op=Dl("animationiteration"),ap=Dl("animationstart"),lp=Dl("transitionend"),up=new Map,cp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(n,s){up.set(n,s),l(s,[n])}for(var Vc=0;Vc<cp.length;Vc++){var Lc=cp[Vc],T_=Lc.toLowerCase(),I_=Lc[0].toUpperCase()+Lc.slice(1);ps(T_,"on"+I_)}ps(ip,"onAnimationEnd"),ps(op,"onAnimationIteration"),ps(ap,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(lp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k_=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function hp(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,cl(c,s,void 0,n),n.currentTarget=null}function dp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var I=c[w],R=I.instance,H=I.currentTarget;if(I=I.listener,R!==g&&d.isPropagationStopped())break e;hp(d,I,H),g=R}else for(w=0;w<c.length;w++){if(I=c[w],R=I.instance,H=I.currentTarget,I=I.listener,R!==g&&d.isPropagationStopped())break e;hp(d,I,H),g=R}}}if(Un)throw n=qo,Un=!1,qo=null,n}function rt(n,s){var a=s[Wc];a===void 0&&(a=s[Wc]=new Set);var c=n+"__bubble";a.has(c)||(fp(s,n,2,!1),a.add(c))}function Uc(n,s,a){var c=0;s&&(c|=4),fp(a,n,c,s)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function la(n){if(!n[Ml]){n[Ml]=!0,i.forEach(function(a){a!=="selectionchange"&&(k_.has(a)||Uc(a,!1,n),Uc(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ml]||(s[Ml]=!0,Uc("selectionchange",!1,s))}}function fp(n,s,a,c){switch(Jo(s)){case 1:var d=it;break;case 4:d=Rc;break;default:d=Yo}a=d.bind(null,s,a,n),d=void 0,!Ln||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function Fc(n,s,a,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var R=w.tag;if((R===3||R===4)&&(R=w.stateNode.containerInfo,R===d||R.nodeType===8&&R.parentNode===d))return;w=w.return}for(;I!==null;){if(w=li(I),w===null)return;if(R=w.tag,R===5||R===6){c=g=w;continue e}I=I.parentNode}}c=c.return}ze(function(){var H=g,Q=rs(a),J=[];e:{var K=up.get(n);if(K!==void 0){var ue=Gi,de=n;switch(n){case"keypress":if(Wi(a)===0)break e;case"keydown":case"keyup":ue=p;break;case"focusin":de="focus",ue=Yi;break;case"focusout":de="blur",ue=Yi;break;case"beforeblur":case"afterblur":ue=Yi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=W;break;case ip:case op:case ap:ue=jr;break;case lp:ue=Ye;break;case"scroll":ue=Nc;break;case"wheel":ue=Be;break;case"copy":case"cut":case"paste":ue=Cl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=x}var fe=(s&4)!==0,_t=!fe&&n==="scroll",z=fe?K!==null?K+"Capture":null:K;fe=[];for(var P=H,$;P!==null;){$=P;var Z=$.stateNode;if($.tag===5&&Z!==null&&($=Z,z!==null&&(Z=Ne(P,z),Z!=null&&fe.push(ua(P,Z,$)))),_t)break;P=P.return}0<fe.length&&(K=new ue(K,de,null,a,Q),J.push({event:K,listeners:fe}))}}if((s&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",ue=n==="mouseout"||n==="pointerout",K&&a!==Cr&&(de=a.relatedTarget||a.fromElement)&&(li(de)||de[Dr]))break e;if((ue||K)&&(K=Q.window===Q?Q:(K=Q.ownerDocument)?K.defaultView||K.parentWindow:window,ue?(de=a.relatedTarget||a.toElement,ue=H,de=de?li(de):null,de!==null&&(_t=Fn(de),de!==_t||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=H),ue!==de)){if(fe=Qi,Z="onMouseLeave",z="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(fe=x,Z="onPointerLeave",z="onPointerEnter",P="pointer"),_t=ue==null?K:io(ue),$=de==null?K:io(de),K=new fe(Z,P+"leave",ue,a,Q),K.target=_t,K.relatedTarget=$,Z=null,li(Q)===H&&(fe=new fe(z,P+"enter",de,a,Q),fe.target=$,fe.relatedTarget=_t,Z=fe),_t=Z,ue&&de)t:{for(fe=ue,z=de,P=0,$=fe;$;$=ro($))P++;for($=0,Z=z;Z;Z=ro(Z))$++;for(;0<P-$;)fe=ro(fe),P--;for(;0<$-P;)z=ro(z),$--;for(;P--;){if(fe===z||z!==null&&fe===z.alternate)break t;fe=ro(fe),z=ro(z)}fe=null}else fe=null;ue!==null&&pp(J,K,ue,fe,!1),de!==null&&_t!==null&&pp(J,_t,de,fe,!0)}}e:{if(K=H?io(H):window,ue=K.nodeName&&K.nodeName.toLowerCase(),ue==="select"||ue==="input"&&K.type==="file")var me=m_;else if(Gf(K))if(Qf)me=__;else{me=y_;var _e=g_}else(ue=K.nodeName)&&ue.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(me=v_);if(me&&(me=me(n,H))){Kf(J,me,a,Q);break e}_e&&_e(n,K,H),n==="focusout"&&(_e=K._wrapperState)&&_e.controlled&&K.type==="number"&&kr(K,"number",K.value)}switch(_e=H?io(H):window,n){case"focusin":(Gf(_e)||_e.contentEditable==="true")&&(to=_e,Dc=H,oa=null);break;case"focusout":oa=Dc=to=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,rp(J,a,Q);break;case"selectionchange":if(E_)break;case"keydown":case"keyup":rp(J,a,Q)}var we;if(Et)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else eo?qf(n,a)&&(Ie="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(ai&&a.locale!=="ko"&&(eo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&eo&&(we=Zo()):(vn=Q,qi="value"in vn?vn.value:vn.textContent,eo=!0)),_e=Ol(H,Ie),0<_e.length&&(Ie=new na(Ie,n,null,a,Q),J.push({event:Ie,listeners:_e}),we?Ie.data=we:(we=Wf(a),we!==null&&(Ie.data=we)))),(we=_n?h_(n,a):d_(n,a))&&(H=Ol(H,"onBeforeInput"),0<H.length&&(Q=new na("onBeforeInput","beforeinput",null,a,Q),J.push({event:Q,listeners:H}),Q.data=we))}dp(J,s)})}function ua(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Ol(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=Ne(n,a),g!=null&&c.unshift(ua(n,g,d)),g=Ne(n,s),g!=null&&c.push(ua(n,g,d))),n=n.return}return c}function ro(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function pp(n,s,a,c,d){for(var g=s._reactName,w=[];a!==null&&a!==c;){var I=a,R=I.alternate,H=I.stateNode;if(R!==null&&R===c)break;I.tag===5&&H!==null&&(I=H,d?(R=Ne(a,g),R!=null&&w.unshift(ua(a,R,I))):d||(R=Ne(a,g),R!=null&&w.push(ua(a,R,I)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var S_=/\r\n?/g,A_=/\u0000|\uFFFD/g;function mp(n){return(typeof n=="string"?n:""+n).replace(S_,`
`).replace(A_,"")}function Vl(n,s,a){if(s=mp(s),mp(n)!==s&&a)throw Error(t(425))}function Ll(){}var zc=null,Bc=null;function $c(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hc=typeof setTimeout=="function"?setTimeout:void 0,C_=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,R_=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(n){return gp.resolve(null).then(n).catch(N_)}:Hc;function N_(n){setTimeout(function(){throw n})}function qc(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),qn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);qn(s)}function ms(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function yp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var so=Math.random().toString(36).slice(2),ur="__reactFiber$"+so,ca="__reactProps$"+so,Dr="__reactContainer$"+so,Wc="__reactEvents$"+so,b_="__reactListeners$"+so,P_="__reactHandles$"+so;function li(n){var s=n[ur];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Dr]||a[ur]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=yp(n);n!==null;){if(a=n[ur])return a;n=yp(n)}return s}n=a,a=n.parentNode}return null}function ha(n){return n=n[ur]||n[Dr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function io(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Ul(n){return n[ca]||null}var Gc=[],oo=-1;function gs(n){return{current:n}}function st(n){0>oo||(n.current=Gc[oo],Gc[oo]=null,oo--)}function nt(n,s){oo++,Gc[oo]=n.current,n.current=s}var ys={},qt=gs(ys),cn=gs(!1),ui=ys;function ao(n,s){var a=n.type.contextTypes;if(!a)return ys;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function hn(n){return n=n.childContextTypes,n!=null}function Fl(){st(cn),st(qt)}function vp(n,s,a){if(qt.current!==ys)throw Error(t(168));nt(qt,s),nt(cn,a)}function _p(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Oe(n)||"Unknown",d));return le({},a,c)}function zl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ys,ui=qt.current,nt(qt,n),nt(cn,cn.current),!0}function wp(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=_p(n,s,ui),c.__reactInternalMemoizedMergedChildContext=n,st(cn),st(qt),nt(qt,n)):st(cn),nt(cn,a)}var Mr=null,Bl=!1,Kc=!1;function xp(n){Mr===null?Mr=[n]:Mr.push(n)}function j_(n){Bl=!0,xp(n)}function vs(){if(!Kc&&Mr!==null){Kc=!0;var n=0,s=Ue;try{var a=Mr;for(Ue=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Mr=null,Bl=!1}catch(d){throw Mr!==null&&(Mr=Mr.slice(n+1)),Fi(ei,vs),d}finally{Ue=s,Kc=!1}}return null}var lo=[],uo=0,$l=null,Hl=0,Rn=[],Nn=0,ci=null,Or=1,Vr="";function hi(n,s){lo[uo++]=Hl,lo[uo++]=$l,$l=n,Hl=s}function Ep(n,s,a){Rn[Nn++]=Or,Rn[Nn++]=Vr,Rn[Nn++]=ci,ci=n;var c=Or;n=Vr;var d=32-en(c)-1;c&=~(1<<d),a+=1;var g=32-en(s)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Or=1<<32-en(s)+d|a<<d|c,Vr=g+n}else Or=1<<g|a<<d|c,Vr=n}function Qc(n){n.return!==null&&(hi(n,1),Ep(n,1,0))}function Xc(n){for(;n===$l;)$l=lo[--uo],lo[uo]=null,Hl=lo[--uo],lo[uo]=null;for(;n===ci;)ci=Rn[--Nn],Rn[Nn]=null,Vr=Rn[--Nn],Rn[Nn]=null,Or=Rn[--Nn],Rn[Nn]=null}var wn=null,xn=null,ot=!1,Kn=null;function Tp(n,s){var a=Dn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function Ip(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,wn=n,xn=ms(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,wn=n,xn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ci!==null?{id:Or,overflow:Vr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Dn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,wn=n,xn=null,!0):!1;default:return!1}}function Yc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Jc(n){if(ot){var s=xn;if(s){var a=s;if(!Ip(n,s)){if(Yc(n))throw Error(t(418));s=ms(a.nextSibling);var c=wn;s&&Ip(n,s)?Tp(c,a):(n.flags=n.flags&-4097|2,ot=!1,wn=n)}}else{if(Yc(n))throw Error(t(418));n.flags=n.flags&-4097|2,ot=!1,wn=n}}}function kp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;wn=n}function ql(n){if(n!==wn)return!1;if(!ot)return kp(n),ot=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!$c(n.type,n.memoizedProps)),s&&(s=xn)){if(Yc(n))throw Sp(),Error(t(418));for(;s;)Tp(n,s),s=ms(s.nextSibling)}if(kp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){xn=ms(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}xn=null}}else xn=wn?ms(n.stateNode.nextSibling):null;return!0}function Sp(){for(var n=xn;n;)n=ms(n.nextSibling)}function co(){xn=wn=null,ot=!1}function Zc(n){Kn===null?Kn=[n]:Kn.push(n)}var D_=ie.ReactCurrentBatchConfig;function da(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var I=d.refs;w===null?delete I[g]:I[g]=w},s._stringRef=g,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Wl(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Ap(n){var s=n._init;return s(n._payload)}function Cp(n){function s(z,P){if(n){var $=z.deletions;$===null?(z.deletions=[P],z.flags|=16):$.push(P)}}function a(z,P){if(!n)return null;for(;P!==null;)s(z,P),P=P.sibling;return null}function c(z,P){for(z=new Map;P!==null;)P.key!==null?z.set(P.key,P):z.set(P.index,P),P=P.sibling;return z}function d(z,P){return z=Ss(z,P),z.index=0,z.sibling=null,z}function g(z,P,$){return z.index=$,n?($=z.alternate,$!==null?($=$.index,$<P?(z.flags|=2,P):$):(z.flags|=2,P)):(z.flags|=1048576,P)}function w(z){return n&&z.alternate===null&&(z.flags|=2),z}function I(z,P,$,Z){return P===null||P.tag!==6?(P=Hh($,z.mode,Z),P.return=z,P):(P=d(P,$),P.return=z,P)}function R(z,P,$,Z){var me=$.type;return me===C?Q(z,P,$.props.children,Z,$.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Nt&&Ap(me)===P.type)?(Z=d(P,$.props),Z.ref=da(z,P,$),Z.return=z,Z):(Z=gu($.type,$.key,$.props,null,z.mode,Z),Z.ref=da(z,P,$),Z.return=z,Z)}function H(z,P,$,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==$.containerInfo||P.stateNode.implementation!==$.implementation?(P=qh($,z.mode,Z),P.return=z,P):(P=d(P,$.children||[]),P.return=z,P)}function Q(z,P,$,Z,me){return P===null||P.tag!==7?(P=_i($,z.mode,Z,me),P.return=z,P):(P=d(P,$),P.return=z,P)}function J(z,P,$){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Hh(""+P,z.mode,$),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Te:return $=gu(P.type,P.key,P.props,null,z.mode,$),$.ref=da(z,null,P),$.return=z,$;case ae:return P=qh(P,z.mode,$),P.return=z,P;case Nt:var Z=P._init;return J(z,Z(P._payload),$)}if(Ze(P)||ye(P))return P=_i(P,z.mode,$,null),P.return=z,P;Wl(z,P)}return null}function K(z,P,$,Z){var me=P!==null?P.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return me!==null?null:I(z,P,""+$,Z);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Te:return $.key===me?R(z,P,$,Z):null;case ae:return $.key===me?H(z,P,$,Z):null;case Nt:return me=$._init,K(z,P,me($._payload),Z)}if(Ze($)||ye($))return me!==null?null:Q(z,P,$,Z,null);Wl(z,$)}return null}function ue(z,P,$,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return z=z.get($)||null,I(P,z,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Te:return z=z.get(Z.key===null?$:Z.key)||null,R(P,z,Z,me);case ae:return z=z.get(Z.key===null?$:Z.key)||null,H(P,z,Z,me);case Nt:var _e=Z._init;return ue(z,P,$,_e(Z._payload),me)}if(Ze(Z)||ye(Z))return z=z.get($)||null,Q(P,z,Z,me,null);Wl(P,Z)}return null}function de(z,P,$,Z){for(var me=null,_e=null,we=P,Ie=P=0,Dt=null;we!==null&&Ie<$.length;Ie++){we.index>Ie?(Dt=we,we=null):Dt=we.sibling;var Ge=K(z,we,$[Ie],Z);if(Ge===null){we===null&&(we=Dt);break}n&&we&&Ge.alternate===null&&s(z,we),P=g(Ge,P,Ie),_e===null?me=Ge:_e.sibling=Ge,_e=Ge,we=Dt}if(Ie===$.length)return a(z,we),ot&&hi(z,Ie),me;if(we===null){for(;Ie<$.length;Ie++)we=J(z,$[Ie],Z),we!==null&&(P=g(we,P,Ie),_e===null?me=we:_e.sibling=we,_e=we);return ot&&hi(z,Ie),me}for(we=c(z,we);Ie<$.length;Ie++)Dt=ue(we,z,Ie,$[Ie],Z),Dt!==null&&(n&&Dt.alternate!==null&&we.delete(Dt.key===null?Ie:Dt.key),P=g(Dt,P,Ie),_e===null?me=Dt:_e.sibling=Dt,_e=Dt);return n&&we.forEach(function(As){return s(z,As)}),ot&&hi(z,Ie),me}function fe(z,P,$,Z){var me=ye($);if(typeof me!="function")throw Error(t(150));if($=me.call($),$==null)throw Error(t(151));for(var _e=me=null,we=P,Ie=P=0,Dt=null,Ge=$.next();we!==null&&!Ge.done;Ie++,Ge=$.next()){we.index>Ie?(Dt=we,we=null):Dt=we.sibling;var As=K(z,we,Ge.value,Z);if(As===null){we===null&&(we=Dt);break}n&&we&&As.alternate===null&&s(z,we),P=g(As,P,Ie),_e===null?me=As:_e.sibling=As,_e=As,we=Dt}if(Ge.done)return a(z,we),ot&&hi(z,Ie),me;if(we===null){for(;!Ge.done;Ie++,Ge=$.next())Ge=J(z,Ge.value,Z),Ge!==null&&(P=g(Ge,P,Ie),_e===null?me=Ge:_e.sibling=Ge,_e=Ge);return ot&&hi(z,Ie),me}for(we=c(z,we);!Ge.done;Ie++,Ge=$.next())Ge=ue(we,z,Ie,Ge.value,Z),Ge!==null&&(n&&Ge.alternate!==null&&we.delete(Ge.key===null?Ie:Ge.key),P=g(Ge,P,Ie),_e===null?me=Ge:_e.sibling=Ge,_e=Ge);return n&&we.forEach(function(fw){return s(z,fw)}),ot&&hi(z,Ie),me}function _t(z,P,$,Z){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case Te:e:{for(var me=$.key,_e=P;_e!==null;){if(_e.key===me){if(me=$.type,me===C){if(_e.tag===7){a(z,_e.sibling),P=d(_e,$.props.children),P.return=z,z=P;break e}}else if(_e.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Nt&&Ap(me)===_e.type){a(z,_e.sibling),P=d(_e,$.props),P.ref=da(z,_e,$),P.return=z,z=P;break e}a(z,_e);break}else s(z,_e);_e=_e.sibling}$.type===C?(P=_i($.props.children,z.mode,Z,$.key),P.return=z,z=P):(Z=gu($.type,$.key,$.props,null,z.mode,Z),Z.ref=da(z,P,$),Z.return=z,z=Z)}return w(z);case ae:e:{for(_e=$.key;P!==null;){if(P.key===_e)if(P.tag===4&&P.stateNode.containerInfo===$.containerInfo&&P.stateNode.implementation===$.implementation){a(z,P.sibling),P=d(P,$.children||[]),P.return=z,z=P;break e}else{a(z,P);break}else s(z,P);P=P.sibling}P=qh($,z.mode,Z),P.return=z,z=P}return w(z);case Nt:return _e=$._init,_t(z,P,_e($._payload),Z)}if(Ze($))return de(z,P,$,Z);if(ye($))return fe(z,P,$,Z);Wl(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,P!==null&&P.tag===6?(a(z,P.sibling),P=d(P,$),P.return=z,z=P):(a(z,P),P=Hh($,z.mode,Z),P.return=z,z=P),w(z)):a(z,P)}return _t}var ho=Cp(!0),Rp=Cp(!1),Gl=gs(null),Kl=null,fo=null,eh=null;function th(){eh=fo=Kl=null}function nh(n){var s=Gl.current;st(Gl),n._currentValue=s}function rh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function po(n,s){Kl=n,eh=fo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(dn=!0),n.firstContext=null)}function bn(n){var s=n._currentValue;if(eh!==n)if(n={context:n,memoizedValue:s,next:null},fo===null){if(Kl===null)throw Error(t(308));fo=n,Kl.dependencies={lanes:0,firstContext:n}}else fo=fo.next=n;return s}var di=null;function sh(n){di===null?di=[n]:di.push(n)}function Np(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,sh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Lr(n,c)}function Lr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var _s=!1;function ih(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ur(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ws(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Lr(n,a)}return d=c.interleaved,d===null?(s.next=s,sh(c)):(s.next=d.next,d.next=s),c.interleaved=s,Lr(n,a)}function Ql(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,us(n,a)}}function Pp(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function Xl(n,s,a,c){var d=n.updateQueue;_s=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var R=I,H=R.next;R.next=null,w===null?g=H:w.next=H,w=R;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,I=Q.lastBaseUpdate,I!==w&&(I===null?Q.firstBaseUpdate=H:I.next=H,Q.lastBaseUpdate=R))}if(g!==null){var J=d.baseState;w=0,Q=H=R=null,I=g;do{var K=I.lane,ue=I.eventTime;if((c&K)===K){Q!==null&&(Q=Q.next={eventTime:ue,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var de=n,fe=I;switch(K=s,ue=a,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){J=de.call(ue,J,K);break e}J=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,K=typeof de=="function"?de.call(ue,J,K):de,K==null)break e;J=le({},J,K);break e;case 2:_s=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,K=d.effects,K===null?d.effects=[I]:K.push(I))}else ue={eventTime:ue,lane:K,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Q===null?(H=Q=ue,R=J):Q=Q.next=ue,w|=K;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;K=I,I=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);if(Q===null&&(R=J),d.baseState=R,d.firstBaseUpdate=H,d.lastBaseUpdate=Q,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);mi|=w,n.lanes=w,n.memoizedState=J}}function jp(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var fa={},cr=gs(fa),pa=gs(fa),ma=gs(fa);function fi(n){if(n===fa)throw Error(t(174));return n}function oh(n,s){switch(nt(ma,s),nt(pa,n),nt(cr,fa),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vt(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=vt(s,n)}st(cr),nt(cr,s)}function mo(){st(cr),st(pa),st(ma)}function Dp(n){fi(ma.current);var s=fi(cr.current),a=vt(s,n.type);s!==a&&(nt(pa,n),nt(cr,a))}function ah(n){pa.current===n&&(st(cr),st(pa))}var ut=gs(0);function Yl(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var lh=[];function uh(){for(var n=0;n<lh.length;n++)lh[n]._workInProgressVersionPrimary=null;lh.length=0}var Jl=ie.ReactCurrentDispatcher,ch=ie.ReactCurrentBatchConfig,pi=0,ct=null,St=null,Pt=null,Zl=!1,ga=!1,ya=0,M_=0;function Wt(){throw Error(t(321))}function hh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Gn(n[a],s[a]))return!1;return!0}function dh(n,s,a,c,d,g){if(pi=g,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Jl.current=n===null||n.memoizedState===null?U_:F_,n=a(c,d),ga){g=0;do{if(ga=!1,ya=0,25<=g)throw Error(t(301));g+=1,Pt=St=null,s.updateQueue=null,Jl.current=z_,n=a(c,d)}while(ga)}if(Jl.current=nu,s=St!==null&&St.next!==null,pi=0,Pt=St=ct=null,Zl=!1,s)throw Error(t(300));return n}function fh(){var n=ya!==0;return ya=0,n}function hr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ct.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function Pn(){if(St===null){var n=ct.alternate;n=n!==null?n.memoizedState:null}else n=St.next;var s=Pt===null?ct.memoizedState:Pt.next;if(s!==null)Pt=s,St=n;else{if(n===null)throw Error(t(310));St=n,n={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Pt===null?ct.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function va(n,s){return typeof s=="function"?s(n):s}function ph(n){var s=Pn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=St,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var I=w=null,R=null,H=g;do{var Q=H.lane;if((pi&Q)===Q)R!==null&&(R=R.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:n(c,H.action);else{var J={lane:Q,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};R===null?(I=R=J,w=c):R=R.next=J,ct.lanes|=Q,mi|=Q}H=H.next}while(H!==null&&H!==g);R===null?w=c:R.next=I,Gn(c,s.memoizedState)||(dn=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=R,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do g=d.lane,ct.lanes|=g,mi|=g,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function mh(n){var s=Pn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do g=n(g,w.action),w=w.next;while(w!==d);Gn(g,s.memoizedState)||(dn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function Mp(){}function Op(n,s){var a=ct,c=Pn(),d=s(),g=!Gn(c.memoizedState,d);if(g&&(c.memoizedState=d,dn=!0),c=c.queue,gh(Up.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||Pt!==null&&Pt.memoizedState.tag&1){if(a.flags|=2048,_a(9,Lp.bind(null,a,c,d,s),void 0,null),jt===null)throw Error(t(349));(pi&30)!==0||Vp(a,s,d)}return d}function Vp(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Lp(n,s,a,c){s.value=a,s.getSnapshot=c,Fp(s)&&zp(n)}function Up(n,s,a){return a(function(){Fp(s)&&zp(n)})}function Fp(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Gn(n,a)}catch{return!0}}function zp(n){var s=Lr(n,1);s!==null&&Jn(s,n,1,-1)}function Bp(n){var s=hr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:n},s.queue=n,n=n.dispatch=L_.bind(null,ct,n),[s.memoizedState,n]}function _a(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function $p(){return Pn().memoizedState}function eu(n,s,a,c){var d=hr();ct.flags|=n,d.memoizedState=_a(1|s,a,void 0,c===void 0?null:c)}function tu(n,s,a,c){var d=Pn();c=c===void 0?null:c;var g=void 0;if(St!==null){var w=St.memoizedState;if(g=w.destroy,c!==null&&hh(c,w.deps)){d.memoizedState=_a(s,a,g,c);return}}ct.flags|=n,d.memoizedState=_a(1|s,a,g,c)}function Hp(n,s){return eu(8390656,8,n,s)}function gh(n,s){return tu(2048,8,n,s)}function qp(n,s){return tu(4,2,n,s)}function Wp(n,s){return tu(4,4,n,s)}function Gp(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Kp(n,s,a){return a=a!=null?a.concat([n]):null,tu(4,4,Gp.bind(null,s,n),a)}function yh(){}function Qp(n,s){var a=Pn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&hh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Xp(n,s){var a=Pn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&hh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function Yp(n,s,a){return(pi&21)===0?(n.baseState&&(n.baseState=!1,dn=!0),n.memoizedState=a):(Gn(a,s)||(a=ri(),ct.lanes|=a,mi|=a,n.baseState=!0),s)}function O_(n,s){var a=Ue;Ue=a!==0&&4>a?a:4,n(!0);var c=ch.transition;ch.transition={};try{n(!1),s()}finally{Ue=a,ch.transition=c}}function Jp(){return Pn().memoizedState}function V_(n,s,a){var c=Is(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Zp(n))em(s,a);else if(a=Np(n,s,a,c),a!==null){var d=rn();Jn(a,n,c,d),tm(a,s,c)}}function L_(n,s,a){var c=Is(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zp(n))em(s,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,I=g(w,a);if(d.hasEagerState=!0,d.eagerState=I,Gn(I,w)){var R=s.interleaved;R===null?(d.next=d,sh(s)):(d.next=R.next,R.next=d),s.interleaved=d;return}}catch{}a=Np(n,s,d,c),a!==null&&(d=rn(),Jn(a,n,c,d),tm(a,s,c))}}function Zp(n){var s=n.alternate;return n===ct||s!==null&&s===ct}function em(n,s){ga=Zl=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function tm(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,us(n,a)}}var nu={readContext:bn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},U_={readContext:bn,useCallback:function(n,s){return hr().memoizedState=[n,s===void 0?null:s],n},useContext:bn,useEffect:Hp,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,eu(4194308,4,Gp.bind(null,s,n),a)},useLayoutEffect:function(n,s){return eu(4194308,4,n,s)},useInsertionEffect:function(n,s){return eu(4,2,n,s)},useMemo:function(n,s){var a=hr();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=hr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=V_.bind(null,ct,n),[c.memoizedState,n]},useRef:function(n){var s=hr();return n={current:n},s.memoizedState=n},useState:Bp,useDebugValue:yh,useDeferredValue:function(n){return hr().memoizedState=n},useTransition:function(){var n=Bp(!1),s=n[0];return n=O_.bind(null,n[1]),hr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=ct,d=hr();if(ot){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),jt===null)throw Error(t(349));(pi&30)!==0||Vp(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,Hp(Up.bind(null,c,g,n),[n]),c.flags|=2048,_a(9,Lp.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=hr(),s=jt.identifierPrefix;if(ot){var a=Vr,c=Or;a=(c&~(1<<32-en(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=ya++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=M_++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},F_={readContext:bn,useCallback:Qp,useContext:bn,useEffect:gh,useImperativeHandle:Kp,useInsertionEffect:qp,useLayoutEffect:Wp,useMemo:Xp,useReducer:ph,useRef:$p,useState:function(){return ph(va)},useDebugValue:yh,useDeferredValue:function(n){var s=Pn();return Yp(s,St.memoizedState,n)},useTransition:function(){var n=ph(va)[0],s=Pn().memoizedState;return[n,s]},useMutableSource:Mp,useSyncExternalStore:Op,useId:Jp,unstable_isNewReconciler:!1},z_={readContext:bn,useCallback:Qp,useContext:bn,useEffect:gh,useImperativeHandle:Kp,useInsertionEffect:qp,useLayoutEffect:Wp,useMemo:Xp,useReducer:mh,useRef:$p,useState:function(){return mh(va)},useDebugValue:yh,useDeferredValue:function(n){var s=Pn();return St===null?s.memoizedState=n:Yp(s,St.memoizedState,n)},useTransition:function(){var n=mh(va)[0],s=Pn().memoizedState;return[n,s]},useMutableSource:Mp,useSyncExternalStore:Op,useId:Jp,unstable_isNewReconciler:!1};function Qn(n,s){if(n&&n.defaultProps){s=le({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function vh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:le({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ru={isMounted:function(n){return(n=n._reactInternals)?Fn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=rn(),d=Is(n),g=Ur(c,d);g.payload=s,a!=null&&(g.callback=a),s=ws(n,g,d),s!==null&&(Jn(s,n,d,c),Ql(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=rn(),d=Is(n),g=Ur(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ws(n,g,d),s!==null&&(Jn(s,n,d,c),Ql(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=rn(),c=Is(n),d=Ur(a,c);d.tag=2,s!=null&&(d.callback=s),s=ws(n,d,c),s!==null&&(Jn(s,n,c,a),Ql(s,n,c))}};function nm(n,s,a,c,d,g,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!ia(a,c)||!ia(d,g):!0}function rm(n,s,a){var c=!1,d=ys,g=s.contextType;return typeof g=="object"&&g!==null?g=bn(g):(d=hn(s)?ui:qt.current,c=s.contextTypes,g=(c=c!=null)?ao(n,d):ys),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ru,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=g),s}function sm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&ru.enqueueReplaceState(s,s.state,null)}function _h(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},ih(n);var g=s.contextType;typeof g=="object"&&g!==null?d.context=bn(g):(g=hn(s)?ui:qt.current,d.context=ao(n,g)),d.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(vh(n,s,g,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&ru.enqueueReplaceState(d,d.state,null),Xl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function go(n,s){try{var a="",c=s;do a+=be(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:d,digest:null}}function wh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function xh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var B_=typeof WeakMap=="function"?WeakMap:Map;function im(n,s,a){a=Ur(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){cu||(cu=!0,Oh=c),xh(n,s)},a}function om(n,s,a){a=Ur(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){xh(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){xh(n,s),typeof c!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function am(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new B_;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=nw.bind(null,n,s,a),s.then(n,n))}function lm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function um(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ur(-1,1),s.tag=2,ws(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var $_=ie.ReactCurrentOwner,dn=!1;function nn(n,s,a,c){s.child=n===null?Rp(s,null,a,c):ho(s,n.child,a,c)}function cm(n,s,a,c,d){a=a.render;var g=s.ref;return po(s,d),c=dh(n,s,a,c,g,d),a=fh(),n!==null&&!dn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Fr(n,s,d)):(ot&&a&&Qc(s),s.flags|=1,nn(n,s,c,d),s.child)}function hm(n,s,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!$h(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,dm(n,s,g,c,d)):(n=gu(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&d)===0){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:ia,a(w,c)&&n.ref===s.ref)return Fr(n,s,d)}return s.flags|=1,n=Ss(g,c),n.ref=s.ref,n.return=s,s.child=n}function dm(n,s,a,c,d){if(n!==null){var g=n.memoizedProps;if(ia(g,c)&&n.ref===s.ref)if(dn=!1,s.pendingProps=c=g,(n.lanes&d)!==0)(n.flags&131072)!==0&&(dn=!0);else return s.lanes=n.lanes,Fr(n,s,d)}return Eh(n,s,a,c,d)}function fm(n,s,a){var c=s.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(vo,En),En|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,nt(vo,En),En|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,nt(vo,En),En|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,nt(vo,En),En|=c;return nn(n,s,d,a),s.child}function pm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Eh(n,s,a,c,d){var g=hn(a)?ui:qt.current;return g=ao(s,g),po(s,d),a=dh(n,s,a,c,g,d),c=fh(),n!==null&&!dn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Fr(n,s,d)):(ot&&c&&Qc(s),s.flags|=1,nn(n,s,a,d),s.child)}function mm(n,s,a,c,d){if(hn(a)){var g=!0;zl(s)}else g=!1;if(po(s,d),s.stateNode===null)iu(n,s),rm(s,a,c),_h(s,a,c,d),c=!0;else if(n===null){var w=s.stateNode,I=s.memoizedProps;w.props=I;var R=w.context,H=a.contextType;typeof H=="object"&&H!==null?H=bn(H):(H=hn(a)?ui:qt.current,H=ao(s,H));var Q=a.getDerivedStateFromProps,J=typeof Q=="function"||typeof w.getSnapshotBeforeUpdate=="function";J||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==c||R!==H)&&sm(s,w,c,H),_s=!1;var K=s.memoizedState;w.state=K,Xl(s,c,w,d),R=s.memoizedState,I!==c||K!==R||cn.current||_s?(typeof Q=="function"&&(vh(s,a,Q,c),R=s.memoizedState),(I=_s||nm(s,a,I,c,K,R,H))?(J||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=R),w.props=c,w.state=R,w.context=H,c=I):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,bp(n,s),I=s.memoizedProps,H=s.type===s.elementType?I:Qn(s.type,I),w.props=H,J=s.pendingProps,K=w.context,R=a.contextType,typeof R=="object"&&R!==null?R=bn(R):(R=hn(a)?ui:qt.current,R=ao(s,R));var ue=a.getDerivedStateFromProps;(Q=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==J||K!==R)&&sm(s,w,c,R),_s=!1,K=s.memoizedState,w.state=K,Xl(s,c,w,d);var de=s.memoizedState;I!==J||K!==de||cn.current||_s?(typeof ue=="function"&&(vh(s,a,ue,c),de=s.memoizedState),(H=_s||nm(s,a,H,c,K,de,R)||!1)?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,de,R),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,de,R)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=de),w.props=c,w.state=de,w.context=R,c=H):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),c=!1)}return Th(n,s,a,c,g,d)}function Th(n,s,a,c,d,g){pm(n,s);var w=(s.flags&128)!==0;if(!c&&!w)return d&&wp(s,a,!1),Fr(n,s,g);c=s.stateNode,$_.current=s;var I=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&w?(s.child=ho(s,n.child,null,g),s.child=ho(s,null,I,g)):nn(n,s,I,g),s.memoizedState=c.state,d&&wp(s,a,!0),s.child}function gm(n){var s=n.stateNode;s.pendingContext?vp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&vp(n,s.context,!1),oh(n,s.containerInfo)}function ym(n,s,a,c,d){return co(),Zc(d),s.flags|=256,nn(n,s,a,c),s.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function kh(n){return{baseLanes:n,cachePool:null,transitions:null}}function vm(n,s,a){var c=s.pendingProps,d=ut.current,g=!1,w=(s.flags&128)!==0,I;if((I=w)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),nt(ut,d&1),n===null)return Jc(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=c.children,n=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=yu(w,c,0,null),n=_i(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=kh(a),s.memoizedState=Ih,n):Sh(s,w));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return H_(n,s,w,c,I,d,a);if(g){g=c.fallback,w=s.mode,d=n.child,I=d.sibling;var R={mode:"hidden",children:c.children};return(w&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=R,s.deletions=null):(c=Ss(d,R),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?g=Ss(I,g):(g=_i(g,w,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=n.child.memoizedState,w=w===null?kh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=n.childLanes&~a,s.memoizedState=Ih,c}return g=n.child,n=g.sibling,c=Ss(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Sh(n,s){return s=yu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function su(n,s,a,c){return c!==null&&Zc(c),ho(s,n.child,null,a),n=Sh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function H_(n,s,a,c,d,g,w){if(a)return s.flags&256?(s.flags&=-257,c=wh(Error(t(422))),su(n,s,w,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=yu({mode:"visible",children:c.children},d,0,null),g=_i(g,d,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&ho(s,n.child,null,w),s.child.memoizedState=kh(w),s.memoizedState=Ih,g);if((s.mode&1)===0)return su(n,s,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,g=Error(t(419)),c=wh(g,c,void 0),su(n,s,w,c)}if(I=(w&n.childLanes)!==0,dn||I){if(c=jt,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|w))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Lr(n,d),Jn(c,n,d,-1))}return Bh(),c=wh(Error(t(421))),su(n,s,w,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=rw.bind(null,n),d._reactRetry=s,null):(n=g.treeContext,xn=ms(d.nextSibling),wn=s,ot=!0,Kn=null,n!==null&&(Rn[Nn++]=Or,Rn[Nn++]=Vr,Rn[Nn++]=ci,Or=n.id,Vr=n.overflow,ci=s),s=Sh(s,c.children),s.flags|=4096,s)}function _m(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),rh(n.return,s,a)}function Ah(n,s,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function wm(n,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(nn(n,s,c.children,a),c=ut.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_m(n,a,s);else if(n.tag===19)_m(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(nt(ut,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&Yl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Ah(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Yl(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Ah(s,!0,a,null,g);break;case"together":Ah(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function iu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Fr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),mi|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=Ss(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Ss(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function q_(n,s,a){switch(s.tag){case 3:gm(s),co();break;case 5:Dp(s);break;case 1:hn(s.type)&&zl(s);break;case 4:oh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;nt(Gl,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(nt(ut,ut.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?vm(n,s,a):(nt(ut,ut.current&1),n=Fr(n,s,a),n!==null?n.sibling:null);nt(ut,ut.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return wm(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),nt(ut,ut.current),c)break;return null;case 22:case 23:return s.lanes=0,fm(n,s,a)}return Fr(n,s,a)}var xm,Ch,Em,Tm;xm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ch=function(){},Em=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,fi(cr.current);var g=null;switch(a){case"input":d=kn(n,d),c=kn(n,c),g=[];break;case"select":d=le({},d,{value:void 0}),c=le({},c,{value:void 0}),g=[];break;case"textarea":d=$s(n,d),c=$s(n,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Ll)}Qs(a,c);var w;a=null;for(H in d)if(!c.hasOwnProperty(H)&&d.hasOwnProperty(H)&&d[H]!=null)if(H==="style"){var I=d[H];for(w in I)I.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in c){var R=c[H];if(I=d?.[H],c.hasOwnProperty(H)&&R!==I&&(R!=null||I!=null))if(H==="style")if(I){for(w in I)!I.hasOwnProperty(w)||R&&R.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in R)R.hasOwnProperty(w)&&I[w]!==R[w]&&(a||(a={}),a[w]=R[w])}else a||(g||(g=[]),g.push(H,a)),a=R;else H==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,I=I?I.__html:void 0,R!=null&&I!==R&&(g=g||[]).push(H,R)):H==="children"?typeof R!="string"&&typeof R!="number"||(g=g||[]).push(H,""+R):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(R!=null&&H==="onScroll"&&rt("scroll",n),g||I===R||(g=[])):(g=g||[]).push(H,R))}a&&(g=g||[]).push("style",a);var H=g;(s.updateQueue=H)&&(s.flags|=4)}},Tm=function(n,s,a,c){a!==c&&(s.flags|=4)};function wa(n,s){if(!ot)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Gt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function W_(n,s,a){var c=s.pendingProps;switch(Xc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return hn(s.type)&&Fl(),Gt(s),null;case 3:return c=s.stateNode,mo(),st(cn),st(qt),uh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(ql(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kn!==null&&(Uh(Kn),Kn=null))),Ch(n,s),Gt(s),null;case 5:ah(s);var d=fi(ma.current);if(a=s.type,n!==null&&s.stateNode!=null)Em(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Gt(s),null}if(n=fi(cr.current),ql(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[ur]=s,c[ca]=g,n=(s.mode&1)!==0,a){case"dialog":rt("cancel",c),rt("close",c);break;case"iframe":case"object":case"embed":rt("load",c);break;case"video":case"audio":for(d=0;d<aa.length;d++)rt(aa[d],c);break;case"source":rt("error",c);break;case"img":case"image":case"link":rt("error",c),rt("load",c);break;case"details":rt("toggle",c);break;case"input":Ir(c,g),rt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},rt("invalid",c);break;case"textarea":ts(c,g),rt("invalid",c)}Qs(a,g),d=null;for(var w in g)if(g.hasOwnProperty(w)){var I=g[w];w==="children"?typeof I=="string"?c.textContent!==I&&(g.suppressHydrationWarning!==!0&&Vl(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(g.suppressHydrationWarning!==!0&&Vl(c.textContent,I,n),d=["children",""+I]):o.hasOwnProperty(w)&&I!=null&&w==="onScroll"&&rt("scroll",c)}switch(a){case"input":on(c),Oi(c,g,!0);break;case"textarea":on(c),Hs(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Ll)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=yt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=w.createElement(a,{is:c.is}):(n=w.createElement(a),a==="select"&&(w=n,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):n=w.createElementNS(n,a),n[ur]=s,n[ca]=c,xm(n,s,!1,!1),s.stateNode=n;e:{switch(w=Xs(a,c),a){case"dialog":rt("cancel",n),rt("close",n),d=c;break;case"iframe":case"object":case"embed":rt("load",n),d=c;break;case"video":case"audio":for(d=0;d<aa.length;d++)rt(aa[d],n);d=c;break;case"source":rt("error",n),d=c;break;case"img":case"image":case"link":rt("error",n),rt("load",n),d=c;break;case"details":rt("toggle",n),d=c;break;case"input":Ir(n,c),d=kn(n,c),rt("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=le({},c,{value:void 0}),rt("invalid",n);break;case"textarea":ts(n,c),d=$s(n,c),rt("invalid",n);break;default:d=c}Qs(a,d),I=d;for(g in I)if(I.hasOwnProperty(g)){var R=I[g];g==="style"?Gs(n,R):g==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&qs(n,R)):g==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&rr(n,R):typeof R=="number"&&rr(n,""+R):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?R!=null&&g==="onScroll"&&rt("scroll",n):R!=null&&re(n,g,R,w))}switch(a){case"input":on(n),Oi(n,c,!1);break;case"textarea":on(n),Hs(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ve(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?On(n,!!c.multiple,g,!1):c.defaultValue!=null&&On(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Ll)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Gt(s),null;case 6:if(n&&s.stateNode!=null)Tm(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=fi(ma.current),fi(cr.current),ql(s)){if(c=s.stateNode,a=s.memoizedProps,c[ur]=s,(g=c.nodeValue!==a)&&(n=wn,n!==null))switch(n.tag){case 3:Vl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Vl(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[ur]=s,s.stateNode=c}return Gt(s),null;case 13:if(st(ut),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ot&&xn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Sp(),co(),s.flags|=98560,g=!1;else if(g=ql(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[ur]=s}else co(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),g=!1}else Kn!==null&&(Uh(Kn),Kn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(ut.current&1)!==0?At===0&&(At=3):Bh())),s.updateQueue!==null&&(s.flags|=4),Gt(s),null);case 4:return mo(),Ch(n,s),n===null&&la(s.stateNode.containerInfo),Gt(s),null;case 10:return nh(s.type._context),Gt(s),null;case 17:return hn(s.type)&&Fl(),Gt(s),null;case 19:if(st(ut),g=s.memoizedState,g===null)return Gt(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)wa(g,!1);else{if(At!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(w=Yl(n),w!==null){for(s.flags|=128,wa(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,n=w.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return nt(ut,ut.current&1|2),s.child}n=n.sibling}g.tail!==null&&tt()>_o&&(s.flags|=128,c=!0,wa(g,!1),s.lanes=4194304)}else{if(!c)if(n=Yl(w),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),wa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!ot)return Gt(s),null}else 2*tt()-g.renderingStartTime>_o&&a!==1073741824&&(s.flags|=128,c=!0,wa(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=tt(),s.sibling=null,a=ut.current,nt(ut,c?a&1|2:a&1),s):(Gt(s),null);case 22:case 23:return zh(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(En&1073741824)!==0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function G_(n,s){switch(Xc(s),s.tag){case 1:return hn(s.type)&&Fl(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return mo(),st(cn),st(qt),uh(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return ah(s),null;case 13:if(st(ut),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));co()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return st(ut),null;case 4:return mo(),null;case 10:return nh(s.type._context),null;case 22:case 23:return zh(),null;case 24:return null;default:return null}}var ou=!1,Kt=!1,K_=typeof WeakSet=="function"?WeakSet:Set,he=null;function yo(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){pt(n,s,c)}else a.current=null}function Rh(n,s,a){try{a()}catch(c){pt(n,s,c)}}var Im=!1;function Q_(n,s){if(zc=ds,n=np(),jc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,I=-1,R=-1,H=0,Q=0,J=n,K=null;t:for(;;){for(var ue;J!==a||d!==0&&J.nodeType!==3||(I=w+d),J!==g||c!==0&&J.nodeType!==3||(R=w+c),J.nodeType===3&&(w+=J.nodeValue.length),(ue=J.firstChild)!==null;)K=J,J=ue;for(;;){if(J===n)break t;if(K===a&&++H===d&&(I=w),K===g&&++Q===c&&(R=w),(ue=J.nextSibling)!==null)break;J=K,K=J.parentNode}J=ue}a=I===-1||R===-1?null:{start:I,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bc={focusedElem:n,selectionRange:a},ds=!1,he=s;he!==null;)if(s=he,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,he=n;else for(;he!==null;){s=he;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,_t=de.memoizedState,z=s.stateNode,P=z.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Qn(s.type,fe),_t);z.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){pt(s,s.return,Z)}if(n=s.sibling,n!==null){n.return=s.return,he=n;break}he=s.return}return de=Im,Im=!1,de}function xa(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var g=d.destroy;d.destroy=void 0,g!==void 0&&Rh(s,a,g)}d=d.next}while(d!==c)}}function au(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Nh(n){var s=n.ref;if(s!==null){var a=n.stateNode;n.tag,n=a,typeof s=="function"?s(n):s.current=n}}function km(n){var s=n.alternate;s!==null&&(n.alternate=null,km(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[ur],delete s[ca],delete s[Wc],delete s[b_],delete s[P_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Sm(n){return n.tag===5||n.tag===3||n.tag===4}function Am(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Sm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ll));else if(c!==4&&(n=n.child,n!==null))for(bh(n,s,a),n=n.sibling;n!==null;)bh(n,s,a),n=n.sibling}function Ph(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Ph(n,s,a),n=n.sibling;n!==null;)Ph(n,s,a),n=n.sibling}var Ut=null,Xn=!1;function xs(n,s,a){for(a=a.child;a!==null;)Cm(n,s,a),a=a.sibling}function Cm(n,s,a){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 5:Kt||yo(a,s);case 6:var c=Ut,d=Xn;Ut=null,xs(n,s,a),Ut=c,Xn=d,Ut!==null&&(Xn?(n=Ut,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Ut.removeChild(a.stateNode));break;case 18:Ut!==null&&(Xn?(n=Ut,a=a.stateNode,n.nodeType===8?qc(n.parentNode,a):n.nodeType===1&&qc(n,a),qn(n)):qc(Ut,a.stateNode));break;case 4:c=Ut,d=Xn,Ut=a.stateNode.containerInfo,Xn=!0,xs(n,s,a),Ut=c,Xn=d;break;case 0:case 11:case 14:case 15:if(!Kt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&Rh(a,s,w),d=d.next}while(d!==c)}xs(n,s,a);break;case 1:if(!Kt&&(yo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){pt(a,s,I)}xs(n,s,a);break;case 21:xs(n,s,a);break;case 22:a.mode&1?(Kt=(c=Kt)||a.memoizedState!==null,xs(n,s,a),Kt=c):xs(n,s,a);break;default:xs(n,s,a)}}function Rm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new K_),s.forEach(function(c){var d=sw.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Yn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=n,w=s,I=w;e:for(;I!==null;){switch(I.tag){case 5:Ut=I.stateNode,Xn=!1;break e;case 3:Ut=I.stateNode.containerInfo,Xn=!0;break e;case 4:Ut=I.stateNode.containerInfo,Xn=!0;break e}I=I.return}if(Ut===null)throw Error(t(160));Cm(g,w,d),Ut=null,Xn=!1;var R=d.alternate;R!==null&&(R.return=null),d.return=null}catch(H){pt(d,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Nm(s,n),s=s.sibling}function Nm(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Yn(s,n),dr(n),c&4){try{xa(3,n,n.return),au(3,n)}catch(fe){pt(n,n.return,fe)}try{xa(5,n,n.return)}catch(fe){pt(n,n.return,fe)}}break;case 1:Yn(s,n),dr(n),c&512&&a!==null&&yo(a,a.return);break;case 5:if(Yn(s,n),dr(n),c&512&&a!==null&&yo(a,a.return),n.flags&32){var d=n.stateNode;try{rr(d,"")}catch(fe){pt(n,n.return,fe)}}if(c&4&&(d=n.stateNode,d!=null)){var g=n.memoizedProps,w=a!==null?a.memoizedProps:g,I=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{I==="input"&&g.type==="radio"&&g.name!=null&&Bs(d,g),Xs(I,w);var H=Xs(I,g);for(w=0;w<R.length;w+=2){var Q=R[w],J=R[w+1];Q==="style"?Gs(d,J):Q==="dangerouslySetInnerHTML"?qs(d,J):Q==="children"?rr(d,J):re(d,Q,J,H)}switch(I){case"input":es(d,g);break;case"textarea":ns(d,g);break;case"select":var K=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?On(d,!!g.multiple,ue,!1):K!==!!g.multiple&&(g.defaultValue!=null?On(d,!!g.multiple,g.defaultValue,!0):On(d,!!g.multiple,g.multiple?[]:"",!1))}d[ca]=g}catch(fe){pt(n,n.return,fe)}}break;case 6:if(Yn(s,n),dr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,g=n.memoizedProps;try{d.nodeValue=g}catch(fe){pt(n,n.return,fe)}}break;case 3:if(Yn(s,n),dr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{qn(s.containerInfo)}catch(fe){pt(n,n.return,fe)}break;case 4:Yn(s,n),dr(n);break;case 13:Yn(s,n),dr(n),d=n.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Mh=tt())),c&4&&Rm(n);break;case 22:if(Q=a!==null&&a.memoizedState!==null,n.mode&1?(Kt=(H=Kt)||Q,Yn(s,n),Kt=H):Yn(s,n),dr(n),c&8192){if(H=n.memoizedState!==null,(n.stateNode.isHidden=H)&&!Q&&(n.mode&1)!==0)for(he=n,Q=n.child;Q!==null;){for(J=he=Q;he!==null;){switch(K=he,ue=K.child,K.tag){case 0:case 11:case 14:case 15:xa(4,K,K.return);break;case 1:yo(K,K.return);var de=K.stateNode;if(typeof de.componentWillUnmount=="function"){c=K,a=K.return;try{s=c,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(fe){pt(c,a,fe)}}break;case 5:yo(K,K.return);break;case 22:if(K.memoizedState!==null){jm(J);continue}}ue!==null?(ue.return=K,he=ue):jm(J)}Q=Q.sibling}e:for(Q=null,J=n;;){if(J.tag===5){if(Q===null){Q=J;try{d=J.stateNode,H?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(I=J.stateNode,R=J.memoizedProps.style,w=R!=null&&R.hasOwnProperty("display")?R.display:null,I.style.display=Ws("display",w))}catch(fe){pt(n,n.return,fe)}}}else if(J.tag===6){if(Q===null)try{J.stateNode.nodeValue=H?"":J.memoizedProps}catch(fe){pt(n,n.return,fe)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;Q===J&&(Q=null),J=J.return}Q===J&&(Q=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Yn(s,n),dr(n),c&4&&Rm(n);break;case 21:break;default:Yn(s,n),dr(n)}}function dr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(Sm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(rr(d,""),c.flags&=-33);var g=Am(n);Ph(n,g,d);break;case 3:case 4:var w=c.stateNode.containerInfo,I=Am(n);bh(n,I,w);break;default:throw Error(t(161))}}catch(R){pt(n,n.return,R)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function X_(n,s,a){he=n,bm(n)}function bm(n,s,a){for(var c=(n.mode&1)!==0;he!==null;){var d=he,g=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||ou;if(!w){var I=d.alternate,R=I!==null&&I.memoizedState!==null||Kt;I=ou;var H=Kt;if(ou=w,(Kt=R)&&!H)for(he=d;he!==null;)w=he,R=w.child,w.tag===22&&w.memoizedState!==null?Dm(d):R!==null?(R.return=w,he=R):Dm(d);for(;g!==null;)he=g,bm(g),g=g.sibling;he=d,ou=I,Kt=H}Pm(n)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,he=g):Pm(n)}}function Pm(n){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Kt||au(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Kt)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Qn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&jp(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}jp(s,w,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var Q=H.memoizedState;if(Q!==null){var J=Q.dehydrated;J!==null&&qn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kt||s.flags&512&&Nh(s)}catch(K){pt(s,s.return,K)}}if(s===n){he=null;break}if(a=s.sibling,a!==null){a.return=s.return,he=a;break}he=s.return}}function jm(n){for(;he!==null;){var s=he;if(s===n){he=null;break}var a=s.sibling;if(a!==null){a.return=s.return,he=a;break}he=s.return}}function Dm(n){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{au(4,s)}catch(R){pt(s,a,R)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(R){pt(s,d,R)}}var g=s.return;try{Nh(s)}catch(R){pt(s,g,R)}break;case 5:var w=s.return;try{Nh(s)}catch(R){pt(s,w,R)}}}catch(R){pt(s,s.return,R)}if(s===n){he=null;break}var I=s.sibling;if(I!==null){I.return=s.return,he=I;break}he=s.return}}var Y_=Math.ceil,lu=ie.ReactCurrentDispatcher,jh=ie.ReactCurrentOwner,jn=ie.ReactCurrentBatchConfig,We=0,jt=null,Tt=null,Ft=0,En=0,vo=gs(0),At=0,Ea=null,mi=0,uu=0,Dh=0,Ta=null,fn=null,Mh=0,_o=1/0,zr=null,cu=!1,Oh=null,Es=null,hu=!1,Ts=null,du=0,Ia=0,Vh=null,fu=-1,pu=0;function rn(){return(We&6)!==0?tt():fu!==-1?fu:fu=tt()}function Is(n){return(n.mode&1)===0?1:(We&2)!==0&&Ft!==0?Ft&-Ft:D_.transition!==null?(pu===0&&(pu=ri()),pu):(n=Ue,n!==0||(n=window.event,n=n===void 0?16:Jo(n.type)),n)}function Jn(n,s,a,c){if(50<Ia)throw Ia=0,Vh=null,Error(t(185));ls(n,a,c),((We&2)===0||n!==jt)&&(n===jt&&((We&2)===0&&(uu|=a),At===4&&ks(n,Ft)),pn(n,c),a===1&&We===0&&(s.mode&1)===0&&(_o=tt()+500,Bl&&vs()))}function pn(n,s){var a=n.callbackNode;Rr(n,s);var c=ni(n,n===jt?Ft:0);if(c===0)a!==null&&Go(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&Go(a),s===1)n.tag===0?j_(Om.bind(null,n)):xp(Om.bind(null,n)),R_(function(){(We&6)===0&&vs()}),a=null;else{switch(cs(c)){case 1:a=ei;break;case 4:a=is;break;case 16:a=Sn;break;case 536870912:a=pl;break;default:a=Sn}a=Hm(a,Mm.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function Mm(n,s){if(fu=-1,pu=0,(We&6)!==0)throw Error(t(327));var a=n.callbackNode;if(wo()&&n.callbackNode!==a)return null;var c=ni(n,n===jt?Ft:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=mu(n,c);else{s=c;var d=We;We|=2;var g=Lm();(jt!==n||Ft!==s)&&(zr=null,_o=tt()+500,yi(n,s));do try{ew();break}catch(I){Vm(n,I)}while(!0);th(),lu.current=g,We=d,Tt!==null?s=0:(jt=null,Ft=0,s=At)}if(s!==0){if(s===2&&(d=yn(n),d!==0&&(c=d,s=Lh(n,d))),s===1)throw a=Ea,yi(n,0),ks(n,c),pn(n,tt()),a;if(s===6)ks(n,c);else{if(d=n.current.alternate,(c&30)===0&&!J_(d)&&(s=mu(n,c),s===2&&(g=yn(n),g!==0&&(c=g,s=Lh(n,g))),s===1))throw a=Ea,yi(n,0),ks(n,c),pn(n,tt()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:vi(n,fn,zr);break;case 3:if(ks(n,c),(c&130023424)===c&&(s=Mh+500-tt(),10<s)){if(ni(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){rn(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Hc(vi.bind(null,n,fn,zr),s);break}vi(n,fn,zr);break;case 4:if(ks(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var w=31-en(c);g=1<<w,w=s[w],w>d&&(d=w),c&=~g}if(c=d,c=tt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Y_(c/1960))-c,10<c){n.timeoutHandle=Hc(vi.bind(null,n,fn,zr),c);break}vi(n,fn,zr);break;case 5:vi(n,fn,zr);break;default:throw Error(t(329))}}}return pn(n,tt()),n.callbackNode===a?Mm.bind(null,n):null}function Lh(n,s){var a=Ta;return n.current.memoizedState.isDehydrated&&(yi(n,s).flags|=256),n=mu(n,s),n!==2&&(s=fn,fn=a,s!==null&&Uh(s)),n}function Uh(n){fn===null?fn=n:fn.push.apply(fn,n)}function J_(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!Gn(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(n,s){for(s&=~Dh,s&=~uu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-en(s),c=1<<a;n[a]=-1,s&=~c}}function Om(n){if((We&6)!==0)throw Error(t(327));wo();var s=ni(n,0);if((s&1)===0)return pn(n,tt()),null;var a=mu(n,s);if(n.tag!==0&&a===2){var c=yn(n);c!==0&&(s=c,a=Lh(n,c))}if(a===1)throw a=Ea,yi(n,0),ks(n,s),pn(n,tt()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,vi(n,fn,zr),pn(n,tt()),null}function Fh(n,s){var a=We;We|=1;try{return n(s)}finally{We=a,We===0&&(_o=tt()+500,Bl&&vs())}}function gi(n){Ts!==null&&Ts.tag===0&&(We&6)===0&&wo();var s=We;We|=1;var a=jn.transition,c=Ue;try{if(jn.transition=null,Ue=1,n)return n()}finally{Ue=c,jn.transition=a,We=s,(We&6)===0&&vs()}}function zh(){En=vo.current,st(vo)}function yi(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,C_(a)),Tt!==null)for(a=Tt.return;a!==null;){var c=a;switch(Xc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Fl();break;case 3:mo(),st(cn),st(qt),uh();break;case 5:ah(c);break;case 4:mo();break;case 13:st(ut);break;case 19:st(ut);break;case 10:nh(c.type._context);break;case 22:case 23:zh()}a=a.return}if(jt=n,Tt=n=Ss(n.current,null),Ft=En=s,At=0,Ea=null,Dh=uu=mi=0,fn=Ta=null,di!==null){for(s=0;s<di.length;s++)if(a=di[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=d,c.next=w}a.pending=c}di=null}return n}function Vm(n,s){do{var a=Tt;try{if(th(),Jl.current=nu,Zl){for(var c=ct.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Zl=!1}if(pi=0,Pt=St=ct=null,ga=!1,ya=0,jh.current=null,a===null||a.return===null){At=1,Ea=s,Tt=null;break}e:{var g=n,w=a.return,I=a,R=s;if(s=Ft,I.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=R,Q=I,J=Q.tag;if((Q.mode&1)===0&&(J===0||J===11||J===15)){var K=Q.alternate;K?(Q.updateQueue=K.updateQueue,Q.memoizedState=K.memoizedState,Q.lanes=K.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ue=lm(w);if(ue!==null){ue.flags&=-257,um(ue,w,I,g,s),ue.mode&1&&am(g,H,s),s=ue,R=H;var de=s.updateQueue;if(de===null){var fe=new Set;fe.add(R),s.updateQueue=fe}else de.add(R);break e}else{if((s&1)===0){am(g,H,s),Bh();break e}R=Error(t(426))}}else if(ot&&I.mode&1){var _t=lm(w);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),um(_t,w,I,g,s),Zc(go(R,I));break e}}g=R=go(R,I),At!==4&&(At=2),Ta===null?Ta=[g]:Ta.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var z=im(g,R,s);Pp(g,z);break e;case 1:I=R;var P=g.type,$=g.stateNode;if((g.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Es===null||!Es.has($)))){g.flags|=65536,s&=-s,g.lanes|=s;var Z=om(g,I,s);Pp(g,Z);break e}}g=g.return}while(g!==null)}Fm(a)}catch(me){s=me,Tt===a&&a!==null&&(Tt=a=a.return);continue}break}while(!0)}function Lm(){var n=lu.current;return lu.current=nu,n===null?nu:n}function Bh(){(At===0||At===3||At===2)&&(At=4),jt===null||(mi&268435455)===0&&(uu&268435455)===0||ks(jt,Ft)}function mu(n,s){var a=We;We|=2;var c=Lm();(jt!==n||Ft!==s)&&(zr=null,yi(n,s));do try{Z_();break}catch(d){Vm(n,d)}while(!0);if(th(),We=a,lu.current=c,Tt!==null)throw Error(t(261));return jt=null,Ft=0,At}function Z_(){for(;Tt!==null;)Um(Tt)}function ew(){for(;Tt!==null&&!dl();)Um(Tt)}function Um(n){var s=$m(n.alternate,n,En);n.memoizedProps=n.pendingProps,s===null?Fm(n):Tt=s,jh.current=null}function Fm(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=W_(a,s,En),a!==null){Tt=a;return}}else{if(a=G_(a,s),a!==null){a.flags&=32767,Tt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{At=6,Tt=null;return}}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=n}while(s!==null);At===0&&(At=5)}function vi(n,s,a){var c=Ue,d=jn.transition;try{jn.transition=null,Ue=1,tw(n,s,a,c)}finally{jn.transition=d,Ue=c}return null}function tw(n,s,a,c){do wo();while(Ts!==null);if((We&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(et(n,g),n===jt&&(Tt=jt=null,Ft=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||hu||(hu=!0,Hm(Sn,function(){return wo(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=jn.transition,jn.transition=null;var w=Ue;Ue=1;var I=We;We|=4,jh.current=null,Q_(n,a),Nm(a,n),x_(Bc),ds=!!zc,Bc=zc=null,n.current=a,X_(a),kc(),We=I,Ue=w,jn.transition=g}else n.current=a;if(hu&&(hu=!1,Ts=n,du=d),g=n.pendingLanes,g===0&&(Es=null),ml(a.stateNode),pn(n,tt()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(cu)throw cu=!1,n=Oh,Oh=null,n;return(du&1)!==0&&n.tag!==0&&wo(),g=n.pendingLanes,(g&1)!==0?n===Vh?Ia++:(Ia=0,Vh=n):Ia=0,vs(),null}function wo(){if(Ts!==null){var n=cs(du),s=jn.transition,a=Ue;try{if(jn.transition=null,Ue=16>n?16:n,Ts===null)var c=!1;else{if(n=Ts,Ts=null,du=0,(We&6)!==0)throw Error(t(331));var d=We;for(We|=4,he=n.current;he!==null;){var g=he,w=g.child;if((he.flags&16)!==0){var I=g.deletions;if(I!==null){for(var R=0;R<I.length;R++){var H=I[R];for(he=H;he!==null;){var Q=he;switch(Q.tag){case 0:case 11:case 15:xa(8,Q,g)}var J=Q.child;if(J!==null)J.return=Q,he=J;else for(;he!==null;){Q=he;var K=Q.sibling,ue=Q.return;if(km(Q),Q===H){he=null;break}if(K!==null){K.return=ue,he=K;break}he=ue}}}var de=g.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var _t=fe.sibling;fe.sibling=null,fe=_t}while(fe!==null)}}he=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,he=w;else e:for(;he!==null;){if(g=he,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:xa(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,he=z;break e}he=g.return}}var P=n.current;for(he=P;he!==null;){w=he;var $=w.child;if((w.subtreeFlags&2064)!==0&&$!==null)$.return=w,he=$;else e:for(w=P;he!==null;){if(I=he,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:au(9,I)}}catch(me){pt(I,I.return,me)}if(I===w){he=null;break e}var Z=I.sibling;if(Z!==null){Z.return=I.return,he=Z;break e}he=I.return}}if(We=d,vs(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ti,n)}catch{}c=!0}return c}finally{Ue=a,jn.transition=s}}return!1}function zm(n,s,a){s=go(a,s),s=im(n,s,1),n=ws(n,s,1),s=rn(),n!==null&&(ls(n,1,s),pn(n,s))}function pt(n,s,a){if(n.tag===3)zm(n,n,a);else for(;s!==null;){if(s.tag===3){zm(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Es===null||!Es.has(c))){n=go(a,n),n=om(s,n,1),s=ws(s,n,1),n=rn(),s!==null&&(ls(s,1,n),pn(s,n));break}}s=s.return}}function nw(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=rn(),n.pingedLanes|=n.suspendedLanes&a,jt===n&&(Ft&a)===a&&(At===4||At===3&&(Ft&130023424)===Ft&&500>tt()-Mh?yi(n,0):Dh|=a),pn(n,s)}function Bm(n,s){s===0&&((n.mode&1)===0?s=1:(s=Bi,Bi<<=1,(Bi&130023424)===0&&(Bi=4194304)));var a=rn();n=Lr(n,s),n!==null&&(ls(n,s,a),pn(n,a))}function rw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Bm(n,a)}function sw(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Bm(n,a)}var $m;$m=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||cn.current)dn=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return dn=!1,q_(n,s,a);dn=(n.flags&131072)!==0}else dn=!1,ot&&(s.flags&1048576)!==0&&Ep(s,Hl,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;iu(n,s),n=s.pendingProps;var d=ao(s,qt.current);po(s,a),d=dh(null,s,c,n,d,a);var g=fh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,hn(c)?(g=!0,zl(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ih(s),d.updater=ru,s.stateNode=d,d._reactInternals=s,_h(s,c,n,a),s=Th(null,s,c,!0,g,a)):(s.tag=0,ot&&g&&Qc(s),nn(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(iu(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=ow(c),n=Qn(c,n),d){case 0:s=Eh(null,s,c,n,a);break e;case 1:s=mm(null,s,c,n,a);break e;case 11:s=cm(null,s,c,n,a);break e;case 14:s=hm(null,s,c,Qn(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Qn(c,d),Eh(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Qn(c,d),mm(n,s,c,d,a);case 3:e:{if(gm(s),n===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,bp(n,s),Xl(s,c,null,a);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=go(Error(t(423)),s),s=ym(n,s,c,a,d);break e}else if(c!==d){d=go(Error(t(424)),s),s=ym(n,s,c,a,d);break e}else for(xn=ms(s.stateNode.containerInfo.firstChild),wn=s,ot=!0,Kn=null,a=Rp(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(co(),c===d){s=Fr(n,s,a);break e}nn(n,s,c,a)}s=s.child}return s;case 5:return Dp(s),n===null&&Jc(s),c=s.type,d=s.pendingProps,g=n!==null?n.memoizedProps:null,w=d.children,$c(c,d)?w=null:g!==null&&$c(c,g)&&(s.flags|=32),pm(n,s),nn(n,s,w,a),s.child;case 6:return n===null&&Jc(s),null;case 13:return vm(n,s,a);case 4:return oh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=ho(s,null,c,a):nn(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Qn(c,d),cm(n,s,c,d,a);case 7:return nn(n,s,s.pendingProps,a),s.child;case 8:return nn(n,s,s.pendingProps.children,a),s.child;case 12:return nn(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,w=d.value,nt(Gl,c._currentValue),c._currentValue=w,g!==null)if(Gn(g.value,w)){if(g.children===d.children&&!cn.current){s=Fr(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var I=g.dependencies;if(I!==null){w=g.child;for(var R=I.firstContext;R!==null;){if(R.context===c){if(g.tag===1){R=Ur(-1,a&-a),R.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var Q=H.pending;Q===null?R.next=R:(R.next=Q.next,Q.next=R),H.pending=R}}g.lanes|=a,R=g.alternate,R!==null&&(R.lanes|=a),rh(g.return,a,s),I.lanes|=a;break}R=R.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,I=w.alternate,I!==null&&(I.lanes|=a),rh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}nn(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,po(s,a),d=bn(d),c=c(d),s.flags|=1,nn(n,s,c,a),s.child;case 14:return c=s.type,d=Qn(c,s.pendingProps),d=Qn(c.type,d),hm(n,s,c,d,a);case 15:return dm(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Qn(c,d),iu(n,s),s.tag=1,hn(c)?(n=!0,zl(s)):n=!1,po(s,a),rm(s,c,d),_h(s,c,d,a),Th(null,s,c,!0,n,a);case 19:return wm(n,s,a);case 22:return fm(n,s,a)}throw Error(t(156,s.tag))};function Hm(n,s){return Fi(n,s)}function iw(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(n,s,a,c){return new iw(n,s,a,c)}function $h(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ow(n){if(typeof n=="function")return $h(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===xt)return 14}return 2}function Ss(n,s){var a=n.alternate;return a===null?(a=Dn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function gu(n,s,a,c,d,g){var w=2;if(c=n,typeof n=="function")$h(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case C:return _i(a.children,d,g,s);case T:w=8,d|=8;break;case k:return n=Dn(12,a,s,d|2),n.elementType=k,n.lanes=g,n;case S:return n=Dn(13,a,s,d),n.elementType=S,n.lanes=g,n;case lt:return n=Dn(19,a,s,d),n.elementType=lt,n.lanes=g,n;case He:return yu(a,d,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:w=10;break e;case j:w=9;break e;case V:w=11;break e;case xt:w=14;break e;case Nt:w=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Dn(w,a,s,d),s.elementType=n,s.type=c,s.lanes=g,s}function _i(n,s,a,c){return n=Dn(7,n,c,s),n.lanes=a,n}function yu(n,s,a,c){return n=Dn(22,n,c,s),n.elementType=He,n.lanes=a,n.stateNode={isHidden:!1},n}function Hh(n,s,a){return n=Dn(6,n,null,s),n.lanes=a,n}function qh(n,s,a){return s=Dn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function aw(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=as(0),this.expirationTimes=as(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Wh(n,s,a,c,d,g,w,I,R){return n=new aw(n,s,a,I,R),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Dn(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ih(g),n}function lw(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function qm(n){if(!n)return ys;n=n._reactInternals;e:{if(Fn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(hn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(hn(a))return _p(n,a,s)}return s}function Wm(n,s,a,c,d,g,w,I,R){return n=Wh(a,c,!0,n,d,g,w,I,R),n.context=qm(null),a=n.current,c=rn(),d=Is(a),g=Ur(c,d),g.callback=s??null,ws(a,g,d),n.current.lanes=d,ls(n,d,c),pn(n,c),n}function vu(n,s,a,c){var d=s.current,g=rn(),w=Is(d);return a=qm(a),s.context===null?s.context=a:s.pendingContext=a,s=Ur(g,w),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=ws(d,s,w),n!==null&&(Jn(n,d,w,g),Ql(n,d,w)),w}function _u(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function Gm(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Gh(n,s){Gm(n,s),(n=n.alternate)&&Gm(n,s)}function uw(){return null}var Km=typeof reportError=="function"?reportError:function(n){console.error(n)};function Kh(n){this._internalRoot=n}wu.prototype.render=Kh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));vu(n,s,null,null)},wu.prototype.unmount=Kh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;gi(function(){vu(null,n,null,null)}),s[Dr]=null}};function wu(n){this._internalRoot=n}wu.prototype.unstable_scheduleHydration=function(n){if(n){var s=wl();n={blockedOn:null,target:n,priority:s};for(var a=0;a<ir.length&&s!==0&&s<ir[a].priority;a++);ir.splice(a,0,n),a===0&&Tl(n)}};function Qh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Qm(){}function cw(n,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var H=_u(w);g.call(H)}}var w=Wm(s,c,n,0,null,!1,!1,"",Qm);return n._reactRootContainer=w,n[Dr]=w.current,la(n.nodeType===8?n.parentNode:n),gi(),w}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var H=_u(R);I.call(H)}}var R=Wh(n,0,!1,null,null,!1,!1,"",Qm);return n._reactRootContainer=R,n[Dr]=R.current,la(n.nodeType===8?n.parentNode:n),gi(function(){vu(s,R,a,c)}),R}function Eu(n,s,a,c,d){var g=a._reactRootContainer;if(g){var w=g;if(typeof d=="function"){var I=d;d=function(){var R=_u(w);I.call(R)}}vu(s,w,n,d)}else w=cw(a,s,n,d,c);return _u(w)}vl=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=os(s.pendingLanes);a!==0&&(us(s,a|1),pn(s,tt()),(We&6)===0&&(_o=tt()+500,vs()))}break;case 13:gi(function(){var c=Lr(n,1);if(c!==null){var d=rn();Jn(c,n,1,d)}}),Gh(n,1)}},$i=function(n){if(n.tag===13){var s=Lr(n,134217728);if(s!==null){var a=rn();Jn(s,n,134217728,a)}Gh(n,134217728)}},_l=function(n){if(n.tag===13){var s=Is(n),a=Lr(n,s);if(a!==null){var c=rn();Jn(a,n,s,c)}Gh(n,s)}},wl=function(){return Ue},xl=function(n,s){var a=Ue;try{return Ue=n,s()}finally{Ue=a}},ss=function(n,s,a){switch(s){case"input":if(es(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=Ul(c);if(!d)throw Error(t(90));Zr(c),es(c,d)}}}break;case"textarea":ns(n,a);break;case"select":s=a.value,s!=null&&On(n,!!a.multiple,s,!1)}},Pe=Fh,Le=gi;var hw={usingClientEntryPoint:!1,Events:[ha,io,Ul,oe,qe,Fh]},ka={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dw={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Wo(n),n===null?null:n.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||uw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{ti=Tu.inject(dw),gn=Tu}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hw,mn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(s))throw Error(t(200));return lw(n,s,null,a)},mn.createRoot=function(n,s){if(!Qh(n))throw Error(t(299));var a=!1,c="",d=Km;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Wh(n,1,!1,null,null,a,!1,c,d),n[Dr]=s.current,la(n.nodeType===8?n.parentNode:n),new Kh(s)},mn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Wo(s),n=n===null?null:n.stateNode,n},mn.flushSync=function(n){return gi(n)},mn.hydrate=function(n,s,a){if(!xu(s))throw Error(t(200));return Eu(null,n,s,!0,a)},mn.hydrateRoot=function(n,s,a){if(!Qh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",w=Km;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Wm(s,null,n,1,a??null,d,!1,g,w),n[Dr]=s.current,la(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new wu(s)},mn.render=function(n,s,a){if(!xu(s))throw Error(t(200));return Eu(null,n,s,!1,a)},mn.unmountComponentAtNode=function(n){if(!xu(n))throw Error(t(40));return n._reactRootContainer?(gi(function(){Eu(null,null,n,!1,function(){n._reactRootContainer=null,n[Dr]=null})}),!0):!1},mn.unstable_batchedUpdates=Fh,mn.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!xu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Eu(n,s,a,!1,c)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var rg;function xw(){if(rg)return Jh.exports;rg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jh.exports=ww(),Jh.exports}var sg;function Ew(){if(sg)return Iu;sg=1;var r=xw();return Iu.createRoot=r.createRoot,Iu.hydrateRoot=r.hydrateRoot,Iu}var Tw=Ew();const Iw=ky(Tw);var ig={};const Sy=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},kw=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],y=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(y>>10)),e[i++]=String.fromCharCode(56320+(y&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,E=l>>2,A=(l&3)<<4|f>>4;let b=(f&15)<<2|_>>6,D=_&63;y||(D=64,h||(b=64)),i.push(t[E],t[A],t[b],t[D])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Sy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):kw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const _=o<r.length?t[r.charAt(o)]:64;++o;const A=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||_==null||A==null)throw new Sw;const b=l<<2|f>>4;if(i.push(b),_!==64){const D=f<<4&240|_>>2;if(i.push(D),A!==64){const F=_<<6&192|A;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Sw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Aw=function(r){const e=Sy(r);return Ay.encodeByteArray(e,!0)},Hu=function(r){return Aw(r).replace(/\./g,"")},Cy=function(r){try{return Ay.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Rw=()=>Cw().__FIREBASE_DEFAULTS__,Nw=()=>{if(typeof process>"u"||typeof ig>"u")return;const r=ig.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Cy(r[1]);return e&&JSON.parse(e)},lc=()=>{try{return Rw()||Nw()||bw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ry=r=>{var e,t;return(t=(e=lc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Ny=r=>{const e=Ry(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},by=()=>{var r;return(r=lc())===null||r===void 0?void 0:r.config},Py=r=>{var e;return(e=lc())===null||e===void 0?void 0:e[`_${r}`]};class Pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function jy(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Hu(JSON.stringify(t)),Hu(JSON.stringify(h)),""].join(".")}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Dw(){var r;const e=(r=lc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ow(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Vw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lw(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Uw(){return!Dw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fw(){try{return typeof indexedDB=="object"}catch{return!1}}function zw(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}const Bw="FirebaseError";class Tr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Bw,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?$w(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Tr(o,f,i)}}function $w(r,e){return r.replace(Hw,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Hw=/\{\$([^}]+)}/g;function qw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function qu(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(og(l)&&og(h)){if(!qu(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function og(r){return r!==null&&typeof r=="object"}function Ja(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ww(r,e){const t=new Gw(r,e);return t.subscribe.bind(t)}class Gw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Kw(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=td),o.error===void 0&&(o.error=td),o.complete===void 0&&(o.complete=td);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kw(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function td(){}function Ot(r){return r&&r._delegate?r._delegate:r}class Ls{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xi="[DEFAULT]";class Qw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Pw;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yw(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Xw(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xw(r){return r===xi?void 0:r}function Yw(r){return r.instantiationMode==="EAGER"}class Jw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Qw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const Zw={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},ex=Fe.INFO,tx={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},nx=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=tx[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wd{constructor(e){this.name=e,this._logLevel=ex,this._logHandler=nx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const rx=(r,e)=>e.some(t=>r instanceof t);let ag,lg;function sx(){return ag||(ag=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ix(){return lg||(lg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dy=new WeakMap,pd=new WeakMap,My=new WeakMap,nd=new WeakMap,Gd=new WeakMap;function ox(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(Ds(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Dy.set(t,r)}).catch(()=>{}),Gd.set(e,r),e}function ax(r){if(pd.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});pd.set(r,e)}let md={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return pd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||My.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function lx(r){md=r(md)}function ux(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(rd(this),e,...t);return My.set(i,e.sort?e.sort():[e]),Ds(i)}:ix().includes(r)?function(...e){return r.apply(rd(this),e),Ds(Dy.get(this))}:function(...e){return Ds(r.apply(rd(this),e))}}function cx(r){return typeof r=="function"?ux(r):(r instanceof IDBTransaction&&ax(r),rx(r,sx())?new Proxy(r,md):r)}function Ds(r){if(r instanceof IDBRequest)return ox(r);if(nd.has(r))return nd.get(r);const e=cx(r);return e!==r&&(nd.set(r,e),Gd.set(e,r)),e}const rd=r=>Gd.get(r);function hx(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=Ds(h);return i&&h.addEventListener("upgradeneeded",y=>{i(Ds(h.result),y.oldVersion,y.newVersion,Ds(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),f.then(y=>{l&&y.addEventListener("close",()=>l()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),f}const dx=["get","getKey","getAll","getAllKeys","count"],fx=["put","add","delete","clear"],sd=new Map;function ug(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(sd.get(e))return sd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=fx.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||dx.includes(t)))return;const l=async function(h,...f){const y=this.transaction(h,o?"readwrite":"readonly");let _=y.store;return i&&(_=_.index(f.shift())),(await Promise.all([_[t](...f),o&&y.done]))[0]};return sd.set(e,l),l}lx(r=>({...r,get:(e,t,i)=>ug(e,t)||r.get(e,t,i),has:(e,t)=>!!ug(e,t)||r.has(e,t)}));class px{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mx(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function mx(r){const e=r.getComponent();return e?.type==="VERSION"}const gd="@firebase/app",cg="0.10.13";const Qr=new Wd("@firebase/app"),gx="@firebase/app-compat",yx="@firebase/analytics-compat",vx="@firebase/analytics",_x="@firebase/app-check-compat",wx="@firebase/app-check",xx="@firebase/auth",Ex="@firebase/auth-compat",Tx="@firebase/database",Ix="@firebase/data-connect",kx="@firebase/database-compat",Sx="@firebase/functions",Ax="@firebase/functions-compat",Cx="@firebase/installations",Rx="@firebase/installations-compat",Nx="@firebase/messaging",bx="@firebase/messaging-compat",Px="@firebase/performance",jx="@firebase/performance-compat",Dx="@firebase/remote-config",Mx="@firebase/remote-config-compat",Ox="@firebase/storage",Vx="@firebase/storage-compat",Lx="@firebase/firestore",Ux="@firebase/vertexai-preview",Fx="@firebase/firestore-compat",zx="firebase",Bx="10.14.1";const yd="[DEFAULT]",$x={[gd]:"fire-core",[gx]:"fire-core-compat",[vx]:"fire-analytics",[yx]:"fire-analytics-compat",[wx]:"fire-app-check",[_x]:"fire-app-check-compat",[xx]:"fire-auth",[Ex]:"fire-auth-compat",[Tx]:"fire-rtdb",[Ix]:"fire-data-connect",[kx]:"fire-rtdb-compat",[Sx]:"fire-fn",[Ax]:"fire-fn-compat",[Cx]:"fire-iid",[Rx]:"fire-iid-compat",[Nx]:"fire-fcm",[bx]:"fire-fcm-compat",[Px]:"fire-perf",[jx]:"fire-perf-compat",[Dx]:"fire-rc",[Mx]:"fire-rc-compat",[Ox]:"fire-gcs",[Vx]:"fire-gcs-compat",[Lx]:"fire-fst",[Fx]:"fire-fst-compat",[Ux]:"fire-vertex","fire-js":"fire-js",[zx]:"fire-js-all"};const Wu=new Map,Hx=new Map,vd=new Map;function hg(r,e){try{r.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ai(r){const e=r.name;if(vd.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;vd.set(e,r);for(const t of Wu.values())hg(t,r);for(const t of Hx.values())hg(t,r);return!0}function uc(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Hr(r){return r.settings!==void 0}const qx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new Ya("app","Firebase",qx);class Wx{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}const ji=Bx;function Oy(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:yd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ms.create("bad-app-name",{appName:String(o)});if(t||(t=by()),!t)throw Ms.create("no-options");const l=Wu.get(o);if(l){if(qu(t,l.options)&&qu(i,l.config))return l;throw Ms.create("duplicate-app",{appName:o})}const h=new Jw(o);for(const y of vd.values())h.addComponent(y);const f=new Wx(t,i,h);return Wu.set(o,f),f}function Kd(r=yd){const e=Wu.get(r);if(!e&&r===yd&&by())return Oy();if(!e)throw Ms.create("no-app",{appName:r});return e}function mr(r,e,t){var i;let o=(i=$x[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(f.join(" "));return}Ai(new Ls(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const Gx="firebase-heartbeat-database",Kx=1,Fa="firebase-heartbeat-store";let id=null;function Vy(){return id||(id=hx(Gx,Kx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fa)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ms.create("idb-open",{originalErrorMessage:r.message})})),id}async function Qx(r){try{const t=(await Vy()).transaction(Fa),i=await t.objectStore(Fa).get(Ly(r));return await t.done,i}catch(e){if(e instanceof Tr)Qr.warn(e.message);else{const t=Ms.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(t.message)}}}async function dg(r,e){try{const i=(await Vy()).transaction(Fa,"readwrite");await i.objectStore(Fa).put(e,Ly(r)),await i.done}catch(t){if(t instanceof Tr)Qr.warn(t.message);else{const i=Ms.create("idb-set",{originalErrorMessage:t?.message});Qr.warn(i.message)}}}function Ly(r){return`${r.name}!${r.options.appId}`}const Xx=1024,Yx=720*60*60*1e3;class Jx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new e1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=fg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=Yx}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Qr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fg(),{heartbeatsToSend:i,unsentEntries:o}=Zx(this._heartbeatsCache.heartbeats),l=Hu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Qr.warn(t),""}}}function fg(){return new Date().toISOString().substring(0,10)}function Zx(r,e=Xx){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),pg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),pg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class e1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fw()?zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Qx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return dg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return dg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function pg(r){return Hu(JSON.stringify({version:2,heartbeats:r})).length}function t1(r){Ai(new Ls("platform-logger",e=>new px(e),"PRIVATE")),Ai(new Ls("heartbeat",e=>new Jx(e),"PRIVATE")),mr(gd,cg,r),mr(gd,cg,"esm2017"),mr("fire-js","")}t1("");var mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ii,Uy;(function(){var r;function e(C,T){function k(){}k.prototype=T.prototype,C.D=T.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(N,j,V){for(var S=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)S[lt-2]=arguments[lt];return T.prototype[j].apply(N,S)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,T,k){k||(k=0);var N=Array(16);if(typeof T=="string")for(var j=0;16>j;++j)N[j]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(j=0;16>j;++j)N[j]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=C.g[0],k=C.g[1],j=C.g[2];var V=C.g[3],S=T+(V^k&(j^V))+N[0]+3614090360&4294967295;T=k+(S<<7&4294967295|S>>>25),S=V+(j^T&(k^j))+N[1]+3905402710&4294967295,V=T+(S<<12&4294967295|S>>>20),S=j+(k^V&(T^k))+N[2]+606105819&4294967295,j=V+(S<<17&4294967295|S>>>15),S=k+(T^j&(V^T))+N[3]+3250441966&4294967295,k=j+(S<<22&4294967295|S>>>10),S=T+(V^k&(j^V))+N[4]+4118548399&4294967295,T=k+(S<<7&4294967295|S>>>25),S=V+(j^T&(k^j))+N[5]+1200080426&4294967295,V=T+(S<<12&4294967295|S>>>20),S=j+(k^V&(T^k))+N[6]+2821735955&4294967295,j=V+(S<<17&4294967295|S>>>15),S=k+(T^j&(V^T))+N[7]+4249261313&4294967295,k=j+(S<<22&4294967295|S>>>10),S=T+(V^k&(j^V))+N[8]+1770035416&4294967295,T=k+(S<<7&4294967295|S>>>25),S=V+(j^T&(k^j))+N[9]+2336552879&4294967295,V=T+(S<<12&4294967295|S>>>20),S=j+(k^V&(T^k))+N[10]+4294925233&4294967295,j=V+(S<<17&4294967295|S>>>15),S=k+(T^j&(V^T))+N[11]+2304563134&4294967295,k=j+(S<<22&4294967295|S>>>10),S=T+(V^k&(j^V))+N[12]+1804603682&4294967295,T=k+(S<<7&4294967295|S>>>25),S=V+(j^T&(k^j))+N[13]+4254626195&4294967295,V=T+(S<<12&4294967295|S>>>20),S=j+(k^V&(T^k))+N[14]+2792965006&4294967295,j=V+(S<<17&4294967295|S>>>15),S=k+(T^j&(V^T))+N[15]+1236535329&4294967295,k=j+(S<<22&4294967295|S>>>10),S=T+(j^V&(k^j))+N[1]+4129170786&4294967295,T=k+(S<<5&4294967295|S>>>27),S=V+(k^j&(T^k))+N[6]+3225465664&4294967295,V=T+(S<<9&4294967295|S>>>23),S=j+(T^k&(V^T))+N[11]+643717713&4294967295,j=V+(S<<14&4294967295|S>>>18),S=k+(V^T&(j^V))+N[0]+3921069994&4294967295,k=j+(S<<20&4294967295|S>>>12),S=T+(j^V&(k^j))+N[5]+3593408605&4294967295,T=k+(S<<5&4294967295|S>>>27),S=V+(k^j&(T^k))+N[10]+38016083&4294967295,V=T+(S<<9&4294967295|S>>>23),S=j+(T^k&(V^T))+N[15]+3634488961&4294967295,j=V+(S<<14&4294967295|S>>>18),S=k+(V^T&(j^V))+N[4]+3889429448&4294967295,k=j+(S<<20&4294967295|S>>>12),S=T+(j^V&(k^j))+N[9]+568446438&4294967295,T=k+(S<<5&4294967295|S>>>27),S=V+(k^j&(T^k))+N[14]+3275163606&4294967295,V=T+(S<<9&4294967295|S>>>23),S=j+(T^k&(V^T))+N[3]+4107603335&4294967295,j=V+(S<<14&4294967295|S>>>18),S=k+(V^T&(j^V))+N[8]+1163531501&4294967295,k=j+(S<<20&4294967295|S>>>12),S=T+(j^V&(k^j))+N[13]+2850285829&4294967295,T=k+(S<<5&4294967295|S>>>27),S=V+(k^j&(T^k))+N[2]+4243563512&4294967295,V=T+(S<<9&4294967295|S>>>23),S=j+(T^k&(V^T))+N[7]+1735328473&4294967295,j=V+(S<<14&4294967295|S>>>18),S=k+(V^T&(j^V))+N[12]+2368359562&4294967295,k=j+(S<<20&4294967295|S>>>12),S=T+(k^j^V)+N[5]+4294588738&4294967295,T=k+(S<<4&4294967295|S>>>28),S=V+(T^k^j)+N[8]+2272392833&4294967295,V=T+(S<<11&4294967295|S>>>21),S=j+(V^T^k)+N[11]+1839030562&4294967295,j=V+(S<<16&4294967295|S>>>16),S=k+(j^V^T)+N[14]+4259657740&4294967295,k=j+(S<<23&4294967295|S>>>9),S=T+(k^j^V)+N[1]+2763975236&4294967295,T=k+(S<<4&4294967295|S>>>28),S=V+(T^k^j)+N[4]+1272893353&4294967295,V=T+(S<<11&4294967295|S>>>21),S=j+(V^T^k)+N[7]+4139469664&4294967295,j=V+(S<<16&4294967295|S>>>16),S=k+(j^V^T)+N[10]+3200236656&4294967295,k=j+(S<<23&4294967295|S>>>9),S=T+(k^j^V)+N[13]+681279174&4294967295,T=k+(S<<4&4294967295|S>>>28),S=V+(T^k^j)+N[0]+3936430074&4294967295,V=T+(S<<11&4294967295|S>>>21),S=j+(V^T^k)+N[3]+3572445317&4294967295,j=V+(S<<16&4294967295|S>>>16),S=k+(j^V^T)+N[6]+76029189&4294967295,k=j+(S<<23&4294967295|S>>>9),S=T+(k^j^V)+N[9]+3654602809&4294967295,T=k+(S<<4&4294967295|S>>>28),S=V+(T^k^j)+N[12]+3873151461&4294967295,V=T+(S<<11&4294967295|S>>>21),S=j+(V^T^k)+N[15]+530742520&4294967295,j=V+(S<<16&4294967295|S>>>16),S=k+(j^V^T)+N[2]+3299628645&4294967295,k=j+(S<<23&4294967295|S>>>9),S=T+(j^(k|~V))+N[0]+4096336452&4294967295,T=k+(S<<6&4294967295|S>>>26),S=V+(k^(T|~j))+N[7]+1126891415&4294967295,V=T+(S<<10&4294967295|S>>>22),S=j+(T^(V|~k))+N[14]+2878612391&4294967295,j=V+(S<<15&4294967295|S>>>17),S=k+(V^(j|~T))+N[5]+4237533241&4294967295,k=j+(S<<21&4294967295|S>>>11),S=T+(j^(k|~V))+N[12]+1700485571&4294967295,T=k+(S<<6&4294967295|S>>>26),S=V+(k^(T|~j))+N[3]+2399980690&4294967295,V=T+(S<<10&4294967295|S>>>22),S=j+(T^(V|~k))+N[10]+4293915773&4294967295,j=V+(S<<15&4294967295|S>>>17),S=k+(V^(j|~T))+N[1]+2240044497&4294967295,k=j+(S<<21&4294967295|S>>>11),S=T+(j^(k|~V))+N[8]+1873313359&4294967295,T=k+(S<<6&4294967295|S>>>26),S=V+(k^(T|~j))+N[15]+4264355552&4294967295,V=T+(S<<10&4294967295|S>>>22),S=j+(T^(V|~k))+N[6]+2734768916&4294967295,j=V+(S<<15&4294967295|S>>>17),S=k+(V^(j|~T))+N[13]+1309151649&4294967295,k=j+(S<<21&4294967295|S>>>11),S=T+(j^(k|~V))+N[4]+4149444226&4294967295,T=k+(S<<6&4294967295|S>>>26),S=V+(k^(T|~j))+N[11]+3174756917&4294967295,V=T+(S<<10&4294967295|S>>>22),S=j+(T^(V|~k))+N[2]+718787259&4294967295,j=V+(S<<15&4294967295|S>>>17),S=k+(V^(j|~T))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(j+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+V&4294967295}i.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var k=T-this.blockSize,N=this.B,j=this.h,V=0;V<T;){if(j==0)for(;V<=k;)o(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<T;)if(N[j++]=C.charCodeAt(V++),j==this.blockSize){o(this,N),j=0;break}}else for(;V<T;)if(N[j++]=C[V++],j==this.blockSize){o(this,N),j=0;break}}this.h=j,this.o+=T},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var k=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=k&255,k/=256;for(this.u(C),C=Array(16),T=k=0;4>T;++T)for(var N=0;32>N;N+=8)C[k++]=this.g[T]>>>N&255;return C};function l(C,T){var k=f;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=T(C)}function h(C,T){this.h=T;for(var k=[],N=!0,j=C.length-1;0<=j;j--){var V=C[j]|0;N&&V==T||(k[j]=V,N=!1)}this.g=k}var f={};function y(C){return-128<=C&&128>C?l(C,function(T){return new h([T|0],0>T?-1:0)}):new h([C|0],0>C?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(0>C)return L(_(-C));for(var T=[],k=1,N=0;C>=k;N++)T[N]=C/k|0,k*=4294967296;return new h(T,0)}function E(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return L(E(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=_(Math.pow(T,8)),N=A,j=0;j<C.length;j+=8){var V=Math.min(8,C.length-j),S=parseInt(C.substring(j,j+V),T);8>V?(V=_(Math.pow(T,V)),N=N.j(V).add(_(S))):(N=N.j(k),N=N.add(_(S)))}return N}var A=y(0),b=y(1),D=y(16777216);r=h.prototype,r.m=function(){if(O(this))return-L(this).m();for(var C=0,T=1,k=0;k<this.g.length;k++){var N=this.i(k);C+=(0<=N?N:4294967296+N)*T,T*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(F(this))return"0";if(O(this))return"-"+L(this).toString(C);for(var T=_(Math.pow(C,6)),k=this,N="";;){var j=ie(k,T).g;k=q(k,j.j(T));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=j,F(k))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function F(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function O(C){return C.h==-1}r.l=function(C){return C=q(this,C),O(C)?-1:F(C)?0:1};function L(C){for(var T=C.g.length,k=[],N=0;N<T;N++)k[N]=~C.g[N];return new h(k,~C.h).add(b)}r.abs=function(){return O(this)?L(this):this},r.add=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],N=0,j=0;j<=T;j++){var V=N+(this.i(j)&65535)+(C.i(j)&65535),S=(V>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);N=S>>>16,V&=65535,S&=65535,k[j]=S<<16|V}return new h(k,k[k.length-1]&-2147483648?-1:0)};function q(C,T){return C.add(L(T))}r.j=function(C){if(F(this)||F(C))return A;if(O(this))return O(C)?L(this).j(L(C)):L(L(this).j(C));if(O(C))return L(this.j(L(C)));if(0>this.l(D)&&0>C.l(D))return _(this.m()*C.m());for(var T=this.g.length+C.g.length,k=[],N=0;N<2*T;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var j=0;j<C.g.length;j++){var V=this.i(N)>>>16,S=this.i(N)&65535,lt=C.i(j)>>>16,xt=C.i(j)&65535;k[2*N+2*j]+=S*xt,B(k,2*N+2*j),k[2*N+2*j+1]+=V*xt,B(k,2*N+2*j+1),k[2*N+2*j+1]+=S*lt,B(k,2*N+2*j+1),k[2*N+2*j+2]+=V*lt,B(k,2*N+2*j+2)}for(N=0;N<T;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=T;N<2*T;N++)k[N]=0;return new h(k,0)};function B(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function re(C,T){this.g=C,this.h=T}function ie(C,T){if(F(T))throw Error("division by zero");if(F(C))return new re(A,A);if(O(C))return T=ie(L(C),T),new re(L(T.g),L(T.h));if(O(T))return T=ie(C,L(T)),new re(L(T.g),T.h);if(30<C.g.length){if(O(C)||O(T))throw Error("slowDivide_ only works with positive integers.");for(var k=b,N=T;0>=N.l(C);)k=Te(k),N=Te(N);var j=ae(k,1),V=ae(N,1);for(N=ae(N,2),k=ae(k,2);!F(N);){var S=V.add(N);0>=S.l(C)&&(j=j.add(k),V=S),N=ae(N,1),k=ae(k,1)}return T=q(C,j.j(T)),new re(j,T)}for(j=A;0<=C.l(T);){for(k=Math.max(1,Math.floor(C.m()/T.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=_(k),S=V.j(T);O(S)||0<S.l(C);)k-=N,V=_(k),S=V.j(T);F(V)&&(V=b),j=j.add(V),C=q(C,S)}return new re(j,C)}r.A=function(C){return ie(this,C).h},r.and=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],N=0;N<T;N++)k[N]=this.i(N)&C.i(N);return new h(k,this.h&C.h)},r.or=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],N=0;N<T;N++)k[N]=this.i(N)|C.i(N);return new h(k,this.h|C.h)},r.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],N=0;N<T;N++)k[N]=this.i(N)^C.i(N);return new h(k,this.h^C.h)};function Te(C){for(var T=C.g.length+1,k=[],N=0;N<T;N++)k[N]=C.i(N)<<1|C.i(N-1)>>>31;return new h(k,C.h)}function ae(C,T){var k=T>>5;T%=32;for(var N=C.g.length-k,j=[],V=0;V<N;V++)j[V]=0<T?C.i(V+k)>>>T|C.i(V+k+1)<<32-T:C.i(V+k);return new h(j,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Uy=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,Ii=h}).apply(typeof mg<"u"?mg:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fy,Ra,zy,Du,_d,By,$y,Hy;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,p){if(p)e:{var v=i;u=u.split(".");for(var x=0;x<u.length-1;x++){var U=u[x];if(!(U in v))break e;v=v[U]}u=u[u.length-1],x=v[u],p=p(x),p!=x&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var v=0,x=!1,U={next:function(){if(!x&&v<u.length){var W=v++;return{value:p(W,u[W]),done:!1}}return x=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,v){return v})}});var h=h||{},f=this||self;function y(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function _(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,v){return u.call.apply(u.bind,arguments)}function A(u,p,v){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,x),u.apply(p,U)}}return function(){return u.apply(p,arguments)}}function b(u,p,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,b.apply(null,arguments)}function D(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function F(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(x,U,W){for(var te=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)te[Ye-2]=arguments[Ye];return p.prototype[U].apply(x,te)}}function O(u){const p=u.length;if(0<p){const v=Array(p);for(let x=0;x<p;x++)v[x]=u[x];return v}return[]}function L(u,p){for(let v=1;v<arguments.length;v++){const x=arguments[v];if(y(x)){const U=u.length||0,W=x.length||0;u.length=U+W;for(let te=0;te<W;te++)u[U+te]=x[te]}else u.push(x)}}class q{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function B(u){return/^[\s\xa0]*$/.test(u)}function re(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ie(u){return ie[" "](u),u}ie[" "]=function(){};var Te=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ae(u,p,v){for(const x in u)p.call(v,u[x],x,u)}function C(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function T(u){const p={};for(const v in u)p[v]=u[v];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,p){let v,x;for(let U=1;U<arguments.length;U++){x=arguments[U];for(v in x)u[v]=x[v];for(let W=0;W<k.length;W++)v=k[W],Object.prototype.hasOwnProperty.call(x,v)&&(u[v]=x[v])}}function j(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function V(u){f.setTimeout(()=>{throw u},0)}function S(){var u=ye;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class lt{constructor(){this.h=this.g=null}add(p,v){const x=xt.get();x.set(p,v),this.h?this.h.next=x:this.g=x,this.h=x}}var xt=new q(()=>new Nt,u=>u.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let He,ne=!1,ye=new lt,le=()=>{const u=f.Promise.resolve(void 0);He=()=>{u.then(M)}};var M=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(v){V(v)}var p=xt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ne=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return u})();function be(u,p){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(Te){e:{try{ie(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:je[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&be.aa.h.call(this)}}F(be,ge);var je={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Xe(u,p,v,x,U){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!x,this.ha=U,this.key=++Ve,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function on(u){this.src=u,this.g={},this.h=0}on.prototype.add=function(u,p,v,x,U){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var te=nr(u,p,x,U);return-1<te?(p=u[te],v||(p.fa=!1)):(p=new Xe(p,this.src,W,!!x,U),p.fa=v,u.push(p)),p};function Zr(u,p){var v=p.type;if(v in u.g){var x=u.g[v],U=Array.prototype.indexOf.call(x,p,void 0),W;(W=0<=U)&&Array.prototype.splice.call(x,U,1),W&&(ft(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function nr(u,p,v,x){for(var U=0;U<u.length;++U){var W=u[U];if(!W.da&&W.listener==p&&W.capture==!!v&&W.ha==x)return U}return-1}var kn="closure_lm_"+(1e6*Math.random()|0),Ir={};function Bs(u,p,v,x,U){if(Array.isArray(p)){for(var W=0;W<p.length;W++)Bs(u,p[W],v,x,U);return null}return v=Hs(v),u&&u[Oe]?u.K(p,v,_(x)?!!x.capture:!1,U):es(u,p,v,!1,x,U)}function es(u,p,v,x,U,W){if(!p)throw Error("Invalid event type");var te=_(U)?!!U.capture:!!U,Ye=ts(u);if(Ye||(u[kn]=Ye=new on(u)),v=Ye.add(p,v,x,te,W),v.proxy)return v;if(x=Oi(),v.proxy=x,x.src=u,x.listener=v,u.addEventListener)Ae||(U=te),U===void 0&&(U=!1),u.addEventListener(p.toString(),x,U);else if(u.attachEvent)u.attachEvent(On(p.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Oi(){function u(v){return p.call(u.src,u.listener,v)}const p=$s;return u}function kr(u,p,v,x,U){if(Array.isArray(p))for(var W=0;W<p.length;W++)kr(u,p[W],v,x,U);else x=_(x)?!!x.capture:!!x,v=Hs(v),u&&u[Oe]?(u=u.i,p=String(p).toString(),p in u.g&&(W=u.g[p],v=nr(W,v,x,U),-1<v&&(ft(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete u.g[p],u.h--)))):u&&(u=ts(u))&&(p=u.g[p.toString()],u=-1,p&&(u=nr(p,v,x,U)),(v=-1<u?p[u]:null)&&Ze(v))}function Ze(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Oe])Zr(p.i,u);else{var v=u.type,x=u.proxy;p.removeEventListener?p.removeEventListener(v,x,u.capture):p.detachEvent?p.detachEvent(On(v),x):p.addListener&&p.removeListener&&p.removeListener(x),(v=ts(p))?(Zr(v,u),v.h==0&&(v.src=null,p[kn]=null)):ft(u)}}}function On(u){return u in Ir?Ir[u]:Ir[u]="on"+u}function $s(u,p){if(u.da)u=!0;else{p=new be(p,this);var v=u.listener,x=u.ha||u.src;u.fa&&Ze(u),u=v.call(x,p)}return u}function ts(u){return u=u[kn],u instanceof on?u:null}var ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hs(u){return typeof u=="function"?u:(u[ns]||(u[ns]=function(p){return u.handleEvent(p)}),u[ns])}function yt(){G.call(this),this.i=new on(this),this.M=this,this.F=null}F(yt,G),yt.prototype[Oe]=!0,yt.prototype.removeEventListener=function(u,p,v,x){kr(this,u,p,v,x)};function vt(u,p){var v,x=u.F;if(x)for(v=[];x;x=x.F)v.push(x);if(u=u.M,x=p.type||p,typeof p=="string")p=new ge(p,u);else if(p instanceof ge)p.target=p.target||u;else{var U=p;p=new ge(x,u),N(p,U)}if(U=!0,v)for(var W=v.length-1;0<=W;W--){var te=p.g=v[W];U=Vn(te,x,!0,p)&&U}if(te=p.g=u,U=Vn(te,x,!0,p)&&U,U=Vn(te,x,!1,p)&&U,v)for(W=0;W<v.length;W++)te=p.g=v[W],U=Vn(te,x,!1,p)&&U}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],x=0;x<v.length;x++)ft(v[x]);delete u.g[p],u.h--}}this.F=null},yt.prototype.K=function(u,p,v,x){return this.i.add(String(u),p,!1,v,x)},yt.prototype.L=function(u,p,v,x){return this.i.add(String(u),p,!0,v,x)};function Vn(u,p,v,x){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,W=0;W<p.length;++W){var te=p[W];if(te&&!te.da&&te.capture==v){var Ye=te.listener,kt=te.ha||te.src;te.fa&&Zr(u.i,te),U=Ye.call(kt,x)!==!1&&U}}return U&&!x.defaultPrevented}function qs(u,p,v){if(typeof u=="function")v&&(u=b(u,v));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function rr(u){u.g=qs(()=>{u.g=null,u.i&&(u.i=!1,rr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Sr extends G{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:rr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(u){G.call(this),this.h=u,this.g={}}F(Ar,G);var Ws=[];function Gs(u){ae(u.g,function(p,v){this.g.hasOwnProperty(v)&&Ze(p)},u),u.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),Gs(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=f.JSON.stringify,Qs=f.JSON.parse,Xs=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Cr(){}Cr.prototype.h=null;function rs(u){return u.h||(u.h=u.i())}function ss(){}var an={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ee(){ge.call(this,"d")}F(ee,ge);function se(){ge.call(this,"c")}F(se,ge);var oe={},qe=null;function Pe(){return qe=qe||new yt}oe.La="serverreachability";function Le(u){ge.call(this,oe.La,u)}F(Le,ge);function Qe(u){const p=Pe();vt(p,new Le(p))}oe.STAT_EVENT="statevent";function ze(u,p){ge.call(this,oe.STAT_EVENT,u),this.stat=p}F(ze,ge);function Ne(u){const p=Pe();vt(p,new ze(p,u))}oe.Ma="timingevent";function Ln(u,p){ge.call(this,oe.Ma,u),this.size=p}F(Ln,ge);function Zt(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Ys(){this.g=!0}Ys.prototype.xa=function(){this.g=!1};function Js(u,p,v,x,U,W){u.info(function(){if(u.g)if(W)for(var te="",Ye=W.split("&"),kt=0;kt<Ye.length;kt++){var Be=Ye[kt].split("=");if(1<Be.length){var bt=Be[0];Be=Be[1];var Et=bt.split("_");te=2<=Et.length&&Et[1]=="type"?te+(bt+"="+Be+"&"):te+(bt+"=redacted&")}}else te=null;else te=W;return"XMLHTTP REQ ("+x+") [attempt "+U+"]: "+p+`
`+v+`
`+te})}function Vi(u,p,v,x,U,W,te){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+U+"]: "+p+`
`+v+`
`+W+" "+te})}function Un(u,p,v,x){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ic(u,v)+(x?" "+x:"")})}function qo(u,p){u.info(function(){return"TIMEOUT: "+p})}Ys.prototype.info=function(){};function Ic(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var x=v[u];if(!(2>x.length)){var U=x[1];if(Array.isArray(U)&&!(1>U.length)){var W=U[0];if(W!="noop"&&W!="stop"&&W!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return Ks(v)}catch{return p}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Zs(){}F(Zs,Cr),Zs.prototype.g=function(){return new XMLHttpRequest},Zs.prototype.i=function(){return{}},Fn=new Zs;function zn(u,p,v,x){this.j=u,this.i=p,this.l=v,this.R=x||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hl}function hl(){this.i=null,this.g="",this.h=!1}var Wo={},Ui={};function Fi(u,p,v){u.L=1,u.v=us(yn(p)),u.m=v,u.P=!0,Go(u,null)}function Go(u,p){u.F=Date.now(),tt(u),u.A=yn(u.v);var v=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),hs(v.i,"t",x),u.C=0,v=u.j.J,u.h=new hl,u.g=Rl(u.j,v?p:null,!u.m),0<u.O&&(u.M=new Sr(b(u.Y,u,u.g),u.O)),p=u.U,v=u.g,x=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ws[0]=U.toString()),U=Ws);for(var W=0;W<U.length;W++){var te=Bs(v,U[W],x||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Qe(),Js(u.i,u.u,u.A,u.l,u.R,u.m)}zn.prototype.ca=function(u){u=u.target;const p=this.M;p&&un(u)==3?p.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)e:{const Et=un(this.g);var p=this.g.Ba();const Cn=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Zo(this.g)))){this.J||Et!=4||p==7||(p==8||0>=Cn?Qe(3):Qe(2)),ei(this);var v=this.g.Z();this.X=v;t:if(dl(this)){var x=Zo(this.g);u="";var U=x.length,W=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),is(this);var te="";break t}this.h.i=new f.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,u+=this.h.i.decode(x[p],{stream:!(W&&p==U-1)});x.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,Vi(this.i,this.u,this.A,this.l,this.R,Et,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,kt=this.g;if((Ye=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ye)){var Be=Ye;break t}}Be=null}if(v=Be)Un(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ko(this,v);else{this.o=!1,this.s=3,Ne(12),Sn(this),is(this);break e}}if(this.P){v=!0;let _n;for(;!this.J&&this.C<te.length;)if(_n=kc(this,te),_n==Ui){Et==4&&(this.s=4,Ne(14),v=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Wo){this.s=4,Ne(15),Un(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else Un(this.i,this.l,_n,null),Ko(this,_n);if(dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||te.length!=0||this.h.h||(this.s=1,Ne(16),v=!1),this.o=this.o&&v,!v)Un(this.i,this.l,te,"[Invalid Chunked Response]"),Sn(this),is(this);else if(0<te.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),ta(bt),bt.M=!0,Ne(11))}}else Un(this.i,this.l,te,null),Ko(this,te);Et==4&&Sn(this),this.o&&!this.J&&(Et==4?Yi(this.j,this):(this.o=!1,tt(this)))}else Wi(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Sn(this),is(this)}}}catch{}};function dl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function kc(u,p){var v=u.C,x=p.indexOf(`
`,v);return x==-1?Ui:(v=Number(p.substring(v,x)),isNaN(v)?Wo:(x+=1,x+v>p.length?Ui:(p=p.slice(x,x+v),u.C=x+v,p)))}zn.prototype.cancel=function(){this.J=!0,Sn(this)};function tt(u){u.S=Date.now()+u.I,fl(u,u.I)}function fl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Zt(b(u.ba,u),p)}function ei(u){u.B&&(f.clearTimeout(u.B),u.B=null)}zn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(qo(this.i,this.A),this.L!=2&&(Qe(),Ne(17)),Sn(this),this.s=2,is(this)):fl(this,this.S-u)};function is(u){u.j.G==0||u.J||Yi(u.j,u)}function Sn(u){ei(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Gs(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Ko(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||en(v.h,u))){if(!u.K&&en(v.h,u)&&v.G==3){try{var x=v.Da.g.parse(p)}catch{x=null}if(Array.isArray(x)&&x.length==3){var U=x;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Xi(v),Wn(v);else break e;Qi(v),Ne(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Zt(b(v.Za,v),6e3));if(1>=ml(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else jr(v,11)}else if((u.K||v.g==u)&&Xi(v),!B(p))for(U=v.Da.g.parse(p),p=0;p<U.length;p++){let Be=U[p];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const bt=Be[3];bt!=null&&(v.la=bt,v.j.info("VER="+v.la));const Et=Be[4];Et!=null&&(v.Aa=Et,v.j.info("SVER="+v.Aa));const Cn=Be[5];Cn!=null&&typeof Cn=="number"&&0<Cn&&(x=1.5*Cn,v.L=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const _n=u.g;if(_n){const ai=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var W=x.h;W.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Qo(W,W.h),W.h=null))}if(x.D){const Zi=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Zi&&(x.ya=Zi,et(x.I,x.D,Zi))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),x=v;var te=u;if(x.qa=Cl(x,x.J?x.ia:null,x.W),te.K){gl(x.h,te);var Ye=te,kt=x.L;kt&&(Ye.I=kt),Ye.B&&(ei(Ye),tt(Ye)),x.g=te}else oi(x);0<v.i.length&&ar(v)}else Be[0]!="stop"&&Be[0]!="close"||jr(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?jr(v,7):Lt(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}Qe(4)}catch{}}var pl=class{constructor(u,p){this.g=u,this.map=p}};function ti(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ml(u){return u.h?1:u.g?u.g.size:0}function en(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Qo(u,p){u.g?u.g.add(p):u.h=p}function gl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ti.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return O(u.i)}function zi(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var p=[],v=u.length,x=0;x<v;x++)p.push(u[x]);return p}p=[],v=0;for(x in u)p[v++]=u[x];return p}function Bi(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const x in u)p[v++]=x;return p}}}function os(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=Bi(u),x=zi(u),U=x.length,W=0;W<U;W++)p.call(void 0,x[W],v&&v[W],u)}var ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sc(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var x=u[v].indexOf("="),U=null;if(0<=x){var W=u[v].substring(0,x);U=u[v].substring(x+1)}else W=u[v];p(W,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Rr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Rr){this.h=u.h,ri(this,u.j),this.o=u.o,this.g=u.g,as(this,u.s),this.l=u.l;var p=u.i,v=new sr;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),ls(this,v),this.m=u.m}else u&&(p=String(u).match(ni))?(this.h=!1,ri(this,p[1]||"",!0),this.o=Ue(p[2]||""),this.g=Ue(p[3]||"",!0),as(this,p[4]),this.l=Ue(p[5]||"",!0),ls(this,p[6]||"",!0),this.m=Ue(p[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}Rr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(cs(p,$i,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(cs(p,$i,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(cs(v,v.charAt(0)=="/"?wl:_l,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",cs(v,Xo)),u.join("")};function yn(u){return new Rr(u)}function ri(u,p,v){u.j=v?Ue(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function ls(u,p,v){p instanceof sr?(u.i=p,ir(u.i,u.h)):(v||(p=cs(p,xl)),u.i=new sr(p,u.h))}function et(u,p,v){u.i.set(p,v)}function us(u){return et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ue(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cs(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,vl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $i=/[#\/\?@]/g,_l=/[#\?:]/g,wl=/[#\?]/g,xl=/[#\?@]/g,Xo=/#/g;function sr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Vt(u){u.g||(u.g=new Map,u.h=0,u.i&&Sc(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=sr.prototype,r.add=function(u,p){Vt(this),this.i=null,u=An(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function Bn(u,p){Vt(u),p=An(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function $n(u,p){return Vt(u),p=An(u,p),u.g.has(p)}r.forEach=function(u,p){Vt(this),this.g.forEach(function(v,x){v.forEach(function(U){u.call(p,U,x,this)},this)},this)},r.na=function(){Vt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let x=0;x<p.length;x++){const U=u[x];for(let W=0;W<U.length;W++)v.push(p[x])}return v},r.V=function(u){Vt(this);let p=[];if(typeof u=="string")$n(this,u)&&(p=p.concat(this.g.get(An(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},r.set=function(u,p){return Vt(this),this.i=null,u=An(this,u),$n(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function hs(u,p,v){Bn(u,p),0<v.length&&(u.i=null,u.g.set(An(u,p),O(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var x=p[v];const W=encodeURIComponent(String(x)),te=this.V(x);for(x=0;x<te.length;x++){var U=W;te[x]!==""&&(U+="="+encodeURIComponent(String(te[x]))),u.push(U)}}return this.i=u.join("&")};function An(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function ir(u,p){p&&!u.j&&(Vt(u),u.i=null,u.g.forEach(function(v,x){var U=x.toLowerCase();x!=U&&(Bn(this,x),hs(this,U,v))},u)),u.j=p}function Ac(u,p){const v=new Ys;if(f.Image){const x=new Image;x.onload=D(ln,v,"TestLoadImage: loaded",!0,p,x),x.onerror=D(ln,v,"TestLoadImage: error",!1,p,x),x.onabort=D(ln,v,"TestLoadImage: abort",!1,p,x),x.ontimeout=D(ln,v,"TestLoadImage: timeout",!1,p,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else p(!1)}function El(u,p){const v=new Ys,x=new AbortController,U=setTimeout(()=>{x.abort(),ln(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:x.signal}).then(W=>{clearTimeout(U),W.ok?ln(v,"TestPingServer: ok",!0,p):ln(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),ln(v,"TestPingServer: error",!1,p)})}function ln(u,p,v,x,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),x(v)}catch{}}function Cc(){this.g=new Xs}function Tl(u,p,v){const x=v||"";try{os(u,function(U,W){let te=U;_(U)&&(te=Ks(U)),p.push(x+W+"="+encodeURIComponent(te))})}catch(U){throw p.push(x+"type="+encodeURIComponent("_badmap")),U}}function Nr(u){this.l=u.Ub||null,this.j=u.eb||!1}F(Nr,Cr),Nr.prototype.g=function(){return new si(this.l,this.j)},Nr.prototype.i=(function(u){return function(){return u}})({});function si(u,p){yt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(si,yt),r=si.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Hn(this):qn(this),this.readyState==3&&Il(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},r.Qa=function(u){this.g&&(this.response=u,Hn(this))},r.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,qn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function br(u){let p="";return ae(u,function(v,x){p+=x,p+=":",p+=v,p+=`\r
`}),p}function ds(u,p,v){e:{for(x in v){var x=!1;break e}x=!0}x||(v=br(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):et(u,p,v))}function it(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(it,yt);var Rc=/^https?$/i,Yo=["POST","PUT"];r=it.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?rs(this.o):rs(Fn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(W){ii(this,W);return}if(u=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var U in x)v.set(U,x[U]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const W of x.keys())v.set(W,x.get(W));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Yo,p,void 0))||x||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,te]of v)this.g.setRequestHeader(W,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qi(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){ii(this,W)}};function ii(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Hi(u),vn(u)}function Hi(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,vt(this,"complete"),vt(this,"abort"),vn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),it.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Jo(this):this.bb())},r.bb=function(){Jo(this)};function Jo(u){if(u.h&&typeof h<"u"&&(!u.v[1]||un(u)!=4||u.Z()!=2)){if(u.u&&un(u)==4)qs(u.Ea,0,u);else if(vt(u,"readystatechange"),un(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var x;if(x=te===0){var U=String(u.D).match(ni)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),x=!Rc.test(U?U.toLowerCase():"")}v=x}if(v)vt(u,"complete"),vt(u,"success");else{u.m=6;try{var W=2<un(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Hi(u)}}finally{vn(u)}}}}function vn(u,p){if(u.g){qi(u);const v=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||vt(u,"ready");try{v.onreadystatechange=x}catch{}}}function qi(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function un(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Qs(p)}};function Zo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const p={};u=(u.g&&2<=un(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(B(u[x]))continue;var v=j(u[x]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=p[U]||[];p[U]=W,W.push(v)}C(p,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function ea(u){this.Aa=0,this.i=[],this.j=new Ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,u),this.cb=or("retryDelaySeedMs",1e4,u),this.Wa=or("forwardChannelMaxRetries",2,u),this.wa=or("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ti(u&&u.concurrentRequestLimit),this.Da=new Cc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ea.prototype,r.la=8,r.G=1,r.connect=function(u,p,v,x){Ne(0),this.W=u,this.H=p||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.I=Cl(this,null,this.W),ar(this)};function Lt(u){if(Gi(u),u.G==3){var p=u.U++,v=yn(u.I);if(et(v,"SID",u.K),et(v,"RID",p),et(v,"TYPE","terminate"),Pr(u,v),p=new zn(u,u.j,p),p.L=2,p.v=us(yn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.v,v=!0),v||(p.g=Rl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),tt(p)}Al(u)}function Wn(u){u.g&&(ta(u),u.g.cancel(),u.g=null)}function Gi(u){Wn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Xi(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ar(u){if(!gn(u.h)&&!u.s){u.s=!0;var p=u.Ga;He||le(),ne||(He(),ne=!0),ye.add(p,u),u.B=0}}function Nc(u,p){return ml(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Zt(b(u.Ga,u,p),Sl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new zn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=T(W),N(W,this.S)):W=this.S),this.m!==null||this.O||(U.H=W,W=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(p+=x,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=fs(this,U,p),v=yn(this.I),et(v,"RID",u),et(v,"CVER",22),this.D&&et(v,"X-HTTP-Session-Id",this.D),Pr(this,v),W&&(this.O?p="headers="+encodeURIComponent(String(br(W)))+"&"+p:this.m&&ds(v,this.m,W)),Qo(this.h,U),this.Ua&&et(v,"TYPE","init"),this.P?(et(v,"$req",p),et(v,"SID","null"),U.T=!0,Fi(U,v,null)):Fi(U,v,p),this.G=2}}else this.G==3&&(u?Ki(this,u):this.i.length==0||gn(this.h)||Ki(this))};function Ki(u,p){var v;p?v=p.l:v=u.U++;const x=yn(u.I);et(x,"SID",u.K),et(x,"RID",v),et(x,"AID",u.T),Pr(u,x),u.m&&u.o&&ds(x,u.m,u.o),v=new zn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=fs(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Qo(u.h,v),Fi(v,x,p)}function Pr(u,p){u.H&&ae(u.H,function(v,x){et(p,x,v)}),u.l&&os({},function(v,x){et(p,x,v)})}function fs(u,p,v){v=Math.min(u.i.length,v);var x=u.l?b(u.l.Na,u.l,u):null;e:{var U=u.i;let W=-1;for(;;){const te=["count="+v];W==-1?0<v?(W=U[0].g,te.push("ofs="+W)):W=0:te.push("ofs="+W);let Ye=!0;for(let kt=0;kt<v;kt++){let Be=U[kt].g;const bt=U[kt].map;if(Be-=W,0>Be)W=Math.max(0,U[kt].g-100),Ye=!1;else try{Tl(bt,te,"req"+Be+"_")}catch{x&&x(bt)}}if(Ye){x=te.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,x}function oi(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;He||le(),ne||(He(),ne=!0),ye.add(p,u),u.v=0}}function Qi(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Zt(b(u.Fa,u),Sl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Zt(b(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Wn(this),kl(this))};function ta(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function kl(u){u.g=new zn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=yn(u.qa);et(p,"RID","rpc"),et(p,"SID",u.K),et(p,"AID",u.T),et(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&et(p,"TO",u.ja),et(p,"TYPE","xmlhttp"),Pr(u,p),u.m&&u.o&&ds(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=us(yn(p)),v.m=null,v.P=!0,Go(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Wn(this),Qi(this),Ne(19))};function Xi(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Yi(u,p){var v=null;if(u.g==p){Xi(u),ta(u),u.g=null;var x=2}else if(en(u.h,p))v=p.D,gl(u.h,p),x=1;else return;if(u.G!=0){if(p.o)if(x==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var U=u.B;x=Pe(),vt(x,new Ln(x,v)),ar(u)}else oi(u);else if(U=p.s,U==3||U==0&&0<p.X||!(x==1&&Nc(u,p)||x==2&&Qi(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),U){case 1:jr(u,5);break;case 4:jr(u,10);break;case 3:jr(u,6);break;default:jr(u,2)}}}function Sl(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function jr(u,p){if(u.j.info("Error code "+p),p==2){var v=b(u.fb,u),x=u.Xa;const U=!x;x=new Rr(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ri(x,"https"),us(x),U?Ac(x.toString(),v):El(x.toString(),v)}else Ne(2);u.G=0,u.l&&u.l.sa(p),Al(u),Gi(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function Al(u){if(u.G=0,u.ka=[],u.l){const p=yl(u.h);(p.length!=0||u.i.length!=0)&&(L(u.ka,p),L(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function Cl(u,p,v){var x=v instanceof Rr?yn(v):new Rr(v);if(x.g!="")p&&(x.g=p+"."+x.g),as(x,x.s);else{var U=f.location;x=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var W=new Rr(null);x&&ri(W,x),p&&(W.g=p),U&&as(W,U),v&&(W.l=v),x=W}return v=u.D,p=u.ya,v&&p&&et(x,v,p),et(x,"VER",u.la),Pr(u,x),x}function Rl(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new it(new Nr({eb:v})):new it(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function na(){}r=na.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ji(){}Ji.prototype.g=function(u,p){return new tn(u,p)};function tn(u,p){yt.call(this),this.g=new ea(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!B(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!B(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new lr(this)}F(tn,yt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Lt(this.g)},tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ks(u),u=v);p.i.push(new pl(p.Ya++,u)),p.G==3&&ar(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,tn.aa.N.call(this)};function Nl(u){ee.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}F(Nl,ee);function bl(){se.call(this),this.status=1}F(bl,se);function lr(u){this.g=u}F(lr,na),lr.prototype.ua=function(){vt(this.g,"a")},lr.prototype.ta=function(u){vt(this.g,new Nl(u))},lr.prototype.sa=function(u){vt(this.g,new bl)},lr.prototype.ra=function(){vt(this.g,"b")},Ji.prototype.createWebChannel=Ji.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Hy=function(){return new Ji},$y=function(){return Pe()},By=oe,_d={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Du=Li,cl.COMPLETE="complete",zy=cl,ss.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Ra=ss,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,Fy=it}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const gg="@firebase/firestore";let Xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");let Fo="10.14.0";const Ci=new Wd("@firebase/firestore");function Aa(){return Ci.logLevel}function pe(r,...e){if(Ci.logLevel<=Fe.DEBUG){const t=e.map(Qd);Ci.debug(`Firestore (${Fo}): ${r}`,...t)}}function Xr(r,...e){if(Ci.logLevel<=Fe.ERROR){const t=e.map(Qd);Ci.error(`Firestore (${Fo}): ${r}`,...t)}}function Ro(r,...e){if(Ci.logLevel<=Fe.WARN){const t=e.map(Qd);Ci.warn(`Firestore (${Fo}): ${r}`,...t)}}function Qd(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Se(r="Unexpected state"){const e=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+r;throw Xr(e),new Error(e)}function Je(r,e){r||Se()}function Re(r,e){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class qy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xt.UNAUTHENTICATED)))}shutdown(){}}class r1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class s1{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0);let i=this.i;const o=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let l=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Os,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=l;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},f=y=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>f(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?f(y):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Os)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string"),new qy(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new Xt(e)}}class i1{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class o1{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new i1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Je(this.o===void 0);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Je(typeof t.token=="string"),this.R=t.token,new a1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function u1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class Wy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=u1(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ke(r,e){return r<e?-1:r>e?1:0}function No(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}class Rt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ve(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Rt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Rt(0,0))}static max(){return new Ce(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class za{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(),i===void 0?i=e.length-t:i>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return za.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class at extends za{construct(e,t,i){return new at(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new at(t)}static emptyPath(){return new at([])}}const c1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends za{construct(e,t,i){return new Bt(e,t,i)}static isValidIdentifier(e){return c1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ve(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ve(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ve(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new ve(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(at.fromString(e))}static fromName(e){return new xe(at.fromString(e).popFirst(5))}static empty(){return new xe(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new at(e.slice()))}}function h1(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(i===1e9?new Rt(t+1,0):new Rt(t,i));return new Us(o,xe.empty(),e)}function d1(r){return new Us(r.readTime,r.key,-1)}class Us{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Us(Ce.min(),xe.empty(),-1)}static max(){return new Us(Ce.max(),xe.empty(),-1)}}function f1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(r.documentKey,e.documentKey),t!==0?t:Ke(r.largestBatchId,e.largestBatchId))}const p1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Za(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==p1)throw r;pe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,i)=>{t(e)}))}static reject(e){return new X(((t,i)=>{i(e)}))}static waitFor(e){return new X(((t,i)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(y=>i(y)))})),h=!0,l===o&&t()}))}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next((o=>o?X.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new X(((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let y=0;y<l;y++){const _=y;t(e[_]).next((E=>{h[_]=E,++f,f===l&&i(h)}),(E=>o(E)))}}))}static doWhile(e,t){return new X(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function g1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function el(r){return r.name==="IndexedDbTransactionError"}class Xd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xd.oe=-1;function cc(r){return r==null}function Gu(r){return r===0&&1/r==-1/0}function y1(r){return typeof r=="number"&&Number.isInteger(r)&&!Gu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function yg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function zo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Gy(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class dt{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Su(this.root,e,this.comparator,!1)}getReverseIterator(){return new Su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Su(this.root,e,this.comparator,!0)}}class Su{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??zt.RED,this.left=o??zt.EMPTY,this.right=l??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new zt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,i,o,l){return this}insert(e,t,i){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vg(this.data.getIterator())}getIteratorFrom(e){return new vg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class vg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class er{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new er([])}unionWith(e){let t=new $t(Bt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class Ky extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ky("Invalid base64 string: "+l):l}})(e);return new Ht(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const v1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(r){if(Je(!!r),typeof r=="string"){let e=0;const t=v1.exec(r);if(Je(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(r.seconds),nanos:wt(r.nanos)}}function wt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ri(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}function Yd(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Jd(r){const e=r.mapValue.fields.__previous_value__;return Yd(e)?Jd(e):e}function Ba(r){const e=Fs(r.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}class _1{constructor(e,t,i,o,l,h,f,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=_}}class $a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}const Au={mapValue:{}};function Ni(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yd(r)?4:x1(r)?9007199254740991:w1(r)?10:11:Se()}function wr(r,e){if(r===e)return!0;const t=Ni(r);if(t!==Ni(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ba(r).isEqual(Ba(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Fs(o.timestampValue),f=Fs(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return Ri(o.bytesValue).isEqual(Ri(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return wt(o.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return wt(o.integerValue)===wt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=wt(o.doubleValue),f=wt(l.doubleValue);return h===f?Gu(h)===Gu(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return No(r.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(yg(h)!==yg(f))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(f[y]===void 0||!wr(h[y],f[y])))return!1;return!0})(r,e);default:return Se()}}function Ha(r,e){return(r.values||[]).find((t=>wr(t,e)))!==void 0}function bo(r,e){if(r===e)return 0;const t=Ni(r),i=Ni(e);if(t!==i)return Ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=wt(l.integerValue||l.doubleValue),y=wt(h.integerValue||h.doubleValue);return f<y?-1:f>y?1:f===y?0:isNaN(f)?isNaN(y)?0:-1:1})(r,e);case 3:return _g(r.timestampValue,e.timestampValue);case 4:return _g(Ba(r),Ba(e));case 5:return Ke(r.stringValue,e.stringValue);case 6:return(function(l,h){const f=Ri(l),y=Ri(h);return f.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),y=h.split("/");for(let _=0;_<f.length&&_<y.length;_++){const E=Ke(f[_],y[_]);if(E!==0)return E}return Ke(f.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=Ke(wt(l.latitude),wt(h.latitude));return f!==0?f:Ke(wt(l.longitude),wt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return wg(r.arrayValue,e.arrayValue);case 10:return(function(l,h){var f,y,_,E;const A=l.fields||{},b=h.fields||{},D=(f=A.value)===null||f===void 0?void 0:f.arrayValue,F=(y=b.value)===null||y===void 0?void 0:y.arrayValue,O=Ke(((_=D?.values)===null||_===void 0?void 0:_.length)||0,((E=F?.values)===null||E===void 0?void 0:E.length)||0);return O!==0?O:wg(D,F)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Au.mapValue&&h===Au.mapValue)return 0;if(l===Au.mapValue)return 1;if(h===Au.mapValue)return-1;const f=l.fields||{},y=Object.keys(f),_=h.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const b=Ke(y[A],E[A]);if(b!==0)return b;const D=bo(f[y[A]],_[E[A]]);if(D!==0)return D}return Ke(y.length,E.length)})(r.mapValue,e.mapValue);default:throw Se()}}function _g(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ke(r,e);const t=Fs(r),i=Fs(e),o=Ke(t.seconds,i.seconds);return o!==0?o:Ke(t.nanos,i.nanos)}function wg(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=bo(t[o],i[o]);if(l)return l}return Ke(t.length,i.length)}function Po(r){return wd(r)}function wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Fs(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ri(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return xe.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=wd(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${wd(t.fields[h])}`;return o+"}"})(r.mapValue):Se()}function xd(r){return!!r&&"integerValue"in r}function Zd(r){return!!r&&"arrayValue"in r}function xg(r){return!!r&&"nullValue"in r}function Eg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mu(r){return!!r&&"mapValue"in r}function w1(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ja(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return zo(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=ja(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ja(r.arrayValue.values[t]);return e}return Object.assign({},r)}function x1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Mu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(t)}setAll(e){let t=Bt.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=ja(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Mu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){zo(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Mn(ja(this.value))}}function Qy(r){const e=[];return zo(r.fields,((t,i)=>{const o=new Bt([t]);if(Mu(i)){const l=Qy(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new er(e)}class Yt{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Yt(e,0,Ce.min(),Ce.min(),Ce.min(),Mn.empty(),0)}static newFoundDocument(e,t,i,o){return new Yt(e,1,t,Ce.min(),i,o,0)}static newNoDocument(e,t){return new Yt(e,2,t,Ce.min(),Ce.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new Yt(e,3,t,Ce.min(),Ce.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ku{constructor(e,t){this.position=e,this.inclusive=t}}function Tg(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=xe.comparator(xe.fromName(h.referenceValue),t.key):i=bo(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ig(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!wr(r.position[t],e.position[t]))return!1;return!0}class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function E1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Xy{}class Ct extends Xy{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new I1(e,t,i):t==="array-contains"?new A1(e,i):t==="in"?new C1(e,i):t==="not-in"?new R1(e,i):t==="array-contains-any"?new N1(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new k1(e,i):new S1(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(bo(t,this.value)):t!==null&&Ni(this.value)===Ni(t)&&this.matchesComparison(bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends Xy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new xr(e,t)}matches(e){return Yy(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Yy(r){return r.op==="and"}function Jy(r){return T1(r)&&Yy(r)}function T1(r){for(const e of r.filters)if(e instanceof xr)return!1;return!0}function Ed(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+Po(r.value);if(Jy(r))return r.filters.map((e=>Ed(e))).join(",");{const e=r.filters.map((t=>Ed(t))).join(",");return`${r.op}(${e})`}}function Zy(r,e){return r instanceof Ct?(function(i,o){return o instanceof Ct&&i.op===o.op&&i.field.isEqual(o.field)&&wr(i.value,o.value)})(r,e):r instanceof xr?(function(i,o){return o instanceof xr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,f)=>l&&Zy(h,o.filters[f])),!0):!1})(r,e):void Se()}function ev(r){return r instanceof Ct?(function(t){return`${t.field.canonicalString()} ${t.op} ${Po(t.value)}`})(r):r instanceof xr?(function(t){return t.op.toString()+" {"+t.getFilters().map(ev).join(" ,")+"}"})(r):"Filter"}class I1 extends Ct{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class k1 extends Ct{constructor(e,t){super(e,"in",t),this.keys=tv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class S1 extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=tv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function tv(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>xe.fromName(i.referenceValue)))}class A1 extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zd(t)&&Ha(t.arrayValue,this.value)}}class C1 extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ha(this.value.arrayValue,t)}}class R1 extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ha(this.value.arrayValue,t)}}class N1 extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Ha(this.value.arrayValue,i)))}}class b1{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function kg(r,e=null,t=[],i=[],o=null,l=null,h=null){return new b1(r,e,t,i,o,l,h)}function ef(r){const e=Re(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Ed(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Po(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Po(i))).join(",")),e.ue=t}return e.ue}function tf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!E1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Zy(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ig(r.startAt,e.startAt)&&Ig(r.endAt,e.endAt)}function Td(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hc{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function P1(r,e,t,i,o,l,h,f){return new hc(r,e,t,i,o,l,h,f)}function nf(r){return new hc(r)}function Sg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function j1(r){return r.collectionGroup!==null}function Da(r){const e=Re(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new $t(Bt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(f=f.add(_.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Qu(l,i))})),t.has(Bt.keyField().canonicalString())||e.ce.push(new Qu(Bt.keyField(),i))}return e.ce}function gr(r){const e=Re(r);return e.le||(e.le=D1(e,Da(r))),e.le}function D1(r,e){if(r.limitType==="F")return kg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Qu(o.field,l)}));const t=r.endAt?new Ku(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Ku(r.startAt.position,r.startAt.inclusive):null;return kg(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Id(r,e,t){return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function dc(r,e){return tf(gr(r),gr(e))&&r.limitType===e.limitType}function nv(r){return`${ef(gr(r))}|lt:${r.limitType}`}function xo(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>ev(o))).join(", ")}]`),cc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Po(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Po(o))).join(",")),`Target(${i})`})(gr(r))}; limitType=${r.limitType})`}function fc(r,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):xe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,o){for(const l of Da(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,y){const _=Tg(h,f,y);return h.inclusive?_<=0:_<0})(i.startAt,Da(i),o)||i.endAt&&!(function(h,f,y){const _=Tg(h,f,y);return h.inclusive?_>=0:_>0})(i.endAt,Da(i),o))})(r,e)}function M1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rv(r){return(e,t)=>{let i=!1;for(const o of Da(r)){const l=O1(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function O1(r,e,t){const i=r.field.isKeyField()?xe.comparator(e.key,t.key):(function(l,h,f){const y=h.data.field(l),_=f.data.field(l);return y!==null&&_!==null?bo(y,_):Se()})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Se()}}class Bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return Gy(this.inner)}size(){return this.innerSize}}const V1=new dt(xe.comparator);function Yr(){return V1}const sv=new dt(xe.comparator);function Na(...r){let e=sv;for(const t of r)e=e.insert(t.key,t);return e}function iv(r){let e=sv;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ei(){return Ma()}function ov(){return Ma()}function Ma(){return new Bo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const L1=new dt(xe.comparator),U1=new $t(xe.comparator);function Me(...r){let e=U1;for(const t of r)e=e.add(t);return e}const F1=new $t(Ke);function z1(){return F1}function rf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(e)?"-0":e}}function av(r){return{integerValue:""+r}}function B1(r,e){return y1(e)?av(e):rf(r,e)}class pc{constructor(){this._=void 0}}function $1(r,e,t){return r instanceof Xu?(function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Yd(l)&&(l=Jd(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}})(t,e):r instanceof qa?uv(r,e):r instanceof Wa?cv(r,e):(function(o,l){const h=lv(o,l),f=Ag(h)+Ag(o.Pe);return xd(h)&&xd(o.Pe)?av(f):rf(o.serializer,f)})(r,e)}function H1(r,e,t){return r instanceof qa?uv(r,e):r instanceof Wa?cv(r,e):t}function lv(r,e){return r instanceof Yu?(function(i){return xd(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Xu extends pc{}class qa extends pc{constructor(e){super(),this.elements=e}}function uv(r,e){const t=hv(e);for(const i of r.elements)t.some((o=>wr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Wa extends pc{constructor(e){super(),this.elements=e}}function cv(r,e){let t=hv(e);for(const i of r.elements)t=t.filter((o=>!wr(o,i)));return{arrayValue:{values:t}}}class Yu extends pc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ag(r){return wt(r.integerValue||r.doubleValue)}function hv(r){return Zd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function q1(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof qa&&o instanceof qa||i instanceof Wa&&o instanceof Wa?No(i.elements,o.elements,wr):i instanceof Yu&&o instanceof Yu?wr(i.Pe,o.Pe):i instanceof Xu&&o instanceof Xu})(r.transform,e.transform)}class W1{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mc{}function dv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sf(r.key,yr.none()):new tl(r.key,r.data,yr.none());{const t=r.data,i=Mn.empty();let o=new $t(Bt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Di(r.key,i,new er(o.toArray()),yr.none())}}function G1(r,e,t){r instanceof tl?(function(o,l,h){const f=o.value.clone(),y=Rg(o.fieldTransforms,l,h.transformResults);f.setAll(y),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Di?(function(o,l,h){if(!Ou(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=Rg(o.fieldTransforms,l,h.transformResults),y=l.data;y.setAll(fv(o)),y.setAll(f),l.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Oa(r,e,t,i){return r instanceof tl?(function(l,h,f,y){if(!Ou(l.precondition,h))return f;const _=l.value.clone(),E=Ng(l.fieldTransforms,y,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(r,e,t,i):r instanceof Di?(function(l,h,f,y){if(!Ou(l.precondition,h))return f;const _=Ng(l.fieldTransforms,y,h),E=h.data;return E.setAll(fv(l)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((A=>A.field)))})(r,e,t,i):(function(l,h,f){return Ou(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function K1(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=lv(i.transform,o||null);l!=null&&(t===null&&(t=Mn.empty()),t.set(i.field,l))}return t||null}function Cg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&No(i,o,((l,h)=>q1(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tl extends mc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Di extends mc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function fv(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function Rg(r,e,t){const i=new Map;Je(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,H1(h,f,t[o]))}return i}function Ng(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,$1(l,h,e))}return i}class sf extends mc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q1 extends mc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class X1{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&G1(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Oa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Oa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ov();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const y=dv(h,f);y!==null&&i.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Ce.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Me())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,((t,i)=>Cg(t,i)))&&No(this.baseMutations,e.baseMutations,((t,i)=>Cg(t,i)))}}class of{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Je(e.mutations.length===i.length);let o=(function(){return L1})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new of(e,t,i,o)}}class Y1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class J1{constructor(e,t){this.count=e,this.unchangedNames=t}}var It,$e;function Z1(r){switch(r){default:return Se();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function pv(r){if(r===void 0)return Xr("GRPC error has no .code"),Y.UNKNOWN;switch(r){case It.OK:return Y.OK;case It.CANCELLED:return Y.CANCELLED;case It.UNKNOWN:return Y.UNKNOWN;case It.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case It.INTERNAL:return Y.INTERNAL;case It.UNAVAILABLE:return Y.UNAVAILABLE;case It.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case It.NOT_FOUND:return Y.NOT_FOUND;case It.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case It.ABORTED:return Y.ABORTED;case It.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case It.DATA_LOSS:return Y.DATA_LOSS;default:return Se()}}($e=It||(It={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function eE(){return new TextEncoder}const tE=new Ii([4294967295,4294967295],0);function bg(r){const e=eE().encode(r),t=new Uy;return t.update(e),new Uint8Array(t.digest())}function Pg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ii([t,i],0),new Ii([o,l],0)]}class af{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ba(`Invalid padding: ${t}`);if(i<0)throw new ba(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ba(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ba(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ii.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(Ii.fromNumber(i)));return o.compare(tE)===1&&(o=new Ii([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=bg(e),[i,o]=Pg(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new af(l,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.Ie===0)return;const t=bg(e),[i,o]=Pg(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new gc(Ce.min(),o,new dt(Ke),Yr(),Me())}}class nl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new nl(i,t,Me(),Me(),Me())}}class Vu{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class mv{constructor(e,t){this.targetId=e,this.me=t}}class gv{constructor(e,t,i=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class jg{constructor(){this.fe=0,this.ge=Mg(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),i=Me();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se()}})),new nl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Mg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nE{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yr(),this.qe=Dg(),this.Qe=new dt(Ke)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Se()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const l=o.target;if(Td(l))if(i===0){const h=new xe(l.path);this.Ue(t,h,Yt.newNoDocument(h,Ce.min()))}else Je(i===1);else{const h=this.Ye(t);if(h!==i){const f=this.Ze(e),y=f?this.Xe(f,e,h):1;if(y!==0){this.je(t);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,_)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Ri(i).toUint8Array()}catch(y){if(y instanceof Ky)return Ro("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{f=new af(h,o,l)}catch(y){return Ro(y instanceof ba?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return f.Ie===0?null:f}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.Le.tt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Ue(t,l,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((l,h)=>{const f=this.Je(h);if(f){if(l.current&&Td(f.target)){const y=new xe(f.target.path);this.ke.get(y)!==null||this.it(h,y)||this.Ue(h,y,Yt.newNoDocument(y,e))}l.be&&(t.set(h,l.ve()),l.Ce())}}));let i=Me();this.qe.forEach(((l,h)=>{let f=!0;h.forEachWhile((y=>{const _=this.Je(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.ke.forEach(((l,h)=>h.setReadTime(e)));const o=new gc(e,t,this.Qe,this.ke,i);return this.ke=Yr(),this.qe=Dg(),this.Qe=new dt(Ke),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new jg,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $t(Ke),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jg),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Dg(){return new dt(xe.comparator)}function Mg(){return new dt(xe.comparator)}const rE={asc:"ASCENDING",desc:"DESCENDING"},sE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iE={and:"AND",or:"OR"};class oE{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kd(r,e){return r.useProto3Json||cc(e)?e:{value:e}}function Ju(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aE(r,e){return Ju(r,e.toTimestamp())}function vr(r){return Je(!!r),Ce.fromTimestamp((function(t){const i=Fs(t);return new Rt(i.seconds,i.nanos)})(r))}function lf(r,e){return Sd(r,e).canonicalString()}function Sd(r,e){const t=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function vv(r){const e=at.fromString(r);return Je(Tv(e)),e}function Ad(r,e){return lf(r.databaseId,e.path)}function od(r,e){const t=vv(e);if(t.get(1)!==r.databaseId.projectId)throw new ve(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ve(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new xe(wv(t))}function _v(r,e){return lf(r.databaseId,e)}function lE(r){const e=vv(r);return e.length===4?at.emptyPath():wv(e)}function Cd(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wv(r){return Je(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Og(r,e,t){return{name:Ad(r,e),fields:t.value.mapValue.fields}}function uE(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Se()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(_,E){return _.useProto3Json?(Je(E===void 0||typeof E=="string"),Ht.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ht.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(_){const E=_.code===void 0?Y.UNKNOWN:pv(_.code);return new ve(E,_.message||"")})(h);t=new gv(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=od(r,i.document.name),l=vr(i.document.updateTime),h=i.document.createTime?vr(i.document.createTime):Ce.min(),f=new Mn({mapValue:{fields:i.document.fields}}),y=Yt.newFoundDocument(o,l,h,f),_=i.targetIds||[],E=i.removedTargetIds||[];t=new Vu(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=od(r,i.document),l=i.readTime?vr(i.readTime):Ce.min(),h=Yt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Vu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=od(r,i.document),l=i.removedTargetIds||[];t=new Vu([],l,o,null)}else{if(!("filter"in e))return Se();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new J1(o,l),f=i.targetId;t=new mv(f,h)}}return t}function cE(r,e){let t;if(e instanceof tl)t={update:Og(r,e.key,e.value)};else if(e instanceof sf)t={delete:Ad(r,e.key)};else if(e instanceof Di)t={update:Og(r,e.key,e.data),updateMask:_E(e.fieldMask)};else{if(!(e instanceof Q1))return Se();t={verify:Ad(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const f=h.transform;if(f instanceof Xu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Wa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Yu)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Se()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:aE(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se()})(r,e.precondition)),t}function hE(r,e){return r&&r.length>0?(Je(e!==void 0),r.map((t=>(function(o,l){let h=o.updateTime?vr(o.updateTime):vr(l);return h.isEqual(Ce.min())&&(h=vr(l)),new W1(h,o.transformResults||[])})(t,e)))):[]}function dE(r,e){return{documents:[_v(r,e.path)]}}function fE(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=_v(r,o);const l=(function(_){if(_.length!==0)return Ev(xr.create(_,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(_){if(_.length!==0)return _.map((E=>(function(b){return{field:Eo(b.field),direction:gE(b.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=kd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{_t:t,parent:o}}function pE(r){let e=lE(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Je(i===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=(function(A){const b=xv(A);return b instanceof xr&&Jy(b)?b.getFilters():[b]})(t.where));let h=[];t.orderBy&&(h=(function(A){return A.map((b=>(function(F){return new Qu(To(F.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(b)))})(t.orderBy));let f=null;t.limit&&(f=(function(A){let b;return b=typeof A=="object"?A.value:A,cc(b)?null:b})(t.limit));let y=null;t.startAt&&(y=(function(A){const b=!!A.before,D=A.values||[];return new Ku(D,b)})(t.startAt));let _=null;return t.endAt&&(_=(function(A){const b=!A.before,D=A.values||[];return new Ku(D,b)})(t.endAt)),P1(e,o,h,l,f,"F",y,_)}function mE(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xv(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=To(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=To(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=To(t.unaryFilter.field);return Ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(t.unaryFilter.field);return Ct.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}})(r):r.fieldFilter!==void 0?(function(t){return Ct.create(To(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return xr.create(t.compositeFilter.filters.map((i=>xv(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}})(t.compositeFilter.op))})(r):Se()}function gE(r){return rE[r]}function yE(r){return sE[r]}function vE(r){return iE[r]}function Eo(r){return{fieldPath:r.canonicalString()}}function To(r){return Bt.fromServerFormat(r.fieldPath)}function Ev(r){return r instanceof Ct?(function(t){if(t.op==="=="){if(Eg(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(xg(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Eg(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(xg(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:yE(t.op),value:t.value}}})(r):r instanceof xr?(function(t){const i=t.getFilters().map((o=>Ev(o)));return i.length===1?i[0]:{compositeFilter:{op:vE(t.op),filters:i}}})(r):Se()}function _E(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Tv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class js{constructor(e,t,i,o,l=Ce.min(),h=Ce.min(),f=Ht.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wE{constructor(e){this.ct=e}}function xE(r){const e=pE({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Id(e,e.limit,"L"):e}class EE{constructor(){this.un=new TE}addToCollectionParentIndex(e,t){return this.un.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Us.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class TE{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new $t(at.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new $t(at.comparator)).toArray()}}class jo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new jo(0)}static kn(){return new jo(-1)}}class IE{constructor(){this.changes=new Bo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class SE{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Oa(i.mutation,o,er.empty(),Rt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Me()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Me()){const o=Ei();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=Na();return l.forEach(((f,y)=>{h=h.insert(f,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=Ei();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Me())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let l=Yr();const h=Ma(),f=(function(){return Ma()})();return t.forEach(((y,_)=>{const E=i.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Di)?l=l.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),Oa(E.mutation,_,E.mutation.getFieldMask(),Rt.now())):h.set(_.key,er.empty())})),this.recalculateAndSaveOverlays(e,l).next((y=>(y.forEach(((_,E)=>h.set(_,E))),t.forEach(((_,E)=>{var A;return f.set(_,new kE(E,(A=h.get(_))!==null&&A!==void 0?A:null))})),f)))}recalculateAndSaveOverlays(e,t){const i=Ma();let o=new dt(((h,f)=>h-f)),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((y=>{const _=t.get(y);if(_===null)return;let E=i.get(y)||er.empty();E=f.applyToLocalView(_,E),i.set(y,E);const A=(o.get(f.batchId)||Me()).add(y);o=o.insert(f.batchId,A)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),_=y.key,E=y.value,A=ov();E.forEach((b=>{if(!l.has(b)){const D=dv(t.get(b),i.get(b));D!==null&&A.set(b,D),l=l.add(b)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return xe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):j1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):X.resolve(Ei());let f=-1,y=l;return h.next((_=>X.forEach(_,((E,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),l.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{y=y.insert(E,b)}))))).next((()=>this.populateOverlays(e,_,l))).next((()=>this.computeViews(e,y,_,Me()))).next((E=>({batchId:f,changes:iv(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((i=>{let o=Na();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Na();return this.indexManager.getCollectionParents(e,l).next((f=>X.forEach(f,(y=>{const _=(function(A,b){return new hc(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next((E=>{E.forEach(((A,b)=>{h=h.insert(A,b)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((y,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,Yt.newInvalidDocument(E)))}));let f=Na();return h.forEach(((y,_)=>{const E=l.get(y);E!==void 0&&Oa(E.mutation,_,er.empty(),Rt.now()),fc(t,_)&&(f=f.insert(y,_))})),f}))}}class AE{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return X.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:vr(o.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:xE(o.bundledQuery),readTime:vr(o.readTime)}})(t)),X.resolve()}}class CE{constructor(){this.overlays=new dt(xe.comparator),this.Ir=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ei();return X.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.ht(e,t,l)})),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Ei(),l=t.length+1,h=new xe(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const y=f.getNext().value,_=y.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&y.largestBatchId>i&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new dt(((_,E)=>_-E));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let E=l.get(_.largestBatchId);E===null&&(E=Ei(),l=l.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const f=Ei(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>f.set(_,E))),!(f.size()>=o)););return X.resolve(f)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new Y1(t,i));let l=this.Ir.get(t);l===void 0&&(l=Me(),this.Ir.set(t,l)),this.Ir.set(t,l.add(i.key))}}class RE{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}class uf{constructor(){this.Tr=new $t(Mt.Er),this.dr=new $t(Mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Mt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new Mt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new xe(new at([])),i=new Mt(t,e),o=new Mt(t,e+1),l=[];return this.dr.forEachInRange([i,o],(h=>{this.Vr(h),l.push(h.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new xe(new at([])),i=new Mt(t,e),o=new Mt(t,e+1);let l=Me();return this.dr.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new Mt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Mt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return xe.comparator(e.key,t.key)||Ke(e.wr,t.wr)}static Ar(e,t){return Ke(e.wr,t.wr)||xe.comparator(e.key,t.key)}}class NE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new $t(Mt.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new X1(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.br=this.br.add(new Mt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return X.resolve(h)}lookupMutationBatch(e,t){return X.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Mt(t,0),o=new Mt(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([i,o],(h=>{const f=this.Dr(h.wr);l.push(f)})),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $t(Ke);return t.forEach((o=>{const l=new Mt(o,0),h=new Mt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,h],(f=>{i=i.add(f.wr)}))})),X.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;xe.isDocumentKey(l)||(l=l.child(""));const h=new Mt(new xe(l),0);let f=new $t(Ke);return this.br.forEachWhile((y=>{const _=y.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(f=f.add(y.wr)),!0)}),h),X.resolve(this.Cr(f))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Je(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return X.forEach(t.mutations,(o=>{const l=new Mt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new Mt(t,0),o=this.br.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bE{constructor(e){this.Mr=e,this.docs=(function(){return new dt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let i=Yr();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Yt.newInvalidDocument(o))})),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Yr();const h=t.path,f=new xe(h.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||f1(d1(E),i)<=0||(o.has(E.key)||fc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Se()}Or(e,t){return X.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new PE(this)}getSize(e){return X.resolve(this.size)}}class PE extends IE{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),X.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class jE{constructor(e){this.persistence=e,this.Nr=new Bo((t=>ef(t)),tf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new uf,this.targetCount=0,this.kr=jo.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),X.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new jo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Kn(t),X.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Nr.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Nr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),X.waitFor(l).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.Br.containsKey(t))}}class DE{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Xd(0),this.Kr=!1,this.Kr=!0,this.$r=new RE,this.referenceDelegate=e(this),this.Ur=new jE(this),this.indexManager=new EE,this.remoteDocumentCache=(function(o){return new bE(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new wE(t),this.Gr=new AE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new NE(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const o=new ME(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,t){return X.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class ME extends m1{constructor(e){super(),this.currentSequenceNumber=e}}class cf{constructor(e){this.persistence=e,this.Jr=new uf,this.Yr=null}static Zr(e){return new cf(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),X.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,(i=>{const o=xe.fromPath(i);return this.ei(e,o).next((l=>{l||t.removeEntry(o,Ce.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return X.or([()=>X.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class hf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Me(),o=Me();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new hf(e,t.fromCache,i,o)}}class OE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class VE{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return Uw()?8:g1(Jt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Yi(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.Zi(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new OE;return this.Xi(e,t,h).next((f=>{if(l.result=f,this.zi)return this.es(e,t,h,f.size)}))})).next((()=>l.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(Aa()<=Fe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(Aa()<=Fe.DEBUG&&pe("QueryEngine","Query:",xo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(Aa()<=Fe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(t))):X.resolve())}Yi(e,t){if(Sg(t))return X.resolve(null);let i=gr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Id(t,null,"F"),i=gr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=Me(...l);return this.Ji.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((y=>{const _=this.ts(t,f);return this.ns(t,_,h,y.readTime)?this.Yi(e,Id(t,null,"F")):this.rs(e,_,t,y)}))))})))))}Zi(e,t,i,o){return Sg(t)||o.isEqual(Ce.min())?X.resolve(null):this.Ji.getDocuments(e,i).next((l=>{const h=this.ts(t,l);return this.ns(t,h,i,o)?X.resolve(null):(Aa()<=Fe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(t)),this.rs(e,h,t,h1(o,-1)).next((f=>f)))}))}ts(e,t){let i=new $t(rv(e));return t.forEach(((o,l)=>{fc(e,l)&&(i=i.add(l))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,t,i){return Aa()<=Fe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",xo(t)),this.Ji.getDocumentsMatchingQuery(e,t,Us.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}class LE{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new dt(Ke),this._s=new Bo((l=>ef(l)),tf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SE(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function UE(r,e,t,i){return new LE(r,e,t,i)}async function Iv(r,e){const t=Re(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],f=[];let y=Me();for(const _ of o){h.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of l){f.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return t.localDocuments.getDocuments(i,y).next((_=>({hs:_,removedBatchIds:h,addedBatchIds:f})))}))}))}function FE(r,e){const t=Re(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return(function(f,y,_,E){const A=_.batch,b=A.keys();let D=X.resolve();return b.forEach((F=>{D=D.next((()=>E.getEntry(y,F))).next((O=>{const L=_.docVersions.get(F);Je(L!==null),O.version.compareTo(L)<0&&(A.applyToRemoteDocument(O,_),O.isValidDocument()&&(O.setReadTime(_.commitVersion),E.addEntry(O)))}))})),D.next((()=>f.mutationQueue.removeMutationBatch(y,A)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let y=Me();for(let _=0;_<f.mutationResults.length;++_)f.mutationResults[_].transformResults.length>0&&(y=y.add(f.batch.mutations[_].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function kv(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function zE(r,e){const t=Re(r),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const f=[];e.targetChanges.forEach(((E,A)=>{const b=o.get(A);if(!b)return;f.push(t.Ur.removeMatchingKeys(l,E.removedDocuments,A).next((()=>t.Ur.addMatchingKeys(l,E.addedDocuments,A))));let D=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(A)!==null?D=D.withResumeToken(Ht.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,i)),o=o.insert(A,D),(function(O,L,q){return O.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(b,D,E)&&f.push(t.Ur.updateTargetData(l,D))}));let y=Yr(),_=Me();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))})),f.push(BE(l,h,e.documentUpdates).next((E=>{y=E.Ps,_=E.Is}))),!i.isEqual(Ce.min())){const E=t.Ur.getLastRemoteSnapshotVersion(l).next((A=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(E)}return X.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,y,_))).next((()=>y))})).then((l=>(t.os=o,l)))}function BE(r,e,t){let i=Me(),o=Me();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let h=Yr();return t.forEach(((f,y)=>{const _=l.get(f);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(f)),y.isNoDocument()&&y.version.isEqual(Ce.min())?(e.removeEntry(f,y.readTime),h=h.insert(f,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),h=h.insert(f,y)):pe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",y.version)})),{Ps:h,Is:o}}))}function $E(r,e){const t=Re(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function HE(r,e){const t=Re(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((l=>l?(o=l,X.resolve(o)):t.Ur.allocateTargetId(i).next((h=>(o=new js(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function Rd(r,e,t){const i=Re(r),o=i.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!el(h))throw h;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function Vg(r,e,t){const i=Re(r);let o=Ce.min(),l=Me();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,_,E){const A=Re(y),b=A._s.get(E);return b!==void 0?X.resolve(A.os.get(b)):A.Ur.getTargetData(_,E)})(i,h,gr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(h,f.targetId).next((y=>{l=y}))})).next((()=>i.ss.getDocumentsMatchingQuery(h,e,t?o:Ce.min(),t?l:Me()))).next((f=>(qE(i,M1(e),f),{documents:f,Ts:l})))))}function qE(r,e,t){let i=r.us.get(e)||Ce.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.us.set(e,i)}class Lg{constructor(){this.activeTargetIds=z1()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WE{constructor(){this.so=new Lg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Lg,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GE{_o(e){}shutdown(){}}class Ug{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cu=null;function ad(){return Cu===null?Cu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cu++,"0x"+Cu.toString(16)}const KE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QE{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Qt="WebChannelConnection";class XE extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(t,i,o,l,h){const f=ad(),y=this.xo(t,i.toUriEncodedString());pe("RestConnection",`Sending RPC '${t}' ${f}:`,y,o);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,l,h),this.No(t,y,_,o).then((E=>(pe("RestConnection",`Received RPC '${t}' ${f}: `,E),E)),(E=>{throw Ro("RestConnection",`RPC '${t}' ${f} failed with error: `,E,"url: ",y,"request:",o),E}))}Lo(t,i,o,l,h,f){return this.Mo(t,i,o,l,h)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),o&&o.headers.forEach(((l,h)=>t[h]=l))}xo(t,i){const o=KE[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const l=ad();return new Promise(((h,f)=>{const y=new Fy;y.setWithCredentials(!0),y.listenOnce(zy.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Du.NO_ERROR:const E=y.getResponseJson();pe(Qt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case Du.TIMEOUT:pe(Qt,`RPC '${e}' ${l} timed out`),f(new ve(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const A=y.getStatus();if(pe(Qt,`RPC '${e}' ${l} failed with status:`,A,"response text:",y.getResponseText()),A>0){let b=y.getResponseJson();Array.isArray(b)&&(b=b[0]);const D=b?.error;if(D&&D.status&&D.message){const F=(function(L){const q=L.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(q)>=0?q:Y.UNKNOWN})(D.status);f(new ve(F,D.message))}else f(new ve(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new ve(Y.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{pe(Qt,`RPC '${e}' ${l} completed.`)}}));const _=JSON.stringify(o);pe(Qt,`RPC '${e}' ${l} sending request:`,o),y.send(t,"POST",_,i,15)}))}Bo(e,t,i){const o=ad(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Hy(),f=$y(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,t,i),y.encodeInitMessageHeaders=!0;const E=l.join("");pe(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,y);const A=h.createWebChannel(E,y);let b=!1,D=!1;const F=new QE({Io:L=>{D?pe(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(b||(pe(Qt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),pe(Qt,`RPC '${e}' stream ${o} sending:`,L),A.send(L))},To:()=>A.close()}),O=(L,q,B)=>{L.listen(q,(re=>{try{B(re)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return O(A,Ra.EventType.OPEN,(()=>{D||(pe(Qt,`RPC '${e}' stream ${o} transport opened.`),F.yo())})),O(A,Ra.EventType.CLOSE,(()=>{D||(D=!0,pe(Qt,`RPC '${e}' stream ${o} transport closed`),F.So())})),O(A,Ra.EventType.ERROR,(L=>{D||(D=!0,Ro(Qt,`RPC '${e}' stream ${o} transport errored:`,L),F.So(new ve(Y.UNAVAILABLE,"The operation could not be completed")))})),O(A,Ra.EventType.MESSAGE,(L=>{var q;if(!D){const B=L.data[0];Je(!!B);const re=B,ie=re.error||((q=re[0])===null||q===void 0?void 0:q.error);if(ie){pe(Qt,`RPC '${e}' stream ${o} received error:`,ie);const Te=ie.status;let ae=(function(k){const N=It[k];if(N!==void 0)return pv(N)})(Te),C=ie.message;ae===void 0&&(ae=Y.INTERNAL,C="Unknown error status: "+Te+" with message "+ie.message),D=!0,F.So(new ve(ae,C)),A.close()}else pe(Qt,`RPC '${e}' stream ${o} received:`,B),F.bo(B)}})),O(f,By.STAT_EVENT,(L=>{L.stat===_d.PROXY?pe(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===_d.NOPROXY&&pe(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.wo()}),0),F}}function ld(){return typeof document<"u"?document:null}function yc(r){return new oE(r,!0)}class Sv{constructor(e,t,i=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Av{constructor(e,t,i,o,l,h,f,y){this.ui=e,this.Ho=i,this.Jo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Sv(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new ve(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YE extends Av{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=uE(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ce.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?vr(h.readTime):Ce.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=Cd(this.serializer),t.addTarget=(function(l,h){let f;const y=h.target;if(f=Td(y)?{documents:dE(l,y)}:{query:fE(l,y)._t},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=yv(l,h.resumeToken);const _=kd(l,h.expectedCount);_!==null&&(f.expectedCount=_)}else if(h.snapshotVersion.compareTo(Ce.min())>0){f.readTime=Ju(l,h.snapshotVersion.toTimestamp());const _=kd(l,h.expectedCount);_!==null&&(f.expectedCount=_)}return f})(this.serializer,e);const i=mE(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=Cd(this.serializer),t.removeTarget=e,this.a_(t)}}class JE extends Av{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=hE(e.writeResults,e.commitTime),i=vr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=Cd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>cE(this.serializer,i)))};this.a_(t)}}class ZE extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ve(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Mo(e,Sd(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(Y.UNKNOWN,l.toString())}))}Lo(e,t,i,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Lo(e,Sd(t,i),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(Y.UNKNOWN,h.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class eT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xr(t),this.D_=!1):pe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class tT{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((h=>{i.enqueueAndForget((async()=>{Mi(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await(async function(y){const _=Re(y);_.L_.add(4),await rl(_),_.q_.set("Unknown"),_.L_.delete(4),await vc(_)})(this))}))})),this.q_=new eT(i,o)}}async function vc(r){if(Mi(r))for(const e of r.B_)await e(!0)}async function rl(r){for(const e of r.B_)await e(!1)}function Cv(r,e){const t=Re(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),mf(t)?pf(t):$o(t).r_()&&ff(t,e))}function df(r,e){const t=Re(r),i=$o(t);t.N_.delete(e),i.r_()&&Rv(t,e),t.N_.size===0&&(i.r_()?i.o_():Mi(t)&&t.q_.set("Unknown"))}function ff(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$o(r).A_(e)}function Rv(r,e){r.Q_.xe(e),$o(r).R_(e)}function pf(r){r.Q_=new nE({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),$o(r).start(),r.q_.v_()}function mf(r){return Mi(r)&&!$o(r).n_()&&r.N_.size>0}function Mi(r){return Re(r).L_.size===0}function Nv(r){r.Q_=void 0}async function nT(r){r.q_.set("Online")}async function rT(r){r.N_.forEach(((e,t)=>{ff(r,e)}))}async function sT(r,e){Nv(r),mf(r)?(r.q_.M_(e),pf(r)):r.q_.set("Unknown")}async function iT(r,e,t){if(r.q_.set("Online"),e instanceof gv&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.N_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.N_.delete(f),o.Q_.removeTarget(f))})(r,e)}catch(i){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zu(r,i)}else if(e instanceof Vu?r.Q_.Ke(e):e instanceof mv?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Ce.min()))try{const i=await kv(r.localStore);t.compareTo(i)>=0&&await(function(l,h){const f=l.Q_.rt(h);return f.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=l.N_.get(_);E&&l.N_.set(_,E.withResumeToken(y.resumeToken,h))}})),f.targetMismatches.forEach(((y,_)=>{const E=l.N_.get(y);if(!E)return;l.N_.set(y,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),Rv(l,y);const A=new js(E.target,y,_,E.sequenceNumber);ff(l,A)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){pe("RemoteStore","Failed to raise snapshot:",i),await Zu(r,i)}}async function Zu(r,e,t){if(!el(e))throw e;r.L_.add(1),await rl(r),r.q_.set("Offline"),t||(t=()=>kv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pe("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await vc(r)}))}function bv(r,e){return e().catch((t=>Zu(r,t,e)))}async function _c(r){const e=Re(r),t=zs(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oT(e);)try{const o=await $E(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,aT(e,o)}catch(o){await Zu(e,o)}Pv(e)&&jv(e)}function oT(r){return Mi(r)&&r.O_.length<10}function aT(r,e){r.O_.push(e);const t=zs(r);t.r_()&&t.V_&&t.m_(e.mutations)}function Pv(r){return Mi(r)&&!zs(r).n_()&&r.O_.length>0}function jv(r){zs(r).start()}async function lT(r){zs(r).p_()}async function uT(r){const e=zs(r);for(const t of r.O_)e.m_(t.mutations)}async function cT(r,e,t){const i=r.O_.shift(),o=of.from(i,e,t);await bv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await _c(r)}async function hT(r,e){e&&zs(r).V_&&await(async function(i,o){if((function(h){return Z1(h)&&h!==Y.ABORTED})(o.code)){const l=i.O_.shift();zs(i).s_(),await bv(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await _c(i)}})(r,e),Pv(r)&&jv(r)}async function Fg(r,e){const t=Re(r);t.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const i=Mi(t);t.L_.add(3),await rl(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await vc(t)}async function dT(r,e){const t=Re(r);e?(t.L_.delete(2),await vc(t)):e||(t.L_.add(2),await rl(t),t.q_.set("Unknown"))}function $o(r){return r.K_||(r.K_=(function(t,i,o){const l=Re(t);return l.w_(),new YE(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:nT.bind(null,r),Ro:rT.bind(null,r),mo:sT.bind(null,r),d_:iT.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),mf(r)?pf(r):r.q_.set("Unknown")):(await r.K_.stop(),Nv(r))}))),r.K_}function zs(r){return r.U_||(r.U_=(function(t,i,o){const l=Re(t);return l.w_(),new JE(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:lT.bind(null,r),mo:hT.bind(null,r),f_:uT.bind(null,r),g_:cT.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await _c(r)):(await r.U_.stop(),r.O_.length>0&&(pe("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class gf{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new gf(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yf(r,e){if(Xr("AsyncQueue",`${e}: ${r}`),el(r))return new ve(Y.UNAVAILABLE,`${e}: ${r}`);throw r}class Io{constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=Na(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new Io(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Io;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class zg{constructor(){this.W_=new dt(xe.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Do{constructor(e,t,i,o,l,h,f,y,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new Do(e,t,Io.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class fT{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class pT{constructor(){this.queries=Bg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=Re(t),l=o.queries;o.queries=Bg(),l.forEach(((h,f)=>{for(const y of f.j_)y.onError(i)}))})(this,new ve(Y.ABORTED,"Firestore shutting down"))}}function Bg(){return new Bo((r=>nv(r)),dc)}async function Dv(r,e){const t=Re(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.H_()&&e.J_()&&(i=2):(l=new fT,i=e.J_()?0:1);try{switch(i){case 0:l.z_=await t.onListen(o,!0);break;case 1:l.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=yf(h,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&vf(t)}async function Mv(r,e){const t=Re(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.j_.indexOf(e);h>=0&&(l.j_.splice(h,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function mT(r,e){const t=Re(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.j_)f.X_(o)&&(i=!0);h.z_=o}}i&&vf(t)}function gT(r,e,t){const i=Re(r),o=i.queries.get(e);if(o)for(const l of o.j_)l.onError(t);i.queries.delete(e)}function vf(r){r.Y_.forEach((e=>{e.next()}))}var Nd,$g;($g=Nd||(Nd={})).ea="default",$g.Cache="cache";class Ov{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Do(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Nd.Cache}}class Vv{constructor(e){this.key=e}}class Lv{constructor(e){this.key=e}}class yT{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Me(),this.mutatedKeys=Me(),this.Aa=rv(e),this.Ra=new Io(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new zg,o=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const b=o.get(E),D=fc(this.query,A)?A:null,F=!!b&&this.mutatedKeys.has(b.key),O=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;b&&D?b.data.isEqual(D.data)?F!==O&&(i.track({type:3,doc:D}),L=!0):this.ga(b,D)||(i.track({type:2,doc:D}),L=!0,(y&&this.Aa(D,y)>0||_&&this.Aa(D,_)<0)&&(f=!0)):!b&&D?(i.track({type:0,doc:D}),L=!0):b&&!D&&(i.track({type:1,doc:b}),L=!0,(y||_)&&(f=!0)),L&&(D?(h=h.add(D),l=O?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{Ra:h,fa:i,ns:f,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(((E,A)=>(function(D,F){const O=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return O(D)-O(F)})(E.type,A.type)||this.Aa(E.doc,A.doc))),this.pa(i),o=o!=null&&o;const f=t&&!o?this.ya():[],y=this.da.size===0&&this.current&&!o?1:0,_=y!==this.Ea;return this.Ea=y,h.length!==0||_?{snapshot:new Do(this.query,e.Ra,l,h,e.mutatedKeys,y===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Me(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new Lv(i))})),this.da.forEach((i=>{e.has(i)||t.push(new Vv(i))})),t}ba(e){this.Ta=e.Ts,this.da=Me();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Do.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class vT{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class _T{constructor(e){this.key=e,this.va=!1}}class wT{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new Bo((f=>nv(f)),dc),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(xe.comparator),this.Na=new Map,this.La=new uf,this.Ba={},this.ka=new Map,this.qa=jo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function xT(r,e,t=!0){const i=Hv(r);let o;const l=i.Fa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await Uv(i,e,t,!0),o}async function ET(r,e){const t=Hv(r);await Uv(t,e,!0,!1)}async function Uv(r,e,t,i){const o=await HE(r.localStore,gr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await TT(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Cv(r.remoteStore,o),f}async function TT(r,e,t,i,o){r.Ka=(A,b,D)=>(async function(O,L,q,B){let re=L.view.ma(q);re.ns&&(re=await Vg(O.localStore,L.query,!1).then((({documents:C})=>L.view.ma(C,re))));const ie=B&&B.targetChanges.get(L.targetId),Te=B&&B.targetMismatches.get(L.targetId)!=null,ae=L.view.applyChanges(re,O.isPrimaryClient,ie,Te);return qg(O,L.targetId,ae.wa),ae.snapshot})(r,A,b,D);const l=await Vg(r.localStore,e,!0),h=new yT(e,l.Ts),f=h.ma(l.documents),y=nl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),_=h.applyChanges(f,r.isPrimaryClient,y);qg(r,t,_.wa);const E=new vT(e,t,h);return r.Fa.set(e,E),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),_.snapshot}async function IT(r,e,t){const i=Re(r),o=i.Fa.get(e),l=i.Ma.get(o.targetId);if(l.length>1)return i.Ma.set(o.targetId,l.filter((h=>!dc(h,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Rd(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&df(i.remoteStore,o.targetId),bd(i,o.targetId)})).catch(Za)):(bd(i,o.targetId),await Rd(i.localStore,o.targetId,!0))}async function kT(r,e){const t=Re(r),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),df(t.remoteStore,i.targetId))}async function ST(r,e,t){const i=jT(r);try{const o=await(function(h,f){const y=Re(h),_=Rt.now(),E=f.reduce(((D,F)=>D.add(F.key)),Me());let A,b;return y.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let F=Yr(),O=Me();return y.cs.getEntries(D,E).next((L=>{F=L,F.forEach(((q,B)=>{B.isValidDocument()||(O=O.add(q))}))})).next((()=>y.localDocuments.getOverlayedDocuments(D,F))).next((L=>{A=L;const q=[];for(const B of f){const re=K1(B,A.get(B.key).overlayedDocument);re!=null&&q.push(new Di(B.key,re,Qy(re.value.mapValue),yr.exists(!0)))}return y.mutationQueue.addMutationBatch(D,_,q,f)})).next((L=>{b=L;const q=L.applyToLocalDocumentSet(A,O);return y.documentOverlayCache.saveOverlays(D,L.batchId,q)}))})).then((()=>({batchId:b.batchId,changes:iv(A)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,f,y){let _=h.Ba[h.currentUser.toKey()];_||(_=new dt(Ke)),_=_.insert(f,y),h.Ba[h.currentUser.toKey()]=_})(i,o.batchId,t),await sl(i,o.changes),await _c(i.remoteStore)}catch(o){const l=yf(o,"Failed to persist write");t.reject(l)}}async function Fv(r,e){const t=Re(r);try{const i=await zE(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Na.get(l);h&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?Je(h.va):o.removedDocuments.size>0&&(Je(h.va),h.va=!1))})),await sl(t,i,e)}catch(i){await Za(i)}}function Hg(r,e,t){const i=Re(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((l,h)=>{const f=h.view.Z_(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const y=Re(h);y.onlineState=f;let _=!1;y.queries.forEach(((E,A)=>{for(const b of A.j_)b.Z_(f)&&(_=!0)})),_&&vf(y)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function AT(r,e,t){const i=Re(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),l=o&&o.key;if(l){let h=new dt(xe.comparator);h=h.insert(l,Yt.newNoDocument(l,Ce.min()));const f=Me().add(l),y=new gc(Ce.min(),new Map,new dt(Ke),h,f);await Fv(i,y),i.Oa=i.Oa.remove(l),i.Na.delete(e),_f(i)}else await Rd(i.localStore,e,!1).then((()=>bd(i,e,t))).catch(Za)}async function CT(r,e){const t=Re(r),i=e.batch.batchId;try{const o=await FE(t.localStore,e);Bv(t,i,null),zv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await sl(t,o)}catch(o){await Za(o)}}async function RT(r,e,t){const i=Re(r);try{const o=await(function(h,f){const y=Re(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,f).next((A=>(Je(A!==null),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,f))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(i.localStore,e);Bv(i,e,t),zv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await sl(i,o)}catch(o){await Za(o)}}function zv(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function Bv(r,e,t){const i=Re(r);let o=i.Ba[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function bd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Ma.get(e))r.Fa.delete(i),t&&r.Ca.$a(i,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((i=>{r.La.containsKey(i)||$v(r,i)}))}function $v(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(df(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),_f(r))}function qg(r,e,t){for(const i of t)i instanceof Vv?(r.La.addReference(i.key,e),NT(r,i)):i instanceof Lv?(pe("SyncEngine","Document no longer in limbo: "+i.key),r.La.removeReference(i.key,e),r.La.containsKey(i.key)||$v(r,i.key)):Se()}function NT(r,e){const t=e.key,i=t.path.canonicalString();r.Oa.get(t)||r.xa.has(i)||(pe("SyncEngine","New document in limbo: "+t),r.xa.add(i),_f(r))}function _f(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new xe(at.fromString(e)),i=r.qa.next();r.Na.set(i,new _T(t)),r.Oa=r.Oa.insert(t,i),Cv(r.remoteStore,new js(gr(nf(t.path)),i,"TargetPurposeLimboResolution",Xd.oe))}}async function sl(r,e,t){const i=Re(r),o=[],l=[],h=[];i.Fa.isEmpty()||(i.Fa.forEach(((f,y)=>{h.push(i.Ka(y,e,t).then((_=>{var E;if((_||t)&&i.isPrimaryClient){const A=_?!_.fromCache:(E=t?.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=hf.Wi(y.targetId,_);l.push(A)}})))})),await Promise.all(h),i.Ca.d_(o),await(async function(y,_){const E=Re(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(b=>X.forEach(b.$i,(D=>E.persistence.referenceDelegate.addReference(A,b.targetId,D))).next((()=>X.forEach(b.Ui,(D=>E.persistence.referenceDelegate.removeReference(A,b.targetId,D)))))))))}catch(A){if(!el(A))throw A;pe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of _){const b=A.targetId;if(!A.fromCache){const D=E.os.get(b),F=D.snapshotVersion,O=D.withLastLimboFreeSnapshotVersion(F);E.os=E.os.insert(b,O)}}})(i.localStore,l))}async function bT(r,e){const t=Re(r);if(!t.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const i=await Iv(t.localStore,e);t.currentUser=e,(function(l,h){l.ka.forEach((f=>{f.forEach((y=>{y.reject(new ve(Y.CANCELLED,h))}))})),l.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await sl(t,i.hs)}}function PT(r,e){const t=Re(r),i=t.Na.get(e);if(i&&i.va)return Me().add(i.key);{let o=Me();const l=t.Ma.get(e);if(!l)return o;for(const h of l){const f=t.Fa.get(h);o=o.unionWith(f.view.Va)}return o}}function Hv(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AT.bind(null,e),e.Ca.d_=mT.bind(null,e.eventManager),e.Ca.$a=gT.bind(null,e.eventManager),e}function jT(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RT.bind(null,e),e}class ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return UE(this.persistence,new VE,e.initialUser,this.serializer)}Ga(e){return new DE(cf.Zr,this.serializer)}Wa(e){return new WE}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ec.provider={build:()=>new ec};class Pd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Hg(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bT.bind(null,this.syncEngine),await dT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pT})()}createDatastore(e){const t=yc(e.databaseInfo.databaseId),i=(function(l){return new XE(l)})(e.databaseInfo);return(function(l,h,f,y){return new ZE(l,h,f,y)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,f){return new tT(i,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Hg(this.syncEngine,t,0)),(function(){return Ug.D()?new Ug:new GE})())}createSyncEngine(e,t){return(function(o,l,h,f,y,_,E){const A=new wT(o,l,h,f,y,_);return E&&(A.Qa=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Re(o);pe("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await rl(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pd.provider={build:()=>new Pd};class qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class DT{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=Wy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{pe("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(pe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=yf(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ud(r,e){r.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await Iv(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Wg(r,e){r.asyncQueue.verifyOperationInProgress();const t=await MT(r);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Fg(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>Fg(e.remoteStore,o))),r._onlineComponents=e}async function MT(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await ud(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await ud(r,new ec)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await ud(r,new ec);return r._offlineComponents}async function Wv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await Wg(r,r._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await Wg(r,new Pd))),r._onlineComponents}function OT(r){return Wv(r).then((e=>e.syncEngine))}async function jd(r){const e=await Wv(r),t=e.eventManager;return t.onListen=xT.bind(null,e.syncEngine),t.onUnlisten=IT.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ET.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kT.bind(null,e.syncEngine),t}function VT(r,e,t={}){const i=new Os;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,y,_){const E=new qv({next:b=>{E.Za(),h.enqueueAndForget((()=>Mv(l,A))),b.fromCache&&y.source==="server"?_.reject(new ve(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(b)},error:b=>_.reject(b)}),A=new Ov(f,E,{includeMetadataChanges:!0,_a:!0});return Dv(l,A)})(await jd(r),r.asyncQueue,e,t,i))),i.promise}function Gv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Gg=new Map;function Kv(r,e,t){if(!t)throw new ve(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LT(r,e,t,i){if(e===!0&&i===!0)throw new ve(Y.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Kg(r){if(!xe.isDocumentKey(r))throw new ve(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Qg(r){if(xe.isDocumentKey(r))throw new ve(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se()}function Kr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wf(r);throw new ve(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Xg{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gv((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xg(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new n1;switch(i.type){case"firstParty":return new o1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Gg.get(t);i&&(pe("ComponentProvider","Removing Datastore"),Gg.delete(t),i.terminate())})(this),Promise.resolve()}}function UT(r,e,t,i={}){var o;const l=(r=Kr(r,wc))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let f,y;if(typeof i.mockUserToken=="string")f=i.mockUserToken,y=Xt.MOCK_USER;else{f=jy(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ve(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Xt(_)}r._authCredentials=new r1(new qy(f,y))}}class il{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new il(this.firestore,e,this._query)}}class In{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Vs extends il{constructor(e,t,i){super(e,t,nf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new xe(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function Dd(r,e,...t){if(r=Ot(r),Kv("collection","path",e),r instanceof wc){const i=at.fromString(e,...t);return Qg(i),new Vs(r,null,i)}{if(!(r instanceof In||r instanceof Vs))throw new ve(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(at.fromString(e,...t));return Qg(i),new Vs(r.firestore,null,i)}}function Zn(r,e,...t){if(r=Ot(r),arguments.length===1&&(e=Wy.newId()),Kv("doc","path",e),r instanceof wc){const i=at.fromString(e,...t);return Kg(i),new In(r,null,new xe(i))}{if(!(r instanceof In||r instanceof Vs))throw new ve(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(at.fromString(e,...t));return Kg(i),new In(r.firestore,r instanceof Vs?r.converter:null,new xe(i))}}class Yg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Sv(this,"async_queue_retry"),this.Vu=()=>{const i=ld();i&&pe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=ld();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=ld();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Os;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!el(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f})(i);throw Xr("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=gf.createAndSchedule(this,e,t,i,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Jg(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class Mo extends wc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Yg,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yg(e),this._firestoreClient=void 0,await e}}}function FT(r,e){const t=typeof r=="object"?r:Kd(),i=typeof r=="string"?r:"(default)",o=uc(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=Ny("firestore");l&&UT(o,...l)}return o}function xf(r){if(r._terminated)throw new ve(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zT(r),r._firestoreClient}function zT(r){var e,t,i;const o=r._freezeSettings(),l=(function(f,y,_,E){return new _1(f,y,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Gv(E.experimentalLongPollingOptions),E.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new DT(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(f){const y=f?._online.build();return{_offline:f?._offline.build(y),_online:y}})(r._componentsProvider))}class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo(Ht.fromBase64String(e))}catch(t){throw new ve(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ef{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qv{constructor(e){this._methodName=e}}class Tf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}class If{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}}const BT=/^__.*__$/;class $T{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,t,this.fieldTransforms):new tl(e,this.data,t,this.fieldTransforms)}}function Xv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class kf{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Xv(this.Cu)&&BT.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class HT{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||yc(e)}Qu(e,t,i,o=!1){return new kf({Cu:e,methodName:t,qu:i,path:Bt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qT(r){const e=r._freezeSettings(),t=yc(r._databaseId);return new HT(r._databaseId,!!e.ignoreUndefinedProperties,t)}function WT(r,e,t,i,o,l={}){const h=r.Qu(l.merge||l.mergeFields?2:0,e,t,o);e0("Data must be an object, but it was:",h,i);const f=Jv(i,h);let y,_;if(l.merge)y=new er(h.fieldMask),_=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const A of l.mergeFields){const b=GT(e,A,t);if(!h.contains(b))throw new ve(Y.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);QT(E,b)||E.push(b)}y=new er(E),_=h.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=h.fieldTransforms;return new $T(new Mn(f),y,_)}function Yv(r,e){if(Zv(r=Ot(r)))return e0("Unsupported field value:",e,r),Jv(r,e);if(r instanceof Qv)return(function(i,o){if(!Xv(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const f of i){let y=Yv(f,o.Lu(h));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),h++}return{arrayValue:{values:l}}})(r,e)}return(function(i,o){if((i=Ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return B1(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Rt.fromDate(i);return{timestampValue:Ju(o.serializer,l)}}if(i instanceof Rt){const l=new Rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ju(o.serializer,l)}}if(i instanceof Tf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Oo)return{bytesValue:yv(o.serializer,i._byteString)};if(i instanceof In){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:lf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof If)return(function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw f.Bu("VectorValues must only contain numeric values.");return rf(f.serializer,y)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${wf(i)}`)})(r,e)}function Jv(r,e){const t={};return Gy(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(r,((i,o)=>{const l=Yv(o,e.Mu(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function Zv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Tf||r instanceof Oo||r instanceof In||r instanceof Qv||r instanceof If)}function e0(r,e,t){if(!Zv(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=wf(t);throw i==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+i)}}function GT(r,e,t){if((e=Ot(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return t0(r,e);throw tc("Field path arguments must be of type string or ",r,!1,void 0,t)}const KT=new RegExp("[~\\*/\\[\\]]");function t0(r,e,t){if(e.search(KT)>=0)throw tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ef(...e.split("."))._internalPath}catch{throw tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function tc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(l||h)&&(y+=" (found",l&&(y+=` in field ${i}`),h&&(y+=` in document ${o}`),y+=")"),new ve(Y.INVALID_ARGUMENT,f+r+y)}function QT(r,e){return r.some((t=>t.isEqual(e)))}class n0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(r0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class XT extends n0{data(){return super.data()}}function r0(r,e){return typeof e=="string"?t0(r,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}function s0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YT{convertValue(e,t="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return zo(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((h=>wt(h.doubleValue)));return new If(l)}convertGeoPoint(e){return new Tf(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Jd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ba(e));default:return null}}convertTimestamp(e){const t=Fs(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=at.fromString(e);Je(Tv(i));const o=new $a(i.get(1),i.get(3)),l=new xe(i.popFirst(5));return o.isEqual(t)||Xr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function JT(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Pa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class i0 extends n0{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(r0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Lu extends i0{data(e={}){return super.data(e)}}class o0{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Pa(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Lu(this._firestore,this._userDataWriter,i.key,i,new Pa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const y=new Lu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Pa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const y=new Lu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Pa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return f.type!==0&&(_=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:ZT(f.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ZT(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class Sf extends YT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}function a0(r){r=Kr(r,il);const e=Kr(r.firestore,Mo),t=xf(e),i=new Sf(e);return s0(r._query),VT(t,r._query).then((o=>new o0(e,i,r,o)))}function Ru(r,e,t){r=Kr(r,In);const i=Kr(r.firestore,Mo),o=JT(r.converter,e,t);return l0(i,[WT(qT(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,yr.none())])}function eI(r){return l0(Kr(r.firestore,Mo),[new sf(r._key,yr.none())])}function wi(r,...e){var t,i,o;r=Ot(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||Jg(e[h])||(l=e[h],h++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Jg(e[h])){const A=e[h];e[h]=(t=A.next)===null||t===void 0?void 0:t.bind(A),e[h+1]=(i=A.error)===null||i===void 0?void 0:i.bind(A),e[h+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let y,_,E;if(r instanceof In)_=Kr(r.firestore,Mo),E=nf(r._key.path),y={next:A=>{e[h]&&e[h](tI(_,r,A))},error:e[h+1],complete:e[h+2]};else{const A=Kr(r,il);_=Kr(A.firestore,Mo),E=A._query;const b=new Sf(_);y={next:D=>{e[h]&&e[h](new o0(_,b,A,D))},error:e[h+1],complete:e[h+2]},s0(r._query)}return(function(b,D,F,O){const L=new qv(O),q=new Ov(D,L,F);return b.asyncQueue.enqueueAndForget((async()=>Dv(await jd(b),q))),()=>{L.Za(),b.asyncQueue.enqueueAndForget((async()=>Mv(await jd(b),q)))}})(xf(_),E,f,y)}function l0(r,e){return(function(i,o){const l=new Os;return i.asyncQueue.enqueueAndForget((async()=>ST(await OT(i),o,l))),l.promise})(xf(r),e)}function tI(r,e,t){const i=t.docs.get(e._key),o=new Sf(r);return new i0(r,o,e._key,i,new Pa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Fo=o})(ji),Ai(new Ls("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new Mo(new s1(i.getProvider("auth-internal")),new l1(i.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ve(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(_.options.projectId,E)})(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),mr(gg,"4.7.3",e),mr(gg,"4.7.3","esm2017")})();var nI="firebase",rI="10.14.1";mr(nI,rI,"app");function Af(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sI=u0,c0=new Ya("auth","Firebase",u0());const nc=new Wd("@firebase/auth");function iI(r,...e){nc.logLevel<=Fe.WARN&&nc.warn(`Auth (${ji}): ${r}`,...e)}function Uu(r,...e){nc.logLevel<=Fe.ERROR&&nc.error(`Auth (${ji}): ${r}`,...e)}function Er(r,...e){throw Rf(r,...e)}function tr(r,...e){return Rf(r,...e)}function Cf(r,e,t){const i=Object.assign(Object.assign({},sI()),{[e]:t});return new Ya("auth","Firebase",i).create(e,{appName:r.name})}function ki(r){return Cf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oI(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Er(r,"argument-error"),Cf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rf(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return c0.create(r,...e)}function ke(r,e,...t){if(!r)throw Rf(e,...t)}function qr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Uu(e),new Error(e)}function Jr(r,e){r||qr(e)}function Md(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function aI(){return Zg()==="http:"||Zg()==="https:"}function Zg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function lI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aI()||Ow()||"connection"in navigator)?navigator.onLine:!0}function uI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ol{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jr(t>e,"Short delay should be less than long delay!"),this.isMobile=jw()||Vw()}get(){return lI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nf(r,e){Jr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class h0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hI=new ol(3e4,6e4);function bf(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ho(r,e,t,i,o={}){return d0(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=Ja(Object.assign({key:r.config.apiKey},h)).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:y},l);return Mw()||(_.referrerPolicy="no-referrer"),h0.fetch()(f0(r,r.config.apiHost,t,f),_)})}async function d0(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},cI),e);try{const o=new fI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Nu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[y,_]=f.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(r,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw Nu(r,"email-already-in-use",h);if(y==="USER_DISABLED")throw Nu(r,"user-disabled",h);const E=i[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Cf(r,E,_);Er(r,E)}}catch(o){if(o instanceof Tr)throw o;Er(r,"network-request-failed",{message:String(o)})}}async function dI(r,e,t,i,o={}){const l=await Ho(r,e,t,i,o);return"mfaPendingCredential"in l&&Er(r,"multi-factor-auth-required",{_serverResponse:l}),l}function f0(r,e,t,i){const o=`${e}${t}?${i}`;return r.config.emulator?Nf(r.config,o):`${r.config.apiScheme}://${o}`}class fI{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(tr(this.auth,"network-request-failed")),hI.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=tr(r,e,i);return o.customData._tokenResponse=t,o}async function pI(r,e){return Ho(r,"POST","/v1/accounts:delete",e)}async function p0(r,e){return Ho(r,"POST","/v1/accounts:lookup",e)}function Va(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mI(r,e=!1){const t=Ot(r),i=await t.getIdToken(e),o=Pf(i);ke(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:i,authTime:Va(cd(o.auth_time)),issuedAtTime:Va(cd(o.iat)),expirationTime:Va(cd(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function cd(r){return Number(r)*1e3}function Pf(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Cy(t);return o?JSON.parse(o):(Uu("Failed to decode base64 JWT payload"),null)}catch(o){return Uu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ey(r){const e=Pf(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ga(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Tr&&gI(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function gI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class yI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Od{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rc(r){var e;const t=r.auth,i=await r.getIdToken(),o=await Ga(r,p0(t,{idToken:i}));ke(o?.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?m0(l.providerUserInfo):[],f=_I(r.providerData,h),y=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!f?.length,E=y?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Od(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function vI(r){const e=Ot(r);await rc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _I(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function m0(r){return r.map(e=>{var{providerId:t}=e,i=Af(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function wI(r,e){const t=await d0(r,{},async()=>{const i=Ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=f0(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",h0.fetch()(h,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xI(r,e){return Ho(r,"POST","/v2/accounts:revokeToken",bf(r,e))}class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ey(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=ey(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await wI(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new ko;return i&&(ke(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(ke(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(ke(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return qr("not implemented")}}function Cs(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Od(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mI(this,e)}reload(){return vI(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await rc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hr(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await Ga(this,pI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,f,y,_,E;const A=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,F=(h=t.photoURL)!==null&&h!==void 0?h:void 0,O=(f=t.tenantId)!==null&&f!==void 0?f:void 0,L=(y=t._redirectEventId)!==null&&y!==void 0?y:void 0,q=(_=t.createdAt)!==null&&_!==void 0?_:void 0,B=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:ie,isAnonymous:Te,providerData:ae,stsTokenManager:C}=t;ke(re&&C,e,"internal-error");const T=ko.fromJSON(this.name,C);ke(typeof re=="string",e,"internal-error"),Cs(A,e.name),Cs(b,e.name),ke(typeof ie=="boolean",e,"internal-error"),ke(typeof Te=="boolean",e,"internal-error"),Cs(D,e.name),Cs(F,e.name),Cs(O,e.name),Cs(L,e.name),Cs(q,e.name),Cs(B,e.name);const k=new Wr({uid:re,auth:e,email:b,emailVerified:ie,displayName:A,isAnonymous:Te,photoURL:F,phoneNumber:D,tenantId:O,stsTokenManager:T,createdAt:q,lastLoginAt:B});return ae&&Array.isArray(ae)&&(k.providerData=ae.map(N=>Object.assign({},N))),L&&(k._redirectEventId=L),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new ko;o.updateFromServerResponse(t);const l=new Wr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await rc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];ke(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?m0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,f=new ko;f.updateFromIdToken(i);const y=new Wr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Od(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(y,_),y}}const ty=new Map;function Gr(r){Jr(r instanceof Function,"Expected a class definition");let e=ty.get(r);return e?(Jr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ty.set(r,e),e)}class g0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}g0.type="NONE";const ny=g0;function Fu(r,e,t){return`firebase:${r}:${e}:${t}`}class So{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Fu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Fu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new So(Gr(ny),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||Gr(ny);const h=Fu(i,e.config.apiKey,e.name);let f=null;for(const _ of t)try{const E=await _._get(h);if(E){const A=Wr._fromJSON(e,E);_!==l&&(f=A),l=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!y.length?new So(l,e,i):(l=y[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(h)}catch{}})),new So(l,e,i))}}function ry(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E0(e))return"Blackberry";if(T0(e))return"Webos";if(v0(e))return"Safari";if((e.includes("chrome/")||_0(e))&&!e.includes("edge/"))return"Chrome";if(x0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function y0(r=Jt()){return/firefox\//i.test(r)}function v0(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _0(r=Jt()){return/crios\//i.test(r)}function w0(r=Jt()){return/iemobile/i.test(r)}function x0(r=Jt()){return/android/i.test(r)}function E0(r=Jt()){return/blackberry/i.test(r)}function T0(r=Jt()){return/webos/i.test(r)}function jf(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function EI(r=Jt()){var e;return jf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TI(){return Lw()&&document.documentMode===10}function I0(r=Jt()){return jf(r)||x0(r)||T0(r)||E0(r)||/windows phone/i.test(r)||w0(r)}function k0(r,e=[]){let t;switch(r){case"Browser":t=ry(Jt());break;case"Worker":t=`${ry(Jt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ji}/${i}`}class II{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const y=e(l);h(y)}catch(y){f(y)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function kI(r,e={}){return Ho(r,"GET","/v2/passwordPolicy",bf(r,e))}const SI=6;class AI{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:SI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,f;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(t=y.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),y.isValid&&(y.isValid=(i=y.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(o=y.containsLowercaseLetter)!==null&&o!==void 0?o:!0),y.isValid&&(y.isValid=(l=y.containsUppercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(h=y.containsNumericCharacter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(f=y.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),y}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class CI{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sy(this),this.idTokenSubscription=new sy(this),this.beforeStateQueue=new II(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await p0(this,{idToken:e}),i=await Wr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Hr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o?._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===f)&&y?.user&&(o=y.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hr(this.app))return Promise.reject(ki(this));const t=e?Ot(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hr(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hr(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kI(this),t=new AI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await xI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gr(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,i,o);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&iI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function xc(r){return Ot(r)}class sy{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ww(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RI(r){Df=r}function NI(r){return Df.loadJS(r)}function bI(){return Df.gapiScript}function PI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function jI(r,e){const t=uc(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(qu(l,e??{}))return o;Er(o,"already-initialized")}return t.initialize({options:e})}function DI(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Gr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function MI(r,e,t){const i=xc(r);ke(i._canInitEmulator,i,"emulator-config-failed"),ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=S0(e),{host:h,port:f}=OI(e),y=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${h}${y}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),VI()}function S0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function OI(r){const e=S0(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:iy(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:iy(h)}}}function iy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function VI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class A0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,t){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function Ao(r,e){return dI(r,"POST","/v1/accounts:signInWithIdp",bf(r,e))}const LI="http://localhost";class bi extends A0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Af(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new bi(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ao(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ao(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ao(e,t)}buildRequest(){const e={requestUri:LI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ja(t)}return e}}class Mf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class al extends Mf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rs extends al{constructor(){super("facebook.com")}static credential(e){return bi._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";class Br extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bi._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Br.credential(t,i)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";class Ns extends al{constructor(){super("github.com")}static credential(e){return bi._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";class bs extends al{constructor(){super("twitter.com")}static credential(e,t){return bi._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bs.credential(t,i)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Wr._fromIdTokenResponse(e,i,o),h=oy(i);return new Vo({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=oy(i);return new Vo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function oy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class sc extends Tr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new sc(e,t,i,o)}}function C0(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sc._fromErrorAndOperation(r,l,e,i):l})}async function UI(r,e,t=!1){const i=await Ga(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Vo._forOperation(r,"link",i)}async function FI(r,e,t=!1){const{auth:i}=r;if(Hr(i.app))return Promise.reject(ki(i));const o="reauthenticate";try{const l=await Ga(r,C0(i,o,e,r),t);ke(l.idToken,i,"internal-error");const h=Pf(l.idToken);ke(h,i,"internal-error");const{sub:f}=h;return ke(r.uid===f,i,"user-mismatch"),Vo._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Er(i,"user-mismatch"),l}}async function zI(r,e,t=!1){if(Hr(r.app))return Promise.reject(ki(r));const i="signIn",o=await C0(r,i,e),l=await Vo._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}function BI(r,e,t,i){return Ot(r).onIdTokenChanged(e,t,i)}function $I(r,e,t){return Ot(r).beforeAuthStateChanged(e,t)}function HI(r,e,t,i){return Ot(r).onAuthStateChanged(e,t,i)}function Vd(r){return Ot(r).signOut()}const ic="__sak";class R0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ic,"1"),this.storage.removeItem(ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qI=1e3,WI=10;class N0 extends R0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,y)=>{this.notifyListeners(h,y)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);TI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WI):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},qI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}N0.type="LOCAL";const GI=N0;class b0 extends R0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}b0.type="SESSION";const P0=b0;function KI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ec{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ec(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async _=>_(t.origin,l)),y=await KI(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ec.receivers=[];function Of(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class QI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,y)=>{const _=Of("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===_)switch(b.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(E),clearTimeout(l),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function _r(){return window}function XI(r){_r().location.href=r}function j0(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function YI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JI(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ZI(){return j0()?self:null}const D0="firebaseLocalStorageDb",ek=1,oc="firebaseLocalStorage",M0="fbase_key";class ll{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Tc(r,e){return r.transaction([oc],e?"readwrite":"readonly").objectStore(oc)}function tk(){const r=indexedDB.deleteDatabase(D0);return new ll(r).toPromise()}function Ld(){const r=indexedDB.open(D0,ek);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(oc,{keyPath:M0})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(oc)?e(i):(i.close(),await tk(),e(await Ld()))})})}async function ay(r,e,t){const i=Tc(r,!0).put({[M0]:e,value:t});return new ll(i).toPromise()}async function nk(r,e){const t=Tc(r,!1).get(e),i=await new ll(t).toPromise();return i===void 0?null:i.value}function ly(r,e){const t=Tc(r,!0).delete(e);return new ll(t).toPromise()}const rk=800,sk=3;class O0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ld(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>sk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ec._getInstance(ZI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await YI(),!this.activeServiceWorker)return;this.sender=new QI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ld();return await ay(e,ic,"1"),await ly(e,ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ay(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>nk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ly(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Tc(o,!1).getAll();return new ll(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O0.type="LOCAL";const ik=O0;new ol(3e4,6e4);function V0(r,e){return e?Gr(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Vf extends A0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ok(r){return zI(r.auth,new Vf(r),r.bypassAuthState)}function ak(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),FI(t,new Vf(r),r.bypassAuthState)}async function lk(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),UI(t,new Vf(r),r.bypassAuthState)}class L0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ok;case"linkViaPopup":case"linkViaRedirect":return lk;case"reauthViaPopup":case"reauthViaRedirect":return ak;default:Er(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uk=new ol(2e3,1e4);async function ck(r,e,t){if(Hr(r.app))return Promise.reject(tr(r,"operation-not-supported-in-this-environment"));const i=xc(r);oI(r,e,Mf);const o=V0(i,t);return new Ti(i,"signInViaPopup",e,o).executeNotNull()}class Ti extends L0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ti.currentPopupAction&&Ti.currentPopupAction.cancel(),Ti.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=Of();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ti.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uk.get())};e()}}Ti.currentPopupAction=null;const hk="pendingRedirect",zu=new Map;class dk extends L0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=zu.get(this.auth._key());if(!e){try{const i=await fk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}zu.set(this.auth._key(),e)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fk(r,e){const t=gk(e),i=mk(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function pk(r,e){zu.set(r._key(),e)}function mk(r){return Gr(r._redirectPersistence)}function gk(r){return Fu(hk,r.config.apiKey,r.name)}async function yk(r,e,t=!1){if(Hr(r.app))return Promise.reject(ki(r));const i=xc(r),o=V0(i,e),h=await new dk(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const vk=600*1e3;class _k{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!U0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vk&&this.cachedEventUids.clear(),this.cachedEventUids.has(uy(e))}saveEventToCache(e){this.cachedEventUids.add(uy(e)),this.lastProcessedEventTime=Date.now()}}function uy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function U0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function wk(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U0(r);default:return!1}}async function xk(r,e={}){return Ho(r,"GET","/v1/projects",e)}const Ek=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tk=/^https?/;async function Ik(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xk(r);for(const t of e)try{if(kk(t))return}catch{}Er(r,"unauthorized-domain")}function kk(r){const e=Md(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!Tk.test(t))return!1;if(Ek.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const Sk=new ol(3e4,6e4);function cy(){const r=_r().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Ak(r){return new Promise((e,t)=>{var i,o,l;function h(){cy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cy(),t(tr(r,"network-request-failed"))},timeout:Sk.get()})}if(!((o=(i=_r().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=_r().gapi)===null||l===void 0)&&l.load)h();else{const f=PI("iframefcb");return _r()[f]=()=>{gapi.load?h():t(tr(r,"network-request-failed"))},NI(`${bI()}?onload=${f}`).catch(y=>t(y))}}).catch(e=>{throw Bu=null,e})}let Bu=null;function Ck(r){return Bu=Bu||Ak(r),Bu}const Rk=new ol(5e3,15e3),Nk="__/auth/iframe",bk="emulator/auth/iframe",Pk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dk(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Nf(e,bk):`https://${r.config.authDomain}/${Nk}`,i={apiKey:e.apiKey,appName:r.name,v:ji},o=jk.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ja(i).slice(1)}`}async function Mk(r){const e=await Ck(r),t=_r().gapi;return ke(t,r,"internal-error"),e.open({where:document.body,url:Dk(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pk,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=tr(r,"network-request-failed"),f=_r().setTimeout(()=>{l(h)},Rk.get());function y(){_r().clearTimeout(f),o(i)}i.ping(y).then(y,()=>{l(h)})}))}const Ok={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vk=500,Lk=600,Uk="_blank",Fk="http://localhost";class hy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zk(r,e,t,i=Vk,o=Lk){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const y=Object.assign(Object.assign({},Ok),{width:i.toString(),height:o.toString(),top:l,left:h}),_=Jt().toLowerCase();t&&(f=_0(_)?Uk:t),y0(_)&&(e=e||Fk,y.scrollbars="yes");const E=Object.entries(y).reduce((b,[D,F])=>`${b}${D}=${F},`,"");if(EI(_)&&f!=="_self")return Bk(e||"",f),new hy(null);const A=window.open(e||"",f,E);ke(A,r,"popup-blocked");try{A.focus()}catch{}return new hy(A)}function Bk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const $k="__/auth/handler",Hk="emulator/auth/handler",qk=encodeURIComponent("fac");async function dy(r,e,t,i,o,l){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:ji,eventId:o};if(e instanceof Mf){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",qw(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))h[E]=A}if(e instanceof al){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const y=await r._getAppCheckToken(),_=y?`#${qk}=${encodeURIComponent(y)}`:"";return`${Wk(r)}?${Ja(f).slice(1)}${_}`}function Wk({config:r}){return r.emulator?Nf(r,Hk):`https://${r.authDomain}/${$k}`}const hd="webStorageSupport";class Gk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P0,this._completeRedirectFn=yk,this._overrideRedirectResult=pk}async _openPopup(e,t,i,o){var l;Jr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await dy(e,t,i,Md(),o);return zk(e,h,Of())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await dy(e,t,i,Md(),o);return XI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Jr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Mk(e),i=new _k(e);return t.register("authEvent",o=>(ke(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hd,{type:hd},o=>{var l;const h=(l=o?.[0])===null||l===void 0?void 0:l[hd];h!==void 0&&t(!!h),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ik(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return I0()||v0()||jf()}}const Kk=Gk;var fy="@firebase/auth",py="1.7.9";class Qk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yk(r){Ai(new Ls("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;ke(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const y={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(r)},_=new CI(i,o,l,y);return DI(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ai(new Ls("auth-internal",e=>{const t=xc(e.getProvider("auth").getImmediate());return(i=>new Qk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(fy,py,Xk(r)),mr(fy,py,"esm2017")}const Jk=300,Zk=Py("authIdTokenMaxAge")||Jk;let my=null;const eS=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Zk)return;const o=t?.token;my!==o&&(my=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tS(r=Kd()){const e=uc(r,"auth");if(e.isInitialized())return e.getImmediate();const t=jI(r,{popupRedirectResolver:Kk,persistence:[ik,GI,P0]}),i=Py("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=eS(l.toString());$I(t,h,()=>h(t.currentUser)),BI(t,f=>h(f))}}const o=Ry("auth");return o&&MI(t,`http://${o}`),t}function nS(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}RI({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=tr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",nS().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yk("Browser");const F0="firebasestorage.googleapis.com",z0="storageBucket",rS=120*1e3,sS=600*1e3;class gt extends Tr{constructor(e,t,i=0){super(dd(e),`Firebase Storage: ${t} (${dd(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function dd(r){return"storage/"+r}function Lf(){const r="An unknown error occurred, please check the error payload for server response.";return new gt(mt.UNKNOWN,r)}function iS(r){return new gt(mt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function oS(r){return new gt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aS(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(mt.UNAUTHENTICATED,r)}function lS(){return new gt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uS(r){return new gt(mt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function cS(){return new gt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hS(){return new gt(mt.CANCELED,"User canceled the upload/download.")}function dS(r){return new gt(mt.INVALID_URL,"Invalid URL '"+r+"'.")}function fS(r){return new gt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function pS(){return new gt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+z0+"' property when initializing the app?")}function mS(){return new gt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gS(){return new gt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yS(r){return new gt(mt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ud(r){return new gt(mt.INVALID_ARGUMENT,r)}function B0(){return new gt(mt.APP_DELETED,"The Firebase app was deleted.")}function vS(r){return new gt(mt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function La(r,e){return new gt(mt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Ca(r){throw new gt(mt.INTERNAL_ERROR,"Internal error: "+r)}class Tn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Tn.makeFromUrl(e,t)}catch{return new Tn(e,"")}if(i.path==="")return i;throw fS(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const h="(/(.*))?$",f=new RegExp("^gs://"+o+h,"i"),y={bucket:1,path:3};function _(ie){ie.path_=decodeURIComponent(ie.path)}const E="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",D=new RegExp(`^https?://${A}/${E}/b/${o}/o${b}`,"i"),F={bucket:1,path:3},O=t===F0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",q=new RegExp(`^https?://${O}/${o}/${L}`,"i"),re=[{regex:f,indices:y,postModify:l},{regex:D,indices:F,postModify:_},{regex:q,indices:{bucket:1,path:2},postModify:_}];for(let ie=0;ie<re.length;ie++){const Te=re[ie],ae=Te.regex.exec(e);if(ae){const C=ae[Te.indices.bucket];let T=ae[Te.indices.path];T||(T=""),i=new Tn(C,T),Te.postModify(i);break}}if(i==null)throw dS(e);return i}}class _S{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function wS(r,e,t){let i=1,o=null,l=null,h=!1,f=0;function y(){return f===2}let _=!1;function E(...L){_||(_=!0,e.apply(null,L))}function A(L){o=setTimeout(()=>{o=null,r(D,y())},L)}function b(){l&&clearTimeout(l)}function D(L,...q){if(_){b();return}if(L){b(),E.call(null,L,...q);return}if(y()||h){b(),E.call(null,L,...q);return}i<64&&(i*=2);let re;f===1?(f=2,re=0):re=(i+Math.random())*1e3,A(re)}let F=!1;function O(L){F||(F=!0,b(),!_&&(o!==null?(L||(f=2),clearTimeout(o),A(0)):L||(f=1)))}return A(0),l=setTimeout(()=>{h=!0,O(!0)},t),O}function xS(r){r(!1)}function ES(r){return r!==void 0}function TS(r){return typeof r=="object"&&!Array.isArray(r)}function Uf(r){return typeof r=="string"||r instanceof String}function gy(r){return Ff()&&r instanceof Blob}function Ff(){return typeof Blob<"u"}function yy(r,e,t,i){if(i<e)throw Ud(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>t)throw Ud(`Invalid value for '${r}'. Expected ${t} or less.`)}function zf(r,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${r}`}function $0(r){const e=encodeURIComponent;let t="?";for(const i in r)if(r.hasOwnProperty(i)){const o=e(i)+"="+e(r[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Si;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Si||(Si={}));function IS(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}class kS{constructor(e,t,i,o,l,h,f,y,_,E,A,b=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=f,this.errorCallback_=y,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=A,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,F)=>{this.resolve_=D,this.reject_=F,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new bu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=f=>{const y=f.loaded,_=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,_)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const f=l.getErrorCode()===Si.NO_ERROR,y=l.getStatus();if(!f||IS(y,this.additionalRetryCodes_)&&this.retry){const E=l.getErrorCode()===Si.ABORT;i(!1,new bu(!1,null,E));return}const _=this.successCodes_.indexOf(y)!==-1;i(!0,new bu(_,l))})},t=(i,o)=>{const l=this.resolve_,h=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(f,f.getResponse());ES(y)?l(y):l()}catch(y){h(y)}else if(f!==null){const y=Lf();y.serverResponse=f.getErrorText(),this.errorCallback_?h(this.errorCallback_(f,y)):h(y)}else if(o.canceled){const y=this.appDelete_?B0():hS();h(y)}else{const y=cS();h(y)}};this.canceled_?t(!1,new bu(!1,null,!0)):this.backoffId_=wS(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xS(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bu{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function SS(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function AS(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CS(r,e){e&&(r["X-Firebase-GMPID"]=e)}function RS(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function NS(r,e,t,i,o,l,h=!0){const f=$0(r.urlParams),y=r.url+f,_=Object.assign({},r.headers);return CS(_,e),SS(_,t),AS(_,l),RS(_,i),new kS(y,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h)}function bS(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PS(...r){const e=bS();if(e!==void 0){const t=new e;for(let i=0;i<r.length;i++)t.append(r[i]);return t.getBlob()}else{if(Ff())return new Blob(r);throw new gt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jS(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}function DS(r){if(typeof atob>"u")throw yS("base-64");return atob(r)}const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fd{constructor(e,t){this.data=e,this.contentType=t||null}}function MS(r,e){switch(r){case pr.RAW:return new fd(H0(e));case pr.BASE64:case pr.BASE64URL:return new fd(q0(r,e));case pr.DATA_URL:return new fd(VS(e),LS(e))}throw Lf()}function H0(r){const e=[];for(let t=0;t<r.length;t++){let i=r.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,h=r.charCodeAt(++t);i=65536|(l&1023)<<10|h&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function OS(r){let e;try{e=decodeURIComponent(r)}catch{throw La(pr.DATA_URL,"Malformed data URL.")}return H0(e)}function q0(r,e){switch(r){case pr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw La(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw La(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=DS(e)}catch(o){throw o.message.includes("polyfill")?o:La(r,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class W0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw La(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=US(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function VS(r){const e=new W0(r);return e.base64?q0(pr.BASE64,e.rest):OS(e.rest)}function LS(r){return new W0(r).contentType}function US(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class Ps{constructor(e,t){let i=0,o="";gy(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(gy(this.data_)){const i=this.data_,o=jS(i,e,t);return o===null?null:new Ps(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ps(i,!0)}}static getBlob(...e){if(Ff()){const t=e.map(i=>i instanceof Ps?i.data_:i);return new Ps(PS.apply(null,t))}else{const t=e.map(h=>Uf(h)?MS(pr.RAW,h).data:h.data_);let i=0;t.forEach(h=>{i+=h.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(h=>{for(let f=0;f<h.length;f++)o[l++]=h[f]}),new Ps(o,!0)}}uploadData(){return this.data_}}function G0(r){let e;try{e=JSON.parse(r)}catch{return null}return TS(e)?e:null}function FS(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function zS(r,e){const t=e.split("/").filter(i=>i.length>0).join("/");return r.length===0?t:r+"/"+t}function K0(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function BS(r,e){return e}class sn{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||BS}}let Pu=null;function $S(r){return!Uf(r)||r.length<2?r:K0(r)}function Q0(){if(Pu)return Pu;const r=[];r.push(new sn("bucket")),r.push(new sn("generation")),r.push(new sn("metageneration")),r.push(new sn("name","fullPath",!0));function e(l,h){return $S(h)}const t=new sn("name");t.xform=e,r.push(t);function i(l,h){return h!==void 0?Number(h):h}const o=new sn("size");return o.xform=i,r.push(o),r.push(new sn("timeCreated")),r.push(new sn("updated")),r.push(new sn("md5Hash",null,!0)),r.push(new sn("cacheControl",null,!0)),r.push(new sn("contentDisposition",null,!0)),r.push(new sn("contentEncoding",null,!0)),r.push(new sn("contentLanguage",null,!0)),r.push(new sn("contentType",null,!0)),r.push(new sn("metadata","customMetadata",!0)),Pu=r,Pu}function HS(r,e){function t(){const i=r.bucket,o=r.fullPath,l=new Tn(i,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function qS(r,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const h=t[l];i[h.local]=h.xform(i,e[h.server])}return HS(i,r),i}function X0(r,e,t){const i=G0(e);return i===null?null:qS(r,i,t)}function WS(r,e,t,i){const o=G0(e);if(o===null||!Uf(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const h=encodeURIComponent;return l.split(",").map(_=>{const E=r.bucket,A=r.fullPath,b="/b/"+h(E)+"/o/"+h(A),D=zf(b,t,i),F=$0({alt:"media",token:_});return D+F})[0]}function GS(r,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}class Y0{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function J0(r){if(!r)throw Lf()}function KS(r,e){function t(i,o){const l=X0(r,o,e);return J0(l!==null),l}return t}function QS(r,e){function t(i,o){const l=X0(r,o,e);return J0(l!==null),WS(l,o,r.host,r._protocol)}return t}function Z0(r){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=lS():o=aS():t.getStatus()===402?o=oS(r.bucket):t.getStatus()===403?o=uS(r.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function XS(r){const e=Z0(r);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=iS(r.path)),l.serverResponse=o.serverResponse,l}return t}function YS(r,e,t){const i=e.fullServerUrl(),o=zf(i,r.host,r._protocol),l="GET",h=r.maxOperationRetryTime,f=new Y0(o,l,QS(r,t),h);return f.errorHandler=XS(e),f}function JS(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function ZS(r,e,t){const i=Object.assign({},t);return i.fullPath=r.path,i.size=e.size(),i.contentType||(i.contentType=JS(null,e)),i}function e2(r,e,t,i,o){const l=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function f(){let re="";for(let ie=0;ie<2;ie++)re=re+Math.random().toString().slice(2);return re}const y=f();h["Content-Type"]="multipart/related; boundary="+y;const _=ZS(e,i,o),E=GS(_,t),A="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+y+`\r
Content-Type: `+_.contentType+`\r
\r
`,b=`\r
--`+y+"--",D=Ps.getBlob(A,i,b);if(D===null)throw mS();const F={name:_.fullPath},O=zf(l,r.host,r._protocol),L="POST",q=r.maxUploadRetryTime,B=new Y0(O,L,KS(r,t),q);return B.urlParams=F,B.headers=h,B.body=D.uploadData(),B.errorHandler=Z0(e),B}class t2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Si.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Si.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Si.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw Ca("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ca("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ca("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ca("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ca("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class n2 extends t2{initXhr(){this.xhr_.responseType="text"}}function e_(){return new n2}class Pi{constructor(e,t){this._service=e,t instanceof Tn?this._location=t:this._location=Tn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Pi(e,t)}get root(){const e=new Tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return K0(this._location.path)}get storage(){return this._service}get parent(){const e=FS(this._location.path);if(e===null)return null;const t=new Tn(this._location.bucket,e);return new Pi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw vS(e)}}function r2(r,e,t){r._throwIfRoot("uploadBytes");const i=e2(r.storage,r._location,Q0(),new Ps(e,!0),t);return r.storage.makeRequestWithTokens(i,e_).then(o=>({metadata:o,ref:r}))}function s2(r){r._throwIfRoot("getDownloadURL");const e=YS(r.storage,r._location,Q0());return r.storage.makeRequestWithTokens(e,e_).then(t=>{if(t===null)throw gS();return t})}function i2(r,e){const t=zS(r._location.path,e),i=new Tn(r._location.bucket,t);return new Pi(r.storage,i)}function o2(r){return/^[A-Za-z]+:\/\//.test(r)}function a2(r,e){return new Pi(r,e)}function t_(r,e){if(r instanceof Bf){const t=r;if(t._bucket==null)throw pS();const i=new Pi(t,t._bucket);return e!=null?t_(i,e):i}else return e!==void 0?i2(r,e):r}function l2(r,e){if(e&&o2(e)){if(r instanceof Bf)return a2(r,e);throw Ud("To use ref(service, url), the first argument must be a Storage instance.")}else return t_(r,e)}function vy(r,e){const t=e?.[z0];return t==null?null:Tn.makeFromBucketSpec(t,r)}function u2(r,e,t,i={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=i;o&&(r._overrideAuthToken=typeof o=="string"?o:jy(o,r.app.options.projectId))}class Bf{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=F0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rS,this._maxUploadRetryTime=sS,this._requests=new Set,o!=null?this._bucket=Tn.makeFromBucketSpec(o,this._host):this._bucket=vy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,e):this._bucket=vy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pi(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new _S(B0());{const h=NS(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const _y="@firebase/storage",wy="0.13.2";const n_="storage";function c2(r,e,t){return r=Ot(r),r2(r,e,t)}function h2(r){return r=Ot(r),s2(r)}function d2(r,e){return r=Ot(r),l2(r,e)}function f2(r=Kd(),e){r=Ot(r);const i=uc(r,n_).getImmediate({identifier:e}),o=Ny("storage");return o&&p2(i,...o),i}function p2(r,e,t,i={}){u2(r,e,t,i)}function m2(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Bf(t,i,o,e,ji)}function g2(){Ai(new Ls(n_,m2,"PUBLIC").setMultipleInstances(!0)),mr(_y,wy,""),mr(_y,wy,"esm2017")}g2();const y2={apiKey:"AIzaSyBW5v_7kGitttrnCBQwYVPG9TiSPXdNaNc",authDomain:"guam-5eaff.firebaseapp.com",projectId:"guam-5eaff",storageBucket:"guam-5eaff.firebasestorage.app",messagingSenderId:"94280815489",appId:"1:94280815489:web:669d6fc05c097397bb8e80",measurementId:"G-0NNCC31G7E"};let ju,ht,$r,Fd;try{ju=Oy(y2),ht=FT(ju),$r=tS(ju),Fd=f2(ju)}catch(r){console.error("Firebase init error",r)}var v2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(r,e)=>{const t=ce.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:h,className:f="",children:y,..._},E)=>ce.createElement("svg",{ref:E,...v2,width:o,height:o,stroke:i,strokeWidth:h?Number(l)*24/Number(o):l,className:["lucide",`lucide-${_2(r)}`,f].join(" "),..._},[...e.map(([A,b])=>ce.createElement(A,b)),...Array.isArray(y)?y:[y]]));return t.displayName=`${r}`,t};const w2=Ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const x2=Ee("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);const xy=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const r_=Ee("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);const s_=Ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const zd=Ee("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);const E2=Ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const Ka=Ee("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);const i_=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const T2=Ee("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const I2=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const k2=Ee("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);const S2=Ee("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const A2=Ee("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const C2=Ee("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const R2=Ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const N2=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const b2=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const P2=Ee("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);const Bd=Ee("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);const j2=Ee("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]);const D2=Ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const M2=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const O2=Ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const Ey=Ee("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const ac=Ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const V2=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const L2=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const $d=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const U2=Ee("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const o_=Ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const F2=Ee("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Lo=Ee("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);const a_=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ty=Ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);const z2=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const l_=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const B2=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const $2=Ee("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Qa=Ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const H2=Ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const Uo=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const q2=Ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Hd=Ee("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const ul=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const W2=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const u_=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ua=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const G2=Ee("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);const Xa=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),K2=({currentTab:r,onTabChange:e,title:t,subtitle:i,coverImage:o,onOpenMembers:l})=>{const h=f=>`w-[42px] h-[42px] rounded-full flex items-center justify-center transition-all duration-300 ${r===f?"bg-guam-teal text-white scale-110 shadow-lg shadow-guam-teal/40":"text-slate-400"}`;return m.jsxs("div",{className:"relative h-[260px] bg-white rounded-b-[40px] shadow-lg overflow-hidden z-10",children:[m.jsxs("div",{className:"w-full h-full relative",children:[m.jsx("img",{src:o,alt:t,className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-guam-teal/20 to-transparent"}),m.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 flex justify-between items-start",children:[m.jsxs("div",{className:"text-white drop-shadow-md mt-6",children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t}),m.jsx("p",{className:"text-sm font-medium opacity-90 tracking-widest uppercase",children:i})]}),m.jsx("button",{onClick:l,className:"bg-white/20 backdrop-blur-md text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors mt-6 border border-white/30",children:m.jsx(Ua,{size:20})})]})]}),m.jsxs("div",{className:"absolute bottom-5 right-5 z-30 flex gap-2.5 bg-white/90 backdrop-blur-md p-2 rounded-full shadow-sm",children:[m.jsx("button",{onClick:()=>e("itinerary"),className:h("itinerary"),children:m.jsx(Ka,{size:20})}),m.jsx("button",{onClick:()=>e("info"),className:h("info"),children:m.jsx(M2,{size:20})}),m.jsx("button",{onClick:()=>e("shopping"),className:h("shopping"),children:m.jsx(Qa,{size:20})}),m.jsx("button",{onClick:()=>e("planning"),className:h("planning"),children:m.jsx(T2,{size:20})}),m.jsx("button",{onClick:()=>e("expenses"),className:h("expenses"),children:m.jsx(b2,{size:20})})]})]})},Q2=32.5,Co={title:"Guam Vacation",subtitle:"Feb 07 - Feb 11, 2026",coverImage:"https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?q=80&w=2069&auto=format&fit=crop"},X2=[{date:"2/07",weekday:"SAT",hasCar:!1},{date:"2/08",weekday:"SUN",hasCar:!0},{date:"2/09",weekday:"MON",hasCar:!0},{date:"2/10",weekday:"TUE",hasCar:!0},{date:"2/11",weekday:"WED",hasCar:!1}],Y2=[{condition:"sunny",temp:"29"},{condition:"cloudy",temp:"28"},{condition:"rain",temp:"27"},{condition:"sunny",temp:"30"},{condition:"sunny",temp:"29"}],$u=[],fr={itinerary:[[{id:101,name:"",category:"transport",startTime:"16:50",address:"Antonio B. Won Pat International Airport",note:"",transportType:"flight",travelTime:""},{id:102,name:"Bayview Hotel Check-in",category:"accommodation",startTime:"17:30",address:"Bayview Hotel Guam",note:"",transportType:"transport",travelTime:"15m"},{id:103,name:" ()",category:"sightseeing",startTime:"18:00",address:"Plaza de Espaa",note:"",hours:"Open 24H",price:"Free",transportType:"transport",travelTime:"10m"},{id:104,name:"",category:"sightseeing",startTime:"18:40",address:"Paseo de Susana Park",note:"",transportType:"walk",travelTime:"5m"},{id:105,name:": Agana Shopping Center",category:"food",startTime:"19:30",address:"Agana Shopping Center",note:" BBQ  Chamorro ",hours:"10:00-20:00",price:"~$30",transportType:"transport",travelTime:"5m"}],[{id:201,name:" & ",category:"transport",startTime:"09:00",address:"Nippon Rent-A-Car",note:"",transportType:"car",travelTime:""},{id:202,name:"",category:"sightseeing",startTime:"10:00",address:"Fish Eye Marine Park",note:"",hours:"08:00-17:00",price:"$16",transportType:"car",travelTime:"20m"},{id:203,name:"Umatac ",category:"sightseeing",startTime:"11:30",address:"Umatac Bay Park",note:"",price:"Free",transportType:"car",travelTime:"30m"},{id:204,name:"Inarajan ",category:"sightseeing",startTime:"13:00",address:"Inarajan Natural Pool",note:"",price:"Free",transportType:"car",travelTime:"20m"},{id:206,name:" Two Lovers Point",category:"sightseeing",startTime:"15:30",address:"Two Lovers Point",note:"",hours:"07:00-19:00",price:"$3",transportType:"car",travelTime:"45m"},{id:207,name:"Crowne Plaza Check-in",category:"accommodation",startTime:"17:00",address:"Crowne Plaza Resort Guam",note:" + ",transportType:"car",travelTime:"15m"}],[{id:301,name:": Crowne Plaza",category:"accommodation",startTime:"10:30",address:"Crowne Plaza Resort Guam",note:"",transportType:"transport",travelTime:""},{id:302,name:"Hoshino Resorts Check-in",category:"accommodation",startTime:"11:00",address:"Hoshino Resorts RISONARE Guam",note:"Check-in ",transportType:"transport",travelTime:"10m"},{id:303,name:"",category:"ticket",startTime:"11:30",address:"Hoshino Resorts RISONARE Guam",note:"SUP",price:"Free for guests",transportType:"walk",travelTime:"0m"},{id:306,name:": Hoshino / Tumon",category:"food",startTime:"18:30",address:"Hoshino Resorts RISONARE Guam",note:" + ",transportType:"walk",travelTime:"0m"}],[{id:402,name:"Guam Plaza Check-in",category:"accommodation",startTime:"10:30",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:404,name:"Plaza Spa ",category:"ticket",startTime:"12:30",address:"Guam Plaza Resort",note:"",price:"~$80",transportType:"walk",travelTime:"5m"},{id:405,name:"DFS / Micronesia Mall",category:"shopping",startTime:"14:30",address:"T Galleria by DFS",note:"",hours:"10:00-20:00",transportType:"transport",travelTime:"10m"},{id:406,name:": Hard Rock Cafe",category:"food",startTime:"19:00",address:"Hard Rock Cafe Guam",note:"",hours:"11:00-22:00",price:"~$40",transportType:"walk",travelTime:"5m"}],[{id:501,name:" & ",category:"transport",startTime:"05:00",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:503,name:"",category:"transport",startTime:"07:30",address:"Guam Airport",note:"",transportType:"flight",travelTime:"4h30m"},{id:504,name:"",category:"transport",startTime:"10:00",address:"Taoyuan Airport",note:"",transportType:"flight",travelTime:""}]],shopping:[{id:1,name:"Banana Boat  (SPF110)",note:"ABC Store "},{id:2,name:"Godiva ",note:"Macy's "},{id:3,name:"Guam  (6)",note:""}],expenses:[{id:1,name:" (TPE-GUM)",amount:650,category:"transport",date:"01/15",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:650}]},{id:2,name:"Bayview Hotel ",amount:150,category:"accommodation",date:"01/20",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:150}]}],planning:[{id:1,title:"",category:"todo",completed:!0,assignedTo:"All"},{id:2,title:"/",category:"todo",completed:!1,assignedTo:"All"},{id:3,title:"",category:"todo",completed:!1,assignedTo:"All"}],flights:[{id:"outbound",airline:"China Airlines",flightNumber:"CI 026",departureCode:"TPE",departureCity:"Taipei",departureTime:"11:00",arrivalCode:"GUM",arrivalCity:"Guam",arrivalTime:"16:50",date:"2026/02/07",duration:"3h 50m",baggage:"23kg",aircraft:"A321neo",price:"NT$18,500",purchaseDate:"2025/11/14"},{id:"inbound",airline:"China Airlines",flightNumber:"CI 025",departureCode:"GUM",departureCity:"Guam",departureTime:"07:30",arrivalCode:"TPE",arrivalCity:"Taipei",arrivalTime:"10:00",date:"2026/02/11",duration:"4h 30m",baggage:"23kg",aircraft:"A321neo",price:"Same Ticket",purchaseDate:"2025/11/14"}]},$f={:["","","","","","","","","","","","","","","","","","","",""],:["","","","","","","","","","","","","","","","","","","","","/","","","","","","","","","","","","",""],:["","","","","","","","","","","","","",""],"3C":["","","","","","","","","",""],:["","","","","",""," - "," - "," - ","2","","","","","",""],:["","","","","","OK","","","","","","","","","/",""]},J2=({members:r,onLogin:e})=>{const[t,i]=ce.useState(""),[o,l]=ce.useState(!1),h=async()=>{if(!$r){i("Firebase Auth  firebaseConfig.ts");return}l(!0),i("");const f=new Br;try{const E=((await ck($r,f)).user.email||"").toLowerCase();console.log("Google Login Success:",E);let b=[...r,...$u].find(D=>D.email?.toLowerCase()===E);if(!b&&ht){console.log("Not found locally, checking Firestore...");try{const D=await a0(Dd(ht,"users"));D.empty||(b=D.docs.map(O=>({id:O.id,...O.data()})).find(O=>O.email?.toLowerCase()===E))}catch(D){console.error("Firestore whitelist check failed:",D)}}b?(console.log("Whitelist Match:",b.name),e(b)):(console.warn("Whitelist Fail:",E),await Vd($r),i(` Email (${E}) `))}catch(y){console.error("Login Error:",y),i(": "+y.message)}finally{l(!1)}};return m.jsxs("div",{className:"min-h-screen bg-guam-sand flex flex-col items-center justify-center relative overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 z-0",children:[m.jsx("img",{src:Co.coverImage,alt:"background",className:"w-full h-full object-cover opacity-80"}),m.jsx("div",{className:"absolute inset-0 bg-guam-navy/40 backdrop-blur-sm"})]}),m.jsxs("div",{className:"relative z-10 w-full max-w-md p-8 animate-fade-in flex flex-col items-center",children:[m.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-8 rounded-[3rem] shadow-2xl w-full text-center",children:[m.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-md tracking-tight",children:Co.title}),m.jsx("p",{className:"text-white/80 font-medium tracking-widest uppercase mb-8",children:Co.subtitle}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 text-white/80 text-sm leading-relaxed border border-white/5 mb-4",children:[m.jsxs("p",{className:"flex items-center justify-center gap-2 mb-2 font-bold text-white",children:[m.jsx($2,{size:18,className:"text-guam-teal"}),"Private Access"]})," Google "]}),m.jsx("button",{onClick:h,disabled:o,className:"w-full py-4 bg-white text-slate-700 rounded-2xl font-bold text-lg shadow-lg hover:bg-slate-50 hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3 disabled:opacity-70 disabled:cursor-not-allowed group",children:o?m.jsx(ac,{className:"animate-spin text-guam-navy"}):m.jsxs(m.Fragment,{children:[m.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",className:"w-5 h-5"}),m.jsx("span",{children:"Google "})]})}),t&&m.jsxs("div",{className:"flex items-start gap-2 text-left bg-red-500/90 backdrop-blur text-white p-4 rounded-2xl border border-red-400/50 shadow-lg mt-4",children:[m.jsx(w2,{size:20,className:"shrink-0 mt-0.5"}),m.jsx("p",{className:"text-sm font-medium leading-relaxed",children:t})]})]})]}),m.jsx("p",{className:"text-white/40 text-xs mt-8 font-medium",children:"Protected by Google Firebase"})]})]})},Z2=({dates:r,weather:e,items:t,selectedDateIndex:i,onDateSelect:o,onEdit:l,onEditTransport:h})=>{const[f,y]=ce.useState([]),_=O=>{f.includes(O)?y(f.filter(L=>L!==O)):y([...f,O])},E=O=>{switch(O){case"rain":return m.jsx(k2,{className:"text-guam-ocean"});case"cloudy":return m.jsx(S2,{className:"text-slate-400"});default:return m.jsx(q2,{className:"text-guam-sun"})}},A=O=>{switch(O){case"car":return m.jsx(Ka,{size:14});case"flight":return m.jsx(Lo,{size:14});case"walk":return m.jsx(Bd,{size:14});default:return m.jsx(zd,{size:14})}},b=O=>{switch(O){case"food":return m.jsx(G2,{size:20});case"shopping":return m.jsx(Qa,{size:20});case"accommodation":return m.jsx(r_,{size:20});case"ticket":return m.jsx(Hd,{size:20});case"transport":return m.jsx(zd,{size:20});default:return m.jsx(E2,{size:20})}},D=O=>{switch(O){case"sightseeing":return"bg-guam-teal";case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"accommodation":return"bg-indigo-500";case"transport":return"bg-slate-500";case"ticket":return"bg-guam-sun";default:return"bg-guam-teal"}},F=O=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(O+" Guam")}`,"_blank")};return m.jsxs("div",{className:"animate-fade-in pb-24",children:[m.jsx("div",{className:"flex overflow-x-auto hide-scrollbar space-x-3 pb-4 mb-2 px-1 sticky top-0 z-20 bg-guam-sand/95 backdrop-blur-sm pt-4 -mx-4 px-4 border-b border-guam-teal/10",children:r.map((O,L)=>m.jsxs("div",{onClick:()=>o(L),className:`flex-shrink-0 w-[58px] h-[70px] rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all duration-300 border-2 shadow-sm ${i===L?"bg-guam-teal text-white border-guam-teal shadow-lg scale-105":"bg-white text-slate-400 border-white hover:bg-white/60"}`,children:[m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:O.weekday}),m.jsx("span",{className:"text-sm font-bold",children:O.date})]},L))}),m.jsxs("div",{className:"mb-6 bg-gradient-to-r from-guam-teal/10 to-transparent border border-guam-teal/20 rounded-3xl p-4 flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center text-guam-teal space-x-3",children:[m.jsx("div",{className:"text-4xl drop-shadow-sm",children:E(e[i].condition)}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-baseline",children:[m.jsx("span",{className:"text-2xl font-bold",children:e[i].temp}),m.jsx("span",{className:"text-xs ml-1",children:"C"})]}),m.jsx("span",{className:"text-xs font-medium block text-slate-500 capitalize",children:e[i].condition})]})]}),m.jsx("div",{className:"text-right text-xs",children:r[i].hasCar?m.jsxs("span",{className:"inline-flex items-center bg-guam-navy/10 text-guam-navy px-3 py-1.5 rounded-full font-bold",children:[m.jsx(Ka,{size:12,className:"mr-1.5"})," "]}):m.jsxs("span",{className:"inline-flex items-center bg-slate-100 text-slate-500 px-3 py-1.5 rounded-full",children:[m.jsx(Bd,{size:12,className:"mr-1.5"})," /"]})})]}),m.jsxs("div",{className:"space-y-6",children:[t.map((O,L)=>m.jsxs("div",{className:"relative group",children:[L>0&&m.jsxs("div",{onClick:()=>h(O),className:"pl-8 pb-3 flex items-center text-xs text-slate-400 relative cursor-pointer group/connector",children:[m.jsx("div",{className:"h-full w-0.5 bg-guam-teal/20 absolute left-[27px] -top-6 bottom-0 group-hover/connector:bg-guam-teal transition-colors"}),m.jsxs("div",{className:"ml-2 flex items-center bg-white/50 px-2 py-0.5 rounded-full backdrop-blur-sm border border-transparent group-hover/connector:border-guam-teal/30 group-hover/connector:bg-white group-hover/connector:shadow-sm transition-all",children:[m.jsx("span",{className:"mr-1.5 text-guam-teal",children:A(O.transportType)}),m.jsx("span",{className:"font-medium",children:O.travelTime||"15m"}),m.jsx(Uo,{size:10,className:"ml-1 opacity-0 group-hover/connector:opacity-100 text-slate-400"})]})]}),m.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-[2rem] p-5 shadow-[0_8px_20px_-6px_rgba(13,148,136,0.1)] border border-white/60 relative overflow-hidden flex items-start",children:[m.jsxs("div",{className:"mr-4 flex flex-col items-center min-w-[50px]",children:[m.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shadow-md mb-1.5 ${D(O.category)}`,children:b(O.category)}),O.startTime&&m.jsx("span",{className:"text-xs font-bold text-guam-navy tracking-tight",children:O.startTime})]}),m.jsxs("div",{className:"flex-1 min-w-0 pr-8",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-800 leading-tight mb-1 truncate",children:O.name}),m.jsxs("div",{className:"text-xs text-slate-500 space-y-1 mb-2",children:[O.hours&&m.jsxs("p",{className:"flex items-center",children:[m.jsx(I2,{size:12,className:"mr-1.5 text-guam-teal"})," ",O.hours]}),O.price&&m.jsxs("p",{className:"flex items-center",children:[m.jsx(Hd,{size:12,className:"mr-1.5 text-guam-teal"})," ",O.price]}),O.address&&m.jsxs("p",{className:"flex items-center truncate",children:[m.jsx($d,{size:12,className:"mr-1.5 text-guam-teal"})," ",O.address]})]}),O.note&&m.jsxs("div",{className:"bg-guam-sand/60 p-2.5 rounded-xl border border-guam-teal/10",children:[m.jsx("div",{className:`text-xs text-slate-600 leading-relaxed overflow-hidden transition-all ${f.includes(O.id)?"max-h-96":"max-h-10 line-clamp-2"}`,children:O.note}),O.note.length>40&&m.jsx("button",{onClick:q=>{q.stopPropagation(),_(O.id)},className:"text-[10px] text-guam-teal font-bold mt-1 flex items-center",children:f.includes(O.id)?"":"..."})]})]}),m.jsxs("div",{className:"absolute top-4 right-3 flex flex-col gap-2",children:[m.jsx("button",{onClick:()=>F(O.address||O.name),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-teal hover:text-white transition-all shadow-sm",children:m.jsx($d,{size:14})}),m.jsx("button",{onClick:()=>l(O),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-navy hover:text-white transition-all shadow-sm",children:m.jsx(Uo,{size:14})})]})]})]},O.id)),t.length===0&&m.jsx("div",{className:"text-center py-20 opacity-40",children:m.jsx("p",{className:"text-sm font-medium",children:""})})]})]})},eA=({flights:r,onFlightClick:e,exchangeRate:t,onRateUpdate:i})=>{const[o,l]=ce.useState("100"),[h,f]=ce.useState(!1),[y,_]=ce.useState(t.toString());ce.useEffect(()=>{h||_(t.toString())},[t,h]);const E=Math.round((parseFloat(o)||0)*t),A=D=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(D+" Guam")}`,"_blank")},b=()=>{const D=parseFloat(y);!isNaN(D)&&D>0&&(i?.(D),f(!1))};return m.jsxs("div",{className:"space-y-6 animate-fade-in pb-24",children:[m.jsxs("div",{className:"bg-gradient-to-br from-guam-navy to-guam-teal rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-10 -mt-10 blur-2xl"}),m.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center relative z-10",children:[m.jsx(C2,{className:"mr-2",size:20}),"  (USD)"]}),m.jsxs("div",{className:"flex items-center justify-between gap-4 relative z-10",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"USD ()"}),m.jsx("input",{type:"number",value:o,onChange:D=>l(D.target.value),className:"w-full bg-white/20 border border-white/30 rounded-xl px-3 py-2 text-white placeholder-white/50 focus:outline-none text-xl font-bold"})]}),m.jsx(x2,{className:"text-white/50 mt-4",size:20}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"TWD ()"}),m.jsx("div",{className:"w-full bg-white/10 rounded-xl px-3 py-2 text-white text-xl font-bold border border-transparent",children:E.toLocaleString()})]})]}),m.jsx("div",{className:"mt-3 relative z-10 flex justify-end items-center gap-2",children:h?m.jsxs("div",{className:"flex items-center gap-2 bg-white/10 p-1 rounded-lg",children:[m.jsx("input",{type:"number",value:y,onChange:D=>_(D.target.value),className:"w-16 bg-white/20 text-white text-xs px-2 py-1 rounded outline-none border border-white/30"}),m.jsx("button",{onClick:b,className:"p-1 hover:text-green-300 text-white",children:m.jsx(l_,{size:14})}),m.jsx("button",{onClick:()=>f(!1),className:"p-1 hover:text-red-300 text-white",children:m.jsx(Xa,{size:14})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("p",{className:"text-[10px] text-cyan-200 opacity-70",children:[": ",m.jsx("span",{className:"font-bold text-white",children:t})]}),m.jsx("button",{onClick:()=>f(!0),className:"w-6 h-6 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 text-white",children:m.jsx(F2,{size:10})})]})})]}),m.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[m.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[m.jsx(Lo,{className:"text-guam-coral mr-2",size:20})," "]}),m.jsx("div",{className:"space-y-4",children:r&&r.length>0?r.map(D=>m.jsxs("div",{onClick:()=>e&&e(D),className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50 hover:bg-slate-100 transition-colors cursor-pointer group relative",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsxs("span",{className:`${D.id==="outbound"?"bg-guam-navy":"bg-guam-teal"} text-white text-[10px] px-2 py-0.5 rounded`,children:[D.id==="outbound"?"":""," (",D.date.split("/")[1],"/",D.date.split("/")[2],")"]}),m.jsx("span",{className:"text-xs font-bold text-slate-400 group-hover:text-guam-navy transition-colors",children:D.flightNumber})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("span",{className:"block text-xl font-bold text-slate-700",children:D.departureTime}),m.jsx("span",{className:"text-xs text-slate-400",children:D.departureCode})]}),m.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[m.jsx("span",{className:"text-[10px] text-slate-400",children:D.duration}),m.jsx("div",{className:"w-full h-px bg-slate-300 relative my-1",children:m.jsx(Lo,{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-slate-300 bg-slate-50 group-hover:text-guam-coral transition-colors",size:12})})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("span",{className:"block text-xl font-bold text-slate-700",children:D.arrivalTime}),m.jsx("span",{className:"text-xs text-slate-400",children:D.arrivalCode})]})]})]},D.id)):m.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"..."})})]}),m.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[m.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[m.jsx(j2,{className:"text-guam-teal mr-2",size:20})," "]}),m.jsx("div",{className:"space-y-4",children:[{date:"2/7 (Sat)",name:"Bayview Hotel Guam",cn:""},{date:"2/8 (Sun)",name:"Crowne Plaza Resort",cn:""},{date:"2/9 (Mon)",name:"Hoshino Resorts RISONARE",cn:""},{date:"2/10 (Tue)",name:"Guam Plaza Resort",cn:"Spa"}].map((D,F)=>m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-3 last:border-0",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-[10px] bg-slate-100 px-2 py-0.5 rounded text-slate-500 font-bold",children:D.date}),m.jsx("h4",{className:"font-bold text-slate-700 text-sm mt-1",children:D.name}),m.jsx("p",{className:"text-xs text-slate-400",children:D.cn})]}),m.jsx("button",{onClick:()=>A(D.name),className:"w-8 h-8 rounded-full bg-slate-50 text-guam-teal flex items-center justify-center hover:bg-guam-teal hover:text-white transition-colors",children:m.jsx($d,{size:14})})]},F))})]})]})},tA=({items:r,onRemove:e,onAddClick:t,onEdit:i})=>m.jsxs("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6 px-1",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-guam-navy/10 flex items-center justify-center text-guam-navy",children:m.jsx(Qa,{size:20})}),m.jsx("h2",{className:"text-xl font-bold text-slate-800 tracking-tight",children:""})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.map(o=>m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col relative group overflow-hidden",children:[o.imageUrl?m.jsxs("div",{className:"h-40 w-full relative",children:[m.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),m.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[m.jsx("button",{onClick:()=>i(o),className:"w-7 h-7 bg-white/90 backdrop-blur rounded-full flex items-center justify-center text-slate-600 hover:text-guam-navy shadow-sm transition-colors",children:m.jsx(Uo,{size:12})}),m.jsx("button",{onClick:()=>e(o.id),className:"w-7 h-7 bg-white/90 backdrop-blur rounded-full flex items-center justify-center text-slate-600 hover:text-red-400 shadow-sm transition-colors",children:m.jsx(Xa,{size:12})})]})]}):m.jsxs("div",{className:"flex justify-between items-start p-3 pb-0",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-guam-teal/10 flex items-center justify-center text-guam-teal shadow-sm border border-white",children:m.jsx(Qa,{size:16})}),m.jsxs("div",{className:"flex gap-1 bg-slate-50 rounded-full p-0.5 shadow-sm",children:[m.jsx("button",{onClick:()=>i(o),className:"text-slate-400 hover:text-guam-navy transition-colors p-1",children:m.jsx(Uo,{size:14})}),m.jsx("button",{onClick:()=>e(o.id),className:"text-slate-400 hover:text-red-400 transition-colors p-1",children:m.jsx(Xa,{size:14})})]})]}),m.jsxs("div",{className:"p-3 pt-2 flex-1 flex flex-col",children:[m.jsx("p",{className:"font-bold text-sm text-slate-800 mb-1 leading-snug line-clamp-2",children:o.name}),m.jsx("p",{className:"text-xs text-slate-500 font-medium break-words leading-relaxed line-clamp-3",children:o.note||""})]})]},o.id)),m.jsxs("div",{onClick:t,className:"bg-white/40 border-2 border-dashed border-slate-300/50 rounded-2xl p-4 flex flex-col items-center justify-center cursor-pointer min-h-[140px] hover:bg-white/80 transition-all hover:border-guam-teal/50 group",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center mb-2 group-hover:bg-guam-teal group-hover:text-white transition-colors",children:m.jsx(a_,{size:20,className:"text-slate-300 group-hover:text-white"})}),m.jsx("span",{className:"text-xs text-slate-400 font-bold group-hover:text-guam-teal transition-colors",children:""})]})]})]}),nA=({expenses:r,onRemove:e,onEdit:t,members:i=[],exchangeRate:o})=>{const[l,h]=ce.useState("list"),f=r.reduce((q,B)=>q+B.amount,0),y=Math.round(f*o),_=q=>i.find(B=>B.id===q)?.name||"Unknown",E=q=>i.find(B=>B.id===q)?.avatarUrl,A=q=>{switch(q){case"food":return m.jsx(A2,{size:14});case"shopping":return m.jsx(Qa,{size:14});case"transport":return m.jsx(Ka,{size:14});case"accommodation":return m.jsx(r_,{size:14});case"other":return m.jsx(U2,{size:14});default:return m.jsx(Hd,{size:14})}},b=q=>{switch(q){case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"transport":return"bg-slate-500";case"accommodation":return"bg-indigo-500";case"other":return"bg-slate-400";default:return"bg-guam-sun"}},F=(()=>{const q={};return i.forEach(B=>{q[B.id]={paid:0,share:0,net:0}}),r.forEach(B=>{q[B.payerId]||(q[B.payerId]={paid:0,share:0,net:0}),q[B.payerId].paid+=B.amount,B.splits&&B.splits.length>0?B.splits.forEach(re=>{q[re.memberId]||(q[re.memberId]={paid:0,share:0,net:0}),q[re.memberId].share+=re.amount}):q[B.payerId].share+=B.amount}),Object.keys(q).forEach(B=>{q[B].net=q[B].paid-q[B].share}),q})(),L=(()=>{let q=[],B=[];Object.keys(F).forEach(ae=>{const C=F[ae].net;Math.abs(C)<.01||(C<0?q.push({id:ae,amount:-C}):B.push({id:ae,amount:C}))}),q.sort((ae,C)=>C.amount-ae.amount),B.sort((ae,C)=>C.amount-ae.amount);const re=[];let ie=0,Te=0;for(;ie<q.length&&Te<B.length;){const ae=q[ie],C=B[Te],T=Math.min(ae.amount,C.amount);T>0&&re.push({fromId:ae.id,toId:C.id,amount:parseFloat(T.toFixed(2))}),ae.amount-=T,C.amount-=T,ae.amount<.01&&ie++,C.amount<.01&&Te++}return re})();return m.jsxs("div",{className:"animate-fade-in pb-24",children:[m.jsxs("div",{className:"flex bg-white rounded-2xl p-1 mb-6 shadow-sm border border-slate-100",children:[m.jsxs("button",{onClick:()=>h("list"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${l==="list"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[m.jsx(Ty,{size:16,className:"mr-2"})," "]}),m.jsxs("button",{onClick:()=>h("settlement"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${l==="settlement"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[m.jsx(Ua,{size:16,className:"mr-2"})," "]})]}),l==="list"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"bg-guam-navy rounded-[2.5rem] p-8 mb-6 relative overflow-hidden text-white shadow-xl shadow-guam-navy/20",children:[m.jsx("div",{className:"absolute -right-12 -top-12 bg-guam-teal/30 w-56 h-56 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute -left-10 bottom-0 bg-guam-coral/20 w-40 h-40 rounded-full blur-2xl"}),m.jsx("p",{className:"text-xs text-cyan-100/80 mb-1 relative z-10 font-medium tracking-wider",children:"TOTAL SPENT (USD)"}),m.jsxs("h2",{className:"text-5xl font-bold relative z-10 tracking-tight mb-2",children:["$",f.toLocaleString()]}),m.jsxs("p",{className:"text-sm text-right opacity-70 relative z-10",children:[" NT$ ",y.toLocaleString()]})]}),m.jsxs("div",{className:"bg-white rounded-t-[2.5rem] min-h-[400px] p-6 shadow-[0_-5px_30px_rgba(0,0,0,0.03)] -mx-4 px-8 pt-8 border-t border-slate-50",children:[m.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center text-sm tracking-wide",children:[m.jsx(Ty,{className:"text-guam-teal mr-2",size:16})," RECENT ACTIVITY"]}),m.jsxs("div",{className:"space-y-6",children:[r.map(q=>m.jsxs("div",{className:"flex items-center justify-between group",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white mr-4 shadow-sm ${b(q.category)}`,children:A(q.category)}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-slate-700 text-sm",children:q.name}),m.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-medium flex items-center gap-2",children:[m.jsxs("span",{children:[q.date,"  ",q.payment]}),m.jsxs("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-bold",children:[_(q.payerId)," "]})]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-bold text-slate-800",children:["$",q.amount]}),m.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsxs("button",{onClick:()=>t(q),className:"text-[10px] text-guam-navy flex items-center",children:[m.jsx(Uo,{size:10,className:"mr-1"})," "]}),m.jsxs("button",{onClick:()=>e(q.id),className:"text-[10px] text-red-300 flex items-center",children:[m.jsx(ul,{size:10,className:"mr-1"})," "]})]})]})]},q.id)),r.length===0&&m.jsx("p",{className:"text-center text-slate-300 text-sm py-8",children:""})]})]})]}):m.jsxs("div",{className:"space-y-6",children:[L.length>0&&m.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-[0_5px_20px_rgba(13,148,136,0.1)] border border-guam-teal/20",children:[m.jsxs("h3",{className:"font-bold text-guam-teal mb-4 flex items-center text-sm tracking-wide",children:[m.jsx(B2,{size:16,className:"mr-2"}),"  (Transfer Guide)"]}),m.jsx("div",{className:"space-y-3",children:L.map((q,B)=>m.jsxs("div",{className:"flex items-center justify-between bg-guam-sand/50 p-4 rounded-2xl border border-guam-teal/10 relative overflow-hidden",children:[m.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-guam-teal/5 z-0 pointer-events-none",children:m.jsx(xy,{size:60})}),m.jsx("div",{className:"flex items-center z-10",children:m.jsxs("div",{className:"text-center mr-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-slate-100 overflow-hidden shadow-sm mx-auto mb-1",children:E(q.fromId)?m.jsx("img",{src:E(q.fromId),className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:_(q.fromId)[0]})}),m.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:_(q.fromId)})]})}),m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center z-10 px-2",children:[m.jsx("p",{className:"text-[10px] text-slate-400 font-bold mb-1",children:"PAYS"}),m.jsx("div",{className:"bg-white px-3 py-1 rounded-full shadow-sm border border-guam-teal/20",children:m.jsxs("span",{className:"font-bold text-guam-teal text-lg",children:["$",q.amount]})}),m.jsx(xy,{size:14,className:"text-guam-teal/50 mt-1"})]}),m.jsx("div",{className:"flex items-center z-10",children:m.jsxs("div",{className:"text-center ml-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-guam-teal overflow-hidden shadow-sm mx-auto mb-1",children:E(q.toId)?m.jsx("img",{src:E(q.toId),className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:_(q.toId)[0]})}),m.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:_(q.toId)})]})})]},B))})]}),m.jsxs("div",{className:"px-2",children:[m.jsx("h3",{className:"font-bold text-slate-400 mb-3 flex items-center text-xs tracking-wide uppercase px-2",children:" (Net Balance)"}),m.jsx("div",{className:"space-y-4",children:i.map(q=>{const B=F[q.id]||{paid:0,share:0,net:0},re=B.net>=0;return m.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100 relative overflow-hidden opacity-90",children:[m.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${re?"bg-guam-teal":"bg-guam-coral"}`}),m.jsxs("div",{className:"flex justify-between items-start mb-4 pl-2",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 mr-3 overflow-hidden border border-white shadow-sm",children:q.avatarUrl?m.jsx("img",{src:q.avatarUrl,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs font-bold",children:q.name[0]})}),m.jsx("span",{className:"font-bold text-slate-800 text-lg",children:q.name})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider mb-0.5",children:re?" (Receive)":" (Pay)"}),m.jsxs("p",{className:`text-xl font-bold ${re?"text-guam-teal":"text-guam-coral"}`,children:["$",Math.abs(B.net).toLocaleString()]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-2",children:[m.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[m.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[m.jsx(R2,{size:10,className:"mr-1"})," "]}),m.jsxs("p",{className:"font-bold text-slate-700",children:["$",B.paid.toLocaleString()]})]}),m.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[m.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[m.jsx(Ua,{size:10,className:"mr-1"})," "]}),m.jsxs("p",{className:"font-bold text-slate-700",children:["$",B.share.toLocaleString()]})]})]})]},q.id)})})]}),r.length===0&&m.jsxs("div",{className:"text-center py-10 opacity-50",children:[m.jsx(Ua,{size:40,className:"mx-auto text-slate-300 mb-2"}),m.jsx("p",{className:"text-sm text-slate-400",children:""})]})]})]})},rA=({items:r,onToggle:e,onRemove:t,onEdit:i,members:o,currentUser:l,onAddDefaults:h,onAddClick:f})=>{const[y,_]=ce.useState("todo"),[E,A]=ce.useState(""),b=Object.keys($f),[D,F]=ce.useState(b[0]);ce.useEffect(()=>{y==="luggage"&&!E&&o.length>0&&(l&&o.find(B=>B.id===l.id)?A(l.id):A(o[0].id))},[y,o,l]);const O=[{key:"todo",label:" (Shared)",icon:m.jsx(Ey,{size:18})},{key:"luggage",label:" (Personal)",icon:m.jsx(s_,{size:18})}];let L=[];y==="todo"?L=r.filter(B=>B.category==="todo"):L=r.filter(B=>B.category==="luggage"&&B.assignedTo===E&&B.subCategory===D);const q=B=>m.jsxs("div",{className:"bg-white rounded-2xl p-3 shadow-[0_2px_10px_-4px_rgba(0,0,0,0.05)] border border-slate-50 flex items-center group transition-all hover:shadow-md hover:-translate-y-0.5",children:[m.jsxs("label",{className:"flex items-center flex-1 cursor-pointer checkbox-wrapper select-none",children:[m.jsx("input",{type:"checkbox",checked:B.completed,onChange:()=>e(B.id),className:"hidden"}),m.jsx("div",{className:`w-5 h-5 rounded-lg border-2 mr-3 flex items-center justify-center transition-all duration-300 ${B.completed?"bg-guam-teal border-guam-teal rotate-6 scale-110":"border-slate-200 bg-slate-50 group-hover:border-guam-teal/50"}`,children:m.jsx(i_,{size:12,className:"text-white hidden",strokeWidth:4})}),m.jsx("span",{className:`text-sm font-bold transition-colors ${B.completed?"text-slate-300 line-through decoration-2 decoration-slate-200":"text-slate-700"}`,children:B.title})]}),m.jsxs("div",{className:"flex items-center pl-2 gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>i(B),className:"w-7 h-7 rounded-full bg-slate-50 text-slate-400 flex items-center justify-center transition-all hover:bg-guam-navy hover:text-white shadow-sm",children:m.jsx(Uo,{size:12})}),m.jsx("button",{onClick:()=>t(B.id),className:"w-7 h-7 rounded-full bg-red-50 text-red-400 flex items-center justify-center transition-all hover:bg-red-500 hover:text-white shadow-sm",children:m.jsx(ul,{size:12})})]})]},B.id);return m.jsxs("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:[m.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl shadow-sm mb-4 border border-slate-100 sticky top-0 z-20 mx-1",children:O.map(B=>m.jsxs("button",{onClick:()=>_(B.key),className:`flex-1 flex items-center justify-center py-3 text-sm font-bold rounded-xl transition-all ${y===B.key?"bg-guam-teal text-white shadow-md scale-100":"text-slate-400 hover:bg-slate-50 scale-95"}`,children:[m.jsx("span",{className:"mr-2 opacity-90",children:B.icon}),B.label]},B.key))}),y==="luggage"&&o.length>0&&m.jsxs("div",{className:"mb-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[m.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider pl-1",children:" (Member)"}),E&&m.jsxs("button",{onClick:()=>h(E),className:"flex items-center text-[10px] bg-guam-teal/10 text-guam-teal px-2 py-1 rounded-full font-bold hover:bg-guam-teal hover:text-white transition-colors",children:[m.jsx(z2,{size:10,className:"mr-1"})," "]})]}),m.jsx("div",{className:"flex overflow-x-auto hide-scrollbar gap-3 pb-4 px-1",children:o.map(B=>m.jsxs("button",{onClick:()=>A(B.id),className:`flex items-center flex-shrink-0 px-3 py-2 rounded-full border transition-all ${E===B.id?"bg-guam-navy text-white border-guam-navy shadow-md scale-100":"bg-white text-slate-500 border-slate-200 hover:border-guam-navy/30 scale-95"}`,children:[m.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-200 overflow-hidden mr-2 border border-white",children:B.avatarUrl?m.jsx("img",{src:B.avatarUrl,className:"w-full h-full object-cover"}):m.jsx(u_,{size:14,className:"m-1 text-slate-400"})}),m.jsx("span",{className:"text-xs font-bold",children:B.name})]},B.id))}),m.jsxs("div",{className:"px-1",children:[m.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider pl-1 mb-2",children:" (Category)"}),m.jsx("div",{className:"flex overflow-x-auto hide-scrollbar gap-2 pb-2",children:b.map(B=>m.jsx("button",{onClick:()=>F(B),className:`flex-shrink-0 px-4 py-2 rounded-xl text-xs font-bold transition-all border ${D===B?"bg-guam-teal text-white border-guam-teal shadow-md":"bg-white text-slate-500 border-slate-100 hover:bg-slate-50"}`,children:B},B))})]})]}),m.jsx("div",{className:"space-y-3 mt-2",children:L.length>0?L.map(B=>q(B)):m.jsxs("div",{className:"text-center py-20 flex flex-col items-center justify-center opacity-70",children:[m.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-4 text-slate-300 shadow-sm",children:y==="todo"?m.jsx(Ey,{size:24}):m.jsx(O2,{size:24})}),m.jsx("p",{className:"text-sm font-bold text-slate-500 mb-4",children:y==="todo"?"":`${D}`}),y==="luggage"&&E&&m.jsxs("button",{onClick:()=>h(E),className:"px-5 py-3 bg-guam-teal text-white rounded-2xl text-xs font-bold flex items-center hover:bg-guam-teal/90 transition-all shadow-lg shadow-guam-teal/30 hover:scale-105",children:[m.jsx(H2,{size:16,className:"mr-2"})," "]})]})}),m.jsx("div",{className:"fixed bottom-24 right-6 z-40",children:m.jsx("button",{onClick:()=>f(y,E),className:"w-14 h-14 bg-guam-coral text-white rounded-full shadow-[0_4px_20px_rgba(251,113,133,0.6)] text-xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all",children:m.jsx(sA,{})})})]})},sA=()=>m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),iA=({isOpen:r,onClose:e,onSave:t,onDelete:i,initialData:o})=>{const[l,h]=ce.useState({category:"sightseeing",transportType:"car",travelTime:"15m"});return ce.useEffect(()=>{h(o?{...o}:{category:"sightseeing",transportType:"car",travelTime:"15m",name:"",address:"",price:"",hours:"",note:"",startTime:""})},[o,r]),r?m.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[m.jsx("h3",{className:"font-bold text-lg mb-6 text-center text-slate-800",children:o?"":""}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("select",{value:l.category,onChange:f=>h({...l,category:f.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",children:[m.jsx("option",{value:"sightseeing",children:""}),m.jsx("option",{value:"food",children:""}),m.jsx("option",{value:"shopping",children:""}),m.jsx("option",{value:"transport",children:""}),m.jsx("option",{value:"accommodation",children:""}),m.jsx("option",{value:"ticket",children:"/"}),m.jsx("option",{value:"other",children:""})]}),m.jsx("input",{placeholder:" (09:00)",value:l.startTime||"",onChange:f=>h({...l,startTime:f.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal text-center placeholder-slate-400"})]}),m.jsx("input",{placeholder:"",value:l.name||"",onChange:f=>h({...l,name:f.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal font-bold placeholder-slate-400"}),m.jsx("input",{placeholder:"",value:l.address||"",onChange:f=>h({...l,address:f.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx("input",{placeholder:"",value:l.price||"",onChange:f=>h({...l,price:f.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"}),m.jsx("input",{placeholder:"",value:l.hours||"",onChange:f=>h({...l,hours:f.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"})]}),m.jsx("textarea",{placeholder:"",rows:3,value:l.note||"",onChange:f=>h({...l,note:f.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"})]}),m.jsxs("div",{className:"flex space-x-3 mt-8",children:[m.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),o&&m.jsx("button",{onClick:()=>{i(o.id),e()},className:"w-12 bg-red-50 text-red-400 rounded-xl flex items-center justify-center",children:m.jsx(ul,{size:18})}),m.jsx("button",{onClick:()=>{t(l),e()},className:"flex-[2] py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},oA=({isOpen:r,onClose:e,onSave:t,currentItem:i,prevItem:o})=>{const[l,h]=ce.useState("car"),[f,y]=ce.useState("");ce.useEffect(()=>{r&&i&&(h(i.transportType||"car"),y(i.travelTime||"15m"))},[r,i]);const _=()=>{if(!i||!o)return;const E=o.address||o.name,A=i.address||i.name,b=l==="car"?"driving":l==="walk"?"walking":"transit",D=`https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(E+" Guam")}&destination=${encodeURIComponent(A+" Guam")}&travelmode=${b}`;window.open(D,"_blank")};return r?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:""}),o&&i&&m.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-xl mb-6 text-xs text-slate-500",children:[m.jsx("div",{className:"max-w-[40%] truncate",children:o.name}),m.jsx("div",{className:"text-slate-300",children:""}),m.jsx("div",{className:"max-w-[40%] truncate",children:i.name})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[m.jsxs("button",{onClick:()=>h("car"),className:`p-3 rounded-xl flex flex-col items-center justify-center border-2 transition-all ${l==="car"?"border-guam-teal bg-guam-teal/5 text-guam-teal":"border-slate-100 text-slate-400"}`,children:[m.jsx(Ka,{size:24,className:"mb-1"}),m.jsx("span",{className:"text-xs font-bold",children:" (Car)"})]}),m.jsxs("button",{onClick:()=>h("walk"),className:`p-3 rounded-xl flex flex-col items-center justify-center border-2 transition-all ${l==="walk"?"border-guam-teal bg-guam-teal/5 text-guam-teal":"border-slate-100 text-slate-400"}`,children:[m.jsx(Bd,{size:24,className:"mb-1"}),m.jsx("span",{className:"text-xs font-bold",children:" (Walk)"})]}),m.jsxs("button",{onClick:()=>h("flight"),className:`p-3 rounded-xl flex flex-col items-center justify-center border-2 transition-all ${l==="flight"?"border-guam-teal bg-guam-teal/5 text-guam-teal":"border-slate-100 text-slate-400"}`,children:[m.jsx(Lo,{size:24,className:"mb-1"}),m.jsx("span",{className:"text-xs font-bold",children:" (Flight)"})]}),m.jsxs("button",{onClick:()=>h("transport"),className:`p-3 rounded-xl flex flex-col items-center justify-center border-2 transition-all ${l==="transport"?"border-guam-teal bg-guam-teal/5 text-guam-teal":"border-slate-100 text-slate-400"}`,children:[m.jsx(zd,{size:24,className:"mb-1"}),m.jsx("span",{className:"text-xs font-bold",children:"/"})]})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-2",children:" (Travel Time)"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{value:f,onChange:E=>y(E.target.value),placeholder:"ex: 15m",className:"flex-1 bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal font-bold"}),o&&m.jsxs("button",{onClick:_,className:"px-4 bg-blue-50 text-blue-500 rounded-xl font-bold text-xs flex items-center hover:bg-blue-100 transition-colors",children:[m.jsx(P2,{size:14,className:"mr-1"})," "]})]}),m.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"*  Google Maps "})]}),m.jsxs("div",{className:"flex space-x-3 mt-6",children:[m.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),m.jsx("button",{onClick:()=>{t(l,f),e()},className:"flex-1 py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},aA=({isOpen:r,onClose:e,onSave:t,initialData:i})=>{const[o,l]=ce.useState(""),[h,f]=ce.useState(""),[y,_]=ce.useState(void 0),[E,A]=ce.useState(!1),b=ce.useRef(null);ce.useEffect(()=>{r&&(i?(l(i.name),f(i.note||""),_(i.imageUrl)):(l(""),f(""),_(void 0)))},[r,i]);const D=F=>{const O=F.target.files?.[0];if(!O)return;A(!0);const L=new FileReader;L.onload=q=>{const B=new Image;B.onload=()=>{const re=document.createElement("canvas"),ie=800;let Te=B.width,ae=B.height;Te>ae?Te>ie&&(ae*=ie/Te,Te=ie):ae>ie&&(Te*=ie/ae,ae=ie),re.width=Te,re.height=ae;const C=re.getContext("2d");C?(C.drawImage(B,0,0,Te,ae),re.toBlob(async T=>{if(T&&Fd)try{const k=`shopping/${Date.now()}_${O.name}`,N=d2(Fd,k);await c2(N,T);const j=await h2(N);_(j)}catch(k){console.error("Upload failed",k),alert(": "+k.message)}finally{A(!1)}else alert("Firebase Storage "),A(!1)},"image/jpeg",.8)):A(!1)},B.src=q.target?.result},L.readAsDataURL(O)};return r?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:m.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[m.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:i?"":""}),m.jsxs("div",{className:"mb-4 flex justify-center",children:[m.jsx("input",{type:"file",ref:b,onChange:D,accept:"image/*",className:"hidden"}),y?m.jsxs("div",{className:"relative w-full h-48 rounded-2xl overflow-hidden border border-slate-200 group bg-slate-50",children:[m.jsx("img",{src:y,alt:"Product",className:"w-full h-full object-contain"}),m.jsxs("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity gap-2",children:[m.jsx("button",{onClick:()=>b.current?.click(),className:"p-1.5 bg-white/20 rounded-full text-white hover:bg-white/40",children:m.jsx(o_,{size:16})}),m.jsx("button",{onClick:()=>_(void 0),className:"p-1.5 bg-red-500/50 rounded-full text-white hover:bg-red-500/80",children:m.jsx(ul,{size:16})})]})]}):m.jsxs("button",{onClick:()=>b.current?.click(),className:"w-32 h-32 rounded-2xl border-2 border-dashed border-slate-300 bg-slate-50 flex flex-col items-center justify-center text-slate-400 hover:border-guam-teal hover:text-guam-teal hover:bg-guam-teal/5 transition-all",disabled:E,children:[E?m.jsx(ac,{size:24,className:"animate-spin mb-2"}):m.jsx(D2,{size:32,className:"mb-2"}),m.jsx("span",{className:"text-xs font-bold",children:E?"...":""})]})]}),m.jsx("input",{placeholder:" (ex: Banana Boat SPF110)",value:o,onChange:F=>l(F.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),m.jsx("textarea",{rows:3,placeholder:" (ex: ABC Store , )",value:h,onChange:F=>f(F.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-6 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),m.jsx("button",{onClick:()=>{t({name:o,note:h,imageUrl:y}),e(),l(""),f(""),_(void 0)},disabled:!o.trim()||E,className:"flex-1 py-3 rounded-xl bg-guam-navy text-white font-bold text-sm shadow-lg shadow-guam-navy/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:E?m.jsx(ac,{size:16,className:"animate-spin"}):i?"":""})]})]})}):null},lA=({isOpen:r,onClose:e,onSave:t,members:i,initialData:o})=>{const[l,h]=ce.useState({category:"food",payment:"Cash",amount:0}),[f,y]=ce.useState([]);ce.useEffect(()=>{if(r)if(o){h(o);const F=o.splits||[];y(i.map(O=>{const L=F.find(q=>q.memberId===O.id);return{id:O.id,amount:L?L.amount:0,checked:!!L}}))}else h({category:"food",payment:"Cash",amount:0,payerId:i[0]?.id}),y(i.map(F=>({id:F.id,amount:0,checked:!0})))},[r,i,o]);const _=(F,O)=>{const q=O.filter(B=>B.checked).length;if(q>0&&F>0){const B=parseFloat((F/q).toFixed(2)),re=parseFloat((F-B*(q-1)).toFixed(2));let ie=0;return O.map(Te=>Te.checked?(ie++,{...Te,amount:ie===q?re:B}):{...Te,amount:0})}else return O.map(B=>({...B,amount:0}))},E=F=>{const O=parseFloat(F)||0;h(L=>({...L,amount:O})),y(L=>_(O,L))},A=F=>{const O=f.map(L=>L.id===F?{...L,checked:!L.checked}:L);y(_(l.amount||0,O))},b=(F,O)=>{y(L=>L.map(q=>q.id===F?{...q,amount:O}:q))},D=()=>{const F=f.reduce((q,B)=>q+(B.checked?B.amount:0),0),O=l.amount||0;if(Math.abs(F-O)>.05){alert(` (${F})  (${O})`);return}const L=f.filter(q=>q.checked).map(q=>({memberId:q.id,amount:q.amount}));t({...l,splits:L}),e(),h({category:"food",payment:"Cash",payerId:i[0]?.id,amount:0})};return r?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in overflow-y-auto",children:m.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl my-auto",children:[m.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:o?"":" (USD)"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[m.jsxs("select",{value:l.category,onChange:F=>h({...l,category:F.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[m.jsx("option",{value:"food",children:""}),m.jsx("option",{value:"shopping",children:""}),m.jsx("option",{value:"transport",children:""}),m.jsx("option",{value:"ticket",children:""}),m.jsx("option",{value:"accommodation",children:""}),m.jsx("option",{value:"other",children:""})]}),m.jsx("select",{value:l.payerId||i[0]?.id,onChange:F=>h({...l,payerId:F.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:i.map(F=>m.jsxs("option",{value:F.id,children:[": ",F.name]},F.id))})]}),m.jsxs("div",{className:"flex bg-slate-50 rounded-xl p-1 mb-3",children:[m.jsx("button",{onClick:()=>h({...l,payment:"Cash"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${l.payment==="Cash"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""}),m.jsx("button",{onClick:()=>h({...l,payment:"Card"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${l.payment==="Card"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""})]}),m.jsx("input",{placeholder:"",value:l.name||"",onChange:F=>h({...l,name:F.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"}),m.jsxs("div",{className:"relative mb-5",children:[m.jsx("span",{className:"absolute left-4 top-4 text-slate-400 font-bold",children:"$"}),m.jsx("input",{type:"number",placeholder:"0.00",value:l.amount||"",onChange:F=>E(F.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 pl-8 text-lg font-bold outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"})]}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("p",{className:"text-xs font-bold text-slate-400 mb-2 flex items-center",children:[m.jsx(Ua,{size:12,className:"mr-1"}),"  ()"]}),m.jsx("div",{className:"space-y-2 bg-slate-50 p-3 rounded-2xl max-h-[150px] overflow-y-auto",children:f.map(F=>{const O=i.find(L=>L.id===F.id);return m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{onClick:()=>A(F.id),className:`w-5 h-5 rounded-md border flex items-center justify-center mr-2 cursor-pointer transition-colors ${F.checked?"bg-guam-teal border-guam-teal":"border-slate-300 bg-white"}`,children:F.checked&&m.jsx(i_,{size:12,className:"text-white"})}),m.jsx("span",{className:`text-sm ${F.checked?"text-slate-700":"text-slate-400"}`,children:O?.name})]}),m.jsxs("div",{className:"relative w-24",children:[m.jsx("span",{className:`absolute left-2 top-1.5 text-xs ${F.checked?"text-slate-500":"text-slate-300"}`,children:"$"}),m.jsx("input",{type:"number",disabled:!F.checked,value:F.amount,onChange:L=>b(F.id,parseFloat(L.target.value)),className:`w-full rounded-lg py-1 pl-4 pr-2 text-right text-sm outline-none border ${F.checked?"bg-white border-slate-200 focus:border-guam-teal text-slate-800":"bg-transparent border-transparent text-slate-300"}`})]})]},F.id)})})]}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),m.jsx("button",{onClick:D,className:"flex-1 py-3 rounded-xl bg-guam-coral text-white font-bold text-sm shadow-lg shadow-guam-coral/30",children:""})]})]})}):null},uA=({isOpen:r,onClose:e,onSave:t,members:i,initialData:o,targetCategory:l,targetMemberId:h})=>{const[f,y]=ce.useState({category:"todo",assignedTo:"All",completed:!1});return ce.useEffect(()=>{r&&y(o?{...o}:{category:l||"todo",assignedTo:l==="luggage"&&h?h:"All",subCategory:"",completed:!1,title:""})},[r,o,l,h]),r?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:m.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:o?"":""}),m.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-3",children:[m.jsxs("div",{className:"flex gap-2 p-1 bg-slate-50 rounded-xl",children:[m.jsx("button",{type:"button",onClick:()=>y({...f,category:"todo",assignedTo:"All"}),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${f.category==="todo"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""}),m.jsx("button",{type:"button",onClick:()=>y({...f,category:"luggage",assignedTo:h||i[0]?.id||"All"}),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${f.category==="luggage"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""})]}),f.category==="luggage"&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-slate-400 mb-1 block",children:""}),m.jsx("select",{value:f.assignedTo,onChange:_=>y({...f,assignedTo:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",children:i.map(_=>m.jsx("option",{value:_.id,children:_.name},_.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-slate-400 mb-1 block",children:""}),m.jsx("select",{value:f.subCategory||"",onChange:_=>y({...f,subCategory:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",children:Object.keys($f).map(_=>m.jsx("option",{value:_,children:_},_))})]})]})]}),m.jsx("input",{placeholder:" (ex: )",value:f.title||"",onChange:_=>y({...f,title:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-6 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),m.jsx("button",{onClick:()=>{t(f),e()},className:"flex-1 py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:o?"":""})]})]})}):null},cA=({isOpen:r,onClose:e,flight:t,onSave:i})=>{const[o,l]=ce.useState(!1),[h,f]=ce.useState(null);if(ce.useEffect(()=>{r&&t&&(f({...t}),l(!1))},[r,t]),!r||!h)return null;const y=()=>{h&&(i(h),l(!1))};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in overflow-y-auto",children:m.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-sm shadow-2xl relative overflow-hidden my-auto",children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-20 w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 hover:text-slate-600",children:m.jsx(Xa,{size:16})}),o?m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"font-bold text-lg mb-6 text-center text-slate-800",children:""}),m.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:" & "}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{value:h.airline,onChange:_=>f({...h,airline:_.target.value}),className:"flex-1 bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",placeholder:"Airline"}),m.jsx("input",{value:h.flightNumber,onChange:_=>f({...h,flightNumber:_.target.value}),className:"w-24 bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal font-bold",placeholder:"NO."})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:" (//)"}),m.jsx("input",{value:h.departureCode,onChange:_=>f({...h,departureCode:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2 font-bold uppercase"}),m.jsx("input",{value:h.departureCity,onChange:_=>f({...h,departureCity:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2"}),m.jsx("input",{type:"time",value:h.departureTime,onChange:_=>f({...h,departureTime:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:" (//)"}),m.jsx("input",{value:h.arrivalCode,onChange:_=>f({...h,arrivalCode:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2 font-bold uppercase"}),m.jsx("input",{value:h.arrivalCity,onChange:_=>f({...h,arrivalCity:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm mb-2"}),m.jsx("input",{type:"time",value:h.arrivalTime,onChange:_=>f({...h,arrivalTime:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-2 text-sm"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:""}),m.jsx("input",{type:"date",value:h.date.replace(/\//g,"-"),onChange:_=>f({...h,date:_.target.value.replace(/-/g,"/")}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 block mb-1",children:""}),m.jsx("input",{value:h.duration,onChange:_=>f({...h,duration:_.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",placeholder:"ex: 3h 50m"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx("input",{value:h.baggage,onChange:_=>f({...h,baggage:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:" (ex: 23kg)"}),m.jsx("input",{value:h.aircraft,onChange:_=>f({...h,aircraft:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:" (ex: A321)"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsx("input",{value:h.price,onChange:_=>f({...h,price:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:""}),m.jsx("input",{value:h.purchaseDate,onChange:_=>f({...h,purchaseDate:_.target.value}),className:"bg-slate-50 text-slate-800 w-full rounded-xl p-3 text-sm outline-none",placeholder:""})]})]}),m.jsxs("div",{className:"flex gap-3 mt-6",children:[m.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),m.jsxs("button",{onClick:y,className:"flex-1 py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30 flex items-center justify-center",children:[m.jsx(l_,{size:16,className:"mr-2"})," "]})]})]}):m.jsxs("div",{className:"p-0",children:[m.jsxs("div",{className:"bg-blue-50/50 p-6 pb-8 text-center relative",children:[m.jsx("h3",{className:"text-slate-400 font-bold text-sm uppercase tracking-widest",children:h.airline}),m.jsx("h2",{className:"text-4xl font-black text-slate-700 mt-2 tracking-wide",children:h.flightNumber.replace(/\s/g," ")}),m.jsx("div",{className:"absolute top-4 right-6 bg-white px-2 py-1 rounded text-[10px] font-bold text-slate-400 shadow-sm border border-slate-100",children:""})]}),m.jsx("div",{className:"px-8 -mt-6 relative z-10",children:m.jsx("div",{className:"bg-white rounded-[2rem] shadow-xl p-6 border border-slate-100",children:m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsxs("div",{className:"text-left",children:[m.jsx("h1",{className:"text-4xl font-black text-slate-700",children:h.departureCode}),m.jsx("p",{className:"text-2xl font-bold text-slate-700 mt-1",children:h.departureTime}),m.jsx("span",{className:`inline-block px-3 py-0.5 rounded-full text-xs font-bold mt-2 text-white ${h.departureCode==="TPE"||h.departureCode==="KHH"?"bg-guam-teal":"bg-guam-sun"}`,children:h.departureCity})]}),m.jsxs("div",{className:"flex flex-col items-center justify-center px-2",children:[m.jsx("span",{className:"text-[10px] text-slate-300 font-bold mb-1",children:h.duration}),m.jsx(Lo,{className:"text-blue-500 rotate-90 mb-1",size:24}),m.jsx("div",{className:"w-16 border-b-2 border-dashed border-slate-200 mb-1"}),m.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:h.date})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("h1",{className:"text-4xl font-black text-slate-700",children:h.arrivalCode}),m.jsx("p",{className:"text-2xl font-bold text-slate-700 mt-1",children:h.arrivalTime}),m.jsx("span",{className:`inline-block px-3 py-0.5 rounded-full text-xs font-bold mt-2 text-white ${h.arrivalCode==="GUM"?"bg-guam-sun":"bg-guam-teal"}`,children:h.arrivalCity})]})]})})}),m.jsxs("div",{className:"px-8 mt-6 pb-8 space-y-4",children:[m.jsxs("div",{className:"flex border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[m.jsxs("div",{className:"flex-1 border-r border-slate-200 pr-4",children:[m.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"BAGGAGE"}),m.jsxs("p",{className:"font-bold text-slate-700 flex items-center",children:[m.jsx(s_,{size:16,className:"text-guam-teal mr-2"})," ",h.baggage]})]}),m.jsxs("div",{className:"flex-1 pl-4 text-right",children:[m.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"AIRCRAFT"}),m.jsxs("p",{className:"font-bold text-slate-700 flex items-center justify-end",children:[m.jsx(Lo,{size:16,className:"text-guam-sun mr-2"})," ",h.aircraft]})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex-1 border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[m.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"PRICE"}),m.jsx("p",{className:"font-bold text-slate-700 text-lg",children:h.price}),m.jsx("p",{className:"text-[10px] text-slate-400",children:""})]}),m.jsxs("div",{className:"flex-1 border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[m.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"PURCHASED"}),m.jsx("p",{className:"font-bold text-slate-700 text-lg",children:h.purchaseDate}),m.jsx("p",{className:"text-[10px] text-slate-400",children:"via "})]})]}),m.jsxs("button",{onClick:()=>l(!0),className:"w-full py-4 border border-slate-200 text-slate-500 rounded-2xl font-bold flex items-center justify-center hover:bg-slate-50 transition-colors mt-4",children:[m.jsx(o_,{size:16,className:"mr-2"})," "]})]})]})]})})},hA=({isOpen:r,onClose:e,members:t,onAddMember:i,onRemoveMember:o,currentUser:l,onLogout:h,onSyncDB:f})=>{const[y,_]=ce.useState(""),[E,A]=ce.useState(""),[b,D]=ce.useState(!1),[F,O]=ce.useState(null);if(!r)return null;const L=B=>{const re=B.target.files?.[0];if(!re)return;D(!0);const ie=new FileReader;ie.onload=Te=>{const ae=new Image;ae.onload=()=>{const C=document.createElement("canvas"),T=200;let k=ae.width,N=ae.height;k>N?k>T&&(N*=T/k,k=T):N>T&&(k*=T/N,N=T),C.width=k,C.height=N;const j=C.getContext("2d");if(j){j.drawImage(ae,0,0,k,N);const V=C.toDataURL("image/jpeg",.7);O(V)}D(!1)},ae.src=Te.target?.result},ie.readAsDataURL(re)},q=()=>{if(!y.trim()||!E.trim())return;const B={id:Date.now().toString(),name:y,email:E.trim(),role:"Member"};F&&(B.avatarUrl=F),i(B),_(""),A(""),O(null)};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:m.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-800",children:""}),m.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:m.jsx(Xa,{size:24})})]}),m.jsxs("div",{className:"space-y-3 mb-6 overflow-y-auto pr-2 flex-1 min-h-0",children:[t.map(B=>m.jsxs("div",{className:`flex items-center justify-between p-2 rounded-xl border ${B.id===l?.id?"bg-guam-teal/5 border-guam-teal/30":"bg-slate-50 border-slate-100"}`,children:[m.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[m.jsx("div",{className:"w-10 h-10 shrink-0 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center border-2 border-white shadow-sm",children:B.avatarUrl?m.jsx("img",{src:B.avatarUrl,alt:B.name,className:"w-full h-full object-cover"}):m.jsx(u_,{size:20,className:"text-slate-400"})}),m.jsxs("div",{className:"min-w-0",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"font-bold text-slate-700 block truncate",children:B.name}),B.id===l?.id&&m.jsx("span",{className:"ml-2 text-[10px] bg-guam-teal text-white px-1.5 py-0.5 rounded-full font-bold leading-none",children:"YOU"})]}),m.jsxs("span",{className:"text-[10px] text-slate-400 block truncate flex items-center",children:[m.jsx(L2,{size:10,className:"mr-1 inline"})," ",B.email||"No Email"]})]})]}),B.id!==l?.id&&m.jsx("button",{onClick:()=>o(B.id),className:"w-8 h-8 flex items-center justify-center text-slate-300 hover:text-red-400 transition-colors shrink-0",children:m.jsx(ul,{size:16})})]},B.id)),t.length===0&&m.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:""})]}),m.jsxs("div",{className:"border-t border-slate-100 pt-4 shrink-0",children:[m.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase tracking-wide",children:" ()"}),m.jsxs("div",{className:"flex gap-3 mb-3",children:[m.jsxs("div",{className:"relative shrink-0",children:[m.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:L}),m.jsx("label",{htmlFor:"avatar-upload",className:"w-12 h-12 rounded-full bg-slate-50 border border-dashed border-slate-300 flex items-center justify-center cursor-pointer hover:border-guam-teal hover:bg-guam-teal/5 transition-all overflow-hidden",children:b?m.jsx(ac,{size:20,className:"animate-spin text-guam-teal"}):F?m.jsx("img",{src:F,className:"w-full h-full object-cover"}):m.jsx(W2,{size:18,className:"text-slate-400"})})]}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsx("input",{type:"text",placeholder:"...",value:y,onChange:B=>_(B.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl px-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"}),m.jsx("input",{type:"email",placeholder:"Google Email ()",value:E,onChange:B=>A(B.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl px-3 py-2 text-sm outline-none border border-transparent focus:border-guam-teal"})]})]}),m.jsx("button",{onClick:q,disabled:!y.trim()||!E.trim()||b,className:"w-full py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30 disabled:opacity-50 disabled:cursor-not-allowed mb-2",children:""}),l?.role==="Admin"&&f&&m.jsxs("button",{onClick:f,className:"w-full py-2 rounded-xl bg-slate-100 text-slate-500 font-bold text-xs flex items-center justify-center hover:bg-slate-200 transition-colors mb-2",children:[m.jsx(N2,{size:14,className:"mr-2"})," /"]}),m.jsxs("button",{onClick:()=>{e(),h()},className:"w-full py-3 rounded-xl border border-red-100 bg-red-50 text-red-500 font-bold text-sm flex items-center justify-center hover:bg-red-100 transition-colors",children:[m.jsx(V2,{size:16,className:"mr-2"}),"  (",l?.name,")"]})]}),!1]})})},dA=r=>r.reduce((e,t,i)=>(e[i.toString()]=t,e),{}),fA=r=>Array.isArray(r)?r:Object.keys(r).sort((t,i)=>parseInt(t)-parseInt(i)).map(t=>r[t]),Iy=r=>Object.entries(r).reduce((e,[t,i])=>(i!==void 0&&(e[t]=i),e),{}),pA=()=>{const[r,e]=ce.useState(null),[t,i]=ce.useState(!1),[o,l]=ce.useState("itinerary"),[h,f]=ce.useState(0),[y,_]=ce.useState(fr.itinerary),[E,A]=ce.useState(fr.shopping),[b,D]=ce.useState(fr.expenses),[F,O]=ce.useState(fr.planning||[]),[L,q]=ce.useState($u),[B,re]=ce.useState(fr.flights||[]),[ie,Te]=ce.useState(Y2),[ae,C]=ce.useState(Q2),[T,k]=ce.useState(!1),[N,j]=ce.useState(!1),[V,S]=ce.useState(!1),[lt,xt]=ce.useState(!1),[Nt,He]=ce.useState(!1),[ne,ye]=ce.useState(!1),[le,M]=ce.useState(!1),[G,ge]=ce.useState(!1),[Ae,be]=ce.useState(null),[je,Oe]=ce.useState(null),[Ve,Xe]=ce.useState(null),[ft,on]=ce.useState(null),[Zr,nr]=ce.useState(null),[kn,Ir]=ce.useState(null),[Bs,es]=ce.useState(void 0),[Oi,kr]=ce.useState(void 0),Ze=async(ee,se)=>{if(ht&&r)try{let oe=se;if(ee==="itinerary"&&Array.isArray(se)&&(oe=dA(se)),JSON.stringify({data:oe}).length>1e6)throw new Error(" (1MB)");await Ru(Zn(ht,"trip_data",ee),{data:oe})}catch(oe){console.error(`Error saving ${ee}`,oe),alert(` (${ee}): ${oe.message}`)}};ce.useEffect(()=>{const ee=async()=>{try{const Pe=await(await fetch("https://api.open-meteo.com/v1/forecast?latitude=13.4443&longitude=144.7937&daily=weather_code,temperature_2m_max&timezone=Pacific%2FGuam&forecast_days=5")).json();if(Pe.daily&&Pe.daily.time){const Le=Pe.daily.time.map((Qe,ze)=>{const Ne=Pe.daily.weather_code[ze],Ln=Math.round(Pe.daily.temperature_2m_max[ze]).toString();let Zt="sunny";return Ne>3&&Ne<50&&(Zt="cloudy"),Ne>=50&&(Zt="rain"),{condition:Zt,temp:Ln}});Le.length===5&&Te(Le)}}catch(qe){console.error("Failed to fetch real-time weather.",qe)}},se=async()=>{if(!T)try{const Pe=await(await fetch("https://tw.rter.info/capi.php")).json();if(Pe.USDTWD&&Pe.USDTWD.Exrate){let Le=parseFloat(Pe.USDTWD.Exrate);Le=Math.round(Le*100)/100,Le&&!isNaN(Le)&&(console.log(`Updated Exchange Rate from rter.info: ${Le}`),C(Qe=>T?Qe:Le))}}catch(qe){console.error("Failed to fetch rter.info exchange rate.",qe);try{const Le=await(await fetch("https://api.exchangerate-api.com/v4/latest/USD")).json();if(Le.rates&&Le.rates.TWD){const Qe=Math.round(Le.rates.TWD*100)/100;console.log(`Fallback Exchange Rate: ${Qe}`),C(ze=>T?ze:Qe)}}catch{console.error("All exchange rate APIs failed.")}}};ee();const oe=setTimeout(se,1e3);return()=>clearTimeout(oe)},[T]),ce.useEffect(()=>{const ee=setTimeout(()=>{t||i(!0)},3e3);if(!$r)return i(!0),()=>clearTimeout(ee);const se=HI($r,async oe=>{if(oe){const qe=(oe.email||"").toLowerCase();console.log("Auth State Changed: Logged in as",qe);const Pe=$u.find(Qe=>Qe.email?.toLowerCase()===qe);if(Pe){e({id:Pe.id,name:Pe.name,email:oe.email,avatarUrl:Pe.avatarUrl||oe.photoURL||void 0,role:Pe.role||"Member"}),i(!0);return}let Le;if(ht)try{const Qe=await a0(Dd(ht,"users"));Qe.empty||(Le=Qe.docs.map(Ne=>({id:Ne.id,...Ne.data()})).find(Ne=>Ne.email?.toLowerCase()===qe))}catch(Qe){console.error("Auth check: DB fetch failed",Qe)}Le?e({id:Le.id,name:Le.name,email:oe.email,avatarUrl:Le.avatarUrl||oe.photoURL||void 0,role:Le.role||"Member"}):(console.warn(`User ${qe} not in whitelist. Signing out.`),await Vd($r),e(null))}else e(null);i(!0)});return()=>{se(),clearTimeout(ee)}},[]),ce.useEffect(()=>{if(!ht||!r)return;const ee=wi(Dd(ht,"users"),ze=>{if(!ze.empty){const Ne=ze.docs.map(Ln=>({id:Ln.id,...Ln.data()}));q(Ne)}}),se=wi(Zn(ht,"trip_data","itinerary"),ze=>{if(ze.exists()){const Ne=ze.data().data;_(Array.isArray(Ne)?Ne:fA(Ne))}else Ze("itinerary",fr.itinerary)}),oe=wi(Zn(ht,"trip_data","shopping"),ze=>{ze.exists()?A(ze.data().data):Ze("shopping",fr.shopping)}),qe=wi(Zn(ht,"trip_data","expenses"),ze=>{ze.exists()?D(ze.data().data):Ze("expenses",fr.expenses)}),Pe=wi(Zn(ht,"trip_data","planning"),ze=>{ze.exists()?O(ze.data().data):Ze("planning",fr.planning)}),Le=wi(Zn(ht,"trip_data","flights"),ze=>{ze.exists()?re(ze.data().data):Ze("flights",fr.flights)}),Qe=wi(Zn(ht,"trip_data","settings"),ze=>{if(ze.exists()){const Ne=ze.data();Ne.exchangeRate&&(console.log("Loaded manual exchange rate from Firestore:",Ne.exchangeRate),C(Ne.exchangeRate),k(!0))}});return()=>{ee(),se(),oe(),qe(),Pe(),Le(),Qe()}},[r?.id]);const On=async ee=>{if(C(ee),k(!0),ht)try{await Ru(Zn(ht,"trip_data","settings"),{exchangeRate:ee,updatedAt:Date.now()},{merge:!0})}catch(se){console.error("Failed to save exchange rate",se)}},$s=ee=>{e(ee),localStorage.setItem("trip_user_id",ee.id)},ts=async()=>{$r&&await Vd($r),e(null),localStorage.removeItem("trip_user_id")},ns=()=>{o==="itinerary"?(be(null),j(!0)):o==="shopping"?(Xe(null),S(!0)):o==="expenses"?(Oe(null),xt(!0)):o==="planning"&&(on(null),es("todo"),kr(void 0),He(!0))},Hs=(ee,se)=>{on(null),es(ee),kr(se),He(!0)},yt=ee=>{const se=[];let oe=Date.now();const qe=new Set(F.filter(Qe=>Qe.assignedTo===ee&&Qe.category==="luggage").map(Qe=>Qe.title));let Pe=0;if(Object.entries($f).forEach(([Qe,ze])=>{ze.forEach(Ne=>{qe.has(Ne)||(se.push({id:oe++,title:Ne,category:"luggage",subCategory:Qe,completed:!1,assignedTo:ee}),Pe++)})}),Pe===0){alert("");return}const Le=[...F,...se];O(Le),Ze("planning",Le),alert(` ${Pe} `)},vt=ee=>{const se=[...y],oe=[...se[h]];if(Ae){const qe=oe.findIndex(Pe=>Pe.id===Ae.id);qe!==-1&&(oe[qe]={...Ae,...ee})}else{const qe={...ee,id:Date.now(),transportType:"car",travelTime:"15m"};oe.push(qe),oe.sort((Pe,Le)=>Pe.startTime>Le.startTime?1:-1)}se[h]=oe,_(se),Ze("itinerary",se),be(null)},Vn=(ee,se)=>{if(!kn)return;const oe=[...y],qe=[...oe[h]],Pe=qe.findIndex(Le=>Le.id===kn.id);Pe!==-1&&(qe[Pe]={...qe[Pe],transportType:ee,travelTime:se},oe[h]=qe,_(oe),Ze("itinerary",oe)),Ir(null)},qs=ee=>{if(!ee)return null;const se=y[h],oe=se.findIndex(qe=>qe.id===ee.id);return oe>0?se[oe-1]:null},rr=ee=>{const se=[...y];se[h]=se[h].filter(oe=>oe.id!==ee),_(se),Ze("itinerary",se)},Sr=ee=>{let se;Ve?(se=E.map(oe=>oe.id===Ve.id?{...oe,...ee}:oe),Xe(null)):se=[...E,{...ee,id:Date.now()}],A(se),Ze("shopping",se)},Ar=ee=>{const se=E.filter(oe=>oe.id!==ee);A(se),Ze("shopping",se)},Ws=ee=>{let se;je?(se=b.map(oe=>oe.id===je.id?{...oe,...ee}:oe),Oe(null)):se=[{...ee,id:Date.now(),date:new Date().toLocaleDateString("en-US",{month:"numeric",day:"numeric"})},...b],D(se),Ze("expenses",se)},Gs=ee=>{const se=b.filter(oe=>oe.id!==ee);D(se),Ze("expenses",se)},Ks=ee=>{let se;ft?(se=F.map(oe=>oe.id===ft.id?{...oe,...ee}:oe),on(null)):se=[...F,{...ee,id:Date.now()}],O(se),Ze("planning",se)},Qs=ee=>{const se=F.map(oe=>oe.id===ee?{...oe,completed:!oe.completed}:oe);O(se),Ze("planning",se)},Xs=ee=>{const se=F.filter(oe=>oe.id!==ee);O(se),Ze("planning",se)},Cr=ee=>{const se=B.map(oe=>oe.id===ee.id?ee:oe);re(se),Ze("flights",se)},rs=async ee=>{if(ht)try{const se=Iy(ee);await Ru(Zn(ht,"users",ee.id),se)}catch(se){console.error("Error adding member to DB",se),alert("")}q([...L,ee])},ss=async ee=>{if(ht)try{await eI(Zn(ht,"users",ee))}catch(se){console.error("Error deleting member from DB",se)}q(L.filter(se=>se.id!==ee))},an=async()=>{if(!(!ht||!r)&&confirm(`
( Google )`))try{for(const ee of $u){const se=Iy(ee);await Ru(Zn(ht,"users",ee.id),se,{merge:!0})}alert("")}catch(ee){console.error("Sync Error:",ee),alert(": "+ee.message)}};return t?r?m.jsxs("div",{className:"app-container max-w-[480px] mx-auto min-h-screen bg-guam-sand relative shadow-[0_0_40px_rgba(13,148,136,0.1)]",children:[m.jsx(K2,{currentTab:o,onTabChange:l,title:Co.title,subtitle:Co.subtitle,coverImage:Co.coverImage,onOpenMembers:()=>ye(!0)}),m.jsxs("main",{className:"px-4 pt-6 relative z-0",children:[o==="itinerary"&&m.jsx(Z2,{dates:X2,weather:ie,items:y[h],selectedDateIndex:h,onDateSelect:f,onEdit:ee=>{be(ee),j(!0)},onEditTransport:ee=>{Ir(ee),ge(!0)}}),o==="info"&&m.jsx(eA,{flights:B,onFlightClick:ee=>{nr(ee),M(!0)},exchangeRate:ae,onRateUpdate:On}),o==="shopping"&&m.jsx(tA,{items:E,onRemove:Ar,onAddClick:()=>S(!0),onEdit:ee=>{Xe(ee),S(!0)}}),o==="planning"&&m.jsx(rA,{items:F,onToggle:Qs,onRemove:Xs,onEdit:ee=>{on(ee),He(!0)},members:L,currentUser:r,onAddDefaults:yt,onAddClick:Hs}),o==="expenses"&&m.jsx(nA,{expenses:b,onRemove:Gs,onEdit:ee=>{Oe(ee),xt(!0)},members:L,exchangeRate:ae})]}),o!=="info"&&o!=="planning"&&m.jsx("button",{onClick:ns,className:"fixed bottom-24 right-6 w-14 h-14 bg-guam-coral text-white rounded-full shadow-[0_4px_20px_rgba(251,113,133,0.6)] text-xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all z-40",children:m.jsx(a_,{size:24})}),m.jsx(iA,{isOpen:N,onClose:()=>j(!1),onSave:vt,initialData:Ae,onDelete:rr}),m.jsx(oA,{isOpen:G,onClose:()=>ge(!1),onSave:Vn,currentItem:kn,prevItem:qs(kn)}),m.jsx(aA,{isOpen:V,onClose:()=>S(!1),onSave:Sr,initialData:Ve}),m.jsx(lA,{isOpen:lt,onClose:()=>xt(!1),onSave:Ws,members:L,initialData:je}),m.jsx(uA,{isOpen:Nt,onClose:()=>He(!1),onSave:Ks,members:L,initialData:ft,targetCategory:Bs,targetMemberId:Oi}),m.jsx(hA,{isOpen:ne,onClose:()=>ye(!1),members:L,onAddMember:rs,onRemoveMember:ss,currentUser:r,onLogout:ts,onSyncDB:an}),m.jsx(cA,{isOpen:le,onClose:()=>M(!1),flight:Zr,onSave:Cr})]}):m.jsx(J2,{members:L,onLogin:$s}):m.jsx("div",{className:"min-h-screen bg-guam-sand flex items-center justify-center",children:m.jsxs("div",{className:"animate-pulse text-guam-teal flex flex-col items-center",children:[m.jsx("div",{className:"w-8 h-8 border-4 border-guam-teal border-t-transparent rounded-full animate-spin mb-2"}),"Loading..."]})})},c_=document.getElementById("root");if(!c_)throw new Error("Could not find root element to mount to");const mA=Iw.createRoot(c_);mA.render(m.jsx(yw.StrictMode,{children:m.jsx(pA,{})}));
