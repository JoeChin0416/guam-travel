(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function gv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Rd={exports:{}},mo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function bb(){if(C_)return mo;C_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return mo.Fragment=e,mo.jsx=i,mo.jsxs=i,mo}var I_;function Sb(){return I_||(I_=1,Rd.exports=bb()),Rd.exports}var T=Sb(),Cd={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function Ab(){if(N_)return Se;N_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,z={};function W(O,$,ae){this.props=O,this.context=$,this.refs=z,this.updater=ae||F}W.prototype.isReactComponent={},W.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},W.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ie(){}ie.prototype=W.prototype;function le(O,$,ae){this.props=O,this.context=$,this.refs=z,this.updater=ae||F}var we=le.prototype=new ie;we.constructor=le,Q(we,W.prototype),we.isPureReactComponent=!0;var ve=Array.isArray;function de(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,$,ae){var oe=ae.ref;return{$$typeof:s,type:O,key:$,ref:oe!==void 0?oe:null,props:ae}}function V(O,$){return I(O.type,$,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return $[ae]})}var R=/\/+/g;function nt(O,$){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):$.toString(36)}function mt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(de,de):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function K(O,$,ae,oe,ne){var te=typeof O;(te==="undefined"||te==="boolean")&&(O=null);var he=!1;if(O===null)he=!0;else switch(te){case"bigint":case"string":case"number":he=!0;break;case"object":switch(O.$$typeof){case s:case e:he=!0;break;case b:return he=O._init,K(he(O._payload),$,ae,oe,ne)}}if(he)return ne=ne(O),he=oe===""?"."+nt(O,0):oe,ve(ne)?(ae="",he!=null&&(ae=he.replace(R,"$&/")+"/"),K(ne,$,ae,"",function(ot){return ot})):ne!=null&&(D(ne)&&(ne=V(ne,ae+(ne.key==null||O&&O.key===ne.key?"":(""+ne.key).replace(R,"$&/")+"/")+he)),$.push(ne)),1;he=0;var it=oe===""?".":oe+":";if(ve(O))for(var Qe=0;Qe<O.length;Qe++)oe=O[Qe],te=it+nt(oe,Qe),he+=K(oe,$,ae,te,ne);else if(Qe=q(O),typeof Qe=="function")for(O=Qe.call(O),Qe=0;!(oe=O.next()).done;)oe=oe.value,te=it+nt(oe,Qe++),he+=K(oe,$,ae,te,ne);else if(te==="object"){if(typeof O.then=="function")return K(mt(O),$,ae,oe,ne);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return he}function re(O,$,ae){if(O==null)return O;var oe=[],ne=0;return K(O,oe,"","",function(te){return $.call(ae,te,ne++)}),oe}function pe(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},He={map:re,forEach:function(O,$,ae){re(O,function(){$.apply(this,arguments)},ae)},count:function(O){var $=0;return re(O,function(){$++}),$},toArray:function(O){return re(O,function($){return $})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=A,Se.Children=He,Se.Component=W,Se.Fragment=i,Se.Profiler=o,Se.PureComponent=le,Se.StrictMode=r,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,$,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=Q({},O.props),ne=O.key;if($!=null)for(te in $.key!==void 0&&(ne=""+$.key),$)!w.call($,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&$.ref===void 0||(oe[te]=$[te]);var te=arguments.length-2;if(te===1)oe.children=ae;else if(1<te){for(var he=Array(te),it=0;it<te;it++)he[it]=arguments[it+2];oe.children=he}return I(O.type,ne,oe)},Se.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Se.createElement=function(O,$,ae){var oe,ne={},te=null;if($!=null)for(oe in $.key!==void 0&&(te=""+$.key),$)w.call($,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ne[oe]=$[oe]);var he=arguments.length-2;if(he===1)ne.children=ae;else if(1<he){for(var it=Array(he),Qe=0;Qe<he;Qe++)it[Qe]=arguments[Qe+2];ne.children=it}if(O&&O.defaultProps)for(oe in he=O.defaultProps,he)ne[oe]===void 0&&(ne[oe]=he[oe]);return I(O,te,ne)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:p,render:O}},Se.isValidElement=D,Se.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:pe}},Se.memo=function(O,$){return{$$typeof:_,type:O,compare:$===void 0?null:$}},Se.startTransition=function(O){var $=x.T,ae={};x.T=ae;try{var oe=O(),ne=x.S;ne!==null&&ne(ae,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(de,Le)}catch(te){Le(te)}finally{$!==null&&ae.types!==null&&($.types=ae.types),x.T=$}},Se.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Se.use=function(O){return x.H.use(O)},Se.useActionState=function(O,$,ae){return x.H.useActionState(O,$,ae)},Se.useCallback=function(O,$){return x.H.useCallback(O,$)},Se.useContext=function(O){return x.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,$){return x.H.useDeferredValue(O,$)},Se.useEffect=function(O,$){return x.H.useEffect(O,$)},Se.useEffectEvent=function(O){return x.H.useEffectEvent(O)},Se.useId=function(){return x.H.useId()},Se.useImperativeHandle=function(O,$,ae){return x.H.useImperativeHandle(O,$,ae)},Se.useInsertionEffect=function(O,$){return x.H.useInsertionEffect(O,$)},Se.useLayoutEffect=function(O,$){return x.H.useLayoutEffect(O,$)},Se.useMemo=function(O,$){return x.H.useMemo(O,$)},Se.useOptimistic=function(O,$){return x.H.useOptimistic(O,$)},Se.useReducer=function(O,$,ae){return x.H.useReducer(O,$,ae)},Se.useRef=function(O){return x.H.useRef(O)},Se.useState=function(O){return x.H.useState(O)},Se.useSyncExternalStore=function(O,$,ae){return x.H.useSyncExternalStore(O,$,ae)},Se.useTransition=function(){return x.H.useTransition()},Se.version="19.2.3",Se}var D_;function bm(){return D_||(D_=1,Cd.exports=Ab()),Cd.exports}var Me=bm();const wb=gv(Me);var Id={exports:{}},po={},Nd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function xb(){return M_||(M_=1,(function(s){function e(K,re){var pe=K.length;K.push(re);e:for(;0<pe;){var Le=pe-1>>>1,He=K[Le];if(0<o(He,re))K[Le]=re,K[pe]=He,pe=Le;else break e}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var re=K[0],pe=K.pop();if(pe!==re){K[0]=pe;e:for(var Le=0,He=K.length,O=He>>>1;Le<O;){var $=2*(Le+1)-1,ae=K[$],oe=$+1,ne=K[oe];if(0>o(ae,pe))oe<He&&0>o(ne,ae)?(K[Le]=ne,K[oe]=pe,Le=oe):(K[Le]=ae,K[$]=pe,Le=$);else if(oe<He&&0>o(ne,pe))K[Le]=ne,K[oe]=pe,Le=oe;else break e}}return re}function o(K,re){var pe=K.sortIndex-re.sortIndex;return pe!==0?pe:K.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,A=null,N=3,q=!1,F=!1,Q=!1,z=!1,W=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function we(K){for(var re=i(_);re!==null;){if(re.callback===null)r(_);else if(re.startTime<=K)r(_),re.sortIndex=re.expirationTime,e(y,re);else break;re=i(_)}}function ve(K){if(Q=!1,we(K),!F)if(i(y)!==null)F=!0,de||(de=!0,k());else{var re=i(_);re!==null&&mt(ve,re.startTime-K)}}var de=!1,x=-1,w=5,I=-1;function V(){return z?!0:!(s.unstable_now()-I<w)}function D(){if(z=!1,de){var K=s.unstable_now();I=K;var re=!0;try{e:{F=!1,Q&&(Q=!1,ie(x),x=-1),q=!0;var pe=N;try{t:{for(we(K),A=i(y);A!==null&&!(A.expirationTime>K&&V());){var Le=A.callback;if(typeof Le=="function"){A.callback=null,N=A.priorityLevel;var He=Le(A.expirationTime<=K);if(K=s.unstable_now(),typeof He=="function"){A.callback=He,we(K),re=!0;break t}A===i(y)&&r(y),we(K)}else r(y);A=i(y)}if(A!==null)re=!0;else{var O=i(_);O!==null&&mt(ve,O.startTime-K),re=!1}}break e}finally{A=null,N=pe,q=!1}re=void 0}}finally{re?k():de=!1}}}var k;if(typeof le=="function")k=function(){le(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,nt=R.port2;R.port1.onmessage=D,k=function(){nt.postMessage(null)}}else k=function(){W(D,0)};function mt(K,re){x=W(function(){K(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(K){switch(N){case 1:case 2:case 3:var re=3;break;default:re=N}var pe=N;N=re;try{return K()}finally{N=pe}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=N;N=K;try{return re()}finally{N=pe}},s.unstable_scheduleCallback=function(K,re,pe){var Le=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Le+pe:Le):pe=Le,K){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=pe+He,K={id:b++,callback:re,priorityLevel:K,startTime:pe,expirationTime:He,sortIndex:-1},pe>Le?(K.sortIndex=pe,e(_,K),i(y)===null&&K===i(_)&&(Q?(ie(x),x=-1):Q=!0,mt(ve,pe-Le))):(K.sortIndex=He,e(y,K),F||q||(F=!0,de||(de=!0,k()))),K},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(K){var re=N;return function(){var pe=N;N=re;try{return K.apply(this,arguments)}finally{N=pe}}}})(Dd)),Dd}var O_;function Rb(){return O_||(O_=1,Nd.exports=xb()),Nd.exports}var Md={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function Cb(){if(V_)return Xt;V_=1;var s=bm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},Xt.flushSync=function(y){var _=d.T,b=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=b,r.d.f()}},Xt.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Xt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Xt.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:q}):b==="script"&&r.d.X(y,{crossOrigin:A,integrity:N,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xt.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Xt.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);r.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xt.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Xt.requestFormReset=function(y){r.d.r(y)},Xt.unstable_batchedUpdates=function(y,_){return y(_)},Xt.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.2.3",Xt}var k_;function Ib(){if(k_)return Md.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Md.exports=Cb(),Md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function Nb(){if(j_)return po;j_=1;var s=Rb(),e=bm(),i=Ib();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,l=f;break}if(E===l){g=!0,l=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=h;break}if(E===l){g=!0,l=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),le=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case W:return"Profiler";case z:return"StrictMode";case ve:return"Suspense";case de:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case le:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case we:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var mt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Le=[],He=-1;function O(t){return{current:t}}function $(t){0>He||(t.current=Le[He],Le[He]=null,He--)}function ae(t,n){He++,Le[He]=t.current,t.current=n}var oe=O(null),ne=O(null),te=O(null),he=O(null);function it(t,n){switch(ae(te,n),ae(ne,t),ae(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zy(n),t=Jy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(oe),ae(oe,t)}function Qe(){$(oe),$(ne),$(te)}function ot(t){t.memoizedState!==null&&ae(he,t);var n=oe.current,a=Jy(n,t.type);n!==a&&(ae(ne,t),ae(oe,a))}function en(t){ne.current===t&&($(oe),$(ne)),he.current===t&&($(he),uo._currentValue=pe)}var Mi,$r;function ti(t){if(Mi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Mi=n&&n[1]||"",$r=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mi+t+$r}var ul=!1;function ar(t,n){if(!t||ul)return"";ul=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var B=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){B=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){B=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),P=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{ul=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ti(a):""}function cl(t,n){switch(t.tag){case 26:case 27:case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return t.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return ar(t.type,!1);case 11:return ar(t.type.render,!1);case 1:return ar(t.type,!0);case 31:return ti("Activity");default:return""}}function hl(t){try{var n="",a=null;do n+=cl(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Dt=s.unstable_scheduleCallback,as=s.unstable_cancelCallback,Ch=s.unstable_shouldYield,Yo=s.unstable_requestPaint,tn=s.unstable_now,lr=s.unstable_getCurrentPriorityLevel,fl=s.unstable_ImmediatePriority,dl=s.unstable_UserBlockingPriority,ls=s.unstable_NormalPriority,Ih=s.unstable_LowPriority,Xo=s.unstable_IdlePriority,$o=s.log,Zo=s.unstable_setDisableYieldValue,zn=null,Pt=null;function Sn(t){if(typeof $o=="function"&&Zo(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(zn,t)}catch{}}var pt=Math.clz32?Math.clz32:Wo,Jo=Math.log,Zr=Math.LN2;function Wo(t){return t>>>=0,t===0?32:31-(Jo(t)/Zr|0)|0}var ni=256,or=262144,Et=4194304;function ii(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ii(l):(g&=E,g!==0?h=ii(g):a||(a=E&~t,a!==0&&(h=ii(a))))):(E=l&~f,E!==0?h=ii(E):g!==0?h=ii(g):a||(a=l&~t,a!==0&&(h=ii(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Nh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ri(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ur(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dh(t,n,a,l,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=g&~a;0<a;){var Y=31-pt(a),Z=1<<Y;E[Y]=0,C[Y]=-1;var B=P[Y];if(B!==null)for(P[Y]=null,Y=0;Y<B.length;Y++){var G=B[Y];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&cr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function cr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-pt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ml(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function pl(t,n){var a=n&-n;return a=(a&42)!==0?1:hr(a),(a&(t.suspendedLanes|n))!==0?0:a}function hr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:E_(t.type))}function Bn(t,n){var a=re.p;try{return re.p=t,n()}finally{re.p=a}}var qn=Math.random().toString(36).slice(2),bt="__reactFiber$"+qn,jt="__reactProps$"+qn,ai="__reactContainer$"+qn,Jr="__reactEvents$"+qn,Mh="__reactListeners$"+qn,nu="__reactHandles$"+qn,iu="__reactResources$"+qn,li="__reactMarker$"+qn;function Wr(t){delete t[bt],delete t[jt],delete t[Jr],delete t[Mh],delete t[nu]}function oi(t){var n=t[bt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ai]||a[bt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=r_(t);t!==null;){if(a=t[bt])return a;t=r_(t)}return n}t=a,a=t.parentNode}return null}function An(t){if(t=t[bt]||t[ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ui(t){var n=t[iu];return n||(n=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function St(t){t[li]=!0}var gl=new Set,yl={};function ci(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(yl[t]=n,t=0;t<n.length;t++)gl.add(n[t])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},Tl={};function su(t){return Tt.call(Tl,t)?!0:Tt.call(vl,t)?!1:_l.test(t)?Tl[t]=!0:(vl[t]=!0,!1)}function ea(t,n,a){if(su(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function pn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function At(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function os(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function El(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ye(t){if(!t._valueTracker){var n=os(t)?"checked":"value";t._valueTracker=El(t,n,""+t[n])}}function fr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=os(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dr=/[\n"\\]/g;function rn(t){return t.replace(dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(t,n,a,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?bl(t,g,Ut(n)):a!=null?bl(t,g,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ut(E):t.removeAttribute("name")}function ru(t,n,a,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ye(t);return}a=a!=null?""+Ut(a):"",n=n!=null?""+Ut(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ye(t)}function bl(t,n,a){n==="number"&&fi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function us(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function au(t,n,a){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ut(a):""}function cs(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(mt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ut(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||lu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Al(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Sl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(t,f,n[f])}function na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(t){return hs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var wl=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,di=null;function mr(t){var n=An(t);if(n&&(t=n.stateNode)){var a=t[jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(r(90));ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&fr(l)}break e;case"textarea":au(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&us(t,!!a.multiple,n,!1)}}}var sa=!1;function ds(t,n,a){if(sa)return t(n,a);sa=!0;try{var l=t(n);return l}finally{if(sa=!1,(fs!==null||di!==null)&&(tc(),fs&&(n=fs,t=di,di=fs=null,mr(n),t)))for(n=0;n<t.length;n++)mr(t[n])}}function Gn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(xn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{pr=!1}var mi=null,xl=null,gr=null;function Rl(){if(gr)return gr;var t,n=xl,a=n.length,l,h="value"in mi?mi.value:mi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===h[f-l];l++);return gr=h.slice(t,1<l?1-l:void 0)}function yr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Fn(){return!1}function Bt(t){function n(a,l,h,f,g){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Fn,this.isPropagationStopped=Fn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Bt(ki),ms=A({},ki,{view:0,detail:0}),Cl=Bt(ms),ps,ra,gi,aa=A({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(ps=t.screenX-gi.screenX,ra=t.screenY-gi.screenY):ra=ps=0,gi=t),ps)},movementY:function(t){return"movementY"in t?t.movementY:ra}}),Il=Bt(aa),_r=A({},aa,{dataTransfer:0}),uu=Bt(_r),cu=A({},ms,{relatedTarget:0}),vr=Bt(cu),Nl=A({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=Bt(Nl),la=A({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fu=Bt(la),du=A({},ki,{data:0}),yi=Bt(du),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=gu[t])?!!n[t]:!1}function gs(){return yu}var nn=A({},ms,{key:function(t){if(t.key){var n=mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=yr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(t){return t.type==="keypress"?yr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_u=Bt(nn),vu=A({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Bt(vu),u=A({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=Bt(u),v=A({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Bt(v),U=A({},aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Bt(U),se=A({},ki,{newState:0,oldState:0}),xe=Bt(se),gt=[9,13,27,32],Ge=xn&&"CompositionEvent"in window,ut=null;xn&&"documentMode"in document&&(ut=document.documentMode);var Rn=xn&&"TextEvent"in window&&!ut,_i=xn&&(!Ge||ut&&8<ut&&11>=ut),Qn=" ",Kn=!1;function Tr(t,n){switch(t){case"keyup":return gt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function QT(t,n){switch(t){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Kn?null:t;default:return null}}function KT(t,n){if(ua)return t==="compositionend"||!Ge&&Tr(t,n)?(t=Rl(),gr=xl=mi=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _i&&n.locale!=="ko"?null:n.data;default:return null}}var YT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!YT[t.type]:n==="textarea"}function up(t,n,a,l){fs?di?di.push(l):di=[l]:fs=l,n=oc(n,"onChange"),0<n.length&&(a=new pi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Dl=null,Ml=null;function XT(t){Fy(t,0)}function Tu(t){var n=mn(t);if(fr(n))return t}function cp(t,n){if(t==="change")return n}var hp=!1;if(xn){var Oh;if(xn){var Vh="oninput"in document;if(!Vh){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Vh=typeof fp.oninput=="function"}Oh=Vh}else Oh=!1;hp=Oh&&(!document.documentMode||9<document.documentMode)}function dp(){Dl&&(Dl.detachEvent("onpropertychange",mp),Ml=Dl=null)}function mp(t){if(t.propertyName==="value"&&Tu(Ml)){var n=[];up(n,Ml,t,wn(t)),ds(XT,n)}}function $T(t,n,a){t==="focusin"?(dp(),Dl=n,Ml=a,Dl.attachEvent("onpropertychange",mp)):t==="focusout"&&dp()}function ZT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Ml)}function JT(t,n){if(t==="click")return Tu(n)}function WT(t,n){if(t==="input"||t==="change")return Tu(n)}function eE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:eE;function Ol(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gp(t,n){var a=pp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pp(a)}}function yp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?yp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=fi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=fi(t.document)}return n}function kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var tE=xn&&"documentMode"in document&&11>=document.documentMode,ca=null,jh=null,Vl=null,Uh=!1;function vp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uh||ca==null||ca!==fi(l)||(l=ca,"selectionStart"in l&&kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vl&&Ol(Vl,l)||(Vl=l,l=oc(jh,"onSelect"),0<l.length&&(n=new pi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ca)))}function Er(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ha={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Lh={},Tp={};xn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function br(t){if(Lh[t])return Lh[t];if(!ha[t])return t;var n=ha[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Tp)return Lh[t]=n[a];return t}var Ep=br("animationend"),bp=br("animationiteration"),Sp=br("animationstart"),nE=br("transitionrun"),iE=br("transitionstart"),sE=br("transitioncancel"),Ap=br("transitionend"),wp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Yn(t,n){wp.set(t,n),ci(n,[t])}var Eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],fa=0,Ph=0;function bu(){for(var t=fa,n=Ph=fa=0;n<t;){var a=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&xp(a,h,f)}}function Su(t,n,a,l){Cn[fa++]=t,Cn[fa++]=n,Cn[fa++]=a,Cn[fa++]=l,Ph|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bh(t,n,a,l){return Su(t,n,a,l),Au(t)}function Sr(t,n){return Su(t,null,null,n),Au(t)}function xp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-pt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Au(t){if(50<no)throw no=0,Zf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var da={};function rE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,l){return new rE(t,n,a,l)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Rp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function wu(t,n,a,l,h,f){var g=0;if(l=t,typeof t=="function")qh(t)&&(g=1);else if(typeof t=="string")g=cb(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=yn(31,a,n,h),t.elementType=I,t.lanes=f,t;case Q:return Ar(a.children,h,f,n);case z:g=8,h|=24;break;case W:return t=yn(12,a,n,h|2),t.elementType=W,t.lanes=f,t;case ve:return t=yn(13,a,n,h),t.elementType=ve,t.lanes=f,t;case de:return t=yn(19,a,n,h),t.elementType=de,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:g=10;break e;case ie:g=9;break e;case we:g=11;break e;case x:g=14;break e;case w:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=yn(g,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Ar(t,n,a,l){return t=yn(7,t,l,n),t.lanes=a,t}function Hh(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function Cp(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function Gh(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ip=new WeakMap;function In(t,n){if(typeof t=="object"&&t!==null){var a=Ip.get(t);return a!==void 0?a:(n={value:t,source:n,stack:hl(n)},Ip.set(t,n),n)}return{value:t,source:n,stack:hl(n)}}var ma=[],pa=0,xu=null,kl=0,Nn=[],Dn=0,ys=null,vi=1,Ti="";function Li(t,n){ma[pa++]=kl,ma[pa++]=xu,xu=t,kl=n}function Np(t,n,a){Nn[Dn++]=vi,Nn[Dn++]=Ti,Nn[Dn++]=ys,ys=t;var l=vi;t=Ti;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var f=32-pt(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,vi=1<<32-pt(n)+h|a<<h|l,Ti=f+t}else vi=1<<f|a<<h|l,Ti=t}function Fh(t){t.return!==null&&(Li(t,1),Np(t,1,0))}function Qh(t){for(;t===xu;)xu=ma[--pa],ma[pa]=null,kl=ma[--pa],ma[pa]=null;for(;t===ys;)ys=Nn[--Dn],Nn[Dn]=null,Ti=Nn[--Dn],Nn[Dn]=null,vi=Nn[--Dn],Nn[Dn]=null}function Dp(t,n){Nn[Dn++]=vi,Nn[Dn++]=Ti,Nn[Dn++]=ys,vi=n.id,Ti=n.overflow,ys=t}var qt=null,st=null,ze=!1,_s=null,Mn=!1,Kh=Error(r(519));function vs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(In(n,t)),Kh}function Mp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[bt]=t,n[jt]=l,a){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(a=0;a<so.length;a++)De(so[a],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),ru(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),cs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Xy(n.textContent,a)?(l.popover!=null&&(De("beforetoggle",n),De("toggle",n)),l.onScroll!=null&&De("scroll",n),l.onScrollEnd!=null&&De("scrollend",n),l.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||vs(t,!0)}function Op(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function ga(t){if(t!==qt)return!1;if(!ze)return Op(t),ze=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||fd(t.type,t.memoizedProps)),a=!a),a&&st&&vs(t),Op(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=s_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=s_(t)}else n===27?(n=st,Os(t.type)?(t=yd,yd=null,st=t):st=n):st=qt?Vn(t.stateNode.nextSibling):null;return!0}function wr(){st=qt=null,ze=!1}function Yh(){var t=_s;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),_s=null),t}function jl(t){_s===null?_s=[t]:_s.push(t)}var Xh=O(null),xr=null,zi=null;function Ts(t,n,a){ae(Xh,n._currentValue),n._currentValue=a}function Pi(t){t._currentValue=Xh.current,$(Xh)}function $h(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Zh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),$h(f.return,a,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),$h(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===he.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(uo):t=[uo])}h=h.return}t!==null&&Zh(n,t,a,l),n.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rr(t){xr=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Vp(xr,t)}function Cu(t,n){return xr===null&&Rr(t),Vp(t,n)}function Vp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(r(308));zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else zi=zi.next=n;return a}var aE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},lE=s.unstable_scheduleCallback,oE=s.unstable_NormalPriority,wt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new aE,data:new Map,refCount:0}}function Ul(t){t.refCount--,t.refCount===0&&lE(oE,function(){t.controller.abort()})}var Ll=null,Wh=0,_a=0,va=null;function uE(t,n){if(Ll===null){var a=Ll=[];Wh=0,_a=id(),va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wh++,n.then(kp,kp),n}function kp(){if(--Wh===0&&Ll!==null){va!==null&&(va.status="fulfilled");var t=Ll;Ll=null,_a=0,va=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function cE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var jp=K.S;K.S=function(t,n){vy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&uE(t,n),jp!==null&&jp(t,n)};var Cr=O(null);function ef(){var t=Cr.current;return t!==null?t:tt.pooledCache}function Iu(t,n){n===null?ae(Cr,Cr.current):ae(Cr,n.pool)}function Up(){var t=ef();return t===null?null:{parent:wt._currentValue,pool:t}}var Ta=Error(r(460)),tf=Error(r(474)),Nu=Error(r(542)),Du={then:function(){}};function Lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bp(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bp(t),t}throw Nr=n,Ta}}function Ir(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Nr=a,Ta):a}}var Nr=null;function Pp(){if(Nr===null)throw Error(r(459));var t=Nr;return Nr=null,t}function Bp(t){if(t===Ta||t===Nu)throw Error(r(483))}var Ea=null,zl=0;function Mu(t){var n=zl;return zl+=1,Ea===null&&(Ea=[]),zp(Ea,t,n)}function Pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ou(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function qp(t){function n(j,M){if(t){var L=j.deletions;L===null?(j.deletions=[M],j.flags|=16):L.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Ui(j,M),j.index=0,j.sibling=null,j}function f(j,M,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<M?(j.flags|=67108866,M):L):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,M,L,X){return M===null||M.tag!==6?(M=Hh(L,j.mode,X),M.return=j,M):(M=h(M,L),M.return=j,M)}function C(j,M,L,X){var ge=L.type;return ge===Q?Y(j,M,L.props.children,X,L.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Ir(ge)===M.type)?(M=h(M,L.props),Pl(M,L),M.return=j,M):(M=wu(L.type,L.key,L.props,null,j.mode,X),Pl(M,L),M.return=j,M)}function P(j,M,L,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Gh(L,j.mode,X),M.return=j,M):(M=h(M,L.children||[]),M.return=j,M)}function Y(j,M,L,X,ge){return M===null||M.tag!==7?(M=Ar(L,j.mode,X,ge),M.return=j,M):(M=h(M,L),M.return=j,M)}function Z(j,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Hh(""+M,j.mode,L),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return L=wu(M.type,M.key,M.props,null,j.mode,L),Pl(L,M),L.return=j,L;case F:return M=Gh(M,j.mode,L),M.return=j,M;case w:return M=Ir(M),Z(j,M,L)}if(mt(M)||k(M))return M=Ar(M,j.mode,L,null),M.return=j,M;if(typeof M.then=="function")return Z(j,Mu(M),L);if(M.$$typeof===le)return Z(j,Cu(j,M),L);Ou(j,M)}return null}function B(j,M,L,X){var ge=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:E(j,M,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===ge?C(j,M,L,X):null;case F:return L.key===ge?P(j,M,L,X):null;case w:return L=Ir(L),B(j,M,L,X)}if(mt(L)||k(L))return ge!==null?null:Y(j,M,L,X,null);if(typeof L.then=="function")return B(j,M,Mu(L),X);if(L.$$typeof===le)return B(j,M,Cu(j,L),X);Ou(j,L)}return null}function G(j,M,L,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(L)||null,E(M,j,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return j=j.get(X.key===null?L:X.key)||null,C(M,j,X,ge);case F:return j=j.get(X.key===null?L:X.key)||null,P(M,j,X,ge);case w:return X=Ir(X),G(j,M,L,X,ge)}if(mt(X)||k(X))return j=j.get(L)||null,Y(M,j,X,ge,null);if(typeof X.then=="function")return G(j,M,L,Mu(X),ge);if(X.$$typeof===le)return G(j,M,L,Cu(M,X),ge);Ou(M,X)}return null}function ce(j,M,L,X){for(var ge=null,Be=null,fe=M,Ce=M=0,Ve=null;fe!==null&&Ce<L.length;Ce++){fe.index>Ce?(Ve=fe,fe=null):Ve=fe.sibling;var qe=B(j,fe,L[Ce],X);if(qe===null){fe===null&&(fe=Ve);break}t&&fe&&qe.alternate===null&&n(j,fe),M=f(qe,M,Ce),Be===null?ge=qe:Be.sibling=qe,Be=qe,fe=Ve}if(Ce===L.length)return a(j,fe),ze&&Li(j,Ce),ge;if(fe===null){for(;Ce<L.length;Ce++)fe=Z(j,L[Ce],X),fe!==null&&(M=f(fe,M,Ce),Be===null?ge=fe:Be.sibling=fe,Be=fe);return ze&&Li(j,Ce),ge}for(fe=l(fe);Ce<L.length;Ce++)Ve=G(fe,j,Ce,L[Ce],X),Ve!==null&&(t&&Ve.alternate!==null&&fe.delete(Ve.key===null?Ce:Ve.key),M=f(Ve,M,Ce),Be===null?ge=Ve:Be.sibling=Ve,Be=Ve);return t&&fe.forEach(function(Ls){return n(j,Ls)}),ze&&Li(j,Ce),ge}function _e(j,M,L,X){if(L==null)throw Error(r(151));for(var ge=null,Be=null,fe=M,Ce=M=0,Ve=null,qe=L.next();fe!==null&&!qe.done;Ce++,qe=L.next()){fe.index>Ce?(Ve=fe,fe=null):Ve=fe.sibling;var Ls=B(j,fe,qe.value,X);if(Ls===null){fe===null&&(fe=Ve);break}t&&fe&&Ls.alternate===null&&n(j,fe),M=f(Ls,M,Ce),Be===null?ge=Ls:Be.sibling=Ls,Be=Ls,fe=Ve}if(qe.done)return a(j,fe),ze&&Li(j,Ce),ge;if(fe===null){for(;!qe.done;Ce++,qe=L.next())qe=Z(j,qe.value,X),qe!==null&&(M=f(qe,M,Ce),Be===null?ge=qe:Be.sibling=qe,Be=qe);return ze&&Li(j,Ce),ge}for(fe=l(fe);!qe.done;Ce++,qe=L.next())qe=G(fe,j,Ce,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?Ce:qe.key),M=f(qe,M,Ce),Be===null?ge=qe:Be.sibling=qe,Be=qe);return t&&fe.forEach(function(Eb){return n(j,Eb)}),ze&&Li(j,Ce),ge}function et(j,M,L,X){if(typeof L=="object"&&L!==null&&L.type===Q&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:e:{for(var ge=L.key;M!==null;){if(M.key===ge){if(ge=L.type,ge===Q){if(M.tag===7){a(j,M.sibling),X=h(M,L.props.children),X.return=j,j=X;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Ir(ge)===M.type){a(j,M.sibling),X=h(M,L.props),Pl(X,L),X.return=j,j=X;break e}a(j,M);break}else n(j,M);M=M.sibling}L.type===Q?(X=Ar(L.props.children,j.mode,X,L.key),X.return=j,j=X):(X=wu(L.type,L.key,L.props,null,j.mode,X),Pl(X,L),X.return=j,j=X)}return g(j);case F:e:{for(ge=L.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(j,M.sibling),X=h(M,L.children||[]),X.return=j,j=X;break e}else{a(j,M);break}else n(j,M);M=M.sibling}X=Gh(L,j.mode,X),X.return=j,j=X}return g(j);case w:return L=Ir(L),et(j,M,L,X)}if(mt(L))return ce(j,M,L,X);if(k(L)){if(ge=k(L),typeof ge!="function")throw Error(r(150));return L=ge.call(L),_e(j,M,L,X)}if(typeof L.then=="function")return et(j,M,Mu(L),X);if(L.$$typeof===le)return et(j,M,Cu(j,L),X);Ou(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(j,M.sibling),X=h(M,L),X.return=j,j=X):(a(j,M),X=Hh(L,j.mode,X),X.return=j,j=X),g(j)):a(j,M)}return function(j,M,L,X){try{zl=0;var ge=et(j,M,L,X);return Ea=null,ge}catch(fe){if(fe===Ta||fe===Nu)throw fe;var Be=yn(29,fe,null,j.mode);return Be.lanes=X,Be.return=j,Be}finally{}}}var Dr=qp(!0),Hp=qp(!1),Es=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Au(t),xp(t,null,a),n}return Su(t,l,n,a),Au(t)}function Bl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ml(t,a)}}function rf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var af=!1;function ql(){if(af){var t=va;if(t!==null)throw t}}function Hl(t,n,a,l){af=!1;var h=t.updateQueue;Es=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=P:E.next=P,Y.lastBaseUpdate=C))}if(f!==null){var Z=h.baseState;g=0,Y=P=C=null,E=f;do{var B=E.lane&-536870913,G=B!==E.lane;if(G?(Oe&B)===B:(l&B)===B){B!==0&&B===_a&&(af=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=t,_e=E;B=n;var et=a;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){Z=ce.call(et,Z,B);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,B=typeof ce=="function"?ce.call(et,Z,B):ce,B==null)break e;Z=A({},Z,B);break e;case 2:Es=!0}}B=E.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(P=Y=G,C=Z):Y=Y.next=G,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;G=E,E=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Cs|=g,t.lanes=g,t.memoizedState=Z}}function Gp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Fp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gp(a[t],n)}var ba=O(null),Vu=O(0);function Qp(t,n){t=Xi,ae(Vu,t),ae(ba,n),Xi=t|n.baseLanes}function lf(){ae(Vu,Xi),ae(ba,ba.current)}function of(){Xi=Vu.current,$(ba),$(Vu)}var _n=O(null),On=null;function As(t){var n=t.alternate;ae(yt,yt.current&1),ae(_n,t),On===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(On=t)}function uf(t){ae(yt,yt.current),ae(_n,t),On===null&&(On=t)}function Kp(t){t.tag===22?(ae(yt,yt.current),ae(_n,t),On===null&&(On=t)):ws()}function ws(){ae(yt,yt.current),ae(_n,_n.current)}function vn(t){$(_n),On===t&&(On=null),$(yt)}var yt=O(0);function ku(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pd(a)||gd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,Re=null,Je=null,xt=null,ju=!1,Sa=!1,Mr=!1,Uu=0,Gl=0,Aa=null,hE=0;function ft(){throw Error(r(321))}function cf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!gn(t[a],n[a]))return!1;return!0}function hf(t,n,a,l,h,f){return Bi=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Ng:xf,Mr=!1,f=a(l,h),Mr=!1,Sa&&(f=Xp(n,a,l,h)),Yp(t),f}function Yp(t){K.H=Kl;var n=Je!==null&&Je.next!==null;if(Bi=0,xt=Je=Re=null,ju=!1,Gl=0,Aa=null,n)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&Ru(t)&&(Rt=!0))}function Xp(t,n,a,l){Re=t;var h=0;do{if(Sa&&(Aa=null),Gl=0,Sa=!1,25<=h)throw Error(r(301));if(h+=1,xt=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=Dg,f=n(a,l)}while(Sa);return f}function fE(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Fl(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Re.flags|=1024),n}function ff(){var t=Uu!==0;return Uu=0,t}function df(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function mf(t){if(ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ju=!1}Bi=0,xt=Je=Re=null,Sa=!1,Gl=Uu=0,Aa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Re.memoizedState=xt=t:xt=xt.next=t,xt}function _t(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=xt===null?Re.memoizedState:xt.next;if(n!==null)xt=n,Je=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},xt===null?Re.memoizedState=xt=t:xt=xt.next=t}return xt}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(t){var n=Gl;return Gl+=1,Aa===null&&(Aa=[]),t=zp(Aa,t,n),n=Re,(xt===null?n.memoizedState:xt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Ng:xf),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fl(t);if(t.$$typeof===le)return Ht(t)}throw Error(r(438,String(t)))}function pf(t){var n=null,a=Re.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Lu(),Re.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function qi(t,n){return typeof n=="function"?n(t):n}function Pu(t){var n=_t();return gf(n,Je,t)}function gf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,C=null,P=n,Y=!1;do{var Z=P.lane&-536870913;if(Z!==P.lane?(Oe&Z)===Z:(Bi&Z)===Z){var B=P.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Z===_a&&(Y=!0);else if((Bi&B)===B){P=P.next,B===_a&&(Y=!0);continue}else Z={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=Z,g=f):C=C.next=Z,Re.lanes|=B,Cs|=B;Z=P.action,Mr&&a(f,Z),f=P.hasEagerState?P.eagerState:a(f,Z)}else B={lane:Z,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,Re.lanes|=Z,Cs|=Z;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=E,!gn(f,t.memoizedState)&&(Rt=!0,Y&&(a=va,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yf(t){var n=_t(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(Rt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function $p(t,n,a){var l=Re,h=_t(),f=ze;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!gn((Je||h).memoizedState,a);if(g&&(h.memoizedState=a,Rt=!0),h=h.queue,Tf(Wp.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,wa(9,{destroy:void 0},Jp.bind(null,l,h,a,n),null),tt===null)throw Error(r(349));f||(Bi&127)!==0||Zp(l,n,a)}return a}function Zp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Re.updateQueue,n===null?(n=Lu(),Re.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Jp(t,n,a,l){n.value=a,n.getSnapshot=l,eg(n)&&tg(t)}function Wp(t,n,a){return a(function(){eg(n)&&tg(t)})}function eg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!gn(t,a)}catch{return!0}}function tg(t){var n=Sr(t,2);n!==null&&hn(n,t,2)}function _f(t){var n=sn();if(typeof t=="function"){var a=t;if(t=a(),Mr){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},n}function ng(t,n,a,l){return t.baseState=a,gf(t,Je,typeof l=="function"?l:qi)}function dE(t,n,a,l,h){if(Hu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};K.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,ig(n,f)):(f.next=a.next,n.pending=a.next=f)}}function ig(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=K.T,g={};K.T=g;try{var E=a(h,l),C=K.S;C!==null&&C(g,E),sg(t,n,E)}catch(P){vf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),K.T=f}}else try{f=a(h,l),sg(t,n,f)}catch(P){vf(t,n,P)}}function sg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){rg(t,n,l)},function(l){return vf(t,n,l)}):rg(t,n,a)}function rg(t,n,a){n.status="fulfilled",n.value=a,ag(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,ig(t,a)))}function vf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ag(n),n=n.next;while(n!==l)}t.action=null}function ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lg(t,n){return n}function og(t,n){if(ze){var a=tt.formState;if(a!==null){e:{var l=Re;if(ze){if(st){t:{for(var h=st,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){st=Vn(h.nextSibling),l=h.data==="F!";break e}}vs(l)}l=!1}l&&(n=a[0])}}return a=sn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},a.queue=l,a=Rg.bind(null,Re,l),l.dispatch=a,l=_f(!1),f=wf.bind(null,Re,!1,l.queue),l=sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=dE.bind(null,Re,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function ug(t){var n=_t();return cg(n,Je,t)}function cg(t,n,a){if(n=gf(t,n,lg)[0],t=Pu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Fl(n)}catch(g){throw g===Ta?Nu:g}else l=n;n=_t();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Re.flags|=2048,wa(9,{destroy:void 0},mE.bind(null,h,a),null)),[l,f,t]}function mE(t,n){t.action=n}function hg(t){var n=_t(),a=Je;if(a!==null)return cg(n,a,t);_t(),n=n.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function wa(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Lu(),Re.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function fg(){return _t().memoizedState}function Bu(t,n,a,l){var h=sn();Re.flags|=t,h.memoizedState=wa(1|n,{destroy:void 0},a,l===void 0?null:l)}function qu(t,n,a,l){var h=_t();l=l===void 0?null:l;var f=h.memoizedState.inst;Je!==null&&l!==null&&cf(l,Je.memoizedState.deps)?h.memoizedState=wa(n,f,a,l):(Re.flags|=t,h.memoizedState=wa(1|n,f,a,l))}function dg(t,n){Bu(8390656,8,t,n)}function Tf(t,n){qu(2048,8,t,n)}function pE(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=Lu(),Re.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function mg(t){var n=_t().memoizedState;return pE({ref:n,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function pg(t,n){return qu(4,2,t,n)}function gg(t,n){return qu(4,4,t,n)}function yg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _g(t,n,a){a=a!=null?a.concat([t]):null,qu(4,4,yg.bind(null,n,t),a)}function Ef(){}function vg(t,n){var a=_t();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Tg(t,n){var a=_t();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=t(),Mr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l}function bf(t,n,a){return a===void 0||(Bi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Ey(),Re.lanes|=t,Cs|=t,a)}function Eg(t,n,a,l){return gn(a,n)?a:ba.current!==null?(t=bf(t,a,l),gn(t,n)||(Rt=!0),t):(Bi&42)===0||(Bi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=Ey(),Re.lanes|=t,Cs|=t,n)}function bg(t,n,a,l,h){var f=re.p;re.p=f!==0&&8>f?f:8;var g=K.T,E={};K.T=E,wf(t,!1,n,a);try{var C=h(),P=K.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=cE(C,l);Ql(t,n,Y,bn(t))}else Ql(t,n,l,bn(t))}catch(Z){Ql(t,n,{then:function(){},status:"rejected",reason:Z},bn())}finally{re.p=f,g!==null&&E.types!==null&&(g.types=E.types),K.T=g}}function gE(){}function Sf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Sg(t).queue;bg(t,h,n,pe,a===null?gE:function(){return Ag(t),a(l)})}function Sg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:pe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ag(t){var n=Sg(t);n.next===null&&(n=t.alternate.memoizedState),Ql(t,n.next.queue,{},bn())}function Af(){return Ht(uo)}function wg(){return _t().memoizedState}function xg(){return _t().memoizedState}function yE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();t=bs(a);var l=Ss(n,t,a);l!==null&&(hn(l,n,a),Bl(l,n,a)),n={cache:Jh()},t.payload=n;return}n=n.return}}function _E(t,n,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hu(t)?Cg(n,a):(a=Bh(t,n,a,l),a!==null&&(hn(a,t,l),Ig(a,n,l)))}function Rg(t,n,a){var l=bn();Ql(t,n,a,l)}function Ql(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))Cg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return Su(t,n,h,0),tt===null&&bu(),!1}catch{}finally{}if(a=Bh(t,n,h,l),a!==null)return hn(a,t,l),Ig(a,n,l),!0}return!1}function wf(t,n,a,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(n)throw Error(r(479))}else n=Bh(t,a,l,2),n!==null&&hn(n,t,2)}function Hu(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Cg(t,n){Sa=ju=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ig(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ml(t,a)}}var Kl={readContext:Ht,use:zu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};Kl.useEffectEvent=ft;var Ng={readContext:Ht,use:zu,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:dg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Bu(4194308,4,yg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Bu(4194308,4,t,n)},useInsertionEffect:function(t,n){Bu(4,2,t,n)},useMemo:function(t,n){var a=sn();n=n===void 0?null:n;var l=t();if(Mr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=sn();if(a!==void 0){var h=a(n);if(Mr){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=_E.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=_f(t);var n=t.queue,a=Rg.bind(null,Re,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ef,useDeferredValue:function(t,n){var a=sn();return bf(a,t,n)},useTransition:function(){var t=_f(!1);return t=bg.bind(null,Re,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Re,h=sn();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),tt===null)throw Error(r(349));(Oe&127)!==0||Zp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,dg(Wp.bind(null,l,f,t),[t]),l.flags|=2048,wa(9,{destroy:void 0},Jp.bind(null,l,f,a,n),null),a},useId:function(){var t=sn(),n=tt.identifierPrefix;if(ze){var a=Ti,l=vi;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Uu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=hE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Af,useFormState:og,useActionState:og,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=wf.bind(null,Re,!0,a),a.dispatch=n,[t,n]},useMemoCache:pf,useCacheRefresh:function(){return sn().memoizedState=yE.bind(null,Re)},useEffectEvent:function(t){var n=sn(),a={impl:t};return n.memoizedState=a,function(){if((Fe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:Ht,use:zu,useCallback:vg,useContext:Ht,useEffect:Tf,useImperativeHandle:_g,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:Tg,useReducer:Pu,useRef:fg,useState:function(){return Pu(qi)},useDebugValue:Ef,useDeferredValue:function(t,n){var a=_t();return Eg(a,Je.memoizedState,t,n)},useTransition:function(){var t=Pu(qi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Fl(t),n]},useSyncExternalStore:$p,useId:wg,useHostTransitionStatus:Af,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var a=_t();return ng(a,Je,t,n)},useMemoCache:pf,useCacheRefresh:xg};xf.useEffectEvent=mg;var Dg={readContext:Ht,use:zu,useCallback:vg,useContext:Ht,useEffect:Tf,useImperativeHandle:_g,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:Tg,useReducer:yf,useRef:fg,useState:function(){return yf(qi)},useDebugValue:Ef,useDeferredValue:function(t,n){var a=_t();return Je===null?bf(a,t,n):Eg(a,Je.memoizedState,t,n)},useTransition:function(){var t=yf(qi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Fl(t),n]},useSyncExternalStore:$p,useId:wg,useHostTransitionStatus:Af,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var a=_t();return Je!==null?ng(a,Je,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:pf,useCacheRefresh:xg};Dg.useEffectEvent=mg;function Rf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Cf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=bn(),h=bs(l);h.payload=n,a!=null&&(h.callback=a),n=Ss(t,h,l),n!==null&&(hn(n,t,l),Bl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=bn(),h=bs(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ss(t,h,l),n!==null&&(hn(n,t,l),Bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=bn(),l=bs(a);l.tag=2,n!=null&&(l.callback=n),n=Ss(t,l,a),n!==null&&(hn(n,t,a),Bl(n,t,a))}};function Mg(t,n,a,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ol(a,l)||!Ol(h,f):!0}function Og(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Cf.enqueueReplaceState(n,n.state,null)}function Or(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Vg(t){Eu(t)}function kg(t){console.error(t)}function jg(t){Eu(t)}function Gu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ug(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(t,n,a){return a=bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Gu(t,n)},a}function Lg(t){return t=bs(t),t.tag=3,t}function zg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Ug(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ug(n,a,l),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function vE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ya(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return On===null?nc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Du?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ed(t,l,h)),!1;case 22:return a.flags|=65536,l===Du?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ed(t,l,h)),!1}throw Error(r(435,a.tag))}return ed(t,l,h),nc(),!1}if(ze)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Kh&&(t=Error(r(422),{cause:l}),jl(In(t,a)))):(l!==Kh&&(n=Error(r(423),{cause:l}),jl(In(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=If(t.stateNode,l,h),rf(t,h),dt!==4&&(dt=2)),!1;var f=Error(r(520),{cause:l});if(f=In(f,a),to===null?to=[f]:to.push(f),dt!==4&&(dt=2),n===null)return!0;l=In(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=If(a.stateNode,l,t),rf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Lg(h),zg(h,t,a,l),rf(a,h),!1}a=a.return}while(a!==null);return!1}var Nf=Error(r(461)),Rt=!1;function Gt(t,n,a,l){n.child=t===null?Hp(n,null,a,l):Dr(n,t.child,a,l)}function Pg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Rr(n),l=hf(t,n,a,g,f,h),E=ff(),t!==null&&!Rt?(df(t,n,h),Hi(t,n,h)):(ze&&E&&Fh(n),n.flags|=1,Gt(t,n,l,h),n.child)}function Bg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,qg(t,n,f,l,h)):(t=wu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Lf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ol,a(g,l)&&t.ref===n.ref)return Hi(t,n,h)}return n.flags|=1,t=Ui(f,l),t.ref=n.ref,t.return=n,n.child=t}function qg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Ol(f,l)&&t.ref===n.ref)if(Rt=!1,n.pendingProps=l=f,Lf(t,h))(t.flags&131072)!==0&&(Rt=!0);else return n.lanes=t.lanes,Hi(t,n,h)}return Df(t,n,a,l,h)}function Hg(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Gg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?Qp(n,f):lf(),Kp(n);else return l=n.lanes=536870912,Gg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Iu(n,f.cachePool),Qp(n,f),ws(),n.memoizedState=null):(t!==null&&Iu(n,null),lf(),ws());return Gt(t,n,h,a),n.child}function Yl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gg(t,n,a,l,h){var f=ef();return f=f===null?null:{parent:wt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Iu(n,null),lf(),Kp(n),t!==null&&ya(t,n,l,!0),n.childLanes=h,null}function Fu(t,n){return n=Ku({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Fg(t,n,a){return Dr(n,t.child,null,a),t=Fu(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function TE(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Fu(n,l),n.lanes=536870912,Yl(null,t);if(uf(n),(t=st)?(t=i_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:vi,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Cp(t),a.return=n,n.child=a,qt=n,st=null)):t=null,t===null)throw vs(n);return n.lanes=536870912,null}return Fu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Fg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Rt||ya(t,n,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=tt,l!==null&&(g=pl(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Sr(t,g),hn(l,t,g),Nf;nc(),n=Fg(t,n,a)}else t=f.treeContext,st=Vn(g.nextSibling),qt=n,ze=!0,_s=null,Mn=!1,t!==null&&Dp(n,t),n=Fu(n,l),n.flags|=4096;return n}return t=Ui(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Qu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Df(t,n,a,l,h){return Rr(n),a=hf(t,n,a,l,void 0,h),l=ff(),t!==null&&!Rt?(df(t,n,h),Hi(t,n,h)):(ze&&l&&Fh(n),n.flags|=1,Gt(t,n,a,h),n.child)}function Qg(t,n,a,l,h,f){return Rr(n),n.updateQueue=null,a=Xp(n,l,a,h),Yp(t),l=ff(),t!==null&&!Rt?(df(t,n,f),Hi(t,n,f)):(ze&&l&&Fh(n),n.flags|=1,Gt(t,n,a,f),n.child)}function Kg(t,n,a,l,h){if(Rr(n),n.stateNode===null){var f=da,g=a.contextType;typeof g=="object"&&g!==null&&(f=Ht(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Ht(g):da,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Rf(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Hl(n,l,f,h),ql(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Or(a,E);f.props=C;var P=f.context,Y=a.contextType;g=da,typeof Y=="object"&&Y!==null&&(g=Ht(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Og(n,f,l,g),Es=!1;var B=n.memoizedState;f.state=B,Hl(n,l,f,h),ql(),P=n.memoizedState,E||B!==P||Es?(typeof Z=="function"&&(Rf(n,a,Z,l),P=n.memoizedState),(C=Es||Mg(n,a,C,l,B,P,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(t,n),g=n.memoizedProps,Y=Or(a,g),f.props=Y,Z=n.pendingProps,B=f.context,P=a.contextType,C=da,typeof P=="object"&&P!==null&&(C=Ht(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||B!==C)&&Og(n,f,l,C),Es=!1,B=n.memoizedState,f.state=B,Hl(n,l,f,h),ql();var G=n.memoizedState;g!==Z||B!==G||Es||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof E=="function"&&(Rf(n,a,E,l),G=n.memoizedState),(Y=Es||Mg(n,a,Y,l,B,G,C)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=C,l=Y):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Qu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Dr(n,t.child,null,h),n.child=Dr(n,null,a,h)):Gt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Hi(t,n,h),t}function Yg(t,n,a,l){return wr(),n.flags|=256,Gt(t,n,a,l),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(t){return{baseLanes:t,cachePool:Up()}}function Vf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=En),t}function Xg(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?As(n):ws(),(t=st)?(t=i_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:vi,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Cp(t),a.return=n,n.child=a,qt=n,st=null)):t=null,t===null)throw vs(n);return gd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(ws(),h=n.mode,E=Ku({mode:"hidden",children:E},h),l=Ar(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Of(a),l.childLanes=Vf(t,g,a),n.memoizedState=Mf,Yl(null,l)):(As(n),kf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=jf(t,n,a)):n.memoizedState!==null?(ws(),n.child=t.child,n.flags|=128,n=null):(ws(),E=l.fallback,h=n.mode,l=Ku({mode:"visible",children:l.children},h),E=Ar(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Dr(n,t.child,null,a),l=n.child,l.memoizedState=Of(a),l.childLanes=Vf(t,g,a),n.memoizedState=Mf,n=Yl(null,l));else if(As(n),gd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(r(419)),l.stack="",l.digest=g,jl({value:l,source:null,stack:null}),n=jf(t,n,a)}else if(Rt||ya(t,n,a,!1),g=(a&t.childLanes)!==0,Rt||g){if(g=tt,g!==null&&(l=pl(g,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Sr(t,l),hn(g,t,l),Nf;pd(E)||nc(),n=jf(t,n,a)}else pd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,st=Vn(E.nextSibling),qt=n,ze=!0,_s=null,Mn=!1,t!==null&&Dp(n,t),n=kf(n,l.children),n.flags|=4096);return n}return h?(ws(),E=l.fallback,h=n.mode,C=t.child,P=C.sibling,l=Ui(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Ui(P,E):(E=Ar(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Yl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Of(a):(h=E.cachePool,h!==null?(C=wt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Up(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Vf(t,g,a),n.memoizedState=Mf,Yl(t.child,l)):(As(n),a=t.child,t=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function kf(t,n){return n=Ku({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ku(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function jf(t,n,a){return Dr(n,t.child,null,a),t=kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $g(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),$h(t.return,n,a)}function Uf(t,n,a,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Zg(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=yt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ae(yt,g),Gt(t,n,l,a),l=ze?kl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$g(t,a,n);else if(t.tag===19)$g(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ku(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Uf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ku(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Uf(n,!0,a,null,f,l);break;case"together":Uf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Hi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Cs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ya(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ui(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ui(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Lf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function EE(t,n,a){switch(n.tag){case 3:it(n,n.stateNode.containerInfo),Ts(n,wt,t.memoizedState.cache),wr();break;case 27:case 5:ot(n);break;case 4:it(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(As(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Xg(t,n,a):(As(n),t=Hi(t,n,a),t!==null?t.sibling:null);As(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ya(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Zg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(yt,yt.current),l)break;return null;case 22:return n.lanes=0,Hg(t,n,a,n.pendingProps);case 24:Ts(n,wt,t.memoizedState.cache)}return Hi(t,n,a)}function Jg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Rt=!0;else{if(!Lf(t,a)&&(n.flags&128)===0)return Rt=!1,EE(t,n,a);Rt=(t.flags&131072)!==0}else Rt=!1,ze&&(n.flags&1048576)!==0&&Np(n,kl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Ir(n.elementType),n.type=t,typeof t=="function")qh(t)?(l=Or(t,l),n.tag=1,n=Kg(null,n,t,l,a)):(n.tag=0,n=Df(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===we){n.tag=11,n=Pg(null,n,t,l,a);break e}else if(h===x){n.tag=14,n=Bg(null,n,t,l,a);break e}}throw n=nt(t)||t,Error(r(306,n,""))}}return n;case 0:return Df(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Or(l,n.pendingProps),Kg(t,n,l,h,a);case 3:e:{if(it(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,sf(t,n),Hl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,Ts(n,wt,l),l!==f.cache&&Zh(n,[wt],a,!0),ql(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yg(t,n,l,a);break e}else if(l!==h){h=In(Error(r(424)),n),jl(h),n=Yg(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Vn(t.firstChild),qt=n,ze=!0,_s=null,Mn=!0,a=Hp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wr(),l===h){n=Hi(t,n,a);break e}Gt(t,n,l,a)}n=n.child}return n;case 26:return Qu(t,n),t===null?(a=u_(n.type,null,n.pendingProps,null))?n.memoizedState=a:ze||(a=n.type,t=n.pendingProps,l=uc(te.current).createElement(a),l[bt]=n,l[jt]=t,Ft(l,a,t),St(l),n.stateNode=l):n.memoizedState=u_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ot(n),t===null&&ze&&(l=n.stateNode=a_(n.type,n.pendingProps,te.current),qt=n,Mn=!0,h=st,Os(n.type)?(yd=h,st=Vn(l.firstChild)):st=h),Gt(t,n,n.pendingProps.children,a),Qu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=l=st)&&(l=ZE(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,qt=n,st=Vn(l.firstChild),Mn=!1,h=!0):h=!1),h||vs(n)),ot(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,fd(h,f)?l=null:g!==null&&fd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(t,n,fE,null,null,a),uo._currentValue=h),Qu(t,n),Gt(t,n,l,a),n.child;case 6:return t===null&&ze&&((t=a=st)&&(a=JE(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,qt=n,st=null,t=!0):t=!1),t||vs(n)),null;case 13:return Xg(t,n,a);case 4:return it(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Dr(n,null,l,a):Gt(t,n,l,a),n.child;case 11:return Pg(t,n,n.type,n.pendingProps,a);case 7:return Gt(t,n,n.pendingProps,a),n.child;case 8:return Gt(t,n,n.pendingProps.children,a),n.child;case 12:return Gt(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ts(n,n.type,l.value),Gt(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Rr(n),h=Ht(h),l=l(h),n.flags|=1,Gt(t,n,l,a),n.child;case 14:return Bg(t,n,n.type,n.pendingProps,a);case 15:return qg(t,n,n.type,n.pendingProps,a);case 19:return Zg(t,n,a);case 31:return TE(t,n,a);case 22:return Hg(t,n,a,n.pendingProps);case 24:return Rr(n),l=Ht(wt),t===null?(h=ef(),h===null&&(h=tt,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},nf(n),Ts(n,wt,h)):((t.lanes&a)!==0&&(sf(t,n),Hl(n,null,null,a),ql()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,wt,l)):(l=f.cache,Ts(n,wt,l),l!==h.cache&&Zh(n,[wt],a,!0))),Gt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Gi(t){t.flags|=4}function zf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(wy())t.flags|=8192;else throw Nr=Du,tf}else t.flags&=-16777217}function Wg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m_(n))if(wy())t.flags|=8192;else throw Nr=Du,tf}function Yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?eu():536870912,t.lanes|=n,Ia|=n)}function Xl(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function bE(t,n,a){var l=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Pi(wt),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ga(n)?Gi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),rt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Gi(n),f!==null?(rt(n),Wg(n,f)):(rt(n),zf(n,h,null,l,a))):f?f!==t.memoizedState?(Gi(n),rt(n),Wg(n,f)):(rt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Gi(n),rt(n),zf(n,h,t,l,a)),null;case 27:if(en(n),a=te.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return rt(n),null}t=oe.current,ga(n)?Mp(n):(t=a_(h,l,a),n.stateNode=t,Gi(n))}return rt(n),null;case 5:if(en(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return rt(n),null}if(f=oe.current,ga(n))Mp(n);else{var g=uc(te.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[bt]=n,f[jt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Gi(n)}}return rt(n),zf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=te.current,ga(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Xy(t.nodeValue,a)),t||vs(n,!0)}else t=uc(t).createTextNode(l),t[bt]=n,n.stateNode=t}return rt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ga(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[bt]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),t=!1}else a=Yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return rt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ga(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[bt]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),h=!1}else h=Yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Yu(n,n.updateQueue),rt(n),null);case 4:return Qe(),t===null&&ld(n.stateNode.containerInfo),rt(n),null;case 10:return Pi(n.type),rt(n),null;case 19:if($(yt),l=n.memoizedState,l===null)return rt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Xl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ku(t),f!==null){for(n.flags|=128,Xl(l,!1),t=f.updateQueue,n.updateQueue=t,Yu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Rp(a,t),a=a.sibling;return ae(yt,yt.current&1|2),ze&&Li(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>Wu&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304)}else{if(!h)if(t=ku(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Yu(n,t),Xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!ze)return rt(n),null}else 2*tn()-l.renderingStartTime>Wu&&a!==536870912&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=yt.current,ae(yt,h?a&1|2:a&1),ze&&Li(n,l.treeForkCount),t):(rt(n),null);case 22:case 23:return vn(n),of(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),a=n.updateQueue,a!==null&&Yu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&$(Cr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Pi(wt),rt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function SE(t,n){switch(Qh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Pi(wt),Qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return en(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(yt),null;case 4:return Qe(),null;case 10:return Pi(n.type),null;case 22:case 23:return vn(n),of(),t!==null&&$(Cr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Pi(wt),null;case 25:return null;default:return null}}function ey(t,n){switch(Qh(n),n.tag){case 3:Pi(wt),Qe();break;case 26:case 27:case 5:en(n);break;case 4:Qe();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:$(yt);break;case 10:Pi(n.type);break;case 22:case 23:vn(n),of(),t!==null&&$(Cr);break;case 24:Pi(wt)}}function $l(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==h)}}catch(E){$e(n,n.return,E)}}function xs(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,P=E;try{P()}catch(Y){$e(h,C,Y)}}}l=l.next}while(l!==f)}}catch(Y){$e(n,n.return,Y)}}function ty(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Fp(n,a)}catch(l){$e(t,t.return,l)}}}function ny(t,n,a){a.props=Or(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,n,l)}}function Zl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,n,h)}}function Ei(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,n,h)}else a.current=null}function iy(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function Pf(t,n,a){try{var l=t.stateNode;FE(l,t.type,a,n),l[jt]=n}catch(h){$e(t,t.return,h)}}function sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Os(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(l!==4&&(l===27&&Os(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(qf(t,n,a),t=t.sibling;t!==null;)qf(t,n,a),t=t.sibling}function Xu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Os(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Xu(t,n,a),t=t.sibling;t!==null;)Xu(t,n,a),t=t.sibling}function ry(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,a),n[bt]=t,n[jt]=a}catch(f){$e(t,t.return,f)}}var Fi=!1,Ct=!1,Hf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function AE(t,n){if(t=t.containerInfo,cd=gc,t=_p(t),kh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,C=-1,P=0,Y=0,Z=t,B=null;t:for(;;){for(var G;Z!==a||h!==0&&Z.nodeType!==3||(E=g+h),Z!==f||l!==0&&Z.nodeType!==3||(C=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(G=Z.firstChild)!==null;)B=Z,Z=G;for(;;){if(Z===t)break t;if(B===a&&++P===h&&(E=g),B===f&&++Y===l&&(C=g),(G=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=G}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(hd={focusedElem:t,selectionRange:a},gc=!1,Lt=n;Lt!==null;)if(n=Lt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Lt=t;else for(;Lt!==null;){switch(n=Lt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ce=Or(a.type,h);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Lt=t;break}Lt=n.return}}function ly(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(t,a),l&4&&$l(5,a);break;case 1:if(Ki(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){$e(a,a.return,g)}else{var h=Or(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){$e(a,a.return,g)}}l&64&&ty(a),l&512&&Zl(a,a.return);break;case 3:if(Ki(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Fp(t,n)}catch(g){$e(a,a.return,g)}}break;case 27:n===null&&l&4&&ry(a);case 26:case 5:Ki(t,a),n===null&&l&4&&iy(a),l&512&&Zl(a,a.return);break;case 12:Ki(t,a);break;case 31:Ki(t,a),l&4&&cy(t,a);break;case 13:Ki(t,a),l&4&&hy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=OE.bind(null,a),WE(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){n=n!==null&&n.memoizedState!==null||Ct,h=Fi;var f=Ct;Fi=l,(Ct=n)&&!f?Yi(t,a,(a.subtreeFlags&8772)!==0):Ki(t,a),Fi=h,Ct=f}break;case 30:break;default:Ki(t,a)}}function oy(t){var n=t.alternate;n!==null&&(t.alternate=null,oy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Wr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,ln=!1;function Qi(t,n,a){for(a=a.child;a!==null;)uy(t,n,a),a=a.sibling}function uy(t,n,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Ct||Ei(a,n),Qi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ei(a,n);var l=ct,h=ln;Os(a.type)&&(ct=a.stateNode,ln=!1),Qi(t,n,a),ao(a.stateNode),ct=l,ln=h;break;case 5:Ct||Ei(a,n);case 6:if(l=ct,h=ln,ct=null,Qi(t,n,a),ct=l,ln=h,ct!==null)if(ln)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(f){$e(a,n,f)}else try{ct.removeChild(a.stateNode)}catch(f){$e(a,n,f)}break;case 18:ct!==null&&(ln?(t=ct,t_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ua(t)):t_(ct,a.stateNode));break;case 4:l=ct,h=ln,ct=a.stateNode.containerInfo,ln=!0,Qi(t,n,a),ct=l,ln=h;break;case 0:case 11:case 14:case 15:xs(2,a,n),Ct||xs(4,a,n),Qi(t,n,a);break;case 1:Ct||(Ei(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ny(a,n,l)),Qi(t,n,a);break;case 21:Qi(t,n,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Qi(t,n,a),Ct=l;break;default:Qi(t,n,a)}}function cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ua(t)}catch(a){$e(n,n.return,a)}}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ua(t)}catch(a){$e(n,n.return,a)}}function wE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ay),n;default:throw Error(r(435,t.tag))}}function $u(t,n){var a=wE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=VE.bind(null,t,l);l.then(h,h)}})}function on(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){ct=E.stateNode,ln=!1;break e}break;case 5:ct=E.stateNode,ln=!1;break e;case 3:case 4:ct=E.stateNode.containerInfo,ln=!0;break e}E=E.return}if(ct===null)throw Error(r(160));uy(f,g,h),ct=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,t),n=n.sibling}var Xn=null;function fy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(xs(3,t,t.return),$l(3,t),xs(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(Ct||a===null||Ei(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(on(n,t),un(t),l&512&&(Ct||a===null||Ei(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,a),f[bt]=t,St(f),l=f;break e;case"link":var g=f_("link","href",h).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;case"meta":if(g=f_("meta","content",h).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[bt]=t,St(f),l=f}t.stateNode=l}else d_(h,t.type,t.stateNode);else t.stateNode=h_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?d_(h,t.type,t.stateNode):h_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(Ct||a===null||Ei(a,a.return)),a!==null&&l&4&&Pf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(Ct||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ce){$e(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Pf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){$e(t,t.return,ce)}}break;case 3:if(fc=null,h=Xn,Xn=cc(n.containerInfo),on(n,t),Xn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(ce){$e(t,t.return,ce)}Hf&&(Hf=!1,dy(t));break;case 4:l=Xn,Xn=cc(t.stateNode.containerInfo),on(n,t),un(t),Xn=l;break;case 12:on(n,t),un(t);break;case 31:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ju=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,P=Fi,Y=Ct;if(Fi=P||h,Ct=Y||C,on(n,t),Ct=Y,Fi=P,un(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Fi||Ct||Vr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Z=C.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){$e(C,C.return,ce)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){$e(C,C.return,ce)}}}else if(n.tag===18){if(a===null){C=n;try{var G=C.stateNode;h?n_(G,!0):n_(C.stateNode,!1)}catch(ce){$e(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$u(t,a))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(sy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Bf(t);Xu(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(an(g,""),a.flags&=-33);var E=Bf(t);Xu(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,P=Bf(t);qf(t,P,C);break;default:throw Error(r(161))}}catch(Y){$e(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(t,n.alternate,n),n=n.sibling}function Vr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),Vr(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ny(n,n.return,a),Vr(n);break;case 27:ao(n.stateNode);case 26:case 5:Ei(n,n.return),Vr(n);break;case 22:n.memoizedState===null&&Vr(n);break;case 30:Vr(n);break;default:Vr(n)}t=t.sibling}}function Yi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,a),$l(4,f);break;case 1:if(Yi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$e(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Gp(C[h],E)}catch(P){$e(l,l.return,P)}}a&&g&64&&ty(f),Zl(f,f.return);break;case 27:ry(f);case 26:case 5:Yi(h,f,a),a&&l===null&&g&4&&iy(f),Zl(f,f.return);break;case 12:Yi(h,f,a);break;case 31:Yi(h,f,a),a&&g&4&&cy(h,f);break;case 13:Yi(h,f,a),a&&g&4&&hy(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,a),Zl(f,f.return);break;case 30:break;default:Yi(h,f,a)}n=n.sibling}}function Gf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ul(a))}function Ff(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ul(t))}function $n(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(t,n,a,l),n=n.sibling}function my(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,l),h&2048&&$l(9,n);break;case 1:$n(t,n,a,l);break;case 3:$n(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ul(t)));break;case 12:if(h&2048){$n(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$e(n,n.return,C)}}else $n(t,n,a,l);break;case 31:$n(t,n,a,l);break;case 13:$n(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,a,l):Jl(t,n):f._visibility&2?$n(t,n,a,l):(f._visibility|=2,xa(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:$n(t,n,a,l),h&2048&&Ff(n.alternate,n);break;default:$n(t,n,a,l)}}function xa(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,C=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:xa(f,g,E,C,h),$l(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?xa(f,g,E,C,h):Jl(f,g):(Y._visibility|=2,xa(f,g,E,C,h)),h&&P&2048&&Gf(g.alternate,g);break;case 24:xa(f,g,E,C,h),h&&P&2048&&Ff(g.alternate,g);break;default:xa(f,g,E,C,h)}n=n.sibling}}function Jl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Jl(a,l),h&2048&&Gf(l.alternate,l);break;case 24:Jl(a,l),h&2048&&Ff(l.alternate,l);break;default:Jl(a,l)}n=n.sibling}}var Wl=8192;function Ra(t,n,a){if(t.subtreeFlags&Wl)for(t=t.child;t!==null;)py(t,n,a),t=t.sibling}function py(t,n,a){switch(t.tag){case 26:Ra(t,n,a),t.flags&Wl&&t.memoizedState!==null&&hb(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:Ra(t,n,a);break;case 3:case 4:var l=Xn;Xn=cc(t.stateNode.containerInfo),Ra(t,n,a),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Wl,Wl=16777216,Ra(t,n,a),Wl=l):Ra(t,n,a));break;default:Ra(t,n,a)}}function gy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Lt=l,_y(l,t)}gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:eo(t),t.flags&2048&&xs(9,t,t.return);break;case 3:eo(t);break;case 12:eo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Zu(t)):eo(t);break;default:eo(t)}}function Zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Lt=l,_y(l,t)}gy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:xs(8,n,n.return),Zu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(n));break;default:Zu(n)}t=t.sibling}}function _y(t,n){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:xs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,f=l.return;if(oy(l),l===a){Lt=null;break e}if(h!==null){h.return=f,Lt=h;break e}Lt=f}}}var xE={getCacheForType:function(t){var n=Ht(wt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ht(wt).controller.signal}},RE=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,Ne=null,Oe=0,Xe=0,Tn=null,Rs=!1,Ca=!1,Qf=!1,Xi=0,dt=0,Cs=0,kr=0,Kf=0,En=0,Ia=0,to=null,cn=null,Yf=!1,Ju=0,vy=0,Wu=1/0,ec=null,Is=null,Mt=0,Ns=null,Na=null,$i=0,Xf=0,$f=null,Ty=null,no=0,Zf=null;function bn(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:K.T!==null?id():tu()}function Ey(){if(En===0)if((Oe&536870912)===0||ze){var t=or;or<<=1,(or&3932160)===0&&(or=262144),En=t}else En=536870912;return t=_n.current,t!==null&&(t.flags|=32),En}function hn(t,n,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Da(t,0),Ds(t,Oe,En,!1)),ur(t,a),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(kr|=a),dt===4&&Ds(t,Oe,En,!1)),bi(t))}function by(t,n,a){if((Fe&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?NE(t,n):Wf(t,n,!0),f=l;do{if(h===0){Ca&&!l&&Ds(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!CE(a)){h=Wf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=to;var C=E.current.memoizedState.isDehydrated;if(C&&(Da(E,g).flags|=256),g=Wf(E,g,!1),g!==2){if(Qf&&!C){E.errorRecoveryDisabledLanes|=f,kr|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(t,0),Ds(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ds(l,n,En,!Rs);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Ju+300-tn(),10<h)){if(Ds(l,n,En,!Rs),si(l,0,!0)!==0)break e;$i=n,l.timeoutHandle=Wy(Sy.bind(null,l,a,cn,ec,Yf,n,En,kr,Ia,Rs,f,"Throttled",-0,0),h);break e}Sy(l,a,cn,ec,Yf,n,En,kr,Ia,Rs,f,null,-0,0)}}break}while(!0);bi(t)}function Sy(t,n,a,l,h,f,g,E,C,P,Y,Z,B,G){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},py(n,f,Z);var ce=(f&62914560)===f?Ju-tn():(f&4194048)===f?vy-tn():0;if(ce=fb(Z,ce),ce!==null){$i=f,t.cancelPendingCommit=ce(Dy.bind(null,t,n,f,a,l,h,g,E,C,Y,Z,null,B,G)),Ds(t,f,g,!P);return}}Dy(t,n,f,a,l,h,g,E,C)}function CE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(t,n,a,l){n&=~Kf,n&=~kr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-pt(h),g=1<<f;l[f]=-1,h&=~g}a!==0&&cr(t,a,n)}function tc(){return(Fe&6)===0?(io(0),!1):!0}function Jf(){if(Ne!==null){if(Xe===0)var t=Ne.return;else t=Ne,zi=xr=null,mf(t),Ea=null,zl=0,t=Ne;for(;t!==null;)ey(t.alternate,t),t=t.return;Ne=null}}function Da(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,YE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$i=0,Jf(),tt=t,Ne=a=Ui(t.current,null),Oe=n,Xe=0,Tn=null,Rs=!1,Ca=Pn(t,n),Qf=!1,Ia=En=Kf=kr=Cs=dt=0,cn=to=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-pt(l),f=1<<h;n|=t[h],l&=~f}return Xi=n,bu(),a}function Ay(t,n){Re=null,K.H=Kl,n===Ta||n===Nu?(n=Pp(),Xe=3):n===tf?(n=Pp(),Xe=4):Xe=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Ne===null&&(dt=1,Gu(t,In(n,t.current)))}function wy(){var t=_n.current;return t===null?!0:(Oe&4194048)===Oe?On===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===On:!1}function xy(){var t=K.H;return K.H=Kl,t===null?Kl:t}function Ry(){var t=K.A;return K.A=xE,t}function nc(){dt=4,Rs||(Oe&4194048)!==Oe&&_n.current!==null||(Ca=!0),(Cs&134217727)===0&&(kr&134217727)===0||tt===null||Ds(tt,Oe,En,!1)}function Wf(t,n,a){var l=Fe;Fe|=2;var h=xy(),f=Ry();(tt!==t||Oe!==n)&&(ec=null,Da(t,n)),n=!1;var g=dt;e:do try{if(Xe!==0&&Ne!==null){var E=Ne,C=Tn;switch(Xe){case 8:Jf(),g=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var P=Xe;if(Xe=0,Tn=null,Ma(t,E,C,P),a&&Ca){g=0;break e}break;default:P=Xe,Xe=0,Tn=null,Ma(t,E,C,P)}}IE(),g=dt;break}catch(Y){Ay(t,Y)}while(!0);return n&&t.shellSuspendCounter++,zi=xr=null,Fe=l,K.H=h,K.A=f,Ne===null&&(tt=null,Oe=0,bu()),g}function IE(){for(;Ne!==null;)Cy(Ne)}function NE(t,n){var a=Fe;Fe|=2;var l=xy(),h=Ry();tt!==t||Oe!==n?(ec=null,Wu=tn()+500,Da(t,n)):Ca=Pn(t,n);e:do try{if(Xe!==0&&Ne!==null){n=Ne;var f=Tn;t:switch(Xe){case 1:Xe=0,Tn=null,Ma(t,n,f,1);break;case 2:case 9:if(Lp(f)){Xe=0,Tn=null,Iy(n);break}n=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),bi(t)},f.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Lp(f)?(Xe=0,Tn=null,Iy(n)):(Xe=0,Tn=null,Ma(t,n,f,7));break;case 5:var g=null;switch(Ne.tag){case 26:g=Ne.memoizedState;case 5:case 27:var E=Ne;if(g?m_(g):E.stateNode.complete){Xe=0,Tn=null;var C=E.sibling;if(C!==null)Ne=C;else{var P=E.return;P!==null?(Ne=P,ic(P)):Ne=null}break t}}Xe=0,Tn=null,Ma(t,n,f,5);break;case 6:Xe=0,Tn=null,Ma(t,n,f,6);break;case 8:Jf(),dt=6;break e;default:throw Error(r(462))}}DE();break}catch(Y){Ay(t,Y)}while(!0);return zi=xr=null,K.H=l,K.A=h,Fe=a,Ne!==null?0:(tt=null,Oe=0,bu(),dt)}function DE(){for(;Ne!==null&&!Ch();)Cy(Ne)}function Cy(t){var n=Jg(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,n===null?ic(t):Ne=n}function Iy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Qg(a,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=Qg(a,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:mf(n);default:ey(a,n),n=Ne=Rp(n,Xi),n=Jg(a,n,Xi)}t.memoizedProps=t.pendingProps,n===null?ic(t):Ne=n}function Ma(t,n,a,l){zi=xr=null,mf(n),Ea=null,zl=0;var h=n.return;try{if(vE(t,h,n,a,Oe)){dt=1,Gu(t,In(a,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;dt=1,Gu(t,In(a,t.current)),Ne=null;return}n.flags&32768?(ze||l===1?t=!0:Ca||(Oe&536870912)!==0?t=!1:(Rs=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ny(n,t)):ic(n)}function ic(t){var n=t;do{if((n.flags&32768)!==0){Ny(n,Rs);return}t=n.return;var a=bE(n.alternate,n,Xi);if(a!==null){Ne=a;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);dt===0&&(dt=5)}function Ny(t,n){do{var a=SE(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function Dy(t,n,a,l,h,f,g,E,C){t.cancelPendingCommit=null;do sc();while(Mt!==0);if((Fe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Ph,Dh(t,a,f,g,E,C),t===tt&&(Ne=tt=null,Oe=0),Na=n,Ns=t,$i=a,Xf=f,$f=h,Ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kE(ls,function(){return jy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=re.p,re.p=2,g=Fe,Fe|=4;try{AE(t,n,a)}finally{Fe=g,re.p=h,K.T=l}}Mt=1,My(),Oy(),Vy()}}function My(){if(Mt===1){Mt=0;var t=Ns,n=Na,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=re.p;re.p=2;var h=Fe;Fe|=4;try{fy(n,t);var f=hd,g=_p(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&yp(E.ownerDocument.documentElement,E)){if(C!==null&&kh(E)){var P=C.start,Y=C.end;if(Y===void 0&&(Y=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Y,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var G=B.getSelection(),ce=E.textContent.length,_e=Math.min(C.start,ce),et=C.end===void 0?_e:Math.min(C.end,ce);!G.extend&&_e>et&&(g=et,et=_e,_e=g);var j=gp(E,_e),M=gp(E,et);if(j&&M&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var L=Z.createRange();L.setStart(j.node,j.offset),G.removeAllRanges(),_e>et?(G.addRange(L),G.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),G.addRange(L))}}}}for(Z=[],G=E;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}gc=!!cd,hd=cd=null}finally{Fe=h,re.p=l,K.T=a}}t.current=n,Mt=2}}function Oy(){if(Mt===2){Mt=0;var t=Ns,n=Na,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=re.p;re.p=2;var h=Fe;Fe|=4;try{ly(t,n.alternate,n)}finally{Fe=h,re.p=l,K.T=a}}Mt=3}}function Vy(){if(Mt===4||Mt===3){Mt=0,Yo();var t=Ns,n=Na,a=$i,l=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Na=Ns=null,ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Is=null),Oi(a),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=re.p,re.p=2,K.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{K.T=n,re.p=h}}($i&3)!==0&&sc(),bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Zf?no++:(no=0,Zf=t):no=0,io(0)}}function ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ul(n)))}function sc(){return My(),Oy(),Vy(),jy()}function jy(){if(Mt!==5)return!1;var t=Ns,n=Xf;Xf=0;var a=Oi($i),l=K.T,h=re.p;try{re.p=32>a?32:a,K.T=null,a=$f,$f=null;var f=Ns,g=$i;if(Mt=0,Na=Ns=null,$i=0,(Fe&6)!==0)throw Error(r(331));var E=Fe;if(Fe|=4,yy(f.current),my(f,f.current,g,a),Fe=E,io(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{re.p=h,K.T=l,ky(t,n)}}function Uy(t,n,a){n=In(a,n),n=If(t.stateNode,n,2),t=Ss(t,n,2),t!==null&&(ur(t,2),bi(t))}function $e(t,n,a){if(t.tag===3)Uy(t,t,a);else for(;n!==null;){if(n.tag===3){Uy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){t=In(a,t),a=Lg(2),l=Ss(n,a,2),l!==null&&(zg(a,l,n,t),ur(l,2),bi(l));break}}n=n.return}}function ed(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new RE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Qf=!0,h.add(a),t=ME.bind(null,t,n,a),n.then(t,t))}function ME(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Oe&a)===a&&(dt===4||dt===3&&(Oe&62914560)===Oe&&300>tn()-Ju?(Fe&2)===0&&Da(t,0):Kf|=a,Ia===Oe&&(Ia=0)),bi(t)}function Ly(t,n){n===0&&(n=eu()),t=Sr(t,n),t!==null&&(ur(t,n),bi(t))}function OE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ly(t,a)}function VE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ly(t,a)}function kE(t,n){return Dt(t,n)}var rc=null,Oa=null,td=!1,ac=!1,nd=!1,Ms=0;function bi(t){t!==Oa&&t.next===null&&(Oa===null?rc=Oa=t:Oa=Oa.next=t),ac=!0,td||(td=!0,UE())}function io(t,n){if(!nd&&ac){nd=!0;do for(var a=!1,l=rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,qy(l,f))}else f=Oe,f=si(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(a=!0,qy(l,f));l=l.next}while(a);nd=!1}}function jE(){zy()}function zy(){ac=td=!1;var t=0;Ms!==0&&KE()&&(t=Ms);for(var n=tn(),a=null,l=rc;l!==null;){var h=l.next,f=Py(l,n);f===0?(l.next=null,a===null?rc=h:a.next=h,h===null&&(Oa=a)):(a=l,(t!==0||(f&3)!==0)&&(ac=!0)),l=h}Mt!==0&&Mt!==5||io(t),Ms!==0&&(Ms=0)}function Py(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-pt(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&l)!==0)&&(h[g]=Nh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=tt,a=Oe,a=si(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&as(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&as(l),Oi(a)){case 2:case 8:a=dl;break;case 32:a=ls;break;case 268435456:a=Xo;break;default:a=ls}return l=By.bind(null,t),a=Dt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&as(l),t.callbackPriority=2,t.callbackNode=null,2}function By(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(sc()&&t.callbackNode!==a)return null;var l=Oe;return l=si(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(by(t,l,n),Py(t,tn()),t.callbackNode!=null&&t.callbackNode===a?By.bind(null,t):null)}function qy(t,n){if(sc())return null;by(t,n,!0)}function UE(){XE(function(){(Fe&6)!==0?Dt(fl,jE):zy()})}function id(){if(Ms===0){var t=_a;t===0&&(t=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Ms=t}return Ms}function Hy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ia(""+t)}function Gy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function LE(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Hy((h[jt]||null).action),g=l.submitter;g&&(n=(n=g[jt]||null)?Hy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new pi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var C=g?Gy(h,g):new FormData(h);Sf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Gy(h,g):new FormData(h),Sf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],zE=rd.toLowerCase(),PE=rd[0].toUpperCase()+rd.slice(1);Yn(zE,"on"+PE)}Yn(Ep,"onAnimationEnd"),Yn(bp,"onAnimationIteration"),Yn(Sp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(nE,"onTransitionRun"),Yn(iE,"onTransitionStart"),Yn(sE,"onTransitionCancel"),Yn(Ap,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function Fy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(Y){Eu(Y)}h.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(Y){Eu(Y)}h.currentTarget=null,f=C}}}}function De(t,n){var a=n[Jr];a===void 0&&(a=n[Jr]=new Set);var l=t+"__bubble";a.has(l)||(Qy(n,t,2,!1),a.add(l))}function ad(t,n,a){var l=0;n&&(l|=4),Qy(a,t,l,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[lc]){t[lc]=!0,gl.forEach(function(a){a!=="selectionchange"&&(BE.has(a)||ad(a,!1,t),ad(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lc]||(n[lc]=!0,ad("selectionchange",!1,n))}}function Qy(t,n,a,l){switch(E_(n)){case 2:var h=pb;break;case 8:h=gb;break;default:h=bd}a=h.bind(null,n,a,t),h=void 0,!pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function od(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue e}E=E.parentNode}}l=l.return}ds(function(){var P=f,Y=wn(a),Z=[];e:{var B=wp.get(t);if(B!==void 0){var G=pi,ce=t;switch(t){case"keypress":if(yr(a)===0)break e;case"keydown":case"keyup":G=_u;break;case"focusin":ce="focus",G=vr;break;case"focusout":ce="blur",G=vr;break;case"beforeblur":case"afterblur":G=vr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Ep:case bp:case Sp:G=hu;break;case Ap:G=S;break;case"scroll":case"scrollend":G=Cl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ji;break;case"toggle":case"beforetoggle":G=xe}var _e=(n&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),j=_e?B!==null?B+"Capture":null:B;_e=[];for(var M=P,L;M!==null;){var X=M;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||j===null||(X=Gn(M,j),X!=null&&_e.push(ro(M,X,L))),et)break;M=M.return}0<_e.length&&(B=new G(B,ce,null,a,Y),Z.push({event:B,listeners:_e}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&a!==wl&&(ce=a.relatedTarget||a.fromElement)&&(oi(ce)||ce[ai]))break e;if((G||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,G?(ce=a.relatedTarget||a.toElement,G=P,ce=ce?oi(ce):null,ce!==null&&(et=c(ce),_e=ce.tag,ce!==et||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(G=null,ce=P),G!==ce)){if(_e=Il,X="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ji,X="onPointerLeave",j="onPointerEnter",M="pointer"),et=G==null?B:mn(G),L=ce==null?B:mn(ce),B=new _e(X,M+"leave",G,a,Y),B.target=et,B.relatedTarget=L,X=null,oi(Y)===P&&(_e=new _e(j,M+"enter",ce,a,Y),_e.target=L,_e.relatedTarget=et,X=_e),et=X,G&&ce)t:{for(_e=qE,j=G,M=ce,L=0,X=j;X;X=_e(X))L++;X=0;for(var ge=M;ge;ge=_e(ge))X++;for(;0<L-X;)j=_e(j),L--;for(;0<X-L;)M=_e(M),X--;for(;L--;){if(j===M||M!==null&&j===M.alternate){_e=j;break t}j=_e(j),M=_e(M)}_e=null}else _e=null;G!==null&&Ky(Z,B,G,_e,!1),ce!==null&&et!==null&&Ky(Z,et,ce,_e,!0)}}e:{if(B=P?mn(P):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var Be=cp;else if(op(B))if(hp)Be=WT;else{Be=ZT;var fe=$T}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&na(P.elementType)&&(Be=cp):Be=JT;if(Be&&(Be=Be(t,P))){up(Z,Be,a,Y);break e}fe&&fe(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&bl(B,"number",B.value)}switch(fe=P?mn(P):window,t){case"focusin":(op(fe)||fe.contentEditable==="true")&&(ca=fe,jh=P,Vl=null);break;case"focusout":Vl=jh=ca=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,vp(Z,a,Y);break;case"selectionchange":if(tE)break;case"keydown":case"keyup":vp(Z,a,Y)}var Ce;if(Ge)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ua?Tr(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(_i&&a.locale!=="ko"&&(ua||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ua&&(Ce=Rl()):(mi=Y,xl="value"in mi?mi.value:mi.textContent,ua=!0)),fe=oc(P,Ve),0<fe.length&&(Ve=new yi(Ve,t,null,a,Y),Z.push({event:Ve,listeners:fe}),Ce?Ve.data=Ce:(Ce=oa(a),Ce!==null&&(Ve.data=Ce)))),(Ce=Rn?QT(t,a):KT(t,a))&&(Ve=oc(P,"onBeforeInput"),0<Ve.length&&(fe=new yi("onBeforeInput","beforeinput",null,a,Y),Z.push({event:fe,listeners:Ve}),fe.data=Ce)),LE(Z,t,P,a,Y)}Fy(Z,n)})}function ro(t,n,a){return{instance:t,listener:n,currentTarget:a}}function oc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(t,a),h!=null&&l.unshift(ro(t,h,f)),h=Gn(t,n),h!=null&&l.push(ro(t,h,f))),t.tag===3)return l;t=t.return}return[]}function qE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ky(t,n,a,l,h){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=Gn(a,f),P!=null&&g.unshift(ro(a,P,C))):h||(P=Gn(a,f),P!=null&&g.push(ro(a,P,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var HE=/\r\n?/g,GE=/\u0000|\uFFFD/g;function Yy(t){return(typeof t=="string"?t:""+t).replace(HE,`
`).replace(GE,"")}function Xy(t,n){return n=Yy(n),Yy(t)===n}function We(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Al(t,l,f);break;case"data":if(n!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&We(t,n,"name",h.name,h,null),We(t,n,"formEncType",h.formEncType,h,null),We(t,n,"formMethod",h.formMethod,h,null),We(t,n,"formTarget",h.formTarget,h,null)):(We(t,n,"encType",h.encType,h,null),We(t,n,"method",h.method,h,null),We(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ea(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ou.get(a)||a,ea(t,a,l))}}function ud(t,n,a,l,h,f){switch(a){case"style":Al(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[jt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ea(t,a,l)}}}function Ft(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:We(t,n,f,g,a,null)}}h&&We(t,n,"srcSet",a.srcSet,a,null),l&&We(t,n,"src",a.src,a,null);return;case"input":De("invalid",t);var E=f=g=h=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":g=Y;break;case"checked":C=Y;break;case"defaultChecked":P=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:We(t,n,l,Y,a,null)}}ru(t,f,E,C,P,g,h,!1);return;case"select":De("invalid",t),l=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:We(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?us(t,!!l,n,!1):a!=null&&us(t,!!l,a,!0);return;case"textarea":De("invalid",t),f=h=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:We(t,n,g,E,a,null)}cs(t,l,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,n,C,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<so.length;l++)De(so[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:We(t,n,P,l,a,null)}return;default:if(na(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&ud(t,n,Y,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&We(t,n,E,l,a,null))}function FE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,P=null,Y=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(G)||We(t,n,G,null,l,Z)}}for(var B in l){var G=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(G!=null||Z!=null))switch(B){case"type":f=G;break;case"name":h=G;break;case"checked":P=G;break;case"defaultChecked":Y=G;break;case"value":g=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==Z&&We(t,n,B,G,l,Z)}}ta(t,g,E,C,P,Y,f,h);return;case"select":G=g=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(f)||We(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&We(t,n,h,f,l,C)}n=E,a=g,l=G,B!=null?us(t,!!a,B,!1):!!l!=!!a&&(n!=null?us(t,!!a,n,!0):us(t,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=a[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&We(t,n,g,h,l,f)}au(t,B,G);return;case"option":for(var ce in a)if(B=a[ce],a.hasOwnProperty(ce)&&B!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:We(t,n,ce,null,l,B)}for(C in l)if(B=l[C],G=a[C],l.hasOwnProperty(C)&&B!==G&&(B!=null||G!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:We(t,n,C,B,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)B=a[_e],a.hasOwnProperty(_e)&&B!=null&&!l.hasOwnProperty(_e)&&We(t,n,_e,null,l,B);for(P in l)if(B=l[P],G=a[P],l.hasOwnProperty(P)&&B!==G&&(B!=null||G!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:We(t,n,P,B,l,G)}return;default:if(na(n)){for(var et in a)B=a[et],a.hasOwnProperty(et)&&B!==void 0&&!l.hasOwnProperty(et)&&ud(t,n,et,void 0,l,B);for(Y in l)B=l[Y],G=a[Y],!l.hasOwnProperty(Y)||B===G||B===void 0&&G===void 0||ud(t,n,Y,B,l,G);return}}for(var j in a)B=a[j],a.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&We(t,n,j,null,l,B);for(Z in l)B=l[Z],G=a[Z],!l.hasOwnProperty(Z)||B===G||B==null&&G==null||We(t,n,Z,B,l,G)}function $y(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&$y(g)){for(g=0,E=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],P=C.startTime;if(P>E)break;var Y=C.transferSize,Z=C.initiatorType;Y&&$y(Z)&&(C=C.responseEnd,g+=Y*(C<E?1:(E-P)/(C-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cd=null,hd=null;function uc(t){return t.nodeType===9?t:t.ownerDocument}function Zy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function fd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function KE(){var t=window.event;return t&&t.type==="popstate"?t===dd?!1:(dd=t,!0):(dd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,XE=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(t){return e_.resolve(null).then(t).catch($E)}:Wy;function $E(t){setTimeout(function(){throw t})}function Os(t){return t==="head"}function t_(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ua(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ao(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ao(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&ao(t.ownerDocument.body);a=h}while(a);Ua(n)}function n_(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":md(a),Wr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ZE(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[li])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function JE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function i_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function pd(t){return t.data==="$?"||t.data==="$~"}function gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function WE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var yd=null;function s_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function r_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function a_(t,n,a){switch(n=uc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ao(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Wr(t)}var kn=new Map,l_=new Set;function cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=re.d;re.d={f:eb,r:tb,D:nb,C:ib,L:sb,m:rb,X:lb,S:ab,M:ob};function eb(){var t=Zi.f(),n=tc();return t||n}function tb(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?Ag(n):Zi.r(t)}var Va=typeof document>"u"?null:document;function o_(t,n,a){var l=Va;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),l_.has(h)||(l_.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),St(n),l.head.appendChild(n)))}}function nb(t){Zi.D(t),o_("dns-prefetch",t,null)}function ib(t,n){Zi.C(t,n),o_("preconnect",t,n)}function sb(t,n,a){Zi.L(t,n,a);var l=Va;if(l&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(n){case"style":f=ka(t);break;case"script":f=ja(t)}kn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),kn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(lo(f))||n==="script"&&l.querySelector(oo(f))||(n=l.createElement("link"),Ft(n,"link",t),St(n),l.head.appendChild(n)))}}function rb(t,n){Zi.m(t,n);var a=Va;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(t)}if(!kn.has(f)&&(t=A({rel:"modulepreload",href:t},n),kn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(oo(f)))return}l=a.createElement("link"),Ft(l,"link",t),St(l),a.head.appendChild(l)}}}function ab(t,n,a){Zi.S(t,n,a);var l=Va;if(l&&t){var h=ui(l).hoistableStyles,f=ka(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(lo(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=kn.get(f))&&_d(t,a);var C=g=l.createElement("link");St(C),Ft(C,"link",t),C._p=new Promise(function(P,Y){C.onload=P,C.onerror=Y}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function lb(t,n){Zi.X(t,n);var a=Va;if(a&&t){var l=ui(a).hoistableScripts,h=ja(t),f=l.get(h);f||(f=a.querySelector(oo(h)),f||(t=A({src:t,async:!0},n),(n=kn.get(h))&&vd(t,n),f=a.createElement("script"),St(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ob(t,n){Zi.M(t,n);var a=Va;if(a&&t){var l=ui(a).hoistableScripts,h=ja(t),f=l.get(h);f||(f=a.querySelector(oo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=kn.get(h))&&vd(t,n),f=a.createElement("script"),St(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function u_(t,n,a,l){var h=(h=te.current)?cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ka(a.href),a=ui(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ka(a.href);var f=ui(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(lo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),f||ub(h,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(a),a=ui(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ka(t){return'href="'+rn(t)+'"'}function lo(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function ub(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",a),St(n),t.head.appendChild(n))}function ja(t){return'[src="'+rn(t)+'"]'}function oo(t){return"script[async]"+t}function h_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return n.instance=l,St(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Ft(l,"style",h),hc(l,a.precedence,t),n.instance=l;case"stylesheet":h=ka(a.href);var f=t.querySelector(lo(h));if(f)return n.state.loading|=4,n.instance=f,St(f),f;l=c_(a),(h=kn.get(h))&&_d(l,h),f=(t.ownerDocument||t).createElement("link"),St(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ft(f,"link",l),n.state.loading|=4,hc(f,a.precedence,t),n.instance=f;case"script":return f=ja(a.src),(h=t.querySelector(oo(f)))?(n.instance=h,St(h),h):(l=a,(h=kn.get(f))&&(l=A({},a),vd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,hc(l,a.precedence,t));return n.instance}function hc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function _d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var fc=null;function f_(t,n,a){if(fc===null){var l=new Map,h=fc=new Map;h.set(a,l)}else h=fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[bt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function d_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function cb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hb(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ka(l.href),f=n.querySelector(lo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=dc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,St(f);return}f=n.ownerDocument||n,l=c_(l),(h=kn.get(h))&&_d(l,h),f=f.createElement("link"),St(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ft(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=dc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Td=0;function fb(t,n){return t.stylesheets&&t.count===0&&pc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&pc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Td===0&&(Td=62500*QE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Td?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mc=null;function pc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mc=new Map,n.forEach(db,t),mc=null,dc.call(t))}function db(t,n){if(!(n.state.loading&4)){var a=mc.get(t);if(a)var l=a.get(null);else{a=new Map,mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,h),a.set(g,h),this.count++,l=dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var uo={$$typeof:le,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function mb(t,n,a,l,h,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function p_(t,n,a,l,h,f,g,E,C,P,Y,Z){return t=new mb(t,n,a,g,C,P,Y,Z,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=Jh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},nf(f),t}function g_(t){return t?(t=da,t):da}function y_(t,n,a,l,h,f){h=g_(h),l.context===null?l.context=h:l.pendingContext=h,l=bs(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ss(t,l,n),a!==null&&(hn(a,t,n),Bl(a,t,n))}function __(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ed(t,n){__(t,n),(t=t.alternate)&&__(t,n)}function v_(t){if(t.tag===13||t.tag===31){var n=Sr(t,67108864);n!==null&&hn(n,t,67108864),Ed(t,67108864)}}function T_(t){if(t.tag===13||t.tag===31){var n=bn();n=hr(n);var a=Sr(t,n);a!==null&&hn(a,t,n),Ed(t,n)}}var gc=!0;function pb(t,n,a,l){var h=K.T;K.T=null;var f=re.p;try{re.p=2,bd(t,n,a,l)}finally{re.p=f,K.T=h}}function gb(t,n,a,l){var h=K.T;K.T=null;var f=re.p;try{re.p=8,bd(t,n,a,l)}finally{re.p=f,K.T=h}}function bd(t,n,a,l){if(gc){var h=Sd(l);if(h===null)od(t,n,l,yc,a),b_(t,l);else if(_b(h,t,n,a,l))l.stopPropagation();else if(b_(t,l),n&4&&-1<yb.indexOf(t)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ii(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-pt(g);E.entanglements[1]|=C,g&=~C}bi(f),(Fe&6)===0&&(Wu=tn()+500,io(0))}}break;case 31:case 13:E=Sr(f,2),E!==null&&hn(E,f,2),tc(),Ed(f,2)}if(f=Sd(l),f===null&&od(t,n,l,yc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else od(t,n,l,null,a)}}function Sd(t){return t=wn(t),Ad(t)}var yc=null;function Ad(t){if(yc=null,t=oi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yc=t,null}function E_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case fl:return 2;case dl:return 8;case ls:case Ih:return 32;case Xo:return 268435456;default:return 32}default:return 32}}var wd=!1,Vs=null,ks=null,js=null,co=new Map,ho=new Map,Us=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,n){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(n.pointerId)}}function fo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&v_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function _b(t,n,a,l,h){switch(n){case"focusin":return Vs=fo(Vs,t,n,a,l,h),!0;case"dragenter":return ks=fo(ks,t,n,a,l,h),!0;case"mouseover":return js=fo(js,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return co.set(f,fo(co.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ho.set(f,fo(ho.get(f)||null,t,n,a,l,h)),!0}return!1}function S_(t){var n=oi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){T_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){T_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Sd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);wl=l,a.target.dispatchEvent(l),wl=null}else return n=An(a),n!==null&&v_(n),t.blockedOn=a,!1;n.shift()}return!0}function A_(t,n,a){_c(t)&&a.delete(n)}function vb(){wd=!1,Vs!==null&&_c(Vs)&&(Vs=null),ks!==null&&_c(ks)&&(ks=null),js!==null&&_c(js)&&(js=null),co.forEach(A_),ho.forEach(A_)}function vc(t,n){t.blockedOn===n&&(t.blockedOn=null,wd||(wd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vb)))}var Tc=null;function w_(t){Tc!==t&&(Tc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tc===t&&(Tc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Ad(l||a)===null)continue;break}var f=An(a);f!==null&&(t.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ua(t){function n(C){return vc(C,t)}Vs!==null&&vc(Vs,t),ks!==null&&vc(ks,t),js!==null&&vc(js,t),co.forEach(n),ho.forEach(n);for(var a=0;a<Us.length;a++){var l=Us[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Us.length&&(a=Us[0],a.blockedOn===null);)S_(a),a.blockedOn===null&&Us.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],g=h[jt]||null;if(typeof f=="function")g||w_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[jt]||null)E=g.formAction;else if(Ad(h)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),w_(a)}}}function x_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(t){this._internalRoot=t}Ec.prototype.render=xd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=bn();y_(a,l,t,n,null,null)},Ec.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;y_(t.current,2,null,t,null,null),tc(),n[ai]=null}};function Ec(t){this._internalRoot=t}Ec.prototype.unstable_scheduleHydration=function(t){if(t){var n=tu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Us.length&&n!==0&&n<Us[a].priority;a++);Us.splice(a,0,t),a===0&&S_(t)}};var R_=e.version;if(R_!=="19.2.3")throw Error(r(527,R_,"19.2.3"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Tb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{zn=bc.inject(Tb),Pt=bc}catch{}}return po.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=Vg,f=kg,g=jg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=p_(t,1,!1,null,null,a,l,null,h,f,g,x_),t[ai]=n.current,ld(t),new xd(n)},po.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=Vg,g=kg,E=jg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=p_(t,1,!0,n,a??null,l,h,C,f,g,E,x_),n.context=g_(null),a=n.current,l=bn(),l=hr(l),h=bs(l),h.callback=null,Ss(a,h,l),a=l,n.current.lanes=a,ur(n,a),bi(n),t[ai]=n.current,ld(t),new Ec(n)},po.version="19.2.3",po}var U_;function Db(){if(U_)return Id.exports;U_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Id.exports=Nb(),Id.exports}var Mb=Db();const Ob=gv(Mb),Vb=()=>{};var L_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},kb=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},_v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let N=(p&15)<<2|_>>6,q=_&63;y||(q=64,d||(N=64)),r.push(i[b],i[A],i[N],i[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(yv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):kb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||A==null)throw new jb;const N=c<<2|p>>4;if(r.push(N),_!==64){const q=p<<4&240|_>>2;if(r.push(q),A!==64){const F=_<<6&192|A;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class jb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ub=function(s){const e=yv(s);return _v.encodeByteArray(e,!0)},Pc=function(s){return Ub(s).replace(/\./g,"")},vv=function(s){try{return _v.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=()=>Lb().__FIREBASE_DEFAULTS__,Pb=()=>{if(typeof process>"u"||typeof L_>"u")return;const s=L_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Bb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&vv(s[1]);return e&&JSON.parse(e)},lh=()=>{try{return Vb()||zb()||Pb()||Bb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Tv=s=>{var e,i;return(i=(e=lh())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},qb=s=>{const e=Tv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Ev=()=>{var s;return(s=lh())==null?void 0:s.config},bv=s=>{var e;return(e=lh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Pc(JSON.stringify(i)),Pc(JSON.stringify(d)),""].join(".")}const bo={};function Fb(){const s={prod:[],emulator:[]};for(const e of Object.keys(bo))bo[e]?s.emulator.push(e):s.prod.push(e);return s}function Qb(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let z_=!1;function Av(s,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||bo[s]===e||bo[s]||z_)return;bo[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=Fb().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{z_=!0,d()},N}function b(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=Qb(r),q=i("text"),F=document.getElementById(q)||document.createElement("span"),Q=i("learnmore"),z=document.getElementById(Q)||document.createElement("a"),W=i("preprendIcon"),ie=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const le=N.element;p(le),b(z,Q);const we=_();y(ie,W),le.append(ie,F,z,we),document.body.appendChild(le)}c?(F.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Yb(){var e;const s=(e=lh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $b(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){const s=Wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Wb(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function tS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="FirebaseError";class rs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=nS,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?iS(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new rs(o,p,r)}}function iS(s,e){return s.replace(sS,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const sS=/\{\$([^}]+)}/g;function rS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Br(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(P_(c)&&P_(d)){if(!Br(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function P_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aS(s,e){const i=new lS(s,e);return i.subscribe.bind(i)}class lS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");oS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Od(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(s){return s&&s._delegate?s._delegate:s}class qr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Hb;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hS(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cS(s){return s===jr?void 0:s}function hS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new uS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const dS={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},mS=ke.INFO,pS={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},gS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=pS[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=mS,this._logHandler=gS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const yS=(s,e)=>e.some(i=>s instanceof i);let B_,q_;function _S(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vS(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,Yd=new WeakMap,xv=new WeakMap,Vd=new WeakMap,Am=new WeakMap;function TS(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ks(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&wv.set(i,s)}).catch(()=>{}),Am.set(e,s),e}function ES(s){if(Yd.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Yd.set(s,e)}let Xd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Yd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||xv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ks(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function bS(s){Xd=s(Xd)}function SS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(kd(this),e,...i);return xv.set(r,e.sort?e.sort():[e]),Ks(r)}:vS().includes(s)?function(...e){return s.apply(kd(this),e),Ks(wv.get(this))}:function(...e){return Ks(s.apply(kd(this),e))}}function AS(s){return typeof s=="function"?SS(s):(s instanceof IDBTransaction&&ES(s),yS(s,_S())?new Proxy(s,Xd):s)}function Ks(s){if(s instanceof IDBRequest)return TS(s);if(Vd.has(s))return Vd.get(s);const e=AS(s);return e!==s&&(Vd.set(s,e),Am.set(e,s)),e}const kd=s=>Am.get(s);function wS(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=Ks(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Ks(d.result),y.oldVersion,y.newVersion,Ks(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const xS=["get","getKey","getAll","getAllKeys","count"],RS=["put","add","delete","clear"],jd=new Map;function H_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=RS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||xS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return jd.set(e,c),c}bS(s=>({...s,get:(e,i,r)=>H_(e,i)||s.get(e,i,r),has:(e,i)=>!!H_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function IS(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $d="@firebase/app",G_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Sm("@firebase/app"),NS="@firebase/app-compat",DS="@firebase/analytics-compat",MS="@firebase/analytics",OS="@firebase/app-check-compat",VS="@firebase/app-check",kS="@firebase/auth",jS="@firebase/auth-compat",US="@firebase/database",LS="@firebase/data-connect",zS="@firebase/database-compat",PS="@firebase/functions",BS="@firebase/functions-compat",qS="@firebase/installations",HS="@firebase/installations-compat",GS="@firebase/messaging",FS="@firebase/messaging-compat",QS="@firebase/performance",KS="@firebase/performance-compat",YS="@firebase/remote-config",XS="@firebase/remote-config-compat",$S="@firebase/storage",ZS="@firebase/storage-compat",JS="@firebase/firestore",WS="@firebase/ai",e2="@firebase/firestore-compat",t2="firebase",n2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",i2={[$d]:"fire-core",[NS]:"fire-core-compat",[MS]:"fire-analytics",[DS]:"fire-analytics-compat",[VS]:"fire-app-check",[OS]:"fire-app-check-compat",[kS]:"fire-auth",[jS]:"fire-auth-compat",[US]:"fire-rtdb",[LS]:"fire-data-connect",[zS]:"fire-rtdb-compat",[PS]:"fire-fn",[BS]:"fire-fn-compat",[qS]:"fire-iid",[HS]:"fire-iid-compat",[GS]:"fire-fcm",[FS]:"fire-fcm-compat",[QS]:"fire-perf",[KS]:"fire-perf-compat",[YS]:"fire-rc",[XS]:"fire-rc-compat",[$S]:"fire-gcs",[ZS]:"fire-gcs-compat",[JS]:"fire-fst",[e2]:"fire-fst-compat",[WS]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,s2=new Map,Jd=new Map;function F_(s,e){try{s.container.addComponent(e)}catch(i){es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xa(s){const e=s.name;if(Jd.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,s);for(const i of Bc.values())F_(i,s);for(const i of s2.values())F_(i,s);return!0}function wm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Zn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Lo("app","Firebase",r2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=n2;function Rv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Zd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ys.create("bad-app-name",{appName:String(o)});if(i||(i=Ev()),!i)throw Ys.create("no-options");const c=Bc.get(o);if(c){if(Br(i,c.options)&&Br(r,c.config))return c;throw Ys.create("duplicate-app",{appName:o})}const d=new fS(o);for(const y of Jd.values())d.addComponent(y);const p=new a2(i,r,d);return Bc.set(o,p),p}function Cv(s=Zd){const e=Bc.get(s);if(!e&&s===Zd&&Ev())return Rv();if(!e)throw Ys.create("no-app",{appName:s});return e}function Xs(s,e,i){let r=i2[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(d.join(" "));return}Xa(new qr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="firebase-heartbeat-database",o2=1,Io="firebase-heartbeat-store";let Ud=null;function Iv(){return Ud||(Ud=wS(l2,o2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Io)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ys.create("idb-open",{originalErrorMessage:s.message})})),Ud}async function u2(s){try{const i=(await Iv()).transaction(Io),r=await i.objectStore(Io).get(Nv(s));return await i.done,r}catch(e){if(e instanceof rs)es.warn(e.message);else{const i=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(i.message)}}}async function Q_(s,e){try{const r=(await Iv()).transaction(Io,"readwrite");await r.objectStore(Io).put(e,Nv(s)),await r.done}catch(i){if(i instanceof rs)es.warn(i.message);else{const r=Ys.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});es.warn(r.message)}}}function Nv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=1024,h2=30;class f2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new m2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=K_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>h2){const d=p2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=K_(),{heartbeatsToSend:r,unsentEntries:o}=d2(this._heartbeatsCache.heartbeats),c=Pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return es.warn(i),""}}}function K_(){return new Date().toISOString().substring(0,10)}function d2(s,e=c2){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Y_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Y_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class m2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?tS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await u2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Y_(s){return Pc(JSON.stringify({version:2,heartbeats:s})).length}function p2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(s){Xa(new qr("platform-logger",e=>new CS(e),"PRIVATE")),Xa(new qr("heartbeat",e=>new f2(e),"PRIVATE")),Xs($d,G_,s),Xs($d,G_,"esm2020"),Xs("fire-js","")}g2("");var X_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,Dv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function I(){}I.prototype=w.prototype,x.F=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,D,k){for(var R=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)R[nt-2]=arguments[nt];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],D=x.g[2];let k=x.g[3],R;R=w+(k^I&(D^k))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(D^w&(I^D))+V[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(I^k&(w^I))+V[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(w^D&(k^w))+V[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(k^I&(D^k))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(D^w&(I^D))+V[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(I^k&(w^I))+V[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(w^D&(k^w))+V[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(k^I&(D^k))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(D^w&(I^D))+V[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(I^k&(w^I))+V[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(w^D&(k^w))+V[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(k^I&(D^k))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(D^w&(I^D))+V[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(I^k&(w^I))+V[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(w^D&(k^w))+V[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(D^k&(I^D))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(w^I))+V[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(k^w))+V[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(D^k))+V[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(I^D))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(w^I))+V[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(k^w))+V[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(D^k))+V[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(I^D))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(w^I))+V[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(k^w))+V[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(D^k))+V[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(I^D))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(w^I))+V[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(k^w))+V[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(D^k))+V[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(I^D^k)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^D)+V[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^I)+V[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^w)+V[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^k)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^D)+V[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^I)+V[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^w)+V[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^k)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^D)+V[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^I)+V[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^w)+V[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^k)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^D)+V[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^I)+V[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^w)+V[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(D^(I|~k))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~D))+V[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~I))+V[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~w))+V[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~k))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~D))+V[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~I))+V[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~w))+V[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~k))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~D))+V[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~I))+V[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~w))+V[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~k))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~D))+V[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~I))+V[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const I=w-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=I;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(V[D++]=x.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<w;)if(V[D++]=x[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[w++]=this.g[I]>>>V&255;return x};function c(x,w){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function d(x,w){this.h=w;const I=[];let V=!0;for(let D=x.length-1;D>=0;D--){const k=x[D]|0;V&&k==w||(I[D]=k,V=!1)}this.g=I}var p={};function y(x){return-128<=x&&x<128?c(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return z(_(-x));const w=[];let I=1;for(let V=0;x>=I;V++)w[V]=x/I|0,I*=4294967296;return new d(w,0)}function b(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return z(b(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=A;for(let k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k);const R=parseInt(x.substring(k,k+D),w);D<8?(D=_(Math.pow(w,D)),V=V.j(D).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var A=y(0),N=y(1),q=y(16777216);s=d.prototype,s.m=function(){if(Q(this))return-z(this).m();let x=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(F(this))return"0";if(Q(this))return"-"+z(this).toString(x);const w=_(Math.pow(x,6));var I=this;let V="";for(;;){const D=we(I,w).g;I=W(I,D.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=D,F(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function F(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Q(x){return x.h==-1}s.l=function(x){return x=W(this,x),Q(x)?-1:F(x)?0:1};function z(x){const w=x.g.length,I=[];for(let V=0;V<w;V++)I[V]=~x.g[V];return new d(I,~x.h).add(N)}s.abs=function(){return Q(this)?z(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let D=0;D<=w;D++){let k=V+(this.i(D)&65535)+(x.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=R>>>16,k&=65535,R&=65535,I[D]=R<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function W(x,w){return x.add(z(w))}s.j=function(x){if(F(this)||F(x))return A;if(Q(this))return Q(x)?z(this).j(z(x)):z(z(this).j(x));if(Q(x))return z(this.j(z(x)));if(this.l(q)<0&&x.l(q)<0)return _(this.m()*x.m());const w=this.g.length+x.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const k=this.i(V)>>>16,R=this.i(V)&65535,nt=x.i(D)>>>16,mt=x.i(D)&65535;I[2*V+2*D]+=R*mt,ie(I,2*V+2*D),I[2*V+2*D+1]+=k*mt,ie(I,2*V+2*D+1),I[2*V+2*D+1]+=R*nt,ie(I,2*V+2*D+1),I[2*V+2*D+2]+=k*nt,ie(I,2*V+2*D+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new d(I,0)};function ie(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function le(x,w){this.g=x,this.h=w}function we(x,w){if(F(w))throw Error("division by zero");if(F(x))return new le(A,A);if(Q(x))return w=we(z(x),w),new le(z(w.g),z(w.h));if(Q(w))return w=we(x,z(w)),new le(z(w.g),w.h);if(x.g.length>30){if(Q(x)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var I=N,V=w;V.l(x)<=0;)I=ve(I),V=ve(V);var D=de(I,1),k=de(V,1);for(V=de(V,2),I=de(I,2);!F(V);){var R=k.add(V);R.l(x)<=0&&(D=D.add(I),k=R),V=de(V,1),I=de(I,1)}return w=W(x,D.j(w)),new le(D,w)}for(D=A;x.l(w)>=0;){for(I=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(I),R=k.j(w);Q(R)||R.l(x)>0;)I-=V,k=_(I),R=k.j(w);F(k)&&(k=N),D=D.add(k),x=W(x,R)}return new le(D,x)}s.B=function(x){return we(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function ve(x){const w=x.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function de(x,w){const I=w>>5;w%=32;const V=x.g.length-I,D=[];for(let k=0;k<V;k++)D[k]=w>0?x.i(k+I)>>>w|x.i(k+I+1)<<32-w:x.i(k+I);return new d(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Dv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,$s=d}).apply(typeof X_<"u"?X_:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mv,_o,Ov,Ic,Wd,Vv,kv,jv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,U,H){for(var se=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)se[xe-2]=arguments[xe];return m.prototype[U].apply(S,se)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function F(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const H=U.length||0;u.length=v+H;for(let se=0;se<H;se++)u[v+se]=U[se]}else u.push(U)}}class Q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){d.setTimeout(()=>{throw u},0)}function W(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ie{constructor(){this.h=this.g=null}add(m,v){const S=le.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var le=new Q(()=>new we,u=>u.reset());class we{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,de=!1,x=new ie,w=()=>{const u=Promise.resolve(void 0);ve=()=>{u.then(I)}};function I(){for(var u;u=W();){try{u.h.call(u.g)}catch(v){z(v)}var m=le;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}de=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(nt,D),nt.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),K=0;function re(u,m,v,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++K,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function He(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let H=0;H<$.length;H++)v=$[H],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,v,S,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const se=te(u,m,S,U);return se>-1?(m=u[se],v||(m.fa=!1)):(m=new re(m,this.src,H,!!S,U),m.fa=v,u.push(m)),m};function ne(u,m){const v=m.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(S,U,1),H&&(pe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function te(u,m,v,S){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==S)return U}return-1}var he="closure_lm_"+(Math.random()*1e6|0),it={};function Qe(u,m,v,S,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Qe(u,m[H],v,S,U);return null}return v=hl(v),u&&u[mt]?u.J(m,v,p(S)?!!S.capture:!1,U):ot(u,m,v,!1,S,U)}function ot(u,m,v,S,U,H){if(!m)throw Error("Invalid event type");const se=p(U)?!!U.capture:!!U;let xe=ar(u);if(xe||(u[he]=xe=new oe(u)),v=xe.add(m,v,S,se,H),v.proxy)return v;if(S=en(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)k||(U=se),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(ti(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function en(){function u(v){return m.call(u.src,u.listener,v)}const m=ul;return u}function Mi(u,m,v,S,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Mi(u,m[H],v,S,U);else S=p(S)?!!S.capture:!!S,v=hl(v),u&&u[mt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=te(m,v,S,U),v>-1&&(pe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=ar(u))&&(m=u.g[m.toString()],u=-1,m&&(u=te(m,v,S,U)),(v=u>-1?m[u]:null)&&$r(v))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[mt])ne(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(ti(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=ar(m))?(ne(v,u),v.h==0&&(v.src=null,m[he]=null)):pe(u)}}}function ti(u){return u in it?it[u]:it[u]="on"+u}function ul(u,m){if(u.da)u=!0;else{m=new nt(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&$r(u),u=v.call(S,m)}return u}function ar(u){return u=u[he],u instanceof oe?u:null}var cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function hl(u){return typeof u=="function"?u:(u[cl]||(u[cl]=function(m){return u.handleEvent(m)}),u[cl])}function Tt(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}A(Tt,V),Tt.prototype[mt]=!0,Tt.prototype.removeEventListener=function(u,m,v,S){Mi(this,u,m,v,S)};function Dt(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(S,u),ae(m,U)}U=!0;let H,se;if(v)for(se=v.length-1;se>=0;se--)H=m.g=v[se],U=as(H,S,!0,m)&&U;if(H=m.g=u,U=as(H,S,!0,m)&&U,U=as(H,S,!1,m)&&U,v)for(se=0;se<v.length;se++)H=m.g=v[se],U=as(H,S,!1,m)&&U}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)pe(v[S]);delete u.g[m],u.h--}}this.G=null},Tt.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},Tt.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function as(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const se=m[H];if(se&&!se.da&&se.capture==v){const xe=se.listener,gt=se.ha||se.src;se.fa&&ne(u.i,se),U=xe.call(gt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Yo(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,Yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(u){V.call(this),this.h=u,this.g={}}A(lr,V);var fl=[];function dl(u){Le(u.g,function(m,v){this.g.hasOwnProperty(v)&&$r(m)},u),u.g={}}lr.prototype.N=function(){lr.Z.N.call(this),dl(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,Ih=d.JSON.parse,Xo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $o(){}function Zo(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){D.call(this,"d")}A(Pt,D);function Sn(){D.call(this,"c")}A(Sn,D);var pt={},Jo=null;function Zr(){return Jo=Jo||new Tt}pt.Ia="serverreachability";function Wo(u){D.call(this,pt.Ia,u)}A(Wo,D);function ni(u){const m=Zr();Dt(m,new Wo(m))}pt.STAT_EVENT="statevent";function or(u,m){D.call(this,pt.STAT_EVENT,u),this.stat=m}A(or,D);function Et(u){const m=Zr();Dt(m,new or(m,u))}pt.Ja="timingevent";function ii(u,m){D.call(this,pt.Ja,u),this.size=m}A(ii,D);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,S,U,H){u.info(function(){if(u.g)if(H){var se="",xe=H.split("&");for(let Ge=0;Ge<xe.length;Ge++){var gt=xe[Ge].split("=");if(gt.length>1){const ut=gt[0];gt=gt[1];const Rn=ut.split("_");se=Rn.length>=2&&Rn[1]=="type"?se+(ut+"="+gt+"&"):se+(ut+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+se})}function eu(u,m,v,S,U,H,se){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+se})}function ri(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,v)+(S?" "+S:"")})}function ur(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return ls(H)}catch{return m}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function hr(){}A(hr,$o),hr.prototype.g=function(){return new XMLHttpRequest},pl=new hr;function Oi(u){return encodeURIComponent(String(u))}function tu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var bt={},jt={};function ai(u,m,v){u.M=1,u.A=fr(At(m)),u.u=v,u.R=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),li(u),u.B=At(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),na(v.i,"t",S),u.C=0,v=u.j.L,u.h=new qn,u.g=gu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(fl[0]=U.toString()),U=fl);for(let H=0;H<U.length;H++){const se=Qe(v,U[H],S||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ni(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)e:{const xe=Fn(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||xe!=4||gt==7||(gt==8||Ge<=0?ni(3):ni(2)),oi(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var H=S;break t}}H=null}if(u=H)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,Et(12),mn(this),An(this);break e}}if(this.R){u=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=iu(this,v),ut==jt){xe==4&&(this.m=4,Et(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==bt){this.m=4,Et(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,ut,null),ui(this,ut);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Nl(se),se.P=!0,Et(11))}}else ri(this.i,this.l,v,null),ui(this,v);xe==4&&mn(this),this.o&&!this.K&&(xe==4?fu(this.j,this):(this.o=!1,li(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),mn(this),An(this)}}}catch{}finally{}};function Mh(u){if(!nu(u))return u.g.la();const m=Bt(u.g);if(m==="")return"";let v="";const S=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),An(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<S;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(U&&H==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function nu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?jt:(v=Number(m.substring(v,S)),isNaN(v)?bt:(S+=1,S+v>m.length?jt:(m=m.slice(S,S+v),u.C=S+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function li(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(_(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ur(this.i,this.B),this.M!=2&&(ni(),Et(17)),mn(this),this.m=2,An(this)):Wr(this,this.T-u)};function An(u){u.j.I==0||u.K||fu(u.j,u)}function mn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,dl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||hi(v.h,u))){if(!u.L&&hi(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)la(v),ps(v);else break e;vr(v),Et(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(_(v.Va,v),6e3));ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else yi(v,11)}else if((u.L||v.g==u)&&la(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ge=U[m];const ut=Ge[0];if(!(ut<=v.K))if(v.K=ut,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const Rn=Ge[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const _i=Ge[4];_i!=null&&(v.za=_i,v.j.info("SVER="+v.za));const Qn=Ge[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(S=1.5*Qn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Kn=u.g;if(Kn){const Tr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var H=S.h;H.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(_l(H,H.h),H.h=null))}if(S.G){const oa=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(S.wa=oa,Ye(S.J,S.G,oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=u;if(S.na=pu(S,S.L?S.ba:null,S.W),se.L){vl(S.h,se);var xe=se,gt=S.O;gt&&(xe.H=gt),xe.D&&(oi(xe),li(xe)),S.g=se}else cu(S);v.i.length>0&&gi(v)}else Ge[0]!="stop"&&Ge[0]!="close"||yi(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?yi(v,7):Cl(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}ni(4)}catch{}}var St=class{constructor(u,m){this.g=u,this.map=m}};function gl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function hi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _l(u,m){u.g?u.g.add(m):u.h=m}function vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let U,H=null;S>=0?(U=u[v].substring(0,S),H=u[v].substring(S+1)):U=u[v],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Ut(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,El(this,ou(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,Ut(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),os(this,m[4]),this.h=fi(m[5]||"",!0),El(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(dr(m,ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(dr(m,ta,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(dr(v,v.charAt(0)=="/"?bl:ru,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",dr(v,au)),u.join("")},pn.prototype.resolve=function(u){const m=At(this);let v=!!u.j;v?Ut(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)os(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let se=0;se<U.length;){const xe=U[se++];xe=="."?S&&se==U.length&&H.push(""):xe==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&se==U.length&&H.push("")):(H.push(xe),S=!0)}S=H.join("/")}else S=U}return v?m.h=S:v=u.i.toString()!=="",v?El(m,ou(u.i)):v=!!u.m,v&&(m.m=u.m),m};function At(u){return new pn(u)}function Ut(u,m,v){u.j=v?fi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function El(u,m,v){m instanceof cs?(u.i=m,ia(u.i,u.l)):(v||(m=dr(m,us)),u.i=new cs(m,u.l))}function Ye(u,m,v){u.i.set(m,v)}function fr(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,ru=/[#\?:]/g,bl=/[#\?]/g,us=/[#\?@]/g,au=/#/g;function cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=cs.prototype,s.add=function(u,m){an(this),this.i=null,u=hs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){an(u),m=hs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Sl(u,m){return an(u),m=hs(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(m,U,S,this)},this)},this)};function Al(u,m){an(u);let v=[];if(typeof m=="string")Sl(u,m)&&(v=v.concat(u.g.get(hs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=hs(this,u),Sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Al(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(hs(u,m),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const U=Oi(v);v=Al(this,v);for(let H=0;H<v.length;H++){let se=U;v[H]!==""&&(se+="="+Oi(v[H])),u.push(se)}}return this.i=u.join("&")};function ou(u){const m=new cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(lu(this,S),na(this,U,v))},u)),u.j=m}function Hn(u,m){const v=new Pn;if(d.Image){const S=new Image;S.onload=b(wn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=b(wn,v,"TestLoadImage: error",!1,m,S),S.onabort=b(wn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=b(wn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function wl(u,m){const v=new Pn,S=new AbortController,U=setTimeout(()=>{S.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function fs(){this.g=new Xo}function di(u){this.i=u.Sb||null,this.h=u.ab||!1}A(di,$o),di.prototype.g=function(){return new mr(this.i,this.h)};function mr(u,m){Tt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(mr,Tt),s=mr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ds(this):Gn(this),this.readyState==3&&sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ds(this))},s.Na=function(u){this.g&&(this.response=u,ds(this))},s.ga=function(){this.g&&ds(this)};function ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return Le(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function pr(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=xn(v),typeof u=="string"?v!=null&&Oi(v):Ye(u,m,v))}function Ze(u){Tt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Ze,Tt);var mi=/^https?$/i,xl=["POST","PUT"];s=Ze.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){gr(this,H);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())v.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xl,m,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){gr(this,H)}};function gr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Rl(u),Vi(u)}function Rl(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Dt(this,"complete"),Dt(this,"abort"),Vi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?yr(this):this.Xa())},s.Xa=function(){yr(this)};function yr(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Dt(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=H===0){let se=String(u.D).match(su)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),S=!mi.test(se?se.toLowerCase():"")}v=S}if(v)Dt(u,"complete"),Dt(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Rl(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Dt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ih(m)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var v=tu(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}He(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ms(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new gl(u&&u.concurrentRequestLimit),this.Ba=new fs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ms.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){Et(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=pu(this,null,this.W),gi(this)};function Cl(u){if(ra(u),u.I==3){var m=u.V++,v=At(u.J);if(Ye(v,"SID",u.M),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),_r(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=fr(At(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=gu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}mu(u)}function ps(u){u.g&&(Nl(u),u.g.cancel(),u.g=null)}function ra(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),la(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!yl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ve||w(),de||(ve(),de=!0),x.add(m,u),u.D=0}}function aa(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(_(u.Ea,u,m),du(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=uu(this,U,m),v=At(this.J),Ye(v,"RID",u),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),_r(this,v),H&&(this.R?m="headers="+Oi(xn(H))+"&"+m:this.u&&pr(v,this.u,H)),_l(this.h,U),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",m),Ye(v,"SID","null"),U.U=!0,ai(U,v,null)):ai(U,v,m),this.I=2}}else this.I==3&&(u?Il(this,u):this.i.length==0||yl(this.h)||Il(this))};function Il(u,m){var v;m?v=m.l:v=u.V++;const S=At(u.J);Ye(S,"SID",u.M),Ye(S,"RID",v),Ye(S,"AID",u.K),_r(u,S),u.u&&u.o&&pr(S,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=uu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_l(u.h,v),ai(v,S,m)}function _r(u,m){u.H&&Le(u.H,function(v,S){Ye(m,S,v)}),u.l&&Le({},function(v,S){Ye(m,S,v)})}function uu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let xe=-1;for(;;){const gt=["count="+v];xe==-1?v>0?(xe=U[0].g,gt.push("ofs="+xe)):xe=0:gt.push("ofs="+xe);let Ge=!0;for(let ut=0;ut<v;ut++){var H=U[ut].g;const Rn=U[ut].map;if(H-=xe,H<0)xe=Math.max(0,U[ut].g-100),Ge=!1;else try{H="req"+H+"_"||"";try{var se=Rn instanceof Map?Rn:Object.entries(Rn);for(const[_i,Qn]of se){let Kn=Qn;p(Qn)&&(Kn=ls(Qn)),gt.push(H+_i+"="+encodeURIComponent(Kn))}}catch(_i){throw gt.push(H+"type="+encodeURIComponent("_badmap")),_i}}catch{S&&S(Rn)}}if(Ge){se=gt.join("&");break e}}se=void 0}return u=u.i.splice(0,v),m.G=u,se}function cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ve||w(),de||(ve(),de=!0),x.add(m,u),u.A=0}}function vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(_(u.Da,u),du(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),ps(this),hu(this))};function Nl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function hu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=At(u.na);Ye(m,"RID","rpc"),Ye(m,"SID",u.M),Ye(m,"AID",u.K),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(m,"TO",u.ia),Ye(m,"TYPE","xmlhttp"),_r(u,m),u.u&&u.o&&pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=fr(At(m)),v.u=null,v.R=!0,Jr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ps(this),vr(this),Et(19))};function la(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function fu(u,m){var v=null;if(u.g==m){la(u),Nl(u),u.g=null;var S=2}else if(hi(u.h,m))v=m.G,vl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=Zr(),Dt(S,new ii(S,v)),gi(u)}else cu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&aa(u,m)||S==2&&vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const U=!S;S=new pn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ut(S,"https"),fr(S),U?Hn(S.toString(),v):wl(S.toString(),v)}else Et(2);u.I=0,u.l&&u.l.pa(m),mu(u),ra(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function mu(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ja,m),F(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var S=v instanceof pn?At(v):new pn(v);if(S.g!="")m&&(S.g=m+"."+S.g),os(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new pn(null);S&&Ut(H,S),m&&(H.g=m),U&&os(H,U),v&&(H.h=v),S=H}return v=u.G,m=u.wa,v&&m&&Ye(S,v,m),Ye(S,"VER",u.ka),_r(u,S),S}function gu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ze(new di({ab:v})):new Ze(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}s=yu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Tt.call(this),this.g=new ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}A(nn,Tt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Cl(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ls(u),u=v);m.i.push(new St(m.Ya++,u)),m.I==3&&gi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,nn.Z.N.call(this)};function _u(u){Pt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(_u,Pt);function vu(){Sn.call(this),this.status=1}A(vu,Sn);function ji(u){this.g=u}A(ji,yu),ji.prototype.ra=function(){Dt(this.g,"a")},ji.prototype.qa=function(u){Dt(this.g,new _u(u))},ji.prototype.pa=function(u){Dt(this.g,new vu)},ji.prototype.oa=function(){Dt(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,jv=function(){return new gs},kv=function(){return Zr()},Vv=pt,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Ic=cr,ml.COMPLETE="complete",Ov=ml,Zo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,_o=Zo,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Mv=Ze}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="12.8.0";function y2(s){sl=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Sm("@firebase/firestore");function La(){return Hr.logLevel}function ue(s,...e){if(Hr.logLevel<=ke.DEBUG){const i=e.map(xm);Hr.debug(`Firestore (${sl}): ${s}`,...i)}}function ts(s,...e){if(Hr.logLevel<=ke.ERROR){const i=e.map(xm);Hr.error(`Firestore (${sl}): ${s}`,...i)}}function $a(s,...e){if(Hr.logLevel<=ke.WARN){const i=e.map(xm);Hr.warn(`Firestore (${sl}): ${s}`,...i)}}function xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Uv(s,r,i)}function Uv(s,e,i){let r=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ts(r),new Error(r)}function Ke(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||Uv(e,o,r)}function Ae(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Zt.UNAUTHENTICATED)))}shutdown(){}}class v2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class T2{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ke(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new Lv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class E2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class b2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new E2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ke(this.o===void 0,3512);const r=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ke(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=A2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function je(s,e){return s<e?-1:s>e?1:0}function em(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Ld(o)===Ld(c)?je(o,c):Ld(o)?1:-1}return je(s.length,e.length)}const w2=55296,x2=57343;function Ld(s){const e=s.charCodeAt(0);return e>=w2&&e<=x2}function Za(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="__name__";class Si{constructor(e,i,r){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Te(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Si.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return je(e.length,i.length)}static compareSegments(e,i){const r=Si.isNumericId(e),o=Si.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Si.extractNumericId(e).compare(Si.extractNumericId(i)):em(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class at extends Si{construct(e,i,r){return new at(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new at(i)}static emptyPath(){return new at([])}}const R2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Si{construct(e,i,r){return new Kt(e,i,r)}static isValidIdentifier(e){return R2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z_}static keyField(){return new Kt([Z_])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(i)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return at.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(s,e,i){if(!i)throw new me(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function C2(s,e,i,r){if(e===!0&&r===!0)throw new me(ee.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function J_(s){if(!ye.isDocumentKey(s))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function W_(s){if(ye.isDocumentKey(s))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Pv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Cm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function zr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cm(s);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Po(s,e){if(!Pv(s))throw new me(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new me(ee.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=-62135596800,t0=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*t0);return new lt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<e0)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Po(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Nt("string",lt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new lt(0,0))}static max(){return new be(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=-1;function I2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new lt(i+1,0):new lt(i,r));return new Ws(o,ye.empty(),e)}function N2(s){return new Ws(s.readTime,s.key,No)}class Ws{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ws(be.min(),ye.empty(),No)}static max(){return new Ws(be.max(),ye.empty(),No)}}function D2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:je(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==M2)throw s;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>r(y)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((b=>{d[_]=b,++p,p===c&&r(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new J(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function V2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function al(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=-1;function uh(s){return s==null}function qc(s){return s===0&&1/s==-1/0}function k2(s){return typeof s=="number"&&Number.isInteger(s)&&!qc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="";function j2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=n0(e)),e=U2(s.get(i),e);return n0(e)}function U2(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Bv:i+="";break;default:i+=c}}return i}function n0(s){return s+Bv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Qr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function qv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,i){this.comparator=e,this.root=i||Qt.EMPTY}insert(e,i){return new ht(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new Qt(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new Qt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new kt(this.comparator);return i.data=e,i}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Jn([])}unionWith(e){let i=new kt(Kt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Hv("Invalid base64 string: "+c):c}})(e);return new Yt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Yt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const L2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const i=L2.exec(s);if(Ke(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function tr(s){return typeof s=="string"?Yt.fromBase64String(s):Yt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="server_timestamp",Fv="__type__",Qv="__previous_value__",Kv="__local_write_time__";function Nm(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Fv])==null?void 0:r.stringValue)===Gv}function ch(s){const e=s.mapValue.fields[Qv];return Nm(e)?ch(e):e}function Do(s){const e=er(s.mapValue.fields[Kv].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,i,r,o,c,d,p,y,_,b,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=A}}const Hc="(default)";class Mo{constructor(e,i){this.projectId=e,this.database=i||Hc}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}function P2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="__type__",B2="__max__",wc={mapValue:{}},Xv="__vector__",Gc="value";function nr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Nm(s)?4:H2(s)?9007199254740991:q2(s)?10:11:Te(28295,{value:s})}function Ni(s,e){if(s===e)return!0;const i=nr(s);if(i!==nr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Do(s).isEqual(Do(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=er(o.timestampValue),p=er(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return tr(o.bytesValue).isEqual(tr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=vt(o.doubleValue),p=vt(c.doubleValue);return d===p?qc(d)===qc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Za(s.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(i0(d)!==i0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ni(d[y],p[y])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Oo(s,e){return(s.values||[]).find((i=>Ni(i,e)))!==void 0}function Ja(s,e){if(s===e)return 0;const i=nr(s),r=nr(e);if(i!==r)return je(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=vt(c.integerValue||c.doubleValue),y=vt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return r0(s.timestampValue,e.timestampValue);case 4:return r0(Do(s),Do(e));case 5:return em(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=tr(c),y=tr(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=je(p[_],y[_]);if(b!==0)return b}return je(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=je(vt(c.latitude),vt(d.latitude));return p!==0?p:je(vt(c.longitude),vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return a0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){var N,q,F,Q;const p=c.fields||{},y=d.fields||{},_=(N=p[Gc])==null?void 0:N.arrayValue,b=(q=y[Gc])==null?void 0:q.arrayValue,A=je(((F=_==null?void 0:_.values)==null?void 0:F.length)||0,((Q=b==null?void 0:b.values)==null?void 0:Q.length)||0);return A!==0?A:a0(_,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===wc.mapValue&&d===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const N=em(y[A],b[A]);if(N!==0)return N;const q=Ja(p[y[A]],_[b[A]]);if(q!==0)return q}return je(y.length,b.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function r0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const i=er(s),r=er(e),o=je(i.seconds,r.seconds);return o!==0?o:je(i.nanos,r.nanos)}function a0(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Ja(i[o],r[o]);if(c)return c}return je(i.length,r.length)}function Wa(s){return tm(s)}function tm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=er(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return tr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=tm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${tm(i.fields[d])}`;return o+"}"})(s.mapValue):Te(61005,{value:s})}function Nc(s){switch(nr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ch(s);return e?16+Nc(e):16;case 5:return 2*s.stringValue.length;case 6:return tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Nc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Qr(r.fields,((c,d)=>{o+=c.length+Nc(d)})),o})(s.mapValue);default:throw Te(13486,{value:s})}}function nm(s){return!!s&&"integerValue"in s}function Dm(s){return!!s&&"arrayValue"in s}function l0(s){return!!s&&"nullValue"in s}function o0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Dc(s){return!!s&&"mapValue"in s}function q2(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Yv])==null?void 0:r.stringValue)===Xv}function So(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Qr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=So(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=So(s.arrayValue.values[i]);return e}return{...s}}function H2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===B2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Dc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=So(i)}setAll(e){let i=Kt.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=So(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Qr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new jn(So(this.value))}}function $v(s){const e=[];return Qr(s.fields,((i,r)=>{const o=new Kt([i]);if(Dc(r)){const c=$v(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,i,r,o,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,be.min(),be.min(),be.min(),jn.empty(),0)}static newFoundDocument(e,i,r,o){return new Jt(e,1,i,be.min(),r,o,0)}static newNoDocument(e,i){return new Jt(e,2,i,be.min(),be.min(),jn.empty(),0)}static newUnknownDocument(e,i){return new Jt(e,3,i,be.min(),be.min(),jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,i){this.position=e,this.inclusive=i}}function u0(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(d.referenceValue),i.key):r=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function c0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ni(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,i="asc"){this.field=e,this.dir=i}}function G2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{}class Ot extends Zv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Q2(e,i,r):i==="array-contains"?new X2(e,r):i==="in"?new $2(e,r):i==="not-in"?new Z2(e,r):i==="array-contains-any"?new J2(e,r):new Ot(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new K2(e,r):new Y2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends Zv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Di(e,i)}matches(e){return Jv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jv(s){return s.op==="and"}function Wv(s){return F2(s)&&Jv(s)}function F2(s){for(const e of s.filters)if(e instanceof Di)return!1;return!0}function im(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+Wa(s.value);if(Wv(s))return s.filters.map((e=>im(e))).join(",");{const e=s.filters.map((i=>im(i))).join(",");return`${s.op}(${e})`}}function e1(s,e){return s instanceof Ot?(function(r,o){return o instanceof Ot&&r.op===o.op&&r.field.isEqual(o.field)&&Ni(r.value,o.value)})(s,e):s instanceof Di?(function(r,o){return o instanceof Di&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,p)=>c&&e1(d,o.filters[p])),!0):!1})(s,e):void Te(19439)}function t1(s){return s instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(s):s instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(t1).join(" ,")+"}"})(s):"Filter"}class Q2 extends Ot{constructor(e,i,r){super(e,i,r),this.key=ye.fromName(r.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class K2 extends Ot{constructor(e,i){super(e,"in",i),this.keys=n1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Y2 extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=n1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function n1(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>ye.fromName(r.referenceValue)))}class X2 extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Dm(i)&&Oo(i.arrayValue,this.value)}}class $2 extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Oo(this.value.arrayValue,i)}}class Z2 extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Oo(this.value.arrayValue,i)}}class J2 extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Oo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,i=null,r=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function h0(s,e=null,i=[],r=[],o=null,c=null,d=null){return new W2(s,e,i,r,o,c,d)}function Mm(s){const e=Ae(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>im(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),uh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Wa(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Wa(r))).join(",")),e.Te=i}return e.Te}function Om(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!G2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!e1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!c0(s.startAt,e.startAt)&&c0(s.endAt,e.endAt)}function sm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,i=null,r=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function eA(s,e,i,r,o,c,d,p){return new hh(s,e,i,r,o,c,d,p)}function Vm(s){return new hh(s)}function f0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function tA(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function nA(s){return s.collectionGroup!==null}function Ao(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new kt(Kt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Qc(c,r))})),i.has(Kt.keyField().canonicalString())||e.Ie.push(new Qc(Kt.keyField(),r))}return e.Ie}function Ai(s){const e=Ae(s);return e.Ee||(e.Ee=iA(e,Ao(s))),e.Ee}function iA(s,e){if(s.limitType==="F")return h0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Qc(o.field,c)}));const i=s.endAt?new Fc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Fc(s.startAt.position,s.startAt.inclusive):null;return h0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function rm(s,e,i){return new hh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function fh(s,e){return Om(Ai(s),Ai(e))&&s.limitType===e.limitType}function i1(s){return`${Mm(Ai(s))}|lt:${s.limitType}`}function za(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>t1(o))).join(", ")}]`),uh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Wa(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Wa(o))).join(",")),`Target(${r})`})(Ai(s))}; limitType=${s.limitType})`}function dh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Ao(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,y){const _=u0(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,Ao(r),o)||r.endAt&&!(function(d,p,y){const _=u0(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,Ao(r),o))})(s,e)}function sA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function s1(s){return(e,i)=>{let r=!1;for(const o of Ao(s)){const c=rA(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function rA(s,e,i){const r=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Ja(y,_):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return qv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new ht(ye.comparator);function ns(){return aA}const r1=new ht(ye.comparator);function vo(...s){let e=r1;for(const i of s)e=e.insert(i.key,i);return e}function a1(s){let e=r1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ur(){return wo()}function l1(){return wo()}function wo(){return new Kr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const lA=new ht(ye.comparator),oA=new kt(ye.comparator);function Ue(...s){let e=oA;for(const i of s)e=e.add(i);return e}const uA=new kt(je);function cA(){return uA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function o1(s){return{integerValue:""+s}}function hA(s,e){return k2(e)?o1(e):km(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function fA(s,e,i){return s instanceof Kc?(function(o,c){const d={fields:{[Fv]:{stringValue:Gv},[Kv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Nm(c)&&(c=ch(c)),c&&(d.fields[Qv]=c),{mapValue:d}})(i,e):s instanceof Vo?c1(s,e):s instanceof ko?h1(s,e):(function(o,c){const d=u1(o,c),p=d0(d)+d0(o.Ae);return nm(d)&&nm(o.Ae)?o1(p):km(o.serializer,p)})(s,e)}function dA(s,e,i){return s instanceof Vo?c1(s,e):s instanceof ko?h1(s,e):i}function u1(s,e){return s instanceof Yc?(function(r){return nm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Kc extends mh{}class Vo extends mh{constructor(e){super(),this.elements=e}}function c1(s,e){const i=f1(e);for(const r of s.elements)i.some((o=>Ni(o,r)))||i.push(r);return{arrayValue:{values:i}}}class ko extends mh{constructor(e){super(),this.elements=e}}function h1(s,e){let i=f1(e);for(const r of s.elements)i=i.filter((o=>!Ni(o,r)));return{arrayValue:{values:i}}}class Yc extends mh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function d0(s){return vt(s.integerValue||s.doubleValue)}function f1(s){return Dm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function mA(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Vo&&o instanceof Vo||r instanceof ko&&o instanceof ko?Za(r.elements,o.elements,Ni):r instanceof Yc&&o instanceof Yc?Ni(r.Ae,o.Ae):r instanceof Kc&&o instanceof Kc})(s.transform,e.transform)}class pA{constructor(e,i){this.version=e,this.transformResults=i}}class wi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ph{}function d1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new jm(s.key,wi.none()):new Bo(s.key,s.data,wi.none());{const i=s.data,r=jn.empty();let o=new kt(Kt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Yr(s.key,r,new Jn(o.toArray()),wi.none())}}function gA(s,e,i){s instanceof Bo?(function(o,c,d){const p=o.value.clone(),y=p0(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Yr?(function(o,c,d){if(!Mc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=p0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(m1(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function xo(s,e,i,r){return s instanceof Bo?(function(c,d,p,y){if(!Mc(c.precondition,d))return p;const _=c.value.clone(),b=g0(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Yr?(function(c,d,p,y){if(!Mc(c.precondition,d))return p;const _=g0(c.fieldTransforms,y,d),b=d.data;return b.setAll(m1(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(c,d,p){return Mc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function yA(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=u1(r.transform,o||null);c!=null&&(i===null&&(i=jn.empty()),i.set(r.field,c))}return i||null}function m0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Za(r,o,((c,d)=>mA(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Bo extends ph{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yr extends ph{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function m1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function p0(s,e,i){const r=new Map;Ke(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);r.set(c.field,dA(d,p,i[o]))}return r}function g0(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,fA(c,d,e))}return r}class jm extends ph{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _A extends ph{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&gA(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=xo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=xo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=l1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=d1(d,p);y!==null&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,((i,r)=>m0(i,r)))&&Za(this.baseMutations,e.baseMutations,((i,r)=>m0(i,r)))}}class Um{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return lA})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Um(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Pe;function bA(s){switch(s){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function p1(s){if(s===void 0)return ts("GRPC error has no .code"),ee.UNKNOWN;switch(s){case It.OK:return ee.OK;case It.CANCELLED:return ee.CANCELLED;case It.UNKNOWN:return ee.UNKNOWN;case It.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case It.INTERNAL:return ee.INTERNAL;case It.UNAVAILABLE:return ee.UNAVAILABLE;case It.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case It.NOT_FOUND:return ee.NOT_FOUND;case It.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case It.ABORTED:return ee.ABORTED;case It.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case It.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:s})}}(Pe=It||(It={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new $s([4294967295,4294967295],0);function y0(s){const e=SA().encode(s),i=new Dv;return i.update(e),new Uint8Array(i.digest())}function _0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new $s([i,r],0),new $s([o,c],0)]}class Lm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new To(`Invalid padding: ${i}`);if(r<0)throw new To(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new To(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=$s.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply($s.fromNumber(r)));return o.compare(AA)===1&&(o=new $s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=y0(e),[r,o]=_0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Lm(c,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=y0(e),[r,o]=_0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,qo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new gh(be.min(),o,new ht(je),ns(),Ue())}}class qo{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new qo(r,i,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class g1{constructor(e,i){this.targetId=e,this.Ce=i}}class y1{constructor(e,i,r=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class v0{constructor(){this.ve=0,this.Fe=T0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),i=Ue(),r=Ue();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:c})}})),new qo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=T0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wA{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.He=xc(),this.Je=xc(),this.Ze=new ht(je)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(sm(c))if(r===0){const d=new ye(c.path);this.et(i,d,Jt.newNoDocument(d,be.min()))}else Ke(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=tr(r).toUint8Array()}catch(y){if(y instanceof Hv)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Lm(d,o,c)}catch(y){return $a(y instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&sm(p.target)){const y=new ye(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Jt.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Ue();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new gh(e,i,this.Ze,this.je,r);return this.je=ns(),this.He=xc(),this.Je=xc(),this.Ze=new ht(je),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new v0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new kt(je),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new kt(je),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function xc(){return new ht(ye.comparator)}function T0(){return new ht(ye.comparator)}const xA={asc:"ASCENDING",desc:"DESCENDING"},RA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CA={and:"AND",or:"OR"};class IA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function am(s,e){return s.useProto3Json||uh(e)?e:{value:e}}function Xc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function NA(s,e){return Xc(s,e.toTimestamp())}function xi(s){return Ke(!!s,49232),be.fromTimestamp((function(i){const r=er(i);return new lt(r.seconds,r.nanos)})(s))}function zm(s,e){return lm(s,e).canonicalString()}function lm(s,e){const i=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function v1(s){const e=at.fromString(s);return Ke(A1(e),10190,{key:e.toString()}),e}function om(s,e){return zm(s.databaseId,e.path)}function zd(s,e){const i=v1(e);if(i.get(1)!==s.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(E1(i))}function T1(s,e){return zm(s.databaseId,e)}function DA(s){const e=v1(s);return e.length===4?at.emptyPath():E1(e)}function um(s){return new at(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function E1(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function E0(s,e,i){return{name:om(s,e),fields:i.value.mapValue.fields}}function MA(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Ke(b===void 0||typeof b=="string",58123),Yt.fromBase64String(b||"")):(Ke(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Yt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?ee.UNKNOWN:p1(_.code);return new me(b,_.message||"")})(d);i=new y1(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=zd(s,r.document.name),c=xi(r.document.updateTime),d=r.document.createTime?xi(r.document.createTime):be.min(),p=new jn({mapValue:{fields:r.document.fields}}),y=Jt.newFoundDocument(o,c,d,p),_=r.targetIds||[],b=r.removedTargetIds||[];i=new Oc(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=zd(s,r.document),c=r.readTime?xi(r.readTime):be.min(),d=Jt.newNoDocument(o,c),p=r.removedTargetIds||[];i=new Oc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=zd(s,r.document),c=r.removedTargetIds||[];i=new Oc([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new EA(o,c),p=r.targetId;i=new g1(p,d)}}return i}function OA(s,e){let i;if(e instanceof Bo)i={update:E0(s,e.key,e.value)};else if(e instanceof jm)i={delete:om(s,e.key)};else if(e instanceof Yr)i={update:E0(s,e.key,e.data),updateMask:qA(e.fieldMask)};else{if(!(e instanceof _A))return Te(16599,{dt:e.type});i={verify:om(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ko)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:NA(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function VA(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?xi(o.updateTime):xi(c);return d.isEqual(be.min())&&(d=xi(c)),new pA(d,o.transformResults||[])})(i,e)))):[]}function kA(s,e){return{documents:[T1(s,e.path)]}}function jA(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=T1(s,o);const c=(function(_){if(_.length!==0)return S1(Di.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(N){return{field:Pa(N.field),direction:zA(N.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=am(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function UA(s){let e=DA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ke(r===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const N=b1(A);return N instanceof Di&&Wv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(F){return new Qc(Ba(F.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let N;return N=typeof A=="object"?A.value:A,uh(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(A){const N=!!A.before,q=A.values||[];return new Fc(q,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const N=!A.before,q=A.values||[];return new Fc(q,N)})(i.endAt)),eA(e,o,d,c,p,"F",y,_)}function LA(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function b1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ba(i.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(i.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ot.create(Ba(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((r=>b1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function zA(s){return xA[s]}function PA(s){return RA[s]}function BA(s){return CA[s]}function Pa(s){return{fieldPath:s.canonicalString()}}function Ba(s){return Kt.fromServerFormat(s.fieldPath)}function S1(s){return s instanceof Ot?(function(i){if(i.op==="=="){if(o0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(l0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(o0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(l0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:PA(i.op),value:i.value}}})(s):s instanceof Di?(function(i){const r=i.getFilters().map((o=>S1(o)));return r.length===1?r[0]:{compositeFilter:{op:BA(i.op),filters:r}}})(s):Te(54877,{filter:s})}function qA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function A1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function w1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,i,r,o,c=be.min(),d=be.min(),p=Yt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.yt=e}}function GA(s){const e=UA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.Sn=new QA}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Ws.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class QA{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new kt(at.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x1=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(x1,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new el(0)}static ar(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="LruGarbageCollector",KA=1048576;function A0([s,e],[i,r]){const o=je(s,i);return o===0?je(e,r):o}class YA{constructor(e){this.Pr=e,this.buffer=new kt(A0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();A0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class XA{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(S0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){al(i)?ue(S0,"Ignoring IndexedDB error during garbage collection: ",i):await rl(i)}await this.Ar(3e5)}))}}class $A{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(oh.ce);const r=new YA(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(b0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,p=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),La()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function ZA(s,e){return new $A(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.changes=new Kr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&xo(r.mutation,o,Jn.empty(),lt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ue()){const o=Ur();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=vo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ur();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ue())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let c=ns();const d=wo(),p=(function(){return wo()})();return i.forEach(((y,_)=>{const b=r.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof Yr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),xo(b.mutation,_,b.mutation.getFieldMask(),lt.now())):d.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new WA(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=wo();let o=new ht(((d,p)=>d-p)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=r.get(y)||Jn.empty();b=p.applyToLocalView(_,b),r.set(y,b);const A=(o.get(p.batchId)||Ue()).add(y);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,A=l1();b.forEach((N=>{if(!c.has(N)){const q=d1(i.get(N),r.get(N));q!==null&&A.set(N,q),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return tA(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):nA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):J.resolve(Ur());let p=No,y=c;return d.next((_=>J.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(e,b).next((N=>{y=y.insert(b,N)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Ue()))).next((b=>({batchId:p,changes:a1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((r=>{let o=vo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=vo();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(y=>{const _=(function(A,N){return new hh(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((b=>{b.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Jt.newInvalidDocument(b)))}));let p=vo();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&xo(b.mutation,_,Jn.empty(),lt.now()),dh(i,_)&&(p=p.insert(y,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:GA(o.bundledQuery),readTime:xi(o.readTime)}})(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.overlays=new ht(ye.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ur();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.bt(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const o=Ur(),c=i.length+1,d=new ye(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new ht(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let b=c.get(_.largestBatchId);b===null&&(b=Ur(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Ur(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=o)););return J.resolve(p)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new TA(i,r));let c=this.Lr.get(i);c===void 0&&(c=Ue(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.kr=new kt(zt.Kr),this.qr=new kt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new zt(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new zt(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ye(new at([])),r=new zt(i,e),o=new zt(i,e+1),c=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ye(new at([])),r=new zt(i,e),o=new zt(i,e+1);let c=Ue();return this.qr.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new zt(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ye.comparator(e.key,i.key)||je(e.Hr,i.Hr)}static Ur(e,i){return je(e.Hr,i.Hr)||ye.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(zt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vA(c,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Im:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new kt(je);return i.forEach((o=>{const c=new zt(o,0),d=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const d=new zt(new ye(c),0);let p=new kt(je);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ke(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(i.mutations,(o=>{const c=new zt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new zt(i,0),o=this.Jr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.ti=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(e,i){let r=ns();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Jt.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=ns();const d=i.path,p=new ye(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||D2(N2(b),r)<=0||(o.has(b.key)||dh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Te(9500)}ni(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new aw(this)}getSize(e){return J.resolve(this.size)}}class aw extends JA{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.persistence=e,this.ri=new Kr((i=>Mm(i)),Om),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Pm,this.targetCount=0,this.oi=el._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new el(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),J.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,i){this._i={},this.overlays={},this.ai=new oh(0),this.ui=!1,this.ui=!0,this.ci=new iw,this.referenceDelegate=e(this),this.li=new lw(this),this.indexManager=new FA,this.remoteDocumentCache=(function(o){return new rw(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new HA(i),this.Pi=new tw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new nw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new sw(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ue("MemoryPersistence","Starting transaction:",e);const o=new ow(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class ow extends O2{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Ri=new Pm,this.Ai=null}static Vi(e){return new Bm(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const o=ye.fromPath(r);return this.mi(e,o).next((c=>{c||i.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class $c{constructor(e,i){this.persistence=e,this.fi=new Kr((r=>j2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=ZA(this,i)}static Vi(e,i){return new $c(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Nc(e.data.value)),i}wr(e,i,r){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Ue(),o=Ue();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new qm(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Wb()?8:V2(Wt())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uw;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(La()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(La()<=ke.DEBUG&&ue("QueryEngine","Query:",za(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(La()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(i))):J.resolve())}gs(e,i){if(f0(i))return J.resolve(null);let r=Ai(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=rm(i,null,"F"),r=Ai(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ue(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.bs(i,p);return this.Ss(i,_,d,y.readTime)?this.gs(e,rm(i,null,"F")):this.Ds(e,_,i,y)}))))})))))}ps(e,i,r,o){return f0(i)||o.isEqual(be.min())?J.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,o)?J.resolve(null):(La()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(i)),this.Ds(e,d,i,I2(o,No)).next((p=>p)))}))}bs(e,i){let r=new kt(s1(e));return i.forEach(((o,c)=>{dh(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,r){return La()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",za(i)),this.fs.getDocumentsMatchingQuery(e,i,Ws.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="LocalStore",hw=3e8;class fw{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ht(je),this.Fs=new Kr((c=>Mm(c)),Om),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ew(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function dw(s,e,i,r){return new fw(s,e,i,r)}async function C1(s,e){const i=Ae(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=Ue();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function mw(s,e){const i=Ae(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const A=_.batch,N=A.keys();let q=J.resolve();return N.forEach((F=>{q=q.next((()=>b.getEntry(y,F))).next((Q=>{const z=_.docVersions.get(F);Ke(z!==null,48541),Q.version.compareTo(z)<0&&(A.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),b.addEntry(Q)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Ue();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function I1(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function pw(s,e){const i=Ae(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((b,A)=>{const N=o.get(A);if(!N)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let q=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(Yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,r)),o=o.insert(A,q),(function(Q,z,W){return Q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=hw?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(N,q,b)&&p.push(i.li.updateTargetData(c,q))}));let y=ns(),_=Ue();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(gw(c,d,e.documentUpdates).next((b=>{y=b.Bs,_=b.Ls}))),!r.isEqual(be.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(b)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.vs=o,c)))}function gw(s,e,i){let r=Ue(),o=Ue();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ns();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(be.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ue(Hm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:o}}))}function yw(s,e){const i=Ae(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _w(s,e){const i=Ae(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Qs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function cm(s,e,i){const r=Ae(s),o=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!al(d))throw d;ue(Hm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function w0(s,e,i){const r=Ae(s);let o=be.min(),c=Ue();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=Ae(y),N=A.Fs.get(b);return N!==void 0?J.resolve(A.vs.get(N)):A.li.getTargetData(_,b)})(r,d,Ai(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:be.min(),i?c:Ue()))).next((p=>(vw(r,sA(e),p),{documents:p,ks:c})))))}function vw(s,e,i){let r=s.Ms.get(e)||be.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class x0{constructor(){this.activeTargetIds=cA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tw{constructor(){this.vo=new x0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new x0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="ConnectivityMonitor";class C0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(R0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(R0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function hm(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="RestConnection",bw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Sw{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Hc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,c){const d=hm(),p=this.Qo(e,i.toUriEncodedString());ue(Pd,`Sending RPC '${e}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,c);const{host:_}=new URL(p),b=nl(_);return this.zo(e,p,y,r,b).then((A=>(ue(Pd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw $a(Pd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}jo(e,i,r,o,c,d){return this.Wo(e,i,r,o,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const r=bw[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection",go=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ha extends Sw{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ha.c_){const e=kv();go(e,Vv.STAT_EVENT,(i=>{i.stat===Wd.PROXY?ue($t,"STAT_EVENT: detected buffering proxy"):i.stat===Wd.NOPROXY&&ue($t,"STAT_EVENT: detected no buffering proxy")})),Ha.c_=!0}}zo(e,i,r,o,c){const d=hm();return new Promise(((p,y)=>{const _=new Mv;_.setWithCredentials(!0),_.listenOnce(Ov.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Ic.NO_ERROR:const A=_.getResponseJson();ue($t,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Ic.TIMEOUT:ue($t,`RPC '${e}' ${d} timed out`),y(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const N=_.getStatus();if(ue($t,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const F=q==null?void 0:q.error;if(F&&F.status&&F.message){const Q=(function(W){const ie=W.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ie)>=0?ie:ee.UNKNOWN})(F.status);y(new me(Q,F.message))}else y(new me(ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new me(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ue($t,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);ue($t,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",b,r,15)}))}T_(e,i,r){const o=hm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const _=c.join("");ue($t,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=d.createWebChannel(_,p);this.I_(b);let A=!1,N=!1;const q=new Aw({Ho:F=>{N?ue($t,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(ue($t,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),ue($t,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Jo:()=>b.close()});return go(b,_o.EventType.OPEN,(()=>{N||(ue($t,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),go(b,_o.EventType.CLOSE,(()=>{N||(N=!0,ue($t,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(b))})),go(b,_o.EventType.ERROR,(F=>{N||(N=!0,$a($t,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),q.o_(new me(ee.UNAVAILABLE,"The operation could not be completed")))})),go(b,_o.EventType.MESSAGE,(F=>{var Q;if(!N){const z=F.data[0];Ke(!!z,16349);const W=z,ie=(W==null?void 0:W.error)||((Q=W[0])==null?void 0:Q.error);if(ie){ue($t,`RPC '${e}' stream ${o} received error:`,ie);const le=ie.status;let we=(function(x){const w=It[x];if(w!==void 0)return p1(w)})(le),ve=ie.message;we===void 0&&(we=ee.INTERNAL,ve="Unknown error status: "+le+" with message "+ie.message),N=!0,q.o_(new me(we,ve)),b.close()}else ue($t,`RPC '${e}' stream ${o} received:`,z),q.__(z)}})),Ha.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return jv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(s){return new Ha(s)}function Bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(s){return new IA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha.c_=!1;class N1{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="PersistentStream";class D1{constructor(e,i,r,o,c,d,p,y){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new me(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(I0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ue(I0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xw extends D1{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=MA(this.serializer,e),r=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?xi(d.readTime):be.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=sm(y)?{documents:kA(c,y)}:{query:jA(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=_1(c,d.resumeToken);const _=am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(be.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const _=am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=LA(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=um(this.serializer),i.removeTarget=e,this.K_(i)}}class Rw extends D1{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=VA(e.writeResults,e.commitTime),r=xi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=um(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>OA(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{}class Iw extends Cw{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,lm(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ee.UNKNOWN,c.toString())}))}jo(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,lm(i,r),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Nw(s,e,i,r){return new Iw(s,e,i,r)}class Dw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="RemoteStore";class Mw{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Xr(this)&&(ue(Gr,"Restarting streams for network reachability change."),await(async function(y){const _=Ae(y);_.Ea.add(4),await Ho(_),_.Va.set("Unknown"),_.Ea.delete(4),await _h(_)})(this))}))})),this.Va=new Dw(r,o)}}async function _h(s){if(Xr(s))for(const e of s.Ra)await e(!0)}async function Ho(s){for(const e of s.Ra)await e(!1)}function M1(s,e){const i=Ae(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Km(i)?Qm(i):ll(i).O_()&&Fm(i,e))}function Gm(s,e){const i=Ae(s),r=ll(i);i.Ia.delete(e),r.O_()&&O1(i,e),i.Ia.size===0&&(r.O_()?r.L_():Xr(i)&&i.Va.set("Unknown"))}function Fm(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ll(s).Z_(e)}function O1(s,e){s.da.$e(e),ll(s).X_(e)}function Qm(s){s.da=new wA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ll(s).start(),s.Va.ua()}function Km(s){return Xr(s)&&!ll(s).x_()&&s.Ia.size>0}function Xr(s){return Ae(s).Ea.size===0}function V1(s){s.da=void 0}async function Ow(s){s.Va.set("Online")}async function Vw(s){s.Ia.forEach(((e,i)=>{Fm(s,e)}))}async function kw(s,e){V1(s),Km(s)?(s.Va.ha(e),Qm(s)):s.Va.set("Unknown")}async function jw(s,e,i){if(s.Va.set("Online"),e instanceof y1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){ue(Gr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zc(s,r)}else if(e instanceof Oc?s.da.Xe(e):e instanceof g1?s.da.st(e):s.da.tt(e),!i.isEqual(be.min()))try{const r=await I1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(Yt.EMPTY_BYTE_STRING,b.snapshotVersion)),O1(c,y);const A=new Qs(b.target,y,_,b.sequenceNumber);Fm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ue(Gr,"Failed to raise snapshot:",r),await Zc(s,r)}}async function Zc(s,e,i){if(!al(e))throw e;s.Ea.add(1),await Ho(s),s.Va.set("Offline"),i||(i=()=>I1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(Gr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await _h(s)}))}function k1(s,e){return e().catch((i=>Zc(s,i,e)))}async function vh(s){const e=Ae(s),i=ir(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Im;for(;Uw(e);)try{const o=await yw(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,Lw(e,o)}catch(o){await Zc(e,o)}j1(e)&&U1(e)}function Uw(s){return Xr(s)&&s.Ta.length<10}function Lw(s,e){s.Ta.push(e);const i=ir(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function j1(s){return Xr(s)&&!ir(s).x_()&&s.Ta.length>0}function U1(s){ir(s).start()}async function zw(s){ir(s).ra()}async function Pw(s){const e=ir(s);for(const i of s.Ta)e.ea(i.mutations)}async function Bw(s,e,i){const r=s.Ta.shift(),o=Um.from(r,e,i);await k1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await vh(s)}async function qw(s,e){e&&ir(s).Y_&&await(async function(r,o){if((function(d){return bA(d)&&d!==ee.ABORTED})(o.code)){const c=r.Ta.shift();ir(r).B_(),await k1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await vh(r)}})(s,e),j1(s)&&U1(s)}async function N0(s,e){const i=Ae(s);i.asyncQueue.verifyOperationInProgress(),ue(Gr,"RemoteStore received new credentials");const r=Xr(i);i.Ea.add(3),await Ho(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await _h(i)}async function Hw(s,e){const i=Ae(s);e?(i.Ea.delete(2),await _h(i)):e||(i.Ea.add(2),await Ho(i),i.Va.set("Unknown"))}function ll(s){return s.ma||(s.ma=(function(i,r,o){const c=Ae(i);return c.sa(),new xw(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:Ow.bind(null,s),Yo:Vw.bind(null,s),t_:kw.bind(null,s),J_:jw.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Km(s)?Qm(s):s.Va.set("Unknown")):(await s.ma.stop(),V1(s))}))),s.ma}function ir(s){return s.fa||(s.fa=(function(i,r,o){const c=Ae(i);return c.sa(),new Rw(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zw.bind(null,s),t_:qw.bind(null,s),ta:Pw.bind(null,s),na:Bw.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await vh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(Gr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,p=new Ym(e,i,d,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(s,e){if(ts("AsyncQueue",`${e}: ${s}`),al(s))return new me(ee.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(e){return new Ga(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ye.comparator(i.key,r.key):(i,r)=>ye.comparator(i.key,r.key),this.keyedMap=vo(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.ga=new ht(ye.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class tl{constructor(e,i,r,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new tl(e,i,Ga.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Fw{constructor(){this.queries=M0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ae(i),c=o.queries;o.queries=M0(),c.forEach(((d,p)=>{for(const y of p.ba)y.onError(r)}))})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function M0(){return new Kr((s=>i1(s)),fh)}async function Qw(s,e){const i=Ae(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new Gw,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Xm(d,`Initialization of query '${za(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&$m(i)}async function Kw(s,e){const i=Ae(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Yw(s,e){const i=Ae(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(r=!0);d.wa=o}}r&&$m(i)}function Xw(s,e,i){const r=Ae(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(i);r.queries.delete(e)}function $m(s){s.Ca.forEach((e=>{e.next()}))}var fm,O0;(O0=fm||(fm={})).Ma="default",O0.Cache="cache";class $w{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.key=e}}class z1{constructor(e){this.key=e}}class Zw{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=s1(e),this.tu=new Ga(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new D0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const N=o.get(b),q=dh(this.query,A)?A:null,F=!!N&&this.mutatedKeys.has(N.key),Q=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let z=!1;N&&q?N.data.isEqual(q.data)?F!==Q&&(r.track({type:3,doc:q}),z=!0):this.su(N,q)||(r.track({type:2,doc:q}),z=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(p=!0)):!N&&q?(r.track({type:0,doc:q}),z=!0):N&&!q&&(r.track({type:1,doc:N}),z=!0,(y||_)&&(p=!0)),z&&(q?(d=d.add(q),c=Q?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(q,F){const Q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:z})}};return Q(q)-Q(F)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new tl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new z1(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new L1(r))})),i}cu(e){this.Za=e.ks,this.Ya=Ue();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zm="SyncEngine";class Jw{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class Ww{constructor(e){this.key=e,this.hu=!1}}class ex{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Kr((p=>i1(p)),fh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(ye.comparator),this.Au=new Map,this.Vu=new Pm,this.du={},this.mu=new Map,this.fu=el.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tx(s,e,i=!0){const r=F1(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await P1(r,e,i,!0),o}async function nx(s,e){const i=F1(s);await P1(i,e,!0,!1)}async function P1(s,e,i,r){const o=await _w(s.localStore,Ai(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await ix(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&M1(s.remoteStore,o),p}async function ix(s,e,i,r,o){s.pu=(A,N,q)=>(async function(Q,z,W,ie){let le=z.view.ru(W);le.Ss&&(le=await w0(Q.localStore,z.query,!1).then((({documents:x})=>z.view.ru(x,le))));const we=ie&&ie.targetChanges.get(z.targetId),ve=ie&&ie.targetMismatches.get(z.targetId)!=null,de=z.view.applyChanges(le,Q.isPrimaryClient,we,ve);return k0(Q,z.targetId,de.au),de.snapshot})(s,A,N,q);const c=await w0(s.localStore,e,!0),d=new Zw(e,c.ks),p=d.ru(c.documents),y=qo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,y);k0(s,i,_.au);const b=new Jw(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function sx(s,e,i){const r=Ae(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!fh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Gm(r.remoteStore,o.targetId),dm(r,o.targetId)})).catch(rl)):(dm(r,o.targetId),await cm(r.localStore,o.targetId,!0))}async function rx(s,e){const i=Ae(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Gm(i.remoteStore,r.targetId))}async function ax(s,e,i){const r=dx(s);try{const o=await(function(d,p){const y=Ae(d),_=lt.now(),b=p.reduce(((q,F)=>q.add(F.key)),Ue());let A,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let F=ns(),Q=Ue();return y.xs.getEntries(q,b).next((z=>{F=z,F.forEach(((W,ie)=>{ie.isValidDocument()||(Q=Q.add(W))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,F))).next((z=>{A=z;const W=[];for(const ie of p){const le=yA(ie,A.get(ie.key).overlayedDocument);le!=null&&W.push(new Yr(ie.key,le,$v(le.value.mapValue),wi.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,W,p)})).next((z=>{N=z;const W=z.applyToLocalDocumentSet(A,Q);return y.documentOverlayCache.saveOverlays(q,z.batchId,W)}))})).then((()=>({batchId:N.batchId,changes:a1(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.du[d.currentUser.toKey()];_||(_=new ht(je)),_=_.insert(p,y),d.du[d.currentUser.toKey()]=_})(r,o.batchId,i),await Go(r,o.changes),await vh(r.remoteStore)}catch(o){const c=Xm(o,"Failed to persist write");i.reject(c)}}async function B1(s,e){const i=Ae(s);try{const r=await pw(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ke(d.hu,14607):o.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await Go(i,r,e)}catch(r){await rl(r)}}function V0(s,e,i){const r=Ae(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=Ae(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,A)=>{for(const N of A.ba)N.va(p)&&(_=!0)})),_&&$m(y)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lx(s,e,i){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new ht(ye.comparator);d=d.insert(c,Jt.newNoDocument(c,be.min()));const p=Ue().add(c),y=new gh(be.min(),new Map,new ht(je),d,p);await B1(r,y),r.Ru=r.Ru.remove(c),r.Au.delete(e),Jm(r)}else await cm(r.localStore,e,!1).then((()=>dm(r,e,i))).catch(rl)}async function ox(s,e){const i=Ae(s),r=e.batch.batchId;try{const o=await mw(i.localStore,e);H1(i,r,null),q1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Go(i,o)}catch(o){await rl(o)}}async function ux(s,e,i){const r=Ae(s);try{const o=await(function(d,p){const y=Ae(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Ke(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(r.localStore,e);H1(r,e,i),q1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Go(r,o)}catch(o){await rl(o)}}function q1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function H1(s,e,i){const r=Ae(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function dm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||G1(s,r)}))}function G1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Gm(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Jm(s))}function k0(s,e,i){for(const r of i)r instanceof L1?(s.Vu.addReference(r.key,e),cx(s,r)):r instanceof z1?(ue(Zm,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||G1(s,r.key)):Te(19791,{wu:r})}function cx(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ue(Zm,"New document in limbo: "+i),s.Eu.add(r),Jm(s))}function Jm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(at.fromString(e)),r=s.fu.next();s.Au.set(r,new Ww(i)),s.Ru=s.Ru.insert(i,r),M1(s.remoteStore,new Qs(Ai(Vm(i.path)),r,"TargetPurposeLimboResolution",oh.ce))}}async function Go(s,e,i){const r=Ae(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,e,i).then((_=>{var b;if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:(b=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:b.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=qm.Es(y.targetId,_);c.push(A)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(y,_){const b=Ae(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(_,(N=>J.forEach(N.Ts,(q=>b.persistence.referenceDelegate.addReference(A,N.targetId,q))).next((()=>J.forEach(N.Is,(q=>b.persistence.referenceDelegate.removeReference(A,N.targetId,q)))))))))}catch(A){if(!al(A))throw A;ue(Hm,"Failed to update sequence numbers: "+A)}for(const A of _){const N=A.targetId;if(!A.fromCache){const q=b.vs.get(N),F=q.snapshotVersion,Q=q.withLastLimboFreeSnapshotVersion(F);b.vs=b.vs.insert(N,Q)}}})(r.localStore,c))}async function hx(s,e){const i=Ae(s);if(!i.currentUser.isEqual(e)){ue(Zm,"User change. New user:",e.toKey());const r=await C1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new me(ee.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Go(i,r.Ns)}}function fx(s,e){const i=Ae(s),r=i.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let o=Ue();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function F1(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=B1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lx.bind(null,e),e.Pu.J_=Yw.bind(null,e.eventManager),e.Pu.yu=Xw.bind(null,e.eventManager),e}function dx(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ox.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ux.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return dw(this.persistence,new cw,e.initialUser,this.serializer)}Cu(e){return new R1(Bm.Vi,this.serializer)}Du(e){return new Tw}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class mx extends Jc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ke(this.persistence.referenceDelegate instanceof $c,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XA(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new R1((r=>$c.Vi(r,i)),this.serializer)}}class mm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>V0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hx.bind(null,this.syncEngine),await Hw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Fw})()}createDatastore(e){const i=yh(e.databaseInfo.databaseId),r=ww(e.databaseInfo);return Nw(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,p){return new Mw(r,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>V0(this.syncEngine,i,0)),(function(){return C0.v()?new C0:new Ew})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,b){const A=new ex(o,c,d,p,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const c=Ae(o);ue(Gr,"RemoteStore shutting down."),c.Ea.add(5),await Ho(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="FirestoreClient";class gx{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ue(sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ue(sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Xm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qd(s,e){s.asyncQueue.verifyOperationInProgress(),ue(sr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await C1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function j0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await yx(s);ue(sr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>N0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>N0(e.remoteStore,o))),s._onlineComponents=e}async function yx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(sr,"Using user provided OfflineComponentProvider");try{await qd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await qd(s,new Jc)}}else ue(sr,"Using default OfflineComponentProvider"),await qd(s,new mx(void 0));return s._offlineComponents}async function Q1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(sr,"Using user provided OnlineComponentProvider"),await j0(s,s._uninitializedComponentsProvider._online)):(ue(sr,"Using default OnlineComponentProvider"),await j0(s,new mm))),s._onlineComponents}function _x(s){return Q1(s).then((e=>e.syncEngine))}async function U0(s){const e=await Q1(s),i=e.eventManager;return i.onListen=tx.bind(null,e.syncEngine),i.onUnlisten=sx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=nx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=rx.bind(null,e.syncEngine),i}function vx(s,e,i,r){const o=new px(r),c=new $w(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>Qw(await U0(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Kw(await U0(s),c)))}}function Tx(s,e){const i=new Lr;return s.asyncQueue.enqueueAndForget((async()=>ax(await _x(s),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="ComponentProvider",L0=new Map;function bx(s,e,i,r,o){return new z2(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,K1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firestore.googleapis.com",z0=!0;class P0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y1,this.ssl=z0}else this.host=e.host,this.ssl=e.ssl??z0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KA)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _2;switch(r.type){case"firstParty":return new b2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=L0.get(i);r&&(ue(Ex,"Removing Datastore"),L0.delete(i),r.terminate())})(this),Promise.resolve()}}function Sx(s,e,i,r={}){var _;s=zr(s,Th);const o=nl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(Sv(`https://${p}`),Av("Firestore",!0)),c.host!==Y1&&c.host!==p&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:r};if(!Br(y,d)&&(s._setSettings(y),r.mockUserToken)){let b,A;if(typeof r.mockUserToken=="string")b=r.mockUserToken,A=Zt.MOCK_USER;else{b=Gb(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Zt(N)}s._authCredentials=new v2(new Lv(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Eh(this.firestore,e,this._query)}}class Vt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Po(i,Vt._jsonSchema))return new Vt(e,r||null,new ye(at.fromString(i.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Nt("string",Vt._jsonSchemaVersion),referencePath:Nt("string")};class Zs extends Eh{constructor(e,i,r){super(e,i,Vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new ye(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function Ax(s,e,...i){if(s=Ln(s),zv("collection","path",e),s instanceof Th){const r=at.fromString(e,...i);return W_(r),new Zs(s,null,r)}{if(!(s instanceof Vt||s instanceof Zs))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...i));return W_(r),new Zs(s.firestore,null,r)}}function zs(s,e,...i){if(s=Ln(s),arguments.length===1&&(e=Rm.newId()),zv("doc","path",e),s instanceof Th){const r=at.fromString(e,...i);return J_(r),new Vt(s,null,new ye(r))}{if(!(s instanceof Vt||s instanceof Zs))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...i));return J_(r),new Vt(s.firestore,s instanceof Zs?s.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="AsyncQueue";class q0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N1(this,"async_queue_retry"),this._c=()=>{const r=Bd();r&&ue(B0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!al(e))throw e;ue(B0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",H0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Ym.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:H0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function H0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class jo extends Th{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new q0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q0(e),this._firestoreClient=void 0,await e}}}function wx(s,e){const i=typeof s=="object"?s:Cv(),r=typeof s=="string"?s:Hc,o=wm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=qb("firestore");c&&Sx(o,...c)}return o}function X1(s){if(s._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||xx(s),s._firestoreClient}function xx(s){var r,o,c,d;const e=s._freezeSettings(),i=bx(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new gx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Yt.fromBase64String(e))}catch(i){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Un(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Po(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Nt("string",Un._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(Po(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Nt("string",Ri._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Po(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ei(e.vectorValues);throw new me(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Nt("string",ei._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=/^__.*__$/;class Cx{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Bo(e,this.data,i,this.fieldTransforms)}}function J1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class Wm{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Wm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Wc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(J1(this.dataSource)&&Rx.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Ix{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||yh(e)}createContext(e,i,r,o=!1){return new Wm({dataSource:e,methodName:i,targetDoc:r,path:Kt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nx(s){const e=s._freezeSettings(),i=yh(s._databaseId);return new Ix(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Dx(s,e,i,r,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);nT("Data must be an object, but it was:",d,r);const p=eT(r,d);let y,_;if(c.merge)y=new Jn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const N=ep(e,A,i);if(!d.contains(N))throw new me(ee.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Vx(b,N)||b.push(N)}y=new Jn(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new Cx(new jn(p),y,_)}function W1(s,e){if(tT(s=Ln(s)))return nT("Unsupported field value:",e,s),eT(s,e);if(s instanceof Z1)return(function(r,o){if(!J1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const p of r){let y=W1(p,o.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=lt.fromDate(r);return{timestampValue:Xc(o.serializer,c)}}if(r instanceof lt){const c=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xc(o.serializer,c)}}if(r instanceof Ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:_1(o.serializer,r._byteString)};if(r instanceof Vt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ei)return(function(d,p){const y=d instanceof ei?d.toArray():d;return{mapValue:{fields:{[Yv]:{stringValue:Xv},[Gc]:{arrayValue:{values:y.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return km(p.serializer,b)}))}}}}}})(r,o);if(w1(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Cm(r)}`)})(s,e)}function eT(s,e){const i={};return qv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(s,((r,o)=>{const c=W1(o,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function tT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof lt||s instanceof Ri||s instanceof Un||s instanceof Vt||s instanceof Z1||s instanceof ei||w1(s))}function nT(s,e,i){if(!tT(i)||!Pv(i)){const r=Cm(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function ep(s,e,i){if((e=Ln(e))instanceof $1)return e._internalPath;if(typeof e=="string")return Ox(s,e);throw Wc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Mx=new RegExp("[~\\*/\\[\\]]");function Ox(s,e,i){if(e.search(Mx)>=0)throw Wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new $1(...e.split("."))._internalPath}catch{throw Wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Wc(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new me(ee.INVALID_ARGUMENT,p+s+y)}function Vx(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{convertValue(e,i="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Qr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){var r,o,c;const i=(c=(o=(r=e.fields)==null?void 0:r[Gc].arrayValue)==null?void 0:o.values)==null?void 0:c.map((d=>vt(d.doubleValue)));return new ei(i)}convertGeoPoint(e){return new Ri(vt(e.latitude),vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=ch(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Do(e));default:return null}}convertTimestamp(e){const i=er(e);return new lt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=at.fromString(e);Ke(A1(r),9688,{name:e});const o=new Mo(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return o.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,i)}}const G0="@firebase/firestore",F0="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(ep("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jx extends sT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Lx(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Eo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pr extends sT{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(ep("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Nt("string",Pr._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Vc extends Pr{data(e={}){return super.data(e)}}class Fa{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Eo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Vc(this._firestore,this._userDataWriter,r.key,r,new Eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Eo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Eo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:zx(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Nt("string",Fa._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};function Hd(s,e,i){s=zr(s,Vt);const r=zr(s.firestore,jo),o=Lx(s.converter,e),c=Nx(r);return rT(r,[Dx(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,wi.none())])}function Px(s){return rT(zr(s.firestore,jo),[new jm(s._key,wi.none())])}function yo(s,...e){var _,b,A;s=Ln(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Q0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Q0(e[r])){const N=e[r];e[r]=(_=N.next)==null?void 0:_.bind(N),e[r+1]=(b=N.error)==null?void 0:b.bind(N),e[r+2]=(A=N.complete)==null?void 0:A.bind(N)}let c,d,p;if(s instanceof Vt)d=zr(s.firestore,jo),p=Vm(s._key.path),c={next:N=>{e[r]&&e[r](Bx(d,s,N))},error:e[r+1],complete:e[r+2]};else{const N=zr(s,Eh);d=zr(N.firestore,jo),p=N._query;const q=new iT(d);c={next:F=>{e[r]&&e[r](new Fa(d,q,N,F))},error:e[r+1],complete:e[r+2]},Ux(s._query)}const y=X1(d);return vx(y,p,o,c)}function rT(s,e){const i=X1(s);return Tx(i,e)}function Bx(s,e,i){const r=i.docs.get(e._key),o=new iT(s);return new Pr(s,o,e._key,r,new Eo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){y2(il),Xa(new qr("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new jo(new T2(r.getProvider("auth-internal")),new S2(d,r.getProvider("app-check-internal")),P2(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Xs(G0,F0,e),Xs(G0,F0,"esm2020")})();function aT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qx=aT,lT=new Lo("auth","Firebase",aT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Sm("@firebase/auth");function Hx(s,...e){eh.logLevel<=ke.WARN&&eh.warn(`Auth (${il}): ${s}`,...e)}function kc(s,...e){eh.logLevel<=ke.ERROR&&eh.error(`Auth (${il}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(s,...e){throw tp(s,...e)}function Ci(s,...e){return tp(s,...e)}function oT(s,e,i){const r={...qx(),[e]:i};return new Lo("auth","Firebase",r).create(e,{appName:s.name})}function Js(s){return oT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return lT.create(s,...e)}function Ee(s,e,...i){if(!s)throw tp(e,...i)}function Ji(s){const e="INTERNAL ASSERTION FAILED: "+s;throw kc(e),new Error(e)}function ss(s,e){s||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function Gx(){return K0()==="http:"||K0()==="https:"}function K0(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gx()||$b()||"connection"in navigator)?navigator.onLine:!0}function Qx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ss(i>e,"Short delay should be less than long delay!"),this.isMobile=Kb()||Zb()}get(){return Fx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(s,e){ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xx=new Fo(3e4,6e4);function bh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ol(s,e,i,r,o={}){return cT(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=zo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return Xb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&nl(s.emulatorConfig.host)&&(_.credentials="include"),uT.fetch()(await fT(s,s.config.apiHost,i,p),_)})}async function cT(s,e,i){s._canInitEmulator=!1;const r={...Kx,...e};try{const o=new $x(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Cc(s,"user-disabled",d);const b=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw oT(s,b,_);is(s,b)}}catch(o){if(o instanceof rs)throw o;is(s,"network-request-failed",{message:String(o)})}}async function hT(s,e,i,r,o={}){const c=await ol(s,e,i,r,o);return"mfaPendingCredential"in c&&is(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function fT(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?np(s.config,o):`${s.config.apiScheme}://${o}`;return Yx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class $x{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),Xx.get())})}}function Cc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Ci(s,e,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(s,e){return ol(s,"POST","/v1/accounts:delete",e)}async function th(s,e){return ol(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jx(s,e=!1){const i=Ln(s),r=await i.getIdToken(e),o=ip(r);Ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:Ro(Gd(o.auth_time)),issuedAtTime:Ro(Gd(o.iat)),expirationTime:Ro(Gd(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Gd(s){return Number(s)*1e3}function ip(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=vv(i);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Y0(s){const e=ip(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof rs&&Wx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Wx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(s){var A;const e=s.auth,i=await s.getIdToken(),r=await Uo(s,th(e,{idToken:i}));Ee(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=(A=o.providerUserInfo)!=null&&A.length?dT(o.providerUserInfo):[],d=nR(s.providerData,c),p=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new gm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function tR(s){const e=Ln(s);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nR(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function dT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(s,e){const i=await cT(s,{},async()=>{const r=zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await fT(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&nl(s.emulatorConfig.host)&&(y.credentials="include"),uT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function sR(s,e){return ol(s,"POST","/v2/accounts:revokeToken",bh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=Y0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await iR(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new Qa;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new eR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Uo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Jx(this,e)}reload(){return tR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Js(this.auth));const e=await this.getIdToken();return await Uo(this,Zx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:q,providerData:F,stsTokenManager:Q}=i;Ee(A&&Q,e,"internal-error");const z=Qa.fromJSON(this.name,Q);Ee(typeof A=="string",e,"internal-error"),Ps(r,e.name),Ps(o,e.name),Ee(typeof N=="boolean",e,"internal-error"),Ee(typeof q=="boolean",e,"internal-error"),Ps(c,e.name),Ps(d,e.name),Ps(p,e.name),Ps(y,e.name),Ps(_,e.name),Ps(b,e.name);const W=new Wn({uid:A,auth:e,email:o,emailVerified:N,displayName:r,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:z,createdAt:_,lastLoginAt:b});return F&&Array.isArray(F)&&(W.providerData=F.map(ie=>({...ie}))),y&&(W._redirectEventId=y),W}static async _fromIdTokenResponse(e,i,r=!1){const o=new Qa;o.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await nh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?dT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new Qa;p.updateFromIdToken(r);const y=new Wn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;function Wi(s){ss(s instanceof Function,"Expected a class definition");let e=X0.get(s);return e?(ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,X0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}mT.type="NONE";const $0=mT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(s,e,i){return`firebase:${s}:${e}:${i}`}class Ka{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=jc(this.userKey,o.apiKey,c),this.fullPersistenceKey=jc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await th(this.auth,{idToken:e}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Ka(Wi($0),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Wi($0);const d=jc(r,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const N=await th(e,{idToken:b}).catch(()=>{});if(!N)break;A=await Wn._fromGetAccountInfoResponse(e,N,b)}else A=Wn._fromJSON(e,b);_!==c&&(p=A),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ka(c,e,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ka(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_T(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TT(e))return"Blackberry";if(ET(e))return"Webos";if(gT(e))return"Safari";if((e.includes("chrome/")||yT(e))&&!e.includes("edge/"))return"Chrome";if(vT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pT(s=Wt()){return/firefox\//i.test(s)}function gT(s=Wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yT(s=Wt()){return/crios\//i.test(s)}function _T(s=Wt()){return/iemobile/i.test(s)}function vT(s=Wt()){return/android/i.test(s)}function TT(s=Wt()){return/blackberry/i.test(s)}function ET(s=Wt()){return/webos/i.test(s)}function sp(s=Wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function rR(s=Wt()){var e;return sp(s)&&!!((e=window.navigator)!=null&&e.standalone)}function aR(){return Jb()&&document.documentMode===10}function bT(s=Wt()){return sp(s)||vT(s)||ET(s)||TT(s)||/windows phone/i.test(s)||_T(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(s,e=[]){let i;switch(s){case"Browser":i=Z0(Wt());break;case"Worker":i=`${Z0(Wt())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(s,e={}){return ol(s,"GET","/v2/passwordPolicy",bh(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=6;class cR{constructor(e){var r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??uR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J0(this),this.idTokenSubscription=new J0(this),this.beforeStateQueue=new lR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await th(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Zn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=r==null?void 0:r._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===p)&&(y!=null&&y.user)&&(r=y.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(d){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Qx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Js(this));const i=e?Ln(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oR(this),i=new cR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await sR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Wi(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ST(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var i;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&Hx(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Sh(s){return Ln(s)}class J0{constructor(e){this.auth=e,this.observer=null,this.addObserver=aS(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fR(s){rp=s}function dR(s){return rp.loadJS(s)}function mR(){return rp.gapiScript}function pR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(s,e){const i=wm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Br(c,e??{}))return o;is(o,"already-initialized")}return i.initialize({options:e})}function yR(s,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(Wi);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _R(s,e,i){const r=Sh(s);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=AT(e),{host:d,port:p}=vR(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Br(_,r.config.emulator)&&Br(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,nl(d)?(Sv(`${c}//${d}${y}`),Av("Auth",!0)):TR()}function AT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function vR(s){const e=AT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:W0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:W0(d)}}}function W0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function TR(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,i){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(s,e){return hT(s,"POST","/v1/accounts:signInWithIdp",bh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="http://localhost";class Fr extends wT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Fr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):is("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new Fr(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ya(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Ya(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ya(e,i)}buildRequest(){const e={requestUri:ER,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=zo(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends xT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Qo{constructor(){super("facebook.com")}static credential(e){return Fr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Fr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Hs.credential(i,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Qo{constructor(){super("github.com")}static credential(e){return Fr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Qo{constructor(){super("twitter.com")}static credential(e,i){return Fr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Fs.credential(i,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(s,e){return hT(s,"POST","/v1/accounts:signUp",bh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await Wn._fromIdTokenResponse(e,r,o),d=ev(r);return new rr({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=ev(r);return new rr({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function ev(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(s){var o;if(Zn(s.app))return Promise.reject(Js(s));const e=Sh(s);if(await e._initializationPromise,(o=e.currentUser)!=null&&o.isAnonymous)return new rr({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await bR(e,{returnSecureToken:!0}),r=await rr._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends rs{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new ih(e,i,r,o)}}function RT(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(s,c,e,r):c})}async function AR(s,e,i=!1){const r=await Uo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return rr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(s,e,i=!1){const{auth:r}=s;if(Zn(r.app))return Promise.reject(Js(r));const o="reauthenticate";try{const c=await Uo(s,RT(r,o,e,s),i);Ee(c.idToken,r,"internal-error");const d=ip(c.idToken);Ee(d,r,"internal-error");const{sub:p}=d;return Ee(s.uid===p,r,"user-mismatch"),rr._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&is(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(s,e,i=!1){if(Zn(s.app))return Promise.reject(Js(s));const r="signIn",o=await RT(s,r,e),c=await rr._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}function RR(s,e,i,r){return Ln(s).onIdTokenChanged(e,i,r)}function CR(s,e,i){return Ln(s).beforeAuthStateChanged(e,i)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=1e3,NR=10;class IT extends CT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);aR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NR):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}IT.type="LOCAL";const DR=IT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends CT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}NT.type="SESSION";const DT=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await MR(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=ap("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(A){const N=A;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function VR(s){Ii().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function kR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function UR(){return MT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebaseLocalStorageDb",LR=1,rh="firebaseLocalStorage",VT="fbase_key";class Ko{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function wh(s,e){return s.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function zR(){const s=indexedDB.deleteDatabase(OT);return new Ko(s).toPromise()}function ym(){const s=indexedDB.open(OT,LR);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(rh,{keyPath:VT})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(rh)?e(r):(r.close(),await zR(),e(await ym()))})})}async function tv(s,e,i){const r=wh(s,!0).put({[VT]:e,value:i});return new Ko(r).toPromise()}async function PR(s,e){const i=wh(s,!1).get(e),r=await new Ko(i).toPromise();return r===void 0?null:r.value}function nv(s,e){const i=wh(s,!0).delete(e);return new Ko(i).toPromise()}const BR=800,qR=3;class kT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>qR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(UR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await kR(),!this.activeServiceWorker)return;this.sender=new OR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ym();return await tv(e,sh,"1"),await nv(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>tv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>PR(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>nv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=wh(o,!1).getAll();return new Ko(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kT.type="LOCAL";const HR=kT;new Fo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(s,e){return e?Wi(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends wT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ya(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function FR(s){return xR(s.auth,new lp(s),s.bypassAuthState)}function QR(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),wR(i,new lp(s),s.bypassAuthState)}async function KR(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),AR(i,new lp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FR;case"linkViaPopup":case"linkViaRedirect":return KR;case"reauthViaPopup":case"reauthViaRedirect":return QR;default:is(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Fo(2e3,1e4);class qa extends jT{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YR.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="pendingRedirect",Uc=new Map;class $R extends jT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const r=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(s,e){const i=eC(e),r=WR(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function JR(s,e){Uc.set(s._key(),e)}function WR(s){return Wi(s._redirectPersistence)}function eC(s){return jc(XR,s.config.apiKey,s.name)}async function tC(s,e,i=!1){if(Zn(s.app))return Promise.reject(Js(s));const r=Sh(s),o=GR(r,e),d=await new $R(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=600*1e3;class iC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!UT(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(Ci(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nC&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(e))}saveEventToCache(e){this.cachedEventUids.add(iv(e)),this.lastProcessedEventTime=Date.now()}}function iv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function UT({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(s,e={}){return ol(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lC=/^https?/;async function oC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await rC(s);for(const i of e)try{if(uC(i))return}catch{}is(s,"unauthorized-domain")}function uC(s){const e=pm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!lC.test(i))return!1;if(aC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Fo(3e4,6e4);function sv(){const s=Ii().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function hC(s){return new Promise((e,i)=>{var o,c,d;function r(){sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sv(),i(Ci(s,"network-request-failed"))},timeout:cC.get()})}if((c=(o=Ii().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Ii().gapi)!=null&&d.load)r();else{const p=pR("iframefcb");return Ii()[p]=()=>{gapi.load?r():i(Ci(s,"network-request-failed"))},dR(`${mR()}?onload=${p}`).catch(y=>i(y))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function fC(s){return Lc=Lc||hC(s),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new Fo(5e3,15e3),mC="__/auth/iframe",pC="emulator/auth/iframe",gC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _C(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?np(e,pC):`https://${s.config.authDomain}/${mC}`,r={apiKey:e.apiKey,appName:s.name,v:il},o=yC.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${zo(r).slice(1)}`}async function vC(s){const e=await fC(s),i=Ii().gapi;return Ee(i,s,"internal-error"),e.open({where:document.body,url:_C(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ci(s,"network-request-failed"),p=Ii().setTimeout(()=>{c(d)},dC.get());function y(){Ii().clearTimeout(p),o(r)}r.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EC=500,bC=600,SC="_blank",AC="http://localhost";class rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wC(s,e,i,r=EC,o=bC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...TC,width:r.toString(),height:o.toString(),top:c,left:d},_=Wt().toLowerCase();i&&(p=yT(_)?SC:i),pT(_)&&(e=e||AC,y.scrollbars="yes");const b=Object.entries(y).reduce((N,[q,F])=>`${N}${q}=${F},`,"");if(rR(_)&&p!=="_self")return xC(e||"",p),new rv(null);const A=window.open(e||"",p,b);Ee(A,s,"popup-blocked");try{A.focus()}catch{}return new rv(A)}function xC(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="__/auth/handler",CC="emulator/auth/handler",IC=encodeURIComponent("fac");async function av(s,e,i,r,o,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:il,eventId:o};if(e instanceof xT){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",rS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof Qo){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await s._getAppCheckToken(),_=y?`#${IC}=${encodeURIComponent(y)}`:"";return`${NC(s)}?${zo(p).slice(1)}${_}`}function NC({config:s}){return s.emulator?np(s,CC):`https://${s.authDomain}/${RC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class DC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DT,this._completeRedirectFn=tC,this._overrideRedirectResult=JR}async _openPopup(e,i,r,o){var d;ss((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await av(e,i,r,pm(),o);return wC(e,c,ap())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await av(e,i,r,pm(),o);return VR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ss(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await vC(e),r=new iC(e);return i.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Fd,{type:Fd},o=>{var d;const c=(d=o==null?void 0:o[0])==null?void 0:d[Fd];c!==void 0&&i(!!c),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=oC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return bT()||gT()||sp()}}const MC=DC;var lv="@firebase/auth",ov="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kC(s){Xa(new qr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ST(s)},_=new hR(r,o,c,y);return yR(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Xa(new qr("auth-internal",e=>{const i=Sh(e.getProvider("auth").getImmediate());return(r=>new OC(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(lv,ov,VC(s)),Xs(lv,ov,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=300,UC=bv("authIdTokenMaxAge")||jC;let uv=null;const LC=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>UC)return;const o=i==null?void 0:i.token;uv!==o&&(uv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zC(s=Cv()){const e=wm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=gR(s,{popupRedirectResolver:MC,persistence:[HR,DR,DT]}),r=bv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=LC(c.toString());CR(i,d,()=>d(i.currentUser)),RR(i,p=>d(p))}}const o=Tv("auth");return o&&_R(i,`http://${o}`),i}function PC(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}fR({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Ci("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",PC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kC("Browser");var BC="firebase",qC="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(BC,qC,"app");const HC={apiKey:"AIzaSyBW5v_7kGitttrnCBQwYVPG9TiSPXdNaNc",authDomain:"guam-5eaff.firebaseapp.com",projectId:"guam-5eaff",storageBucket:"guam-5eaff.firebasestorage.app",messagingSenderId:"94280815489",appId:"1:94280815489:web:669d6fc05c097397bb8e80",measurementId:"G-0NNCC31G7E"};let Qd,fn,_m;try{Qd=Rv(HC),fn=wx(Qd),_m=zC(Qd)}catch(s){console.error("Firebase init error",s)}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=s=>{const e=FC(s);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Me.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...p},y)=>Me.createElement("svg",{ref:y,...QC,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:LT("lucide",o),...!c&&!KC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>Me.createElement(_,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(s,e)=>{const i=Me.forwardRef(({className:r,...o},c)=>Me.createElement(YC,{ref:c,iconNode:e,className:LT(`lucide-${GC(cv(s))}`,`lucide-${s}`,r),...o}));return i.displayName=cv(s),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],$C=Ie("arrow-right-left",XC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hv=Ie("arrow-right",ZC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],zT=Ie("bed",JC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],eI=Ie("briefcase",WC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],fv=Ie("bus",tI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],PT=Ie("camera",nI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ah=Ie("car",iI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],BT=Ie("check",sI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],aI=Ie("clipboard-check",rI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oI=Ie("clock",lI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],cI=Ie("cloud-rain",uI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],fI=Ie("cloud",hI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],mI=Ie("coffee",dI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],gI=Ie("coins",pI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],_I=Ie("credit-card",yI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],TI=Ie("dollar-sign",vI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],bI=Ie("ellipsis",EI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],AI=Ie("file-text",SI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],dv=Ie("footprints",wI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],RI=Ie("hotel",xI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],II=Ie("info",CI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],DI=Ie("list-todo",NI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],OI=Ie("loader-circle",MI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vm=Ie("map-pin",VI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],zc=Ie("plane",kI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qT=Ie("plus",jI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],mv=Ie("receipt",UI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zI=Ie("send",LI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],xh=Ie("shopping-bag",PI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],HT=Ie("square-pen",BI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],HI=Ie("sun",qI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Tm=Ie("ticket",GI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Rh=Ie("trash-2",FI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],KI=Ie("upload",QI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],XI=Ie("user",YI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Co=Ie("users",$I);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],JI=Ie("utensils",ZI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],GT=Ie("x",WI),eN=({currentTab:s,onTabChange:e,title:i,subtitle:r,coverImage:o,onOpenMembers:c})=>{const d=p=>`w-[42px] h-[42px] rounded-full flex items-center justify-center transition-all duration-300 ${s===p?"bg-guam-teal text-white scale-110 shadow-lg shadow-guam-teal/40":"text-slate-400"}`;return T.jsxs("div",{className:"relative h-[260px] bg-white rounded-b-[40px] shadow-lg overflow-hidden z-10",children:[T.jsxs("div",{className:"w-full h-full relative",children:[T.jsx("img",{src:o,alt:i,className:"w-full h-full object-cover"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-guam-teal/20 to-transparent"}),T.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 flex justify-between items-start",children:[T.jsxs("div",{className:"text-white drop-shadow-md mt-6",children:[T.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:i}),T.jsx("p",{className:"text-sm font-medium opacity-90 tracking-widest uppercase",children:r})]}),T.jsx("button",{onClick:c,className:"bg-white/20 backdrop-blur-md text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors mt-6 border border-white/30",children:T.jsx(Co,{size:20})})]})]}),T.jsxs("div",{className:"absolute bottom-5 right-5 z-30 flex gap-2.5 bg-white/90 backdrop-blur-md p-2 rounded-full shadow-sm",children:[T.jsx("button",{onClick:()=>e("itinerary"),className:d("itinerary"),children:T.jsx(ah,{size:20})}),T.jsx("button",{onClick:()=>e("info"),className:d("info"),children:T.jsx(II,{size:20})}),T.jsx("button",{onClick:()=>e("shopping"),className:d("shopping"),children:T.jsx(xh,{size:20})}),T.jsx("button",{onClick:()=>e("planning"),className:d("planning"),children:T.jsx(aI,{size:20})}),T.jsx("button",{onClick:()=>e("expenses"),className:d("expenses"),children:T.jsx(TI,{size:20})})]})]})},tN=({dates:s,weather:e,items:i,selectedDateIndex:r,onDateSelect:o,onEdit:c})=>{const[d,p]=Me.useState([]),y=F=>{d.includes(F)?p(d.filter(Q=>Q!==F)):p([...d,F])},_=F=>{switch(F){case"rain":return T.jsx(cI,{className:"text-guam-ocean"});case"cloudy":return T.jsx(fI,{className:"text-slate-400"});default:return T.jsx(HI,{className:"text-guam-sun"})}},b=F=>{switch(F){case"car":return T.jsx(ah,{size:14});case"flight":return T.jsx(zc,{size:14});case"walk":return T.jsx(dv,{size:14});default:return T.jsx(fv,{size:14})}},A=F=>{switch(F){case"food":return T.jsx(JI,{size:20});case"shopping":return T.jsx(xh,{size:20});case"accommodation":return T.jsx(zT,{size:20});case"ticket":return T.jsx(Tm,{size:20});case"transport":return T.jsx(fv,{size:20});default:return T.jsx(PT,{size:20})}},N=F=>{switch(F){case"sightseeing":return"bg-guam-teal";case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"accommodation":return"bg-indigo-500";case"transport":return"bg-slate-500";case"ticket":return"bg-guam-sun";default:return"bg-guam-teal"}},q=F=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(F+" Guam")}`,"_blank")};return T.jsxs("div",{className:"animate-fade-in pb-24",children:[T.jsx("div",{className:"flex overflow-x-auto hide-scrollbar space-x-3 pb-4 mb-2 px-1 sticky top-0 z-20 bg-guam-sand/95 backdrop-blur-sm pt-4 -mx-4 px-4 border-b border-guam-teal/10",children:s.map((F,Q)=>T.jsxs("div",{onClick:()=>o(Q),className:`flex-shrink-0 w-[58px] h-[70px] rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all duration-300 border-2 shadow-sm ${r===Q?"bg-guam-teal text-white border-guam-teal shadow-lg scale-105":"bg-white text-slate-400 border-white hover:bg-white/60"}`,children:[T.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:F.weekday}),T.jsx("span",{className:"text-sm font-bold",children:F.date})]},Q))}),T.jsxs("div",{className:"mb-6 bg-gradient-to-r from-guam-teal/10 to-transparent border border-guam-teal/20 rounded-3xl p-4 flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center text-guam-teal space-x-3",children:[T.jsx("div",{className:"text-4xl drop-shadow-sm",children:_(e[r].condition)}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-baseline",children:[T.jsx("span",{className:"text-2xl font-bold",children:e[r].temp}),T.jsx("span",{className:"text-xs ml-1",children:"C"})]}),T.jsx("span",{className:"text-xs font-medium block text-slate-500 capitalize",children:e[r].condition})]})]}),T.jsx("div",{className:"text-right text-xs",children:s[r].hasCar?T.jsxs("span",{className:"inline-flex items-center bg-guam-navy/10 text-guam-navy px-3 py-1.5 rounded-full font-bold",children:[T.jsx(ah,{size:12,className:"mr-1.5"})," "]}):T.jsxs("span",{className:"inline-flex items-center bg-slate-100 text-slate-500 px-3 py-1.5 rounded-full",children:[T.jsx(dv,{size:12,className:"mr-1.5"})," /"]})})]}),T.jsxs("div",{className:"space-y-6",children:[i.map((F,Q)=>T.jsxs("div",{className:"relative group",children:[Q>0&&T.jsxs("div",{className:"pl-8 pb-3 flex items-center text-xs text-slate-400 relative",children:[T.jsx("div",{className:"h-full w-0.5 bg-guam-teal/20 absolute left-[27px] -top-6 bottom-0"}),T.jsxs("div",{className:"ml-2 flex items-center bg-white/50 px-2 py-0.5 rounded-full backdrop-blur-sm",children:[T.jsx("span",{className:"mr-1.5 text-guam-teal",children:b(F.transportType)}),T.jsx("span",{className:"font-medium",children:F.travelTime||""})]})]}),T.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-[2rem] p-5 shadow-[0_8px_20px_-6px_rgba(13,148,136,0.1)] border border-white/60 relative overflow-hidden flex items-start",children:[T.jsxs("div",{className:"mr-4 flex flex-col items-center min-w-[50px]",children:[T.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shadow-md mb-1.5 ${N(F.category)}`,children:A(F.category)}),F.startTime&&T.jsx("span",{className:"text-xs font-bold text-guam-navy tracking-tight",children:F.startTime})]}),T.jsxs("div",{className:"flex-1 min-w-0 pr-8",children:[T.jsx("h3",{className:"text-lg font-bold text-slate-800 leading-tight mb-1 truncate",children:F.name}),T.jsxs("div",{className:"text-xs text-slate-500 space-y-1 mb-2",children:[F.hours&&T.jsxs("p",{className:"flex items-center",children:[T.jsx(oI,{size:12,className:"mr-1.5 text-guam-teal"})," ",F.hours]}),F.price&&T.jsxs("p",{className:"flex items-center",children:[T.jsx(Tm,{size:12,className:"mr-1.5 text-guam-teal"})," ",F.price]}),F.address&&T.jsxs("p",{className:"flex items-center truncate",children:[T.jsx(vm,{size:12,className:"mr-1.5 text-guam-teal"})," ",F.address]})]}),F.note&&T.jsxs("div",{className:"bg-guam-sand/60 p-2.5 rounded-xl border border-guam-teal/10",children:[T.jsx("div",{className:`text-xs text-slate-600 leading-relaxed overflow-hidden transition-all ${d.includes(F.id)?"max-h-96":"max-h-10 line-clamp-2"}`,children:F.note}),F.note.length>40&&T.jsx("button",{onClick:z=>{z.stopPropagation(),y(F.id)},className:"text-[10px] text-guam-teal font-bold mt-1 flex items-center",children:d.includes(F.id)?"":"..."})]})]}),T.jsxs("div",{className:"absolute top-4 right-3 flex flex-col gap-2",children:[T.jsx("button",{onClick:()=>q(F.address||F.name),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-teal hover:text-white transition-all shadow-sm",children:T.jsx(vm,{size:14})}),T.jsx("button",{onClick:()=>c(F),className:"w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center hover:bg-guam-navy hover:text-white transition-all shadow-sm",children:T.jsx(HT,{size:14})})]})]})]},F.id)),i.length===0&&T.jsx("div",{className:"text-center py-20 opacity-40",children:T.jsx("p",{className:"text-sm font-medium",children:""})})]})]})},Em=32.5,Kd={title:"Guam Vacation",subtitle:"Feb 07 - Feb 11, 2026",coverImage:"https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?q=80&w=2069&auto=format&fit=crop"},nN=[{date:"2/07",weekday:"SAT",hasCar:!1},{date:"2/08",weekday:"SUN",hasCar:!0},{date:"2/09",weekday:"MON",hasCar:!0},{date:"2/10",weekday:"TUE",hasCar:!0},{date:"2/11",weekday:"WED",hasCar:!1}],iN=[{condition:"sunny",temp:"29"},{condition:"cloudy",temp:"28"},{condition:"rain",temp:"27"},{condition:"sunny",temp:"30"},{condition:"sunny",temp:"29"}],pv=[{id:"1",name:"Mom"},{id:"2",name:"Sister1"},{id:"3",name:"Sister2"}],Bs={itinerary:[[{id:101,name:"",category:"transport",startTime:"16:50",address:"Antonio B. Won Pat International Airport",note:"",transportType:"flight",travelTime:""},{id:102,name:"Bayview Hotel Check-in",category:"accommodation",startTime:"17:30",address:"Bayview Hotel Guam",note:"",transportType:"transport",travelTime:"15m"},{id:103,name:" ()",category:"sightseeing",startTime:"18:00",address:"Plaza de Espaa",note:"",hours:"Open 24H",price:"Free",transportType:"transport",travelTime:"10m"},{id:104,name:"",category:"sightseeing",startTime:"18:40",address:"Paseo de Susana Park",note:"",transportType:"walk",travelTime:"5m"},{id:105,name:": Agana Shopping Center",category:"food",startTime:"19:30",address:"Agana Shopping Center",note:" BBQ  Chamorro ",hours:"10:00-20:00",price:"~$30",transportType:"transport",travelTime:"5m"}],[{id:201,name:" & ",category:"transport",startTime:"09:00",address:"Nippon Rent-A-Car",note:"",transportType:"car",travelTime:""},{id:202,name:"",category:"sightseeing",startTime:"10:00",address:"Fish Eye Marine Park",note:"",hours:"08:00-17:00",price:"$16",transportType:"car",travelTime:"20m"},{id:203,name:"Umatac ",category:"sightseeing",startTime:"11:30",address:"Umatac Bay Park",note:"",price:"Free",transportType:"car",travelTime:"30m"},{id:204,name:"Inarajan ",category:"sightseeing",startTime:"13:00",address:"Inarajan Natural Pool",note:"",price:"Free",transportType:"car",travelTime:"20m"},{id:206,name:" Two Lovers Point",category:"sightseeing",startTime:"15:30",address:"Two Lovers Point",note:"",hours:"07:00-19:00",price:"$3",transportType:"car",travelTime:"45m"},{id:207,name:"Crowne Plaza Check-in",category:"accommodation",startTime:"17:00",address:"Crowne Plaza Resort Guam",note:" + ",transportType:"car",travelTime:"15m"}],[{id:301,name:": Crowne Plaza",category:"accommodation",startTime:"10:30",address:"Crowne Plaza Resort Guam",note:"",transportType:"transport",travelTime:""},{id:302,name:"Hoshino Resorts Check-in",category:"accommodation",startTime:"11:00",address:"Hoshino Resorts RISONARE Guam",note:"Check-in ",transportType:"transport",travelTime:"10m"},{id:303,name:"",category:"ticket",startTime:"11:30",address:"Hoshino Resorts RISONARE Guam",note:"SUP",price:"Free for guests",transportType:"walk",travelTime:"0m"},{id:306,name:": Hoshino / Tumon",category:"food",startTime:"18:30",address:"Hoshino Resorts RISONARE Guam",note:" + ",transportType:"walk",travelTime:"0m"}],[{id:402,name:"Guam Plaza Check-in",category:"accommodation",startTime:"10:30",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:404,name:"Plaza Spa ",category:"ticket",startTime:"12:30",address:"Guam Plaza Resort",note:"",price:"~$80",transportType:"walk",travelTime:"5m"},{id:405,name:"DFS / Micronesia Mall",category:"shopping",startTime:"14:30",address:"T Galleria by DFS",note:"",hours:"10:00-20:00",transportType:"transport",travelTime:"10m"},{id:406,name:": Hard Rock Cafe",category:"food",startTime:"19:00",address:"Hard Rock Cafe Guam",note:"",hours:"11:00-22:00",price:"~$40",transportType:"walk",travelTime:"5m"}],[{id:501,name:" & ",category:"transport",startTime:"05:00",address:"Guam Plaza Resort",note:"",transportType:"transport",travelTime:"15m"},{id:503,name:"",category:"transport",startTime:"07:30",address:"Guam Airport",note:"",transportType:"flight",travelTime:"4h30m"},{id:504,name:"",category:"transport",startTime:"10:00",address:"Taoyuan Airport",note:"",transportType:"flight",travelTime:""}]],shopping:[{id:1,name:"Banana Boat  (SPF110)",note:"ABC Store "},{id:2,name:"Godiva ",note:"Macy's "},{id:3,name:"Guam  (6)",note:""}],expenses:[{id:1,name:" (TPE-GUM)",amount:650,category:"transport",date:"01/15",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:650}]},{id:2,name:"Bayview Hotel ",amount:150,category:"accommodation",date:"01/20",payment:"Card",payerId:"1",splits:[{memberId:"1",amount:50},{memberId:"2",amount:50},{memberId:"3",amount:50}]},{id:3,name:"Wifi ",amount:30,category:"ticket",date:"02/07",payment:"Card",payerId:"2",splits:[{memberId:"1",amount:10},{memberId:"2",amount:10},{memberId:"3",amount:10}]}],planning:[{id:1,title:" (>6)",category:"documents",completed:!0,assignedTo:"All"},{id:2,title:"",category:"documents",completed:!1,assignedTo:"Mom"},{id:3,title:"/",category:"documents",completed:!1,assignedTo:"Sister1"},{id:4,title:"/",category:"luggage",completed:!1,assignedTo:"All"},{id:5,title:"/Gopro",category:"luggage",completed:!1,assignedTo:"Sister2"},{id:6,title:"",category:"todo",completed:!0,assignedTo:"Mom"}]},sN=()=>{const[s,e]=Me.useState("100"),i=Math.round((parseFloat(s)||0)*Em),r=o=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(o+" Guam")}`,"_blank")};return T.jsxs("div",{className:"space-y-6 animate-fade-in pb-24",children:[T.jsxs("div",{className:"bg-gradient-to-br from-guam-navy to-guam-teal rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-10 -mt-10 blur-2xl"}),T.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center relative z-10",children:[T.jsx(gI,{className:"mr-2",size:20}),"  (USD)"]}),T.jsxs("div",{className:"flex items-center justify-between gap-4 relative z-10",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"USD ()"}),T.jsx("input",{type:"number",value:s,onChange:o=>e(o.target.value),className:"w-full bg-white/20 border border-white/30 rounded-xl px-3 py-2 text-white placeholder-white/50 focus:outline-none text-xl font-bold"})]}),T.jsx($C,{className:"text-white/50 mt-4",size:20}),T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"text-[10px] text-cyan-200 block mb-1 font-bold",children:"TWD ()"}),T.jsx("div",{className:"w-full bg-white/10 rounded-xl px-3 py-2 text-white text-xl font-bold border border-transparent",children:i.toLocaleString()})]})]}),T.jsxs("p",{className:"text-[10px] text-cyan-200 mt-3 text-right opacity-70",children:[": ",Em]})]}),T.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[T.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[T.jsx(zc,{className:"text-guam-coral mr-2",size:20})," "]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("span",{className:"bg-guam-navy text-white text-[10px] px-2 py-0.5 rounded",children:" (2/7)"}),T.jsx("span",{className:"text-xs font-bold text-slate-400",children:"CI "})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"11:00"}),T.jsx("span",{className:"text-xs text-slate-400",children:"TPE"})]}),T.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[T.jsx("span",{className:"text-[10px] text-slate-400",children:"3h 50m"}),T.jsx("div",{className:"w-full h-px bg-slate-300 relative my-1",children:T.jsx(zc,{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-slate-300 bg-slate-50",size:12})})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"16:50"}),T.jsx("span",{className:"text-xs text-slate-400",children:"GUM"})]})]})]}),T.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("span",{className:"bg-guam-teal text-white text-[10px] px-2 py-0.5 rounded",children:" (2/11)"}),T.jsx("span",{className:"text-xs font-bold text-slate-400",children:"CI "})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"07:30"}),T.jsx("span",{className:"text-xs text-slate-400",children:"GUM"})]}),T.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[T.jsx("span",{className:"text-[10px] text-slate-400",children:"4h 30m"}),T.jsx("div",{className:"w-full h-px bg-slate-300 relative my-1",children:T.jsx(zc,{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 text-slate-300 bg-slate-50",size:12})})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-xl font-bold text-slate-700",children:"10:00"}),T.jsx("span",{className:"text-xs text-slate-400",children:"TPE"})]})]})]})]})]}),T.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100",children:[T.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[T.jsx(RI,{className:"text-guam-teal mr-2",size:20})," "]}),T.jsx("div",{className:"space-y-4",children:[{date:"2/7 (Sat)",name:"Bayview Hotel Guam",cn:""},{date:"2/8 (Sun)",name:"Crowne Plaza Resort",cn:""},{date:"2/9 (Mon)",name:"Hoshino Resorts RISONARE",cn:""},{date:"2/10 (Tue)",name:"Guam Plaza Resort",cn:"Spa"}].map((o,c)=>T.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-3 last:border-0",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-[10px] bg-slate-100 px-2 py-0.5 rounded text-slate-500 font-bold",children:o.date}),T.jsx("h4",{className:"font-bold text-slate-700 text-sm mt-1",children:o.name}),T.jsx("p",{className:"text-xs text-slate-400",children:o.cn})]}),T.jsx("button",{onClick:()=>r(o.name),className:"w-8 h-8 rounded-full bg-slate-50 text-guam-teal flex items-center justify-center hover:bg-guam-teal hover:text-white transition-colors",children:T.jsx(vm,{size:14})})]},c))})]})]})},rN=({items:s,onRemove:e,onAddClick:i})=>T.jsx("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.map(r=>T.jsxs("div",{className:"bg-white rounded-3xl p-4 shadow-[0_8px_20px_-6px_rgba(0,0,0,0.05)] relative group border border-white/60",children:[T.jsxs("div",{className:"aspect-square bg-slate-50 rounded-2xl mb-4 overflow-hidden relative flex items-center justify-center shadow-inner",children:[r.image?T.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"}):T.jsx(xh,{className:"text-slate-200",size:40}),T.jsx("button",{onClick:()=>e(r.id),className:"absolute top-2 right-2 bg-red-500/90 backdrop-blur text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-lg active:scale-90",children:T.jsx(GT,{size:16})})]}),T.jsx("p",{className:"font-bold text-base text-slate-800 truncate px-1 mb-0.5",children:r.name}),T.jsx("p",{className:"text-xs text-slate-400 px-1 truncate font-medium",children:r.note||""})]},r.id)),T.jsxs("div",{onClick:i,className:"bg-white/40 border-2 border-dashed border-slate-300/50 rounded-3xl p-4 flex flex-col items-center justify-center cursor-pointer min-h-[180px] hover:bg-white/80 transition-all hover:border-guam-teal/50 group hover:shadow-lg hover:-translate-y-1",children:[T.jsx("div",{className:"w-14 h-14 rounded-full bg-slate-100 flex items-center justify-center mb-3 group-hover:bg-guam-teal group-hover:text-white transition-colors shadow-sm",children:T.jsx(qT,{size:24,className:"text-slate-300 group-hover:text-white"})}),T.jsx("span",{className:"text-sm text-slate-400 font-bold group-hover:text-guam-teal transition-colors",children:""})]})]})}),aN=({expenses:s,onRemove:e,onEdit:i,members:r=[]})=>{const[o,c]=Me.useState("list"),d=s.reduce((z,W)=>z+W.amount,0),p=Math.round(d*Em),y=z=>{var W;return((W=r.find(ie=>ie.id===z))==null?void 0:W.name)||"Unknown"},_=z=>{var W;return(W=r.find(ie=>ie.id===z))==null?void 0:W.avatarUrl},b=z=>{switch(z){case"food":return T.jsx(mI,{size:14});case"shopping":return T.jsx(xh,{size:14});case"transport":return T.jsx(ah,{size:14});case"accommodation":return T.jsx(zT,{size:14});case"other":return T.jsx(bI,{size:14});default:return T.jsx(Tm,{size:14})}},A=z=>{switch(z){case"food":return"bg-guam-coral";case"shopping":return"bg-guam-navy";case"transport":return"bg-slate-500";case"accommodation":return"bg-indigo-500";case"other":return"bg-slate-400";default:return"bg-guam-sun"}},q=(()=>{const z={};return r.forEach(W=>{z[W.id]={paid:0,share:0,net:0}}),s.forEach(W=>{z[W.payerId]||(z[W.payerId]={paid:0,share:0,net:0}),z[W.payerId].paid+=W.amount,W.splits&&W.splits.length>0?W.splits.forEach(ie=>{z[ie.memberId]||(z[ie.memberId]={paid:0,share:0,net:0}),z[ie.memberId].share+=ie.amount}):z[W.payerId].share+=W.amount}),Object.keys(z).forEach(W=>{z[W].net=z[W].paid-z[W].share}),z})(),Q=(()=>{let z=[],W=[];Object.keys(q).forEach(ve=>{const de=q[ve].net;Math.abs(de)<.01||(de<0?z.push({id:ve,amount:-de}):W.push({id:ve,amount:de}))}),z.sort((ve,de)=>de.amount-ve.amount),W.sort((ve,de)=>de.amount-ve.amount);const ie=[];let le=0,we=0;for(;le<z.length&&we<W.length;){const ve=z[le],de=W[we],x=Math.min(ve.amount,de.amount);x>0&&ie.push({fromId:ve.id,toId:de.id,amount:parseFloat(x.toFixed(2))}),ve.amount-=x,de.amount-=x,ve.amount<.01&&le++,de.amount<.01&&we++}return ie})();return T.jsxs("div",{className:"animate-fade-in pb-24",children:[T.jsxs("div",{className:"flex bg-white rounded-2xl p-1 mb-6 shadow-sm border border-slate-100",children:[T.jsxs("button",{onClick:()=>c("list"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="list"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[T.jsx(mv,{size:16,className:"mr-2"})," "]}),T.jsxs("button",{onClick:()=>c("settlement"),className:`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center transition-all ${o==="settlement"?"bg-guam-navy text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[T.jsx(Co,{size:16,className:"mr-2"})," "]})]}),o==="list"?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"bg-guam-navy rounded-[2.5rem] p-8 mb-6 relative overflow-hidden text-white shadow-xl shadow-guam-navy/20",children:[T.jsx("div",{className:"absolute -right-12 -top-12 bg-guam-teal/30 w-56 h-56 rounded-full blur-3xl"}),T.jsx("div",{className:"absolute -left-10 bottom-0 bg-guam-coral/20 w-40 h-40 rounded-full blur-2xl"}),T.jsx("p",{className:"text-xs text-cyan-100/80 mb-1 relative z-10 font-medium tracking-wider",children:"TOTAL SPENT (USD)"}),T.jsxs("h2",{className:"text-5xl font-bold relative z-10 tracking-tight mb-2",children:["$",d.toLocaleString()]}),T.jsxs("p",{className:"text-sm text-right opacity-70 relative z-10",children:[" NT$ ",p.toLocaleString()]})]}),T.jsxs("div",{className:"bg-white rounded-t-[2.5rem] min-h-[400px] p-6 shadow-[0_-5px_30px_rgba(0,0,0,0.03)] -mx-4 px-8 pt-8 border-t border-slate-50",children:[T.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center text-sm tracking-wide",children:[T.jsx(mv,{className:"text-guam-teal mr-2",size:16})," RECENT ACTIVITY"]}),T.jsxs("div",{className:"space-y-6",children:[s.map(z=>T.jsxs("div",{className:"flex items-center justify-between group",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white mr-4 shadow-sm ${A(z.category)}`,children:b(z.category)}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-slate-700 text-sm",children:z.name}),T.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-medium flex items-center gap-2",children:[T.jsxs("span",{children:[z.date,"  ",z.payment]}),T.jsxs("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-bold",children:[y(z.payerId)," "]})]})]})]}),T.jsxs("div",{className:"text-right",children:[T.jsxs("p",{className:"font-bold text-slate-800",children:["$",z.amount]}),T.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[T.jsxs("button",{onClick:()=>i(z),className:"text-[10px] text-guam-navy flex items-center",children:[T.jsx(HT,{size:10,className:"mr-1"})," "]}),T.jsxs("button",{onClick:()=>e(z.id),className:"text-[10px] text-red-300 flex items-center",children:[T.jsx(Rh,{size:10,className:"mr-1"})," "]})]})]})]},z.id)),s.length===0&&T.jsx("p",{className:"text-center text-slate-300 text-sm py-8",children:""})]})]})]}):T.jsxs("div",{className:"space-y-6",children:[Q.length>0&&T.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-[0_5px_20px_rgba(13,148,136,0.1)] border border-guam-teal/20",children:[T.jsxs("h3",{className:"font-bold text-guam-teal mb-4 flex items-center text-sm tracking-wide",children:[T.jsx(zI,{size:16,className:"mr-2"}),"  (Transfer Guide)"]}),T.jsx("div",{className:"space-y-3",children:Q.map((z,W)=>T.jsxs("div",{className:"flex items-center justify-between bg-guam-sand/50 p-4 rounded-2xl border border-guam-teal/10 relative overflow-hidden",children:[T.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-guam-teal/5 z-0 pointer-events-none",children:T.jsx(hv,{size:60})}),T.jsx("div",{className:"flex items-center z-10",children:T.jsxs("div",{className:"text-center mr-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-slate-100 overflow-hidden shadow-sm mx-auto mb-1",children:_(z.fromId)?T.jsx("img",{src:_(z.fromId),className:"w-full h-full object-cover"}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:y(z.fromId)[0]})}),T.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:y(z.fromId)})]})}),T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center z-10 px-2",children:[T.jsx("p",{className:"text-[10px] text-slate-400 font-bold mb-1",children:"PAYS"}),T.jsx("div",{className:"bg-white px-3 py-1 rounded-full shadow-sm border border-guam-teal/20",children:T.jsxs("span",{className:"font-bold text-guam-teal text-lg",children:["$",z.amount]})}),T.jsx(hv,{size:14,className:"text-guam-teal/50 mt-1"})]}),T.jsx("div",{className:"flex items-center z-10",children:T.jsxs("div",{className:"text-center ml-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-white border-2 border-guam-teal overflow-hidden shadow-sm mx-auto mb-1",children:_(z.toId)?T.jsx("img",{src:_(z.toId),className:"w-full h-full object-cover"}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300 font-bold",children:y(z.toId)[0]})}),T.jsx("p",{className:"text-[10px] font-bold text-slate-600 max-w-[60px] truncate",children:y(z.toId)})]})})]},W))})]}),T.jsxs("div",{className:"px-2",children:[T.jsx("h3",{className:"font-bold text-slate-400 mb-3 flex items-center text-xs tracking-wide uppercase px-2",children:" (Net Balance)"}),T.jsx("div",{className:"space-y-4",children:r.map(z=>{const W=q[z.id]||{paid:0,share:0,net:0},ie=W.net>=0;return T.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100 relative overflow-hidden opacity-90",children:[T.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${ie?"bg-guam-teal":"bg-guam-coral"}`}),T.jsxs("div",{className:"flex justify-between items-start mb-4 pl-2",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 mr-3 overflow-hidden border border-white shadow-sm",children:z.avatarUrl?T.jsx("img",{src:z.avatarUrl,className:"w-full h-full object-cover"}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs font-bold",children:z.name[0]})}),T.jsx("span",{className:"font-bold text-slate-800 text-lg",children:z.name})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider mb-0.5",children:ie?" (Receive)":" (Pay)"}),T.jsxs("p",{className:`text-xl font-bold ${ie?"text-guam-teal":"text-guam-coral"}`,children:["$",Math.abs(W.net).toLocaleString()]})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-2",children:[T.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[T.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[T.jsx(_I,{size:10,className:"mr-1"})," "]}),T.jsxs("p",{className:"font-bold text-slate-700",children:["$",W.paid.toLocaleString()]})]}),T.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[T.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center mb-1",children:[T.jsx(Co,{size:10,className:"mr-1"})," "]}),T.jsxs("p",{className:"font-bold text-slate-700",children:["$",W.share.toLocaleString()]})]})]})]},z.id)})})]}),s.length===0&&T.jsxs("div",{className:"text-center py-10 opacity-50",children:[T.jsx(Co,{size:40,className:"mx-auto text-slate-300 mb-2"}),T.jsx("p",{className:"text-sm text-slate-400",children:""})]})]})]})},lN=({items:s,onToggle:e,onRemove:i})=>{var y,_;const[r,o]=Me.useState("todo"),c=b=>{switch(b){case"Mom":return"bg-red-50 text-red-500 border-red-100";case"Sister1":return"bg-blue-50 text-blue-500 border-blue-100";case"Sister2":return"bg-green-50 text-green-500 border-green-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},d=[{key:"todo",label:"",icon:T.jsx(DI,{size:18})},{key:"luggage",label:"",icon:T.jsx(eI,{size:18})},{key:"documents",label:"",icon:T.jsx(AI,{size:18})}],p=s.filter(b=>b.category===r);return T.jsxs("div",{className:"animate-fade-in pb-32 min-h-[60vh]",children:[T.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl shadow-sm mb-6 border border-slate-100 sticky top-0 z-10 mx-1",children:d.map(b=>T.jsxs("button",{onClick:()=>o(b.key),className:`flex-1 flex items-center justify-center py-3 text-sm font-bold rounded-xl transition-all ${r===b.key?"bg-guam-teal text-white shadow-md scale-100":"text-slate-400 hover:bg-slate-50 scale-95"}`,children:[T.jsx("span",{className:"mr-2 opacity-90",children:b.icon}),b.label]},b.key))}),T.jsx("div",{className:"space-y-4",children:p.map(b=>T.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.03)] border border-white flex items-center group transition-all hover:shadow-lg hover:-translate-y-0.5",children:[T.jsxs("label",{className:"flex items-center flex-1 cursor-pointer checkbox-wrapper select-none",children:[T.jsx("input",{type:"checkbox",checked:b.completed,onChange:()=>e(b.id),className:"hidden"}),T.jsx("div",{className:`w-7 h-7 rounded-xl border-2 mr-4 flex items-center justify-center transition-all duration-300 ${b.completed?"bg-guam-teal border-guam-teal rotate-6 scale-110":"border-slate-200 bg-slate-50 group-hover:border-guam-teal/50"}`,children:T.jsx(BT,{size:16,className:"text-white hidden",strokeWidth:4})}),T.jsx("span",{className:`text-base font-bold transition-colors ${b.completed?"text-slate-300 line-through decoration-2 decoration-slate-200":"text-slate-700"}`,children:b.title})]}),T.jsxs("div",{className:"flex items-center pl-3",children:[T.jsx("span",{className:`text-[10px] px-3 py-1.5 rounded-full border font-bold whitespace-nowrap tracking-wide uppercase ${c(b.assignedTo)}`,children:b.assignedTo}),T.jsx("button",{onClick:()=>i(b.id),className:"ml-3 w-10 h-10 rounded-full bg-red-50 text-red-400 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all hover:bg-red-500 hover:text-white shadow-sm active:scale-90",children:T.jsx(Rh,{size:18})})]})]},b.id))}),p.length===0&&T.jsxs("div",{className:"text-center py-24 flex flex-col items-center justify-center opacity-50",children:[T.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-4 text-slate-300 shadow-sm",children:(y=d.find(b=>b.key===r))==null?void 0:y.icon}),T.jsxs("p",{className:"text-base font-bold text-slate-500",children:["",(_=d.find(b=>b.key===r))==null?void 0:_.label]}),T.jsx("p",{className:"text-sm text-slate-400 mt-1",children:""})]})]})},oN=({isOpen:s,onClose:e,onSave:i,onDelete:r,initialData:o})=>{const[c,d]=Me.useState({category:"sightseeing",transportType:"car"});return Me.useEffect(()=>{d(o?{...o}:{category:"sightseeing",transportType:"car",name:"",address:"",price:"",hours:"",note:"",startTime:""})},[o,s]),s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[T.jsx("h3",{className:"font-bold text-lg mb-6 text-center text-slate-800",children:o?"":""}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("select",{value:c.category,onChange:p=>d({...c,category:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal",children:[T.jsx("option",{value:"sightseeing",children:""}),T.jsx("option",{value:"food",children:""}),T.jsx("option",{value:"shopping",children:""}),T.jsx("option",{value:"transport",children:""}),T.jsx("option",{value:"accommodation",children:""}),T.jsx("option",{value:"ticket",children:"/"}),T.jsx("option",{value:"other",children:""})]}),T.jsx("input",{placeholder:" (09:00)",value:c.startTime||"",onChange:p=>d({...c,startTime:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal text-center placeholder-slate-400"})]}),T.jsx("input",{placeholder:"",value:c.name||"",onChange:p=>d({...c,name:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal font-bold placeholder-slate-400"}),T.jsx("input",{placeholder:"",value:c.address||"",onChange:p=>d({...c,address:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsx("input",{placeholder:"",value:c.price||"",onChange:p=>d({...c,price:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"}),T.jsx("input",{placeholder:"",value:c.hours||"",onChange:p=>d({...c,hours:p.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none placeholder-slate-400"})]}),T.jsx("textarea",{placeholder:"",rows:3,value:c.note||"",onChange:p=>d({...c,note:p.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"})]}),T.jsxs("div",{className:"flex space-x-3 mt-8",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),o&&T.jsx("button",{onClick:()=>{r(o.id),e()},className:"w-12 bg-red-50 text-red-400 rounded-xl flex items-center justify-center",children:T.jsx(Rh,{size:18})}),T.jsx("button",{onClick:()=>{i(c),e()},className:"flex-[2] py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},uN=({isOpen:s,onClose:e,onSave:i})=>{const[r,o]=Me.useState(""),[c,d]=Me.useState(""),[p,y]=Me.useState(void 0),_=b=>{var N;const A=(N=b.target.files)==null?void 0:N[0];if(A){const q=new FileReader;q.onload=F=>{var Q;return y((Q=F.target)==null?void 0:Q.result)},q.readAsDataURL(A)}};return s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[T.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:""}),T.jsx("input",{placeholder:"",value:r,onChange:b=>o(b.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsx("input",{placeholder:"",value:c,onChange:b=>d(b.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-4 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsxs("div",{className:"relative mb-6",children:[T.jsx("input",{type:"file",onChange:_,className:"hidden",id:"shopFileInput"}),T.jsx("label",{htmlFor:"shopFileInput",className:"w-full h-32 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl flex items-center justify-center cursor-pointer text-slate-400 hover:border-guam-teal transition-all overflow-hidden",children:p?T.jsx("img",{src:p,className:"w-full h-full object-cover",alt:"preview"}):T.jsxs("span",{className:"flex flex-col items-center text-xs",children:[T.jsx(PT,{className:"mb-2"})," "]})})]}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),T.jsx("button",{onClick:()=>{i({name:r,note:c,image:p}),e(),o(""),d(""),y(void 0)},className:"flex-1 py-3 rounded-xl bg-guam-navy text-white font-bold text-sm shadow-lg shadow-guam-navy/30",children:""})]})]})}):null},cN=({isOpen:s,onClose:e,onSave:i,members:r,initialData:o})=>{var F;const[c,d]=Me.useState({category:"food",payment:"Cash",amount:0}),[p,y]=Me.useState([]);Me.useEffect(()=>{var Q;if(s)if(o){d(o);const z=o.splits||[];y(r.map(W=>{const ie=z.find(le=>le.memberId===W.id);return{id:W.id,amount:ie?ie.amount:0,checked:!!ie}}))}else d({category:"food",payment:"Cash",amount:0,payerId:(Q=r[0])==null?void 0:Q.id}),y(r.map(z=>({id:z.id,amount:0,checked:!0})))},[s,r,o]);const _=(Q,z)=>{const ie=z.filter(le=>le.checked).length;if(ie>0&&Q>0){const le=parseFloat((Q/ie).toFixed(2)),we=parseFloat((Q-le*(ie-1)).toFixed(2));let ve=0;return z.map(de=>de.checked?(ve++,{...de,amount:ve===ie?we:le}):{...de,amount:0})}else return z.map(le=>({...le,amount:0}))},b=Q=>{const z=parseFloat(Q)||0;d(W=>({...W,amount:z})),y(W=>_(z,W))},A=Q=>{const z=p.map(W=>W.id===Q?{...W,checked:!W.checked}:W);y(_(c.amount||0,z))},N=(Q,z)=>{y(W=>W.map(ie=>ie.id===Q?{...ie,amount:z}:ie))},q=()=>{var ie;const Q=p.reduce((le,we)=>le+(we.checked?we.amount:0),0),z=c.amount||0;if(Math.abs(Q-z)>.05){alert(` (${Q})  (${z})`);return}const W=p.filter(le=>le.checked).map(le=>({memberId:le.id,amount:le.amount}));i({...c,splits:W}),e(),d({category:"food",payment:"Cash",payerId:(ie=r[0])==null?void 0:ie.id,amount:0})};return s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-4 animate-fade-in overflow-y-auto",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl my-auto",children:[T.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:o?"":" (USD)"}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[T.jsxs("select",{value:c.category,onChange:Q=>d({...c,category:Q.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[T.jsx("option",{value:"food",children:""}),T.jsx("option",{value:"shopping",children:""}),T.jsx("option",{value:"transport",children:""}),T.jsx("option",{value:"ticket",children:""}),T.jsx("option",{value:"accommodation",children:""}),T.jsx("option",{value:"other",children:""})]}),T.jsx("select",{value:c.payerId||((F=r[0])==null?void 0:F.id),onChange:Q=>d({...c,payerId:Q.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:r.map(Q=>T.jsxs("option",{value:Q.id,children:[": ",Q.name]},Q.id))})]}),T.jsxs("div",{className:"flex bg-slate-50 rounded-xl p-1 mb-3",children:[T.jsx("button",{onClick:()=>d({...c,payment:"Cash"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${c.payment==="Cash"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""}),T.jsx("button",{onClick:()=>d({...c,payment:"Card"}),className:`flex-1 rounded-lg text-xs font-bold py-2 transition-colors ${c.payment==="Card"?"bg-white shadow text-slate-800":"text-slate-400"}`,children:""})]}),T.jsx("input",{placeholder:"",value:c.name||"",onChange:Q=>d({...c,name:Q.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-3 text-sm outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"}),T.jsxs("div",{className:"relative mb-5",children:[T.jsx("span",{className:"absolute left-4 top-4 text-slate-400 font-bold",children:"$"}),T.jsx("input",{type:"number",placeholder:"0.00",value:c.amount||"",onChange:Q=>b(Q.target.value),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 pl-8 text-lg font-bold outline-none border border-transparent focus:border-guam-coral placeholder-slate-400"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsxs("p",{className:"text-xs font-bold text-slate-400 mb-2 flex items-center",children:[T.jsx(Co,{size:12,className:"mr-1"}),"  ()"]}),T.jsx("div",{className:"space-y-2 bg-slate-50 p-3 rounded-2xl max-h-[150px] overflow-y-auto",children:p.map(Q=>{const z=r.find(W=>W.id===Q.id);return T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{onClick:()=>A(Q.id),className:`w-5 h-5 rounded-md border flex items-center justify-center mr-2 cursor-pointer transition-colors ${Q.checked?"bg-guam-teal border-guam-teal":"border-slate-300 bg-white"}`,children:Q.checked&&T.jsx(BT,{size:12,className:"text-white"})}),T.jsx("span",{className:`text-sm ${Q.checked?"text-slate-700":"text-slate-400"}`,children:z==null?void 0:z.name})]}),T.jsxs("div",{className:"relative w-24",children:[T.jsx("span",{className:`absolute left-2 top-1.5 text-xs ${Q.checked?"text-slate-500":"text-slate-300"}`,children:"$"}),T.jsx("input",{type:"number",disabled:!Q.checked,value:Q.amount,onChange:W=>N(Q.id,parseFloat(W.target.value)),className:`w-full rounded-lg py-1 pl-4 pr-2 text-right text-sm outline-none border ${Q.checked?"bg-white border-slate-200 focus:border-guam-teal text-slate-800":"bg-transparent border-transparent text-slate-300"}`})]})]},Q.id)})})]}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),T.jsx("button",{onClick:q,className:"flex-1 py-3 rounded-xl bg-guam-coral text-white font-bold text-sm shadow-lg shadow-guam-coral/30",children:""})]})]})}):null},hN=({isOpen:s,onClose:e,onSave:i,members:r})=>{const[o,c]=Me.useState({category:"todo",assignedTo:"All",completed:!1});return s?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl",children:[T.jsx("h3",{className:"font-bold text-lg mb-4 text-center text-slate-800",children:""}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[T.jsxs("select",{value:o.category,onChange:d=>c({...o,category:d.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[T.jsx("option",{value:"todo",children:""}),T.jsx("option",{value:"luggage",children:""}),T.jsx("option",{value:"documents",children:""})]}),T.jsxs("select",{value:o.assignedTo,onChange:d=>c({...o,assignedTo:d.target.value}),className:"bg-slate-50 text-slate-800 rounded-xl p-3 text-sm outline-none",children:[T.jsx("option",{value:"All",children:" (All)"}),r.map(d=>T.jsx("option",{value:d.name,children:d.name},d.id))]})]}),T.jsx("input",{placeholder:"",value:o.title||"",onChange:d=>c({...o,title:d.target.value}),className:"w-full bg-slate-50 text-slate-800 rounded-xl p-4 mb-6 text-sm outline-none border border-transparent focus:border-guam-teal placeholder-slate-400"}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 text-slate-500 font-bold text-sm",children:""}),T.jsx("button",{onClick:()=>{i(o),e(),c({category:"todo",assignedTo:"All",completed:!1})},className:"flex-1 py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30",children:""})]})]})}):null},fN=({isOpen:s,onClose:e,members:i,onAddMember:r,onRemoveMember:o})=>{const[c,d]=Me.useState(""),[p,y]=Me.useState(!1),[_,b]=Me.useState(null);if(!s)return null;const A=q=>{var z;const F=(z=q.target.files)==null?void 0:z[0];if(!F)return;y(!0);const Q=new FileReader;Q.onload=W=>{var le;const ie=new Image;ie.onload=()=>{const we=document.createElement("canvas"),ve=200;let de=ie.width,x=ie.height;de>x?de>ve&&(x*=ve/de,de=ve):x>ve&&(de*=ve/x,x=ve),we.width=de,we.height=x;const w=we.getContext("2d");if(w){w.drawImage(ie,0,0,de,x);const I=we.toDataURL("image/jpeg",.7);b(I)}y(!1)},ie.src=(le=W.target)==null?void 0:le.result},Q.readAsDataURL(F)},N=()=>{if(!c.trim())return;const q={id:Date.now().toString(),name:c,avatarUrl:_||void 0,role:"Member"};r(q),d(""),b(null)};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-guam-navy/30 backdrop-blur-sm p-6 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl overflow-hidden",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h3",{className:"font-bold text-lg text-slate-800",children:""}),T.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:T.jsx(GT,{size:24})})]}),T.jsxs("div",{className:"space-y-3 mb-6 max-h-[200px] overflow-y-auto pr-2",children:[i.map(q=>T.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-xl",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center border-2 border-white shadow-sm",children:q.avatarUrl?T.jsx("img",{src:q.avatarUrl,alt:q.name,className:"w-full h-full object-cover"}):T.jsx(XI,{size:20,className:"text-slate-400"})}),T.jsx("span",{className:"font-bold text-slate-700",children:q.name})]}),T.jsx("button",{onClick:()=>o(q.id),className:"w-8 h-8 flex items-center justify-center text-slate-300 hover:text-red-400 transition-colors",children:T.jsx(Rh,{size:16})})]},q.id)),i.length===0&&T.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:""})]}),T.jsxs("div",{className:"border-t border-slate-100 pt-4",children:[T.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase tracking-wide",children:""}),T.jsxs("div",{className:"flex gap-3 mb-3",children:[T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:A}),T.jsx("label",{htmlFor:"avatar-upload",className:"w-12 h-12 rounded-full bg-slate-50 border border-dashed border-slate-300 flex items-center justify-center cursor-pointer hover:border-guam-teal hover:bg-guam-teal/5 transition-all overflow-hidden",children:p?T.jsx(OI,{size:20,className:"animate-spin text-guam-teal"}):_?T.jsx("img",{src:_,className:"w-full h-full object-cover"}):T.jsx(KI,{size:18,className:"text-slate-400"})})]}),T.jsx("input",{type:"text",placeholder:"...",value:c,onChange:q=>d(q.target.value),className:"flex-1 bg-slate-50 text-slate-800 rounded-xl px-4 text-sm outline-none border border-transparent focus:border-guam-teal"})]}),T.jsx("button",{onClick:N,disabled:!c.trim()||p,className:"w-full py-3 rounded-xl bg-guam-teal text-white font-bold text-sm shadow-lg shadow-guam-teal/30 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]}),!1]})})},dN=s=>s.reduce((e,i,r)=>(e[r.toString()]=i,e),{}),mN=s=>Array.isArray(s)?s:Object.keys(s).sort((i,r)=>parseInt(i)-parseInt(r)).map(i=>s[i]),pN=()=>{const[s,e]=Me.useState("itinerary"),[i,r]=Me.useState(0),[o,c]=Me.useState(Bs.itinerary),[d,p]=Me.useState(Bs.shopping),[y,_]=Me.useState(Bs.expenses),[b,A]=Me.useState(Bs.planning||[]),[N,q]=Me.useState(pv),[F,Q]=Me.useState(!1),[z,W]=Me.useState(!1),[ie,le]=Me.useState(!1),[we,ve]=Me.useState(!1),[de,x]=Me.useState(!1),[w,I]=Me.useState(null),[V,D]=Me.useState(null),k=async(ne,te)=>{if(fn)try{let he=te;ne==="itinerary"&&Array.isArray(te)&&(he=dN(te)),await Hd(zs(fn,"trip_data",ne),{data:he})}catch(he){console.error(`Error saving ${ne}`,he)}};Me.useEffect(()=>{if(_m&&SR(_m).then(()=>console.log("Signed in anonymously")).catch(ne=>console.error("Auth failed",ne)),fn){const ne=yo(Ax(fn,"members"),ot=>{if(ot.empty)pv.forEach(en=>Hd(zs(fn,"members",en.id),en));else{const en=ot.docs.map(Mi=>({id:Mi.id,...Mi.data()}));q(en)}}),te=yo(zs(fn,"trip_data","itinerary"),ot=>{if(ot.exists()){const en=ot.data().data;Array.isArray(en)?c(en):c(mN(en))}else k("itinerary",Bs.itinerary)}),he=yo(zs(fn,"trip_data","shopping"),ot=>{ot.exists()?p(ot.data().data):k("shopping",Bs.shopping)}),it=yo(zs(fn,"trip_data","expenses"),ot=>{ot.exists()?_(ot.data().data):k("expenses",Bs.expenses)}),Qe=yo(zs(fn,"trip_data","planning"),ot=>{ot.exists()?A(ot.data().data):k("planning",Bs.planning)});return()=>{ne(),te(),he(),it(),Qe()}}},[]);const R=()=>{s==="itinerary"?(I(null),Q(!0)):s==="shopping"?W(!0):s==="expenses"?(D(null),le(!0)):s==="planning"&&ve(!0)},nt=ne=>{const te=[...o],he=[...te[i]];if(w){const it=he.findIndex(Qe=>Qe.id===w.id);it!==-1&&(he[it]={...w,...ne})}else{const it={...ne,id:Date.now()};he.push(it),he.sort((Qe,ot)=>Qe.startTime>ot.startTime?1:-1)}te[i]=he,c(te),k("itinerary",te),I(null)},mt=ne=>{const te=[...o];te[i]=te[i].filter(he=>he.id!==ne),c(te),k("itinerary",te)},K=ne=>{const te=[...d,{...ne,id:Date.now()}];p(te),k("shopping",te)},re=ne=>{const te=d.filter(he=>he.id!==ne);p(te),k("shopping",te)},pe=ne=>{let te;V?(te=y.map(he=>he.id===V.id?{...he,...ne}:he),D(null)):te=[{...ne,id:Date.now(),date:new Date().toLocaleDateString("en-US",{month:"numeric",day:"numeric"})},...y],_(te),k("expenses",te)},Le=ne=>{const te=y.filter(he=>he.id!==ne);_(te),k("expenses",te)},He=ne=>{const te=[...b,{...ne,id:Date.now()}];A(te),k("planning",te)},O=ne=>{const te=b.map(he=>he.id===ne?{...he,completed:!he.completed}:he);A(te),k("planning",te)},$=ne=>{const te=b.filter(he=>he.id!==ne);A(te),k("planning",te)},ae=async ne=>{if(fn)try{await Hd(zs(fn,"members",ne.id),ne)}catch(te){console.error("Error adding member to DB",te)}q([...N,ne])},oe=async ne=>{if(fn)try{await Px(zs(fn,"members",ne))}catch(te){console.error("Error deleting member from DB",te)}q(N.filter(te=>te.id!==ne))};return T.jsxs("div",{className:"app-container max-w-[480px] mx-auto min-h-screen bg-guam-sand relative shadow-[0_0_40px_rgba(13,148,136,0.1)]",children:[T.jsx(eN,{currentTab:s,onTabChange:e,title:Kd.title,subtitle:Kd.subtitle,coverImage:Kd.coverImage,onOpenMembers:()=>x(!0)}),T.jsxs("main",{className:"px-4 pt-6 relative z-0",children:[s==="itinerary"&&T.jsx(tN,{dates:nN,weather:iN,items:o[i],selectedDateIndex:i,onDateSelect:r,onEdit:ne=>{I(ne),Q(!0)}}),s==="info"&&T.jsx(sN,{}),s==="shopping"&&T.jsx(rN,{items:d,onRemove:re,onAddClick:()=>W(!0)}),s==="planning"&&T.jsx(lN,{items:b,onToggle:O,onRemove:$}),s==="expenses"&&T.jsx(aN,{expenses:y,onRemove:Le,onEdit:ne=>{D(ne),le(!0)},members:N})]}),s!=="info"&&T.jsx("button",{onClick:R,className:"fixed bottom-24 right-6 w-14 h-14 bg-guam-coral text-white rounded-full shadow-[0_4px_20px_rgba(251,113,133,0.6)] text-xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all z-40",children:T.jsx(qT,{size:24})}),T.jsx(oN,{isOpen:F,onClose:()=>Q(!1),onSave:nt,initialData:w,onDelete:mt}),T.jsx(uN,{isOpen:z,onClose:()=>W(!1),onSave:K}),T.jsx(cN,{isOpen:ie,onClose:()=>le(!1),onSave:pe,members:N,initialData:V}),T.jsx(hN,{isOpen:we,onClose:()=>ve(!1),onSave:He,members:N}),T.jsx(fN,{isOpen:de,onClose:()=>x(!1),members:N,onAddMember:ae,onRemoveMember:oe})]})},FT=document.getElementById("root");if(!FT)throw new Error("Could not find root element to mount to");const gN=Ob.createRoot(FT);gN.render(T.jsx(wb.StrictMode,{children:T.jsx(pN,{})}));
